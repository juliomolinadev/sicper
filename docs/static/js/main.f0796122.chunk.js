(this.webpackJsonpsicper=this.webpackJsonpsicper||[]).push([[0],{172:function(e,a,t){},173:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(24),c=t.n(o),l=t(4),i=t(20),s=t(62),u=t(1),m="[Login] Login",d="[Login] Entity",p="[Login] Logout",f="[UI] Set Error",b="[UI] Remove Error",E="[UI] Start Loading",v="[UI] Finish Loading",h="[Alta Permisos] Open permiso modal",N="[Alta Permisos] Close permiso modal",g="[Alta Permisos] Open cultivos modal",y="[Alta Permisos] Close cultivos modal",x="[Alta Permisos] Load cultivos",O="[Alta Permisos] Clear cultivos",j="[Alta Permisos] Set cultivo",C="[Alta Permisos] unset cultivo",P="[Alta Permisos] Open usuarios modal",w="[Alta Permisos] Close usuarios modal",A="[Alta Permisos] Load usuarios",S="[Alta Permisos] Clear usuarios",R="[Alta Permisos] Set usuario",D="[Alta Permisos] Unset usuario",M="[Alta Permisos] Open productores modal",k="[Alta Permisos] Close productores modal",I="[Alta Permisos] Load prosuctores",L="[Alta Permisos] Clear prosuctores",F="[Alta Permisos] Set productor",U="[Alta Permisos] Unset productor",T="[Alta Permisos] Open nuevo prouctor modal",_="[Alta Permisos] Close nuevo prouctor modal",z="[Alta Permisos] Set form value",q="[Alta Permisos] Set onSubmit data",Y="[Alta Permisos] unSet onSubmit data",B="[Alta Permisos] Set en espera",V="[Alta Permisos] unSet en espera",H="[Alta Permisos] Enable save button",G="[Alta Permisos] Disable save button",K="[Alta Permisos] Enable print button",J="[Alta Permisos] Disable print button",W={loading:!1,msgError:null},X={enEspera:!1,enableSaveButton:!0,enablePrintButton:!1,openUsuariosModal:!1,openProductoresModal:!1,isOpenNuevoProductorModal:!1,openCultivosModal:!1,isOpenPrintPermisoModal:!1,usuarios:[],cultivos:[],productores:[],idUsuarioSelected:null,cuenta:null,usuario:null,supDerecho:null,lote:null,localidad:null,municipio:null,estado:null,modulo:null,seccion:null,canal:null,toma:null,sistema:null,idProductorSelected:null,nombreProductor:null,rfcProductor:null,idCultivoSelected:null,nombreCultivo:null,claveCultivo:null,subciclo:null,cuotaCultivo:null,supPrevia:0,tipo:null,ciclo:null,numeroPermiso:null,fechaEmicion:null,fechaLimite:null,vigencia:null,variedad:"",supAutorizada:0,fuenteCredito:"",latitud:"",longitud:"",cultivoAnterior:"",observaciones:""},Z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,$=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return{uid:a.payload.uid,name:a.payload.displayName};case d:return Object(u.a)(Object(u.a)({},e),{},{entidad:a.payload.entidad,img:a.payload.img,claveEntidad:a.payload.claveEntidad,dotacion:a.payload.dotacion,titular:a.payload.titular});case p:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return Object(u.a)(Object(u.a)({},e),{},{msgError:a.payload});case b:return Object(u.a)(Object(u.a)({},e),{},{msgError:null});case E:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case v:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},altaPermisos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return Object(u.a)(Object(u.a)({},e),{},{openPrintPermisoModal:!0});case N:return Object(u.a)(Object(u.a)({},e),{},{openPrintPermisoModal:!1});case g:return Object(u.a)(Object(u.a)({},e),{},{openCultivosModal:!0});case y:return Object(u.a)(Object(u.a)({},e),{},{openCultivosModal:!1});case x:return Object(u.a)(Object(u.a)({},e),{},{cultivos:a.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{cultivos:[]});case j:return Object(u.a)(Object(u.a)({},e),{},{idCultivoSelected:a.payload.id,nombreCultivo:a.payload.nombre,claveCultivo:a.payload.clave,subciclo:a.payload.subciclo,cuotaCultivo:a.payload.costoHectarea});case C:return Object(u.a)(Object(u.a)({},e),{},{idCultivoSelected:null,nombreCultivo:null,claveCultivo:null,subciclo:null,cuotaCultivo:null});case P:return Object(u.a)(Object(u.a)({},e),{},{openUsuariosModal:!0});case w:return Object(u.a)(Object(u.a)({},e),{},{openUsuariosModal:!1});case A:return Object(u.a)(Object(u.a)({},e),{},{usuarios:a.payload});case S:return Object(u.a)(Object(u.a)({},e),{},{usuarios:[]});case R:return Object(u.a)(Object(u.a)({},e),{},{idUsuarioSelected:a.payload.id,cuenta:"".concat(a.payload.cuenta,".").concat(a.payload.subcta),usuario:"".concat(a.payload.apPaterno," ").concat(a.payload.apMaterno," ").concat(a.payload.nombre),supDerecho:a.payload.supRiego,lote:a.payload.predio,localidad:a.payload.ejido,municipio:a.payload.municipio,estado:a.payload.estado,modulo:a.payload.modulo,seccion:a.payload.seccion,canal:"".concat(a.payload.cp,"-").concat(a.payload.lt,"-").concat(a.payload.slt,"-").concat(a.payload.ra,"-").concat(a.payload.sra,"-").concat(a.payload.ssra),toma:a.payload.pControl,sistema:a.payload.sistRiego,supPrevia:a.payload.supPrevia});case D:return Object(u.a)(Object(u.a)({},e),{},{idUsuarioSelected:null,cuenta:null,usuario:null,supDerecho:null,lote:null,localidad:null,municipio:null,estado:null,modulo:null,seccion:null,canal:null,toma:null,sistema:null});case M:return Object(u.a)(Object(u.a)({},e),{},{openProductoresModal:!0});case k:return Object(u.a)(Object(u.a)({},e),{},{openProductoresModal:!1});case I:return Object(u.a)(Object(u.a)({},e),{},{productores:a.payload});case L:return Object(u.a)(Object(u.a)({},e),{},{productores:[]});case F:return Object(u.a)(Object(u.a)({},e),{},{idProductorSelected:a.payload.id,nombreProductor:"".concat(a.payload.apPaterno," ").concat(a.payload.apMaterno," ").concat(a.payload.nombre),rfcProductor:a.payload.rfc});case U:return Object(u.a)(Object(u.a)({},e),{},{idProductorSelected:null,nombreProductor:null,rfcProductor:null});case T:return Object(u.a)(Object(u.a)({},e),{},{isOpenNuevoProductorModal:!0});case _:return Object(u.a)(Object(u.a)({},e),{},{isOpenNuevoProductorModal:!1});case z:return Object(u.a)(Object(u.a)({},e),{},{supAutorizada:a.payload.supAutorizada,variedad:a.payload.variedad,fuenteCredito:a.payload.fuenteCredito,latitud:a.payload.latitud,longitud:a.payload.longitud,cultivoAnterior:a.payload.cultivoAnterior,observaciones:a.payload.observaciones});case q:return Object(u.a)(Object(u.a)({},e),{},{tipo:a.payload.tipo,ciclo:a.payload.ciclo,numeroPermiso:a.payload.numeroPermiso,fechaEmicion:a.payload.fechaEmicion,fechaLimite:a.payload.fechaLimite,vigencia:a.payload.vigencia});case Y:return Object(u.a)(Object(u.a)({},e),{},{tipo:null,ciclo:null,numeroPermiso:null,fechaEmicion:null,fechaLimite:null,vigencia:null});case B:return Object(u.a)(Object(u.a)({},e),{},{enEspera:!0});case V:return Object(u.a)(Object(u.a)({},e),{},{enEspera:!1});case H:return Object(u.a)(Object(u.a)({},e),{},{enableSaveButton:!0});case G:return Object(u.a)(Object(u.a)({},e),{},{enableSaveButton:!1});case K:return Object(u.a)(Object(u.a)({},e),{},{enablePrintButton:!0});case J:return Object(u.a)(Object(u.a)({},e),{},{enablePrintButton:!1});default:return e}}}),Q=Object(i.e)($,Z(Object(i.a)(s.a))),ee=t(3),ae=t.n(ee),te=t(5),ne=t(8),re=t(9),oe=t(7),ce=t(25),le=t.n(ce);t(79),t(82);le.a.initializeApp({apiKey:"AIzaSyCPGzYLWjSE-8cCojpCClhkbDZouZVqVVo",authDomain:"sicper-e1812.firebaseapp.com",databaseURL:"https://sicper-e1812.firebaseio.com",projectId:"sicper-e1812",storageBucket:"sicper-e1812.appspot.com",messagingSenderId:"868337651917",appId:"1:868337651917:web:ce83022e99f450f19dd984"});var ie=le.a.firestore(),se=(new le.a.auth.GoogleAuthProvider,function(e){return{type:f,payload:e}}),ue=function(){return{type:b}},me=function(){return{type:v}},de=t(12),pe=t.n(de),fe=function(e,a){return function(t){t({type:E}),le.a.auth().signInWithEmailAndPassword(e,a).then(function(){var e=Object(te.a)(ae.a.mark((function e(a){var n,r,o,c,l,i,s,u;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.user,e.next=3,he(n.uid);case 3:return r=e.sent,e.next=6,Ne(r.claveEntidad);case 6:o=e.sent,c=o.nombre,l=o.img,i=o.clave,s=o.dotacion,u=o.titular,t(be(n.uid,n.displayName)),t(Ee(c,l,i,s,u)),t(me());case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t(me()),pe.a.fire("Error","Usuoario o contrase\xf1a incorrecto.","error")}))}},be=function(e,a){return{type:m,payload:{uid:e,displayName:a}}},Ee=function(e,a,t,n,r){return{type:d,payload:{entidad:e,img:a,claveEntidad:t,dotacion:n,titular:r}}},ve=function(){return{type:p}},he=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("usuarios").get();case 2:return t=e.sent,n={},t.forEach((function(e){e.id===a&&(n=Object(u.a)({},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("entidades").get();case 2:return t=e.sent,n={},t.forEach((function(e){e.data().clave===a&&(n=Object(u.a)({},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ge=t(28),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(ne.a)(a,2),r=t[0],o=t[1],c=function(){o(e)},l=function(e){var a=e.target;o(Object(u.a)(Object(u.a)({},r),{},Object(ge.a)({},a.name,a.value)))};return[r,l,c]},xe=(t(84),function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.ui})).loading,t=ye({email:"",password:""}),n=Object(ne.a)(t,2),o=n[0],c=n[1],i=o.email,s=o.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(fe(i,s))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:i,onChange:c}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:s,onChange:c}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a},"Login")))}),Oe=t(63),je=t.n(Oe),Ce=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.ui})).msgError,t=ye(),n=Object(ne.a)(t,2),o=n[0],c=n[1],i=o.name,s=o.email,u=o.password,m=o.password2,d=function(){return 0===i.trim().length?(e(se("Se requiere el nombre")),!1):je.a.isEmail(s)?u!==m||u.length<5?(e(se("Password diferentes o menor de 5 caracteres")),!1):(e(ue()),!0):(e(se("Email no valido")),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Registro"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),d()&&e(function(e,a,t){return function(n){le.a.auth().createUserWithEmailAndPassword(e,a).then(function(){var e=Object(te.a)(ae.a.mark((function e(a){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.user,e.next=3,r.updateProfile({displayName:t});case 3:n(be(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),pe.a.fire("Error","El usuario ya existe.","error")}))}}(s,u,i))}},a&&r.a.createElement("div",{className:"auth__alert-error"},a),r.a.createElement("input",{type:"text",placeholder:"Nombre",name:"name",className:"auth__input",autoComplete:"off",onChange:c}),r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",onChange:c}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",onChange:c}),r.a.createElement("input",{type:"password",placeholder:"Confirmar password",name:"password2",className:"auth__input",onChange:c}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Crear usuario"),r.a.createElement(re.b,{to:"/auth/login",className:"link"},"Ya esta registrado?")))},Pe=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(oe.d,null,r.a.createElement(oe.b,{exact:!0,path:"/auth/login",component:xe}),r.a.createElement(oe.b,{exact:!0,path:"/auth/register",component:Ce}),r.a.createElement(oe.a,{to:"/auth/login"}))))},we=function(){var e=Object(l.b)();return r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(re.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{className:"",src:"./logos/cna.png",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:50}})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/sicper"},"Inicio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/padron"},"Padron")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/permisos"},"Permisos")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/transferencias"},"Transferencias")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/reportes"},"Reportes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(re.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/configuracion"},"Configuracion"))),r.a.createElement("ul",{className:"my-2 my-lg-0 "},r.a.createElement(re.c,{activeClassName:"active",className:"btn btn-outline-secondary btn-sm",onClick:function(){e(function(){var e=Object(te.a)(ae.a.mark((function e(a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.auth().signOut();case 2:a(ve());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},exact:!0,to:"/login"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"Salir"))))},Ae=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Inicio"))},Se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},r.a.createElement("h1",null,"Padron de usuarios")))},Re=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Configuracion"))},De=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Reportes"))},Me=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Transferencias"))},ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},r.a.createElement("h1",null,"Permisos")),r.a.createElement("div",{className:"row m-3"},r.a.createElement("div",{className:"col-sm-8 border rounded"}),r.a.createElement("div",{className:"col-sm-4 pt-lg-0 pt-4"},r.a.createElement(re.b,{to:"/nuevo-permiso"},r.a.createElement("button",{className:"btn btn-primary float-right",type:"button"},r.a.createElement("span",null,"Nuevo Permiso "),r.a.createElement("i",{className:"fas fa-plus"}))))))},Ie=t(21),Le=t.n(Ie),Fe=t(11),Ue=t.n(Fe),Te=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("cultivos").orderBy("nombre").startAt(a).endAt(a+"\uf8ff").get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_e=function(){return{type:y}},ze=function(e){return{type:x,payload:e}},qe=function(e){return{type:j,payload:e}},Ye=function(){return{type:C}},Be=t(64),Ve=t.n(Be),He=function(e){var a=e.title,t=e.columns,n=e.data,o=e.setFunction,c=e.closeFunction,i=Object(l.b)();return r.a.createElement("div",{className:"table-responsive border rounded"},r.a.createElement(Ve.a,{columns:t,data:n,title:a,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por pagina",rangesSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},fixedHeader:!0,persistTableHead:!0,fixedHeaderScrollHeight:"380px",highlightOnHover:!0,striped:!0,pointerOnHover:!0,dense:!0,onRowClicked:function(e){i(o(e)),i(c())}}))},Ge=t(68);function Ke(){var e=Object(Ge.a)(["\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return Ke=function(){return e},e}t(37).default.input(Ke());var Je=[{name:"id",selector:"id",omit:!0},{name:"Cuenta",selector:"cuenta",sortable:!0,width:"80px"},{name:"Subcta",selector:"subcta",sortable:!0,width:"40px",center:!0},{name:"Paterno",selector:"apPaterno",width:"140px",sortable:!0},{name:"Materno",selector:"apMaterno",width:"140px",sortable:!0},{name:"Nombre",selector:"nombre",width:"200px",sortable:!0},{name:"Derecho(ha)",selector:"supRiego",sortable:!0,width:"80px",center:!0},{name:"Lote",selector:"predio",sortable:!0,width:"60px",center:!0},{name:"Ejido",selector:"ejido",sortable:!0,width:"60px",center:!0},{name:"Seccion",selector:"seccion",sortable:!0,width:"60px",center:!0},{name:"Modulo",selector:"modulo",sortable:!0,width:"60px",center:!0}],We=[{name:"id",selector:"id",omit:!0},{name:"Paterno",selector:"apPaterno",width:"140px",sortable:!0},{name:"Materno",selector:"apMaterno",width:"140px",sortable:!0},{name:"Nombre",selector:"nombre",width:"200px",sortable:!0},{name:"RFC",selector:"rfc",sortable:!0,width:"140px",center:!0}],Xe=[{name:"id",selector:"id",omit:!0},{name:"clave",selector:"clave",sortable:!0,width:"60px",center:!0},{name:"nombre",selector:"nombre",sortable:!0,center:!0},{name:"subciclo",selector:"subciclo",sortable:!0,center:!0}],Ze={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};Ue.a.setAppElement("#root");var $e=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),n=t.openCultivosModal,o=t.cultivos;e=Object.values(o);return r.a.createElement(Ue.a,{isOpen:n,onRequestClose:function(){a(_e())},style:Ze,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},r.a.createElement(He,{title:0===e.length?"No se encontraron cultivos":"Cultivos",columns:Xe,data:e,setFunction:qe,closeFunction:_e}))},Qe=function(){var e=Object(te.a)(ae.a.mark((function e(a,t){var n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("derechos").where("modulo","==",t).orderBy("apPaterno").startAt(a).endAt(a+"\uf8ff").get();case 2:return n=e.sent,r=[],n.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ea=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("colonias").where("clave","==",a).get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",n[0].nombre);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),aa=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("permisos").where("cuenta","==",a).get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),r=0,n.forEach((function(e){r+=e.supAutorizada})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ta=function(){return{type:w}},na=function(e){return{type:A,payload:e}},ra=function(e){return function(){var a=Object(te.a)(ae.a.mark((function a(t){var n,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ea(e.ejido);case 2:return n=a.sent,a.next=5,aa("".concat(e.cuenta,".").concat(e.subcta));case 5:r=a.sent,e.ejido=n,e.supPrevia=r,t(oa(e));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},oa=function(e){return 26===e.estado&&(e.estado="Sonora"),2===e.estado&&(e.estado="Baja California"),2===e.municipio&&(e.municipio="Mexicali"),55===e.municipio&&(e.municipio="San Luis Rio Colorado"),1===e.sistRiego&&(e.sistRiego="Gravedad"),2===e.sistRiego&&1===e.equipo&&(e.sistRiego="Poso Particular"),2===e.sistRiego&&2===e.equipo&&(e.sistRiego="Poso Federal"),{type:R,payload:e}},ca=function(){return{type:D}},la={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};Ue.a.setAppElement("#root");var ia=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),n=t.openUsuariosModal,o=t.usuarios;e=Object.values(o);return r.a.createElement(Ue.a,{isOpen:n,onRequestClose:function(){a(ta())},style:la,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},r.a.createElement(He,{title:0===e.length?"No se encontraron usuarios":"Usuarios",columns:Je,data:e,setFunction:ra,closeFunction:ta}))},sa=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("productores").orderBy("apPaterno").startAt(a).endAt(a+"\uf8ff").get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ua=function(){return{type:k}},ma=function(e){return{type:I,payload:e}},da=function(e){return{type:F,payload:e}},pa=function(){return{type:U}},fa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};Ue.a.setAppElement("#root");var ba=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),n=t.openProductoresModal,o=t.productores;e=Object.values(o);return r.a.createElement(Ue.a,{isOpen:n,onRequestClose:function(){a(ua())},style:fa,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},r.a.createElement(He,{title:0===e.length?"No se encontraron productores":"Productores",columns:We,data:e,setFunction:da,closeFunction:ua}),r.a.createElement("div",{className:"row d-flex justify-content-center pt-3"},r.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){a(ua()),a({type:T})}},r.a.createElement("span",null,"Registrar nuevo productor "),r.a.createElement("i",{className:"fas fa-plus"}))))},Ea={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};Ue.a.setAppElement("#root");var va=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.altaPermisos})).isOpenNuevoProductorModal,t=Object(l.c)((function(e){return e.ui})).msgError,n=function(){e({type:_})},o=ye(),c=Object(ne.a)(o,2),i=c[0],s=c[1],m=i.apPaterno,d=void 0===m?"":m,p=i.direccion,f=void 0===p?"":p,b=i.apMaterno,E=void 0===b?"":b,v=i.estado,h=void 0===v?"":v,N=i.nombre,g=void 0===N?"":N,y=i.municipio,x=void 0===y?"":y,O=i.rfc,j=void 0===O?"":O,C=i.cp,P=void 0===C?"":C,w=i.genero,A=void 0===w?"":w,S=i.telefono,R=void 0===S?"":S,D=function(){return 0===d.trim().length?(e(se("Se requiere apellido paterno")),!1):0===f.trim().length?(e(se("Se requiere direccion")),!1):0===E.trim().length?(e(se("Se requiere apellido materno")),!1):0===h.trim().length?(e(se("Se requiere estado")),!1):0===g.trim().length?(e(se("Se requiere nombre")),!1):0===x.trim().length?(e(se("Se requiere municipio")),!1):j.trim().length<12?(e(se("RFC no valido")),!1):P.trim().length<5?(e(se("Codigo postal no valido")),!1):A?R.replace(/ /g,"").length<10?(e(se("Telefono no valido")),!1):(e(ue()),!0):(e(se("Se requiere genero")),!1)};return r.a.createElement(Ue.a,{isOpen:a,onRequestClose:n,style:Ea,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},r.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},r.a.createElement("h1",null,"Registro de nuevo productor")),r.a.createElement("form",{className:"container pb-4",autoComplete:"waa",onSubmit:function(a){var t;a.preventDefault(),D()&&(e((t=Object(u.a)(Object(u.a)({},i),{},{apPaterno:d.toUpperCase(),apMaterno:E.toUpperCase(),nombre:g.toUpperCase(),direccion:f.toUpperCase(),estado:h.toUpperCase(),municipio:x.toUpperCase(),rfc:j.toUpperCase(),telefono:R.replace(/ /g,"")}),function(e){ie.collection("productores").add(t).then((function(e){console.log(e.id)})).catch((function(e){console.log(e),pe.a.fire("Error",e,"error")}))})),n())}},t&&r.a.createElement("div",{className:"auth__alert-error"},t),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido Paterno",name:"apPaterno",autoComplete:"off",onChange:s})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Direccion",name:"direccion",autoComplete:"waa",onChange:s}))),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido Materno",name:"apMaterno",autoComplete:"waa",onChange:s})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Estado",name:"estado",autoComplete:"waa",onChange:s}))),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"nombre",autoComplete:"off",onChange:s})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Municipio",name:"municipio",autoComplete:"waa",onChange:s}))),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"RFC",name:"rfc",autoComplete:"waa",onChange:s})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"CP",name:"cp",autoComplete:"waa",onChange:s}))),r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-sm-6 d-flex align-items-baseline pt-2"},r.a.createElement("div",{className:"px-4"},r.a.createElement("input",{type:"radio",id:"masculino",name:"genero",value:"MASCULINO",onChange:s}),r.a.createElement("span",null," "),r.a.createElement("label",{htmlFor:"masculino"}," Masculino")),r.a.createElement("div",{className:"px-4"},r.a.createElement("input",{type:"radio",id:"femenino",name:"genero",value:"FEMENINO",onChange:s}),r.a.createElement("span",null," "),r.a.createElement("label",{htmlFor:"femenino"}," Femenino"))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Telefono",name:"telefono",autoComplete:"off",onChange:s}))),r.a.createElement("div",{className:"row d-flex justify-content-center pt-5"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},r.a.createElement("i",{className:"far fa-save"}),r.a.createElement("span",null," Guardar")))))},ha=function(e){return{type:q,payload:e}},Na=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.collection("contadoresPermisos").where("claveEntidad","==",a).get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",n[0].cuenta);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ga=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(a);case 2:return e.t0=e.sent,t=e.t0+1,e.next=6,ie.collection("contadoresPermisos").where("claveEntidad","==",a).get();case 6:n=e.sent,r=[],n.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),ie.collection("contadoresPermisos").doc(r[0].id).update({cuenta:t});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ya=function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idUsuarioSelected:a.idUsuarioSelected,cuenta:a.cuenta,usuario:a.usuario,supDerecho:a.supDerecho,lote:a.lote,localidad:a.localidad,municipio:a.municipio,estado:a.estado,modulo:a.modulo,seccion:a.seccion,canal:a.canal,toma:a.toma,sistema:a.sistema,idProductorSelected:a.idProductorSelected,nombreProductor:a.nombreProductor,rfcProductor:a.rfcProductor,idCultivoSelected:a.idCultivoSelected,nombreCultivo:a.nombreCultivo,claveCultivo:a.claveCultivo,subciclo:a.subciclo,cuotaCultivo:a.cuotaCultivo,supPrevia:a.supPrevia,tipo:a.tipo,ciclo:a.ciclo,numeroPermiso:a.numeroPermiso,fechaEmicion:a.fechaEmicion,fechaLimite:a.fechaLimite,vigencia:a.vigencia,variedad:a.variedad,supAutorizada:a.supAutorizada,fuenteCredito:a.fuenteCredito,latitud:a.latitud,longitud:a.longitud,cultivoAnterior:a.cultivoAnterior,observaciones:a.observaciones,uid:a.uid,name:a.name,dotacion:a.dotacion,titular:a.titular,transferencia:a.transferencia},e.next=3,ie.collection("permisos").add(t).then((function(){return ga(a.modulo),pe.a.fire("Permiso Guardado","Se registr\xf3 con \xe9xito el nuevo permiso de riego.","success"),!0})).catch((function(e){console.log("Error",e)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),xa={content:{width:"1125px",height:"1500px"}},Oa=function(e){var a=e.data,t=Object(l.c)((function(e){return e.altaPermisos})),n=t.openPrintPermisoModal,o=t.enableSaveButton,c=t.enablePrintButton,i=t.enEspera,s=Object(l.b)(),u=function(){s({type:N}),s({type:Y}),s(Ye()),s(pa()),s(ca()),s({type:H}),s({type:J})},m=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:G}),s({type:B}),e.next=4,ya(a);case 4:if(!e.sent){e.next=7;break}s({type:V}),s({type:K});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ue.a,{isOpen:n,onRequestClose:u,style:xa,closeTimeoutMS:200,className:"printModal",overlayClassName:"modal-fondo"},r.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},r.a.createElement("div",{className:"col-2 d-flex flex-column justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"./logos/sader.png",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:35}})),r.a.createElement("div",{className:"d-flex justify-content-center mt-3"},r.a.createElement("img",{src:"./logos/crl.png",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:70}})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"printPermisoSubLogo"},"DISTRITO DE RIEGO R\xcdO COLORADO")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"printPermisoSubLogo"},"S DE R.L. DE I.P. DE C.V.")),r.a.createElement("div",{className:"border rounded d-flex justify-content-center mt-4"},"Folio: 224400")),r.a.createElement("div",{className:"col-8 d-flex flex-column justify-content-center"},r.a.createElement("h1",{className:"d-flex justify-content-center"},r.a.createElement("b",null,"PERMISO \xdaNICO DE SIEMBRA")),r.a.createElement("h3",{className:"d-flex justify-content-center"},r.a.createElement("b",null,"DISTRITO DE RIEGO 014 R\xcdO COLORADO")),r.a.createElement("h2",{className:"d-flex justify-content-center pt-4"}," ",r.a.createElement("b",null,"Ciclo Agr\xedcola ",a.ciclo)," ")),r.a.createElement("div",{className:"col-2 d-flex flex-column justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"./logos/cna.png",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:50}})),r.a.createElement("div",{className:"border rounded d-flex justify-content-center mt-4"},"Folio: ",a.numeroPermiso),r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},a.fechaEmicion))),r.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},r.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS DEL USUARIO"),r.a.createElement("div",{className:"d-flex justify-content-center border-top p-1"},r.a.createElement("p",null,"El/la C.",r.a.createElement("b",null," ",a.usuario)," con cuenta: ",r.a.createElement("b",null,a.cuenta)," tiene un derecho normal de ",r.a.createElement("b",null,a.supDerecho," "),"hect\xe1reas del lote: ",r.a.createElement("b",null,a.lote)," en la colonia ",r.a.createElement("b",null,a.localidad),","," ",r.a.createElement("b",null,a.municipio),", ",r.a.createElement("b",null,a.estado),". M\xf3dulo ",r.a.createElement("b",null,a.modulo),", secci\xf3n"," ",r.a.createElement("b",null,a.seccion)," del canal ",r.a.createElement("b",null,a.canal)," toma ",r.a.createElement("b",null,a.toma)," con sistema de riego por ",r.a.createElement("b",null,a.sistema),"."))),r.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center"},r.a.createElement("p",null,"Con base en el Acuerdo Nacional de Colaboraci\xf3n entre la Secretar\xeda de Agricultura, Ganader\xeda, Desarrollo Rural, Pesca y Alimentaci\xf3n y el Acuerdo de Concertaci\xf3n entre la SAGARPA, CONAGUA, Distrito de Riego R\xedo Colorado y la Sociedad de Responsabilidad Limitada con el objetivo de regular en forma ordenada la expedici\xf3n de Permisos \xdanicos de Siembra con Derechos de Agua, y con fundamento en los art\xedculos 66, 67, 68, 69 y 69 Bis de la Ley de Aguas Nacionales; Reglamento de la Ley de Sanidad Fitopecuaria de los Estados Unidos Mexicanos, en materia de sanidad vegetal, Normas Mexicanas, NOM-026-FITO-1995, que establece el control de plagas de algodonero, NOM-001-FITO-2001, para el manejo y eliminaci\xf3n de focos de infecci\xf3n de plagas, mediante el reordenamiento de fechas de siembra y destrucci\xf3n de residuos. Se otorga el Permiso \xdanico de Siembra para que establezca exclusivamente el cultivo y superficie que se indica, apercibiendose que se puede suspender el servicio de riego si se siembra superficie adicional o cultivo diferente al autorizado en este permiso.")),r.a.createElement("div",{className:"row m-3 d-flex"},r.a.createElement("div",{className:"col-4 d-flex flex-column border rounded p-0"},r.a.createElement("div",{className:"d-flex justify-content-center "},"DETALLES DEL CULTIVO"),r.a.createElement("div",{className:"border-top p-1"},"Tipo de permiso: ",r.a.createElement("b",null,a.tipo),r.a.createElement("br",null),"Cultivo:"," ",r.a.createElement("b",null,a.nombreCultivo," (Clave: ",a.claveCultivo,")"),r.a.createElement("br",null),"Subciclo: ",r.a.createElement("b",null,a.subciclo),r.a.createElement("br",null),"Superficie autorizada: ",r.a.createElement("b",null,a.supAutorizada," ha"),r.a.createElement("br",null),"Fecha l\xedmite de siembra: ",r.a.createElement("b",null,a.fechaLimite),r.a.createElement("br",null))),r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-7 d-flex flex-column border rounded"},r.a.createElement("div",{className:"d-flex justify-content-center "},"SUPERFICIE Y DOTACI\xd3N VOLUM\xc9TRICA"),r.a.createElement("div",{className:"row border-top d-flex text-dotacion"},r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,"Descripci\xf3n")),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,"Derecho de riego")),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,"Utilizada Previamente")),r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,"Autorizada en este permiso")),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,"Disponible"))),r.a.createElement("div",{className:"row border-top d-flex text-dotacion"},r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,"Hect\xe1reas")),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,a.supDerecho)),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,a.supPrevia)),r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,a.supAutorizada)),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,a.supDerecho-a.supPrevia-a.supAutorizada))),r.a.createElement("div",{className:"row border-top d-flex text-dotacion"},r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,"l.p.s./24 hrs/hr Parcela")),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,a.supDerecho*a.dotacion)),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,a.supPrevia*a.dotacion)),r.a.createElement("div",{className:"col-3 border"},r.a.createElement("div",null,a.supAutorizada*a.dotacion)),r.a.createElement("div",{className:"col-2 border"},r.a.createElement("div",null,(a.supDerecho-a.supPrevia-a.supAutorizada)*a.dotacion))))),r.a.createElement("div",{className:"row m-3 d-flex"},r.a.createElement("div",{className:"col-4 d-flex flex-column border rounded p-0"},r.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS COMPLEMENTARIOS"),r.a.createElement("div",{className:"border-top p-1"},"Cultivo Anterior: ",r.a.createElement("b",null,a.cultivoAnterior),r.a.createElement("br",null),"Fuente de cr\xe9dito: ",r.a.createElement("b",null,a.fuenteCredito),r.a.createElement("br",null),"Variedad: ",r.a.createElement("b",null,a.variedad),r.a.createElement("br",null),"Productor:"," ",r.a.createElement("b",null,a.nombreProductor," (",a.rfcProductor,")"),r.a.createElement("br",null))),r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-7 d-flex flex-column border rounded"},r.a.createElement("div",{className:"d-flex justify-content-center "},"OBSERVACIONES"),r.a.createElement("div",{className:"row border-top d-flex text-dotacion p-1"},r.a.createElement("p",null,a.observaciones)))),r.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},r.a.createElement("div",{className:"d-flex justify-content-center "},"TRANSFERENCIA"),r.a.createElement("div",{className:"d-flex border-top p-1"},"Ninguna")),r.a.createElement("div",{className:"row m-3 "},r.a.createElement("div",{className:"col-4 d-flex flex-column"},r.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"M\xf3dulo"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("b",null,a.titular)),r.a.createElement("div",{className:"d-flex justify-content-center"},"PRESIDENTE")),r.a.createElement("div",{className:"col-4 d-flex flex-column"},r.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"Sanidad Vegetal")),r.a.createElement("div",{className:"col-4 d-flex flex-column"},r.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"FIRMA DEL PRODUCTOR"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("b",null,a.usuario)),r.a.createElement("div",{className:"d-flex justify-content-center"},"Acepto de conformidad"))),r.a.createElement("div",{className:"row m-3"},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("br",null),r.a.createElement("u",null,"ADVERTENCIAS: (1) Es responsabilidad del usuario de este permiso, disponer de la totalidad del volumen adicional requerido por el cultivo a establecer. (2) Para los sistemas de Gravedad y Pozo Federal un derecho de riego de 20 ha. alcanza para regar una superficie sembrada para el cultivo de Trigo = 20ha., Algod\xf3n = 15ha., Alfalfa 13ha., Esparrago = 16ha., y Sorgo forrajero temprano = 18ha.")))),r.a.createElement("div",{className:"row m-3 d-flex justify-content-between border-top"},r.a.createElement("div",{className:"border rounded mt-2 p-2"},"Folio: ",a.numeroPermiso),r.a.createElement("div",{className:"border rounded mt-2 p-2"},"Bueno por: $ ",a.cuotaCultivo*a.supAutorizada," pesos M.N.")),r.a.createElement("div",{className:"roe m-3"},r.a.createElement("u",null,"Recibimos de El/la C."," ",r.a.createElement("b",null,a.usuario," La cantidad de ",a.cuotaCultivo*a.supAutorizada," pesos M.N.")," ","Por concepto de aportaci\xf3n a las campa\xf1as Fitosanitarias, para el sostenimiento del comit\xe9 Estatal de Sanidad Vegetal.")),r.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},r.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS DEL USUARIO"),r.a.createElement("div",{className:"d-flex justify-content-center border-top p-1"},r.a.createElement("p",null,"El/la C.",r.a.createElement("b",null," ",a.usuario)," con cuenta: ",r.a.createElement("b",null,a.cuenta)," tiene un derecho normal de ",r.a.createElement("b",null,a.supDerecho," "),"hect\xe1reas del lote: ",r.a.createElement("b",null,a.lote)," en la colonia ",r.a.createElement("b",null,a.localidad),","," ",r.a.createElement("b",null,a.municipio),", ",r.a.createElement("b",null,a.estado),". M\xf3dulo ",r.a.createElement("b",null,a.modulo),", secci\xf3n"," ",r.a.createElement("b",null,a.seccion)," del canal ",r.a.createElement("b",null,a.canal)," toma ",r.a.createElement("b",null,a.toma)," con sistema de riego por ",r.a.createElement("b",null,a.sistema),"."))),r.a.createElement("div",{className:"row m-3 "},r.a.createElement("div",{className:"col-3 d-flex flex-column"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"./logos/sanidad.webp",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:70}})),r.a.createElement("div",{className:"mt-4 d-flex justify-content-center"},"COMIT\xc9 ESTATAL DE"),r.a.createElement("div",{className:"d-flex justify-content-center"},"SANIDAD VEGETAL DE"),r.a.createElement("div",{className:"d-flex justify-content-center"},"BAJA CALIFORNIA")),r.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center pt-5"},o?r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary ml-5 d-print-none",onClick:m},r.a.createElement("i",{className:"far fa-save"}),r.a.createElement("span",null," Guardar")):r.a.createElement(r.a.Fragment,null),i?r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(r.a.Fragment,null),c?r.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-5 d-print-none",onClick:function(){window.print()}},r.a.createElement("i",{className:"fas fa-print"}),r.a.createElement("span",null," Imprimir")):r.a.createElement(r.a.Fragment,null),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-5 d-print-none ml-3",onClick:u},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("span",null," Cerrar")))))},ja=function(){var e=Object(l.b)(),a=function(){t(),p.length>0?e({type:g}):pe.a.fire("Nada para buscar","Ingrese nombre del cultivo","warning")},t=function(){e(function(e){return function(){var a=Object(te.a)(ae.a.mark((function a(t){var n;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Te(e);case 2:n=a.sent,t(ze(n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(p.toUpperCase()))},n=Object(l.c)((function(e){return e.altaPermisos})),o=n.idCultivoSelected,c=n.nombreCultivo,i="";o&&(i=c);var s=ye({cultivo:""}),u=Object(ne.a)(s,2),m=u[0],d=u[1],p=m.cultivo;return r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Cultivo: "),r.a.createElement("label",{className:""},i," "),o?r.a.createElement("div",{className:"fas fa-check text-success p-3"}):r.a.createElement(r.a.Fragment,null),o?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cultivo",name:"cultivo",autoComplete:"off",value:p,onChange:d,onKeyDown:function(e){"Enter"===e.key&&a()}})),o?r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(Ye()),m.cultivo=""}},r.a.createElement("i",{className:"fas fa-trash"})):r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},r.a.createElement("i",{className:"fas fa-search"}))))},Ca=function(){var e=Object(l.b)(),a=function(){t(),f.length>0?e({type:P}):pe.a.fire("Nada para buscar","Ingrese apellido paterno del usuario","warning")},t=function(){e(function(e,a){return function(){var t=Object(te.a)(ae.a.mark((function t(n){var r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe(e,a);case 2:r=t.sent,n(na(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(f.toUpperCase(),n))},n=Object(l.c)((function(e){return e.auth})).claveEntidad,o=Object(l.c)((function(e){return e.altaPermisos})),c=o.idUsuarioSelected,i=o.usuario,s="";c&&(s=i);var u=ye({usuario:""}),m=Object(ne.a)(u,2),d=m[0],p=m[1],f=d.usuario;return r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Usuario: "),r.a.createElement("label",null,s," "),c?r.a.createElement("div",{className:"fas fa-check text-success p-3"}):r.a.createElement(r.a.Fragment,null),c?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido paterno",name:"usuario",autoComplete:"off",value:f,onChange:p,onKeyDown:function(e){"Enter"===e.key&&a()}})),c?r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(ca()),d.usuario=""}},r.a.createElement("i",{className:"fas fa-trash"})):r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},r.a.createElement("i",{className:"fas fa-search"}))))},Pa=function(){var e=Object(l.b)(),a=function(){t(),p.length>0?e({type:M}):pe.a.fire("Nada para buscar","Ingrese apellido paterno del productor","warning")},t=function(){e(function(e){return function(){var a=Object(te.a)(ae.a.mark((function a(t){var n;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,sa(e);case 2:n=a.sent,t(ma(n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(p.toUpperCase()))},n=Object(l.c)((function(e){return e.altaPermisos})),o=n.idProductorSelected,c=n.nombreProductor,i="";o&&(i=c);var s=ye({productor:""}),u=Object(ne.a)(s,2),m=u[0],d=u[1],p=m.productor;return r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Productor: "),r.a.createElement("label",null,i," "),o?r.a.createElement("div",{className:"fas fa-check text-success p-3"}):r.a.createElement(r.a.Fragment,null),o?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido paterno",name:"productor",autoComplete:"off",value:p,onChange:d,onKeyDown:function(e){"Enter"===e.key&&a()}})),o?r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(pa()),m.productor=""}},r.a.createElement("i",{className:"fas fa-trash"})):r.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},r.a.createElement("i",{className:"fas fa-search"}))))},wa=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.usuarios,t=e.idUsuarioSelected,n=e.supPrevia,o="",c="",i="",s="",u="",m="",d="";return a.forEach((function(e){e.id===t&&(c="".concat(e.cuenta,".").concat(e.subcta),o=e.ejido,i=e.supRiego,s=e.predio,u=i-n,m="".concat(e.apPaterno," ").concat(e.apMaterno," ").concat(e.nombre),d=e.seccion)})),r.a.createElement("div",{className:"border rounded mb-4 p-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},"Cuenta: ",c),r.a.createElement("div",{className:"col-sm-3"},"Colonia/Ejido: ",o),r.a.createElement("div",{className:"col-sm-3"},"Sup. Derecho: ",i)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},"Usuario: ",m),r.a.createElement("div",{className:"col-sm-3"},"Lote: ",s),r.a.createElement("div",{className:"col-sm-3"},"Sup. Disponible: ",u)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"}),r.a.createElement("div",{className:"col-sm-3"},"Seccion: ",d)))},Aa=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.productores,t=e.idProductorSelected,n="",o="";return a.forEach((function(e){e.id===t&&(n=e.rfc,o="".concat(e.apPaterno," ").concat(e.apMaterno," ").concat(e.nombre))})),r.a.createElement("div",{className:"border rounded mb-4 p-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},"Productor: ",o),r.a.createElement("div",{className:"col-sm-4"},"RFC Productor: ",n)))},Sa=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.idUsuarioSelected,t=e.idProductorSelected,n=e.subciclo,o=Object(l.c)((function(e){return e.altaPermisos})),c=Object(l.c)((function(e){return e.auth})),i=Object(l.c)((function(e){return e.ui})).msgError,s=ye({variedad:"",supAutorizada:0,fuenteCredito:"",latitud:"",longitud:"",observaciones:"",cultivoAnterior:"",transferencia:""}),m=Object(ne.a)(s,2),d=m[0],p=m[1],f=d.variedad,b=d.supAutorizada,E=d.fuenteCredito,v=d.observaciones,N=d.cultivoAnterior,g=d.transferencia,y=Object(u.a)(Object(u.a)(Object(u.a)({},d),o),c),x=Object(l.b)(),O=function(){x({type:h})},j=function(){var e=Object(te.a)(ae.a.mark((function e(a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C()){e.next=11;break}return a.preventDefault(),x({type:z,payload:d}),e.t0=x,e.t1=ha,e.next=7,P();case 7:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),O();case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=function(){return o.usuario?o.nombreProductor?o.nombreCultivo?b<=0?(x(se("Ingrese la superficie que ser\xe1 autorizada en este permiso.")),!1):o.supDerecho-o.supPrevia<b?(x(se("La superficie excede la superficie disponible de la cuenta seleccionada.")),!1):E?N?(x(ue()),!0):(x(se("Especifique el cultivo anterior.")),!1):(x(se("Especifique la fuente de cr\xe9dito.")),!1):(x(se("El campo cultivo es obligatorio.")),!1):(x(se("El campo productor es obligatorio.")),!1):(x(se("El campo usuario es obligatorio.")),!1)},P=function(){var e=Object(te.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=w(),e.t1=A(),e.next=4,S();case 4:return e.t2=e.sent,e.t3=Le()().format("DD/MM/YYYY"),e.t4=Le()().add(10,"days").format("DD/MM/YYYY"),e.t5=D(n),a={tipo:e.t0,ciclo:e.t1,numeroPermiso:e.t2,fechaEmicion:e.t3,fechaLimite:e.t4,vigencia:e.t5},e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){return"Normal"},A=function(){return"2020-2021"},S=function(){var e=Object(te.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="MOD".concat(c.claveEntidad,"-"),e.t1=R,e.next=4,Na(c.claveEntidad);case 4:return e.t2=e.sent,e.t3=e.t2+1,e.t4=(0,e.t1)(e.t3,3),a=e.t0.concat.call(e.t0,e.t4),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,a){return"0".repeat(a-e.toString().length)+e.toString()},D=function(e){var a=null;if(e)switch(e){case"PRIMAVERA-VERANO":a=Le()("09/30/2021").format("DD/MM/YYYY");break;case"OTO\xd1O-INVIERNO":a=Le()("05/31/2021").format("DD/MM/YYYY");break;case"PERENNES":case"PERENES":a=Le()("09/30/2021").format("DD/MM/YYYY");break;default:a=""}return a};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},r.a.createElement("h1",null,"Alta de permiso unico de siembra")),r.a.createElement("form",{className:"container pb-4"},i&&r.a.createElement("div",{className:"auth__alert-error"},i),a?r.a.createElement(wa,null):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(Aa,null):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"row"},r.a.createElement(Ca,null),r.a.createElement(Pa,null)),r.a.createElement("div",{className:"row"},r.a.createElement(ja,null),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Variedad:"),r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"variedad",name:"variedad",value:f,autoComplete:"off",onChange:p}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Superficie:"),r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"superficie",name:"supAutorizada",value:b,autoComplete:"off",onChange:p})))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Fuente de credito:"),r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"fuente de credito",name:"fuenteCredito",value:E,autoComplete:"off",onChange:p}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Cultivo anterior:"),r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cultivo anterior",name:"cultivoAnterior",value:N,autoComplete:"off",onChange:p})))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},r.a.createElement("label",{className:"col-sm-3"},"Transferencia interna:"),r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cuenta destino",name:"transferencia",value:g,autoComplete:"off",onChange:p}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:"form-control",placeholder:"Observaciones",rows:"5",name:"observaciones",value:v,onChange:p}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Informaci\xf3n adicional")),r.a.createElement("div",{className:"row d-flex justify-content-center pt-5"},r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:j},r.a.createElement("i",{className:"far fa-save"}),r.a.createElement("span",null," Guardar")))),r.a.createElement($e,null),r.a.createElement(ia,null),r.a.createElement(ba,null),r.a.createElement(va,null),r.a.createElement(Oa,{data:y}))},Ra=function(){var e=Object(l.c)((function(e){return e.auth})),a=e.name,t=e.entidad,n=e.img;return r.a.createElement("div",{className:"pt-4"},r.a.createElement("div",{className:"row m-3 pt-5"},r.a.createElement("div",{className:"col-sm-2 text-center "},r.a.createElement("div",{className:"border rounded h-100 d-flex justify-content-center"},r.a.createElement("img",{className:"align-self-center",src:"./logos/".concat(n),alt:"Logo de modulo 19",style:{maxHeight:100}}))),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{className:" card border"},r.a.createElement("div",{className:"card-header"},"".concat(t," - Operador: ").concat(a)),r.a.createElement("div",{className:"card-body text-dark"},r.a.createElement("h5",{className:"card-title"},"Plataforma digital"),r.a.createElement("p",{className:"card-text"},"Distrito de riego 014 Rio Colorado"))))))},Da=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null),r.a.createElement(Ra,null),r.a.createElement(oe.d,null,r.a.createElement(oe.b,{exact:!0,path:"/sicper",component:Ae}),r.a.createElement(oe.b,{exact:!0,path:"/padron",component:Se}),r.a.createElement(oe.b,{exact:!0,path:"/permisos",component:ke}),r.a.createElement(oe.b,{exact:!0,path:"/transferencias",component:Me}),r.a.createElement(oe.b,{exact:!0,path:"/reportes",component:De}),r.a.createElement(oe.b,{exact:!0,path:"/configuracion",component:Re}),r.a.createElement(oe.b,{exact:!0,path:"/nuevo-permiso",component:Sa}),r.a.createElement(oe.a,{to:"/sicper"})))},Ma=t(29),ka=function(e){var a=e.isAuthenticated,t=e.component,n=Object(Ma.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",n.location.pathname),r.a.createElement(oe.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(oe.a,{to:"/auth/login"})}}))},Ia=function(e){var a=e.isAuthenticated,t=e.component,n=Object(Ma.a)(e,["isAuthenticated","component"]);return r.a.createElement(oe.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(oe.a,{to:"/"}):r.a.createElement(t,e)}}))},La=function(){var e=Object(l.b)(),a=Object(n.useState)(!0),t=Object(ne.a)(a,2),o=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(ne.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){le.a.auth().onAuthStateChanged(function(){var a=Object(te.a)(ae.a.mark((function a(t){var n,r,o,l,i,s,u;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(null===t||void 0===t?void 0:t.uid)){a.next=13;break}return a.next=3,he(t.uid);case 3:return n=a.sent,a.next=6,Ne(n.claveEntidad);case 6:r=a.sent,o=r.nombre,l=r.img,i=r.clave,s=r.dotacion,u=r.titular,e(be(t.uid,t.displayName)),e(Ee(o,l,i,s,u)),m(!0),a.next=14;break;case 13:m(!1);case 14:c(!1);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}),[e,c,m]),o?r.a.createElement("h1",null,"Espere..."):r.a.createElement(re.a,null,r.a.createElement("div",null,r.a.createElement(oe.d,null,r.a.createElement(Ia,{path:"/auth",component:Pe,isAuthenticated:u}),r.a.createElement(ka,{exat:!0,isAuthenticated:u,path:"/",component:Da}),r.a.createElement(oe.a,{to:"/auth/login"}))))},Fa=function(){return r.a.createElement("div",null,r.a.createElement(l.a,{store:Q},r.a.createElement(La,null)))};t(171),t(172);c.a.render(r.a.createElement(Fa,null),document.getElementById("root"))},69:function(e,a,t){e.exports=t(173)},84:function(e,a,t){}},[[69,1,2]]]);
//# sourceMappingURL=main.f0796122.chunk.js.map