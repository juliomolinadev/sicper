{"version":3,"sources":["helpers/DB/simpleLoadTransfer.js","helpers/consts.js","types/types.js","reducers/uiReducer.js","reducers/altaPermisosReducer.js","reducers/permisosScreenReducer.js","reducers/autorizadosReducer.js","reducers/sicperReducer.js","reducers/algodoneroScreenReducer.js","reducers/scenes/scenesReducer.js","reducers/transferenciasScreenReducer.js","store/store.js","reducers/authReducer.js","reducers/entidades/entidadesReducer.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/ui/NavbarComponent.js","helpers/loadNombresCultivos.js","helpers/loadAutorizados.js","helpers/loadExpedicion.js","actions/sicperScreen.js","helpers/functions/roundToN.js","components/modulos/ResumenAutorizados.js","components/charts/SuperficiesChart.js","components/charts/setSuperficiesDataformat.js","components/autorizados/ResumenAutorizados.js","helpers/loadUltimosPermisos.js","helpers/loadPermisos.js","helpers/loadSuperficiesCultivos.js","helpers/DB/loadPreCancelPermits.js","actions/permisosScreen.js","actions/autorizadosScreen.js","components/modulos/FichaExpedicion.js","components/buttons/NuevoPermisoButton.js","components/cards/UnassignedPrivilegesMessage.js","components/sicper/SicperScreen.js","components/tables/CustomTable.js","components/tables/configTables.js","helpers/loadUsuarios.js","helpers/loadSuperficiePrevia.js","helpers/DB/loadUserTransfer.js","helpers/DB/loadCiclo.js","helpers/functions/assets.js","helpers/DB/loadTransferencias.js","helpers/DB/updateTransfer.js","actions/transferenciasScreen.js","helpers/loadLaboresPendientes.js","helpers/loadDictamen.js","actions/usuarios.js","hooks/UseFormToUpper.js","components/permisos/inputsNuevosPermisos/UsuarioInput.js","helpers/DB/getConstancyCount.js","components/padron/UsuarioSelectedDetail.js","helpers/functions/readExcel.js","helpers/DB/loadLocalties.js","helpers/DB/loadReacomodos.js","helpers/DB/updatePadron.js","components/ui/atoms/FileInput.js","components/ui/organisms/UpdatePadronModule.js","helpers/DB/updateReacomodos.js","components/ui/organisms/UpdateReacomodosModule.js","helpers/functions/exportJSONToExcel.js","components/ui/atoms/DownloadPadronButton.js","helpers/DB/saveConstancy.js","components/modals/PrintConstancyModal.js","helpers/DB/loadConstancies.js","components/padron/ConstancySelectedDetail.js","components/ui/organisms/ConstancyModule.js","hooks/useConstancyModuleState.js","helpers/constants/reportsColumns.js","helpers/DB/loadProducersGlobal.js","components/padron/productoresReducer.js","helpers/DB/deleteProducer.js","components/padron/ProductorDetail.js","helpers/DB/updateProducer.js","components/modals/EditProductorModal.js","components/padron/ProductoresModule.js","components/modals/DictamenModal.js","helpers/saveDictamen.js","components/modals/PrintDictamenModal.js","components/padron/PadronScreen.js","actions/altaPermisos.js","helpers/loadCultivos.js","actions/cultivos.js","helpers/loadProductores.js","actions/productores.js","helpers/DB/savePermitTransaction.js","components/modals/PrintPermisoModal.js","helpers/DB/cancelPermit.js","helpers/DB/decrementPermisosExpedidos.js","helpers/DB/decrementPermisosPorCultivo.js","helpers/DB/getPermitStatus.js","components/cards/PermitToCancelCard.js","components/tables/PermitsCancelationTable.js","components/ui/organisms/PermitsCancellationModule.js","components/permisos/PermisosScreen.js","helpers/setPermisoInCancelProces.js","components/modals/CultivoModal.js","components/modals/UsuarioModal.js","actions/nuevoProductor.js","components/modals/ProductorModal.js","components/modals/NuevoProductorModal.js","components/permisos/inputsNuevosPermisos/CultivoInput.js","components/permisos/inputsNuevosPermisos/ProductorInput.js","components/permisos/inputsNuevosPermisos/UsuarioSelected.js","components/permisos/inputsNuevosPermisos/ProductorSelected.js","helpers/loadContador.js","components/permisos/inputsNuevosPermisos/CultivoSelected.js","components/modals/CultivoAnteriorModal.js","components/permisos/inputsNuevosPermisos/CultivoAnteriorInput.js","components/permisos/NuevoPermisoScreen.js","components/cards/UserCard.js","components/permisos/inputsNuevosPermisos/CultivoInput2.js","helpers/loadLocaltiesFromPermits.js","actions/entidades/localidades.js","components/permisos/inputsNuevosPermisos/LocalidadInput.js","helpers/DB/getTransferCount.js","components/forms/TransferForm.js","components/inputs/UsuariosInput.js","components/tables/UsuariosTable.js","components/modals/LocalidadesModal.js","helpers/saveTransfer.js","components/modals/PrintTransferModal.js","components/tables/TransferTable.js","components/cards/TransferCard.js","scenes/TransferenciasScreen.js","helpers/loadSearchPermisosAlgodonero.js","helpers/DB/getCostanciaSanidadCount.js","helpers/loadPermitsForPay.js","actions/algodoneroScreen.js","components/asignacion/PermisoAsignacion.js","helpers/DB/asignarTecnico.js","helpers/DB/saveTechnicianLocalties.js","components/asignacion/SelectedLocaltiesDetail.js","components/tables/LaboresPermitsTable.js","components/tables/CustomSelectableTable.js","components/tables/SelectableLocaltiesTable.js","helpers/DB/loadTechnician.js","reducers/asignacionReducer.js","scenes/AsignacionScreen.js","helpers/deletePermit.js","helpers/updatePermisoAlgodonero.js","reducers/laboresChecksReducer.js","components/modulos/CheckSanidad.js","helpers/saveConsatanciaSanidad.js","components/modals/PrintSanidadModal.js","scenes/LaboresScreen.js","components/modals/AutorizadosModal.js","components/modals/AutorizadosPozoModal.js","components/autorizados/ResumenAutorizadosPozo.js","components/autorizados/AutorizadosScreen.js","helpers/sabeAutorizados.js","components/charts/CustomGraficoHorizontal.js","components/charts/GraficoPrincipalesCultivos.js","helpers/ordenarDataParaGrafico.js","actions/entidades/permisos.js","components/forms/FormPermisosInformes.js","components/tables/CustomPrintTable.js","components/tables/PermisosTable.js","components/ui/molecules/RadioButtonGroup.js","helpers/DB/simpleLoadPermits.js","hooks/useFilteredData.js","components/ui/molecules/ReportHeader.js","components/ui/molecules/PrintableTable.js","components/ui/organisms/ReportModule.js","hooks/useMultiInput.js","components/ui/organisms/CustomPermitsReport.js","helpers/DB/loadPermisosPorSeccion.js","components/ui/organisms/PermitsReport.js","components/modulos/ModuloInformesPermisos.js","helpers/functions/filterReportData.js","helpers/functions/mergeReportData.js","reducers/modulosCheckboxReducer.js","components/ui/molecules/ExpedicionTable.js","components/ui/molecules/ButtonGroup.js","components/ui/organisms/ModulosCkeckbox.js","components/ui/organisms/ReporteExpedicion.js","helpers/DB/loadAutorizadosGlobal.js","helpers/DB/loadAvanceSuperficieExpedida.js","actions/scenes/reportesScreen.js","helpers/DB/loadProducersPerModulo.js","helpers/DB/simpleLoadProducers.js","components/ui/organisms/ProducersReport.js","helpers/DB/simpleLoadUsers.js","components/ui/organisms/UsersReport.js","components/modulos/ModuloInformesPadron.js","helpers/DB/getTransferTable.js","components/ui/molecules/TransferTable.js","components/ui/organisms/TableTransferReport.js","components/ui/organisms/TransferReport.js","components/modulos/ModuloInformesTransferencias.js","helpers/DB/loadPermisosLabores.js","components/ui/organisms/LaboresReport.js","components/modulos/ModuloInformesCesvbc.js","scenes/ReportesScreen.js","helpers/loadSystemUsers.js","helpers/loadUserRoles.js","helpers/loadUserPrivileges.js","actions/entidades/sistemUsers.js","components/forms/AddNewUserRoleForm.js","helpers/saveNewUserRole.js","helpers/deleteUserRole.js","components/forms/SelectRoleToEditForm.js","helpers/saveRolePrivileges.js","components/forms/UserPrivilegesForm.js","components/modals/UserRoleModal.js","components/buttons/NewUserRoleButton.js","components/cards/SystemUserCard.js","helpers/updateSystemUser.js","components/tables/SystemUsersTable.js","components/modulos/UsersRoleManagement.js","helpers/DB/actualizarEntidades.js","components/modulos/EntityEditingModule.js","hooks/useFormArray.js","helpers/DB/loadEntities.js","actions/entidades/entities.js","scenes/ConfiguracionScreen.js","helpers/printDuplicatePermits.js","components/modulos/DictamenManual.js","helpers/DB/DBTools/verificarExpedicion.js","components/modulos/ExpeditionCheckModule.js","helpers/DB/cargarPermisosExcel.js","components/modulos/PermisosExcelModule.js","components/templates/TestArea.js","components/ui/molecules/EntitySelector.js","components/ui/Header.js","routers/DashboardRoutes.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","SicperApp.js","index.js","firebase/firebase-config.js"],"names":["simpleLoadTransfer","pairs","modulo","ciclo","tipo","a","palabra","campo","transferencias","transferenciasFiltradas","qrysTransferencias","transferRef","db","collection","doc","modulos","forEach","length","push","orderBy","get","startAt","toUpperCase","endAt","where","Number","Promise","all","snap","snapHijo","data","parseInt","i","pop","filter","transferencia","ifIsNumber","Swal","fire","onlyUnique","value","objectsArray","key","unique","clearArray","element","indexOf","modulosPorUnidad","primeraUnidad","4","5","6","14","15","16","segundaUnidad","7","8","10","11","12","17","18","19","20","terceraUnidad","1","2","3","21","22","23","pozosParticulares","UNI01","UNI02","UNI03","cultivosPrincipales","VARIOS","SUBTOTAL","PERENNES","FRUTALES","transferModulos","privileges","accesoGlobal","pantallaInicio","pantallaPadron","pantallaPermisos","pantallaTransferencias","pantallaAsignacion","pantallaLabores","pantallaAutorizados","pantallaReportes","pantallaConfiguracion","testArea","actualizarPadron","consultarPadron","generarConstancias","generarDictamenes","editarProductores","expedirPermisos","consultarPermisos","solicitarCancelarPermisos","cancelarPermisos","consultarExpedicion","consultarAutorizados","editarAutorizados","solicitarTransferencias","consultarTransferencias","asignarTecnico","consultarLabores","registrarLabores","pagarLabores","imprimirLabores","borrarPermisos","editarEntidades","asignarRoles","editarRoles","cerrarExpedicionModulos","variablesGlobales","entidades","clave","dotacionGravedad","dotacionPozo","titular","direccion","nombre","img","expedicionActivaModulo","testUsers","CUENTA","SUBCTA","UNIDAD","ZONA","SECCION","CP","LT","SLT","RA","SRA","SSRA","PCONTROL","TENENCIA","ESTADO","MUNICIPIO","EJIDO","GRUPO","PREDIO","SISTRIEGO","EQUIPO","APPATERNO","APMATERNO","NOMBRE","SUPFISICA","SUPRIEGO","FECHA","REFERENCIA","MODULO","types","initialState","loading","msgError","updatingPermisos","enEspera","enableSaveButton","enablePrintButton","openUsuariosModal","openProductoresModal","isOpenNuevoProductorModal","openCultivosModal","openCultivoAnteriorModal","isOpenPrintPermisoModal","usuarios","cultivos","cultivosAnteriores","productores","idUsuarioSelected","cuenta","usuario","supDerecho","lote","localidad","municipio","estado","seccion","canal","toma","sistema","idProductorSelected","nombreProductor","rfcProductor","idCultivoSelected","nombreCultivo","claveCultivo","subciclo","cuotaCultivo","supPrevia","idCultivoAnteriorSelected","cultivoAnterior","claveCultivoAnterior","numeroPermiso","fechaEmicion","fechaLimite","vigencia","estadoPermiso","variedad","supAutorizada","fuenteCredito","latitud","longitud","observaciones","permisos","permisoSelected","superficies","openAutorizadosModal","autorizados","autorizadoSelected","superficieReferencia","formError","expedicion","superficie","printSanidadModal","technicians","reportesScreen","openImprimirReporteModal","padronScreen","updatingPadron","updatingReacomodos","dictamen","printTransferModal","nuevaTransferencia","transferPrintButton","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","uid","payload","name","displayName","email","entidad","claveEntidad","rol","privilegios","ui","isOpenUserRoleModal","scenes","principalesCultivos","labels","superficiesCultivos","numeroPermisos","campoOrdenador","userRoles","userRoleSelected","privilegesToEdit","systemUsers","systemUserSelected","localties","selectedLocalties","localtieSelected","openLocaltiesModal","entities","sicperScreen","permisosScreen","preCancelPermits","permitToCancelSelected","algodoneroScreen","folioSanidad","newPermits","map","permiso","id","transferenciasScreen","altaPermisos","openPrintPermisoModal","costoHectarea","fechaLimiteBc","fechaLimiteSonora","superficiePreviaCultivo","superficiePrevia","subcta","apPaterno","apMaterno","supRiego","predio","zona","cp","lt","slt","ra","sra","ssra","pControl","sistRiego","reacomodo","nombreLocalidad","tipoLocalidad","claveLocalidad","ejido","laboresPendientes","rfc","curpProductor","curp","autorizadosScreen","autorizadosPorCultivo","store","createStore","applyMiddleware","thunk","setError","err","removeError","finishLoading","startLoginEmailPassword","password","dispatch","firebase","signInWithEmailAndPassword","then","user","loadEntity","entity","loadEntityData","entityData","loadPrivilegios","login","setEntity","setPrivilegios","loadVariablesGlobales","variablesGlovales","setVariablesGlobales","catch","e","console","log","logout","entitySnap","roles","loadEstadoExpedicionModulo","startSetEstadoExpedicionModulo","estadoExpedicion","setEstadoExpedicionModulo","useForm","useState","values","setValues","reset","handleInputChange","target","checked","setAValue","LoginScreen","useDispatch","useSelector","formValues","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","to","RegisterScreen","password2","isFormValid","validator","isEmail","createUserWithEmailAndPassword","updateProfile","set","startRegisterWithEmailPasswordName","decideModulo","hidden","defaultValue","AuthRouter","exact","path","component","NavbarComponent","Navbar","bg","variant","expand","Brand","href","src","height","alt","Toggle","aria-controls","Collapse","Nav","Button","onClick","signOut","loadNombresCultivos","cultivosSnap","cultivo","loadAutorizados","autorizadosSnap","nombresCultivos","gravedadNormalAutorizada","gravedadNormalAsignada","gravedadExtraAutorizada","gravedadExtraAsignada","pozoNormalAutorizada","pozoNormalAsignada","pozoExtraAutorizada","pozoExtraAsignada","undefined","find","autorizado","loadAutorizadoPorCultivo","loadExpedicion","superficiesSnap","startLoadExpedicion","findCultivo","autorizadoId","cultivoAutorizado","superficieTotal","gravedadNormal","gravedadExtra","pozoNormal","pozoExtra","pozoParticularNormal","pozoParticularExtra","setExpedicion","roundToN","num","n","Math","round","ResumenAutorizados","cicloActual","useEffect","setNormal","setExtra","totales","isModulo","role","scope","SuperficiesChart","dataSend","titulo","totalSuperficie","totalPermisos","datasets","label","backgroundColor","borderColor","borderWidth","toFixed","options","scales","yAxes","ticks","beginAtZero","width","totalGravedadNormalAutorizada","totalGravedadNormalAsignada","totalGravedadExtraAutorizada","totalGravedadExtraAsignada","totalPozoNormalAutorizada","totalPozoNormalAsignada","totalPozoExtraAutorizada","totalPozoExtraAsignada","colSpan","loadUltimosPermisos","limit","permisosSnap","addDays","date","days","result","Date","setDate","getDate","loadPermisos","campos","fechaInicial","fechaFinal","permisosCampo","pad","filtros","permisosResueltos","fecha","toDate","loadSuperficiesCultivos","contador","restoSuperficie","restoPermisos","loadPreCancelPermits","collectionGroup","querySnapshot","startLoadPermisos","setPermisos","startLoadPreCancelPermits","setPreCancelPermits","startLoadSuperficies","setSuperficies","permits","setPermisoSelected","setPermitToCancel","startLoadAutorizados","setAutorizados","setSuperficieReferencia","setAutorizadosPorCultivo","closeAutorizadosModal","setAutorizadoSelected","setFormError","removeFormError","FichaExpedicion","NuevoPermisoButton","UnassignedPrivilegesMessage","SicperScreen","expedicionActiva","tiempo","now","fechaActual","print","toLocaleDateString","CustomTable","title","columns","setFunction","closeFunction","simpleSetFunction","pagination","paginationComponentOptions","rowsPerPageText","rangesSeparatorText","selectAllRowsItem","selectAllRowsItemText","fixedHeader","persistTableHead","fixedHeaderScrollHeight","highlightOnHover","striped","pointerOnHover","dense","onRowClicked","row","styled","input","usuariosColumns","selector","omit","sortable","center","transferColumns","productoresColumns","cultivosColumns","systemUsersColumns","localtiesColumns","asignacionLocaltiesColumns","permisosColumns","laboresColumns","printPermisosColumns","autorizadosColumns","autorizadosPozoColumns","loadUsuarios","global","qryUsuarios","padUsuarios","defineRef","equipo","defineModulo","loadSuperficiePrevia","folio","permisosPad","loadTransfer","loadUserTransfer","transferPromises","item","childItem","transferId","estadoTransferencia","superficieTransferida","loadCiclo","goToElement","document","getElementById","focus","loadTransferencias","transferenciasSnap","updateTransfer","moduloDestino","runTransaction","transaction","update","transfer","error","startSetTransferencia","unsetUsuarioSelected","setTransferencia","unsetTransferencia","setTransferencias","startSetTransferencias","openTransferModal","disablePrintButton","startUpdateTransfer","newTransfer","loadLaboresPendientes","loadDictamen","exists","closeUsuariosModal","startLoadUsuarios","setUsuarios","unsetUsuarios","startSetUsuarioSelected","setUsuarioSelected","transfers","unsetUpdatingPadron","unsetUpdatingReacomodos","setDictamenDataSaved","useFormToUpper","UsuarioInput","nombreUsuario","handleOpenUsuariosModal","handleLoadUsuarios","usuarioLabel","tabIndex","onKeyUp","event","autoFocus","getConstancyCounter","anio","contadorConstancias","counter","UsuarioSelectedDetail","setModalState","setDictamenFormState","startSaveConstancy","defineFolio","constancia","openModal","isOpenDictamenForm","getFullYear","number","len","repeat","toString","readExcel","file","promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","bufferArray","workBook","read","workSheetName","SheetNames","workSheet","Sheets","utils","sheet_to_json","onerror","loadLocalties","localtie","localtiesSnap","loadReacomodos","reacomodosSnap","reacomodos","checkPadron","isOk","getLocaltie","localidades","localtieFind","definePredio","grupo","defineSistema","FileInput","actionFunction","updating","fileExtension","htmlFor","files","match","UpdatePadronModule","batch","batchSize","itemToUpload","referencia","sistemaRiego","supFisica","tenencia","unidad","ref","commit","updatePadron","checkReacomodos","UpdateReacomodosModule","CTA","subCuenta","SC","llave","LLAVE","claveEjido","CVEEJI","EJI","PRE","hectareas","HAS","RE","claveProcedencia","CVEPRO","ejidoProcedencia","EJIPRO","predioProcedencia","PREPRO","updateReacomodos","exportJSONToExcel","headers","author","sheetName","book_new","Props","Title","Author","CreatedDate","json_to_sheet","excelBuffer","write","bookType","saveAsExcel","buffer","fileName","Blob","FileSaver","saveAs","DownloadPadronButton","header","startDowloadPadron","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","padron","LOCALIDAD","REACOMODO","HA","SISTEMA","saveConstancy","constancyRef","constancyCounterRef","constancy","constancyCounter","Error","firestore","FieldValue","increment","PrintConstancyModal","constancySaved","closeModal","handleSaveConstancy","isOpen","onRequestClose","style","content","overflow","closeTimeoutMS","overlayClassName","maxWidth","toLocaleString","weekday","year","month","day","clssName","loadCostancies","qryConstancies","constancies","constanciesRef","ConstancySelectedDetail","ConstancyModule","modalState","constancySelected","moduleState","setModuleState","handleSetConstancies","useConstancyModuleState","clearUsuarioInput","handleKeyUp","setConstancylected","permitsHeaders","styles","currency","sum","count","float","display","selectable","search","laboresHeaders","producersHeaders","usersHeaders","transferEntrantesHeaders","transferSalientesHeaders","loadProducersGlobal","inputValue","producers","productoresReducer","productorSelected","openEditModal","deleteProducer","producerRef","getPermitsRefs","delete","idProductor","permisosRefs","ProductorDetail","productor","reload","telefono","genero","fechaRegistro","updateProducer","idAnterior","tipoPersonaAnterior","curpAnterior","nombreAnterior","rfcAnterior","tipoPersona","genoro","nombreCompleto","newProducerRef","customStyles","top","left","right","bottom","marginRight","transform","Modal","setAppElement","EditProductorModal","resetProductor","indice","handleUpdate","replace","trim","ProductoresModule","useReducer","getProducers","setProductorSelected","DictamenModal","isOpenModal","setIsOpenDictamenPrint","habilitadora","laboresCulturales","dictamenTecnico","cader","setCader","fechaRiego","setFechaRiego","fechaSiembraSeco","setFechaSiembraSeco","fechaSiembraHumedo","setFechaSiembraHumedo","format","rows","saveDictamen","newDictamen","PrintDictamenModal","isOpenDictamenPrint","handleSaveDictamen","maxHeight","PadronScreen","Object","setGlobal","handleSetGlogal","dictamenFormState","setOnSubmitData","unsetEnEspera","startEnableSaveButton","loadCultivos","include0","qrysCultivos","closeCultivosModal","closeCultivoAnteriorModal","startLoadCultivos","cultivosConModulo","setCultivos","setCultivosAnteriores","supCultivo","dataSup","hasOwnProperty","startSetCultivoSelected","setCultivoSelected","unsetCultivoSelected","setCultivoAnteriorSelected","unsetCultivoAnteriorSelected","loadProductores","usuariosSnap","closeProductoresModal","setProductores","unsetProductorSelected","savePermitTransaction","allData","moment","tecnico","desfoliado","cosechado","desvarado","disqueado","desarraigado","superficieMapeada","pagado","constanciaFitosanitaria","permisosPorCultivoRef","permisoRef","contadorPermisosRef","permisosPorCultivo","numeroPermisosModulo","superficieModulo","isSave","PrintPermisoModal","isNew","handleSavePermiso","imprimir","getDotacion","string","str","toUpper","fontSize","defineTituloFirmaTitular","cancelPermit","fechaCancelacion","apruebaCancelacion","decrementPermisosExpedidos","decrementPermisosPorCultivo","getPermitStatus","permit","PermitToCancelCard","perm","motivoCancelacion","elements","USUARIO","CULTIVO","entries","permitStatus","PermitsCancelationTable","permisosFormateados","PermitsCancellationModule","PermisosScreen","dataPermiso","buscarPermisos","startLoadPermisosSearch","dataPermisoImprecion","inputPlaceholder","motivo","solicitanteCancelacion","fechaSolicitudCancelacion","setPermisoInCancelProces","CultivoModal","UsuarioModal","closeNuevoProductorModal","ProductorModal","NuevoProductorModal","productorRef","CultivoInput","handleOpenCultivosModal","handleLoadCultivos","cultivoLabel","ProductorInput","handleOpenProductoresModal","handleLoadProductores","startLoadProductores","productorLabel","UsuarioSelected","ProductorSelected","loadContador","CultivoSelected","CultivoAnteriorModal","CultivoAnteriorInput","handleOpenCultivoAnteriorModal","nombreCultivoAnterior","NuevoPermisoScreen","cuotaSanidad","permisoData","startLoadAutorizadoPorCultivo","cuota","cultivoSelected","onSendForm","getOnSubmitData","bloquearPorFechaLimite","getFechaLimite","hoy","seconds","getTime","defineTipoPermiso","defineNumeroPermiso","defineFechaLimite","defineVigencia","defineEstadoPermiso","gravedadNormalPrevia","gravedadExtraPrevia","pozoNormalPrevia","pozoExtraPrevia","pozoParticularNormalPrevia","pozoParticularExtraPrevia","fill","setTransferComent","useCallback","tipolocalidad","loteDestino","tipolocalidadDestino","localidadDestino","UserCard","derechoDisponible","CultivoInput2","loadLocaltiesFromPermits","localtiesIds","padronLocalties","includes","getLocaltieId","ubicacion","getTechnician","setLocalties","setLocaltieSelected","unsetLocaltieSelected","closeLocaltiesModal","LocalidadInput","handleOpenLocaltiesModal","handleLoadLocalties","startLoadLocalties","localtieLabel","idLocaltieSelected","getTranseferCount","numeroTransferenciasModulo","TransferForm","superficieDisponible","apPaternoSolicitante","apMaternoSolicitante","nombreSolicitante","startSaveTransfer","clavelocalidadDestino","UsuariosInput","UsuariosTable","LocalidadesModal","saveTransfer","contTransferRef","countTransfer","superficieRecibidaModulo","PrintTransferModal","handleSaveTransfer","TransferTable","TransferCard","nombreAdjudicatario","TransferenciasScreen","loadSearchPermisosAlgodonero","permisosNombre","getNombreRef","permisosCuenta","getCuentaRef","getConstanciaSanidadCount","numeroConstancia","loadPermitsForPay","desarraigadoSnap","barbechadoSnap","openSanidadModal","startCloseSanidadModal","updatePermiso","PermisoAsignacion","technicianSelected","technician","setTechnician","saveTechnicianLocalties","otherTechnicians","allowOutsideClick","didOpen","showLoading","updates","getUpdates","newPermisosRefs","idPadronPromises","idPadronResolvedPromises","updatesInPadron","asignados","close","techniciansCopy","j","splice","SelectedLocaltiesDetail","technicianId","setTechnicianId","handleSetTechnician","handleSaveChanges","LaboresPermitsTable","dispatchLocal","CustomSelectableTable","setSelectedRowsFunction","simpleSetSelectedRowsFunction","contextMessage","selectableRows","onSelectedRowsChange","selectedRows","SelectableLocaltiesTable","singular","plural","message","loadTechnician","asignacionReducer","updatedTechnicians","updatedTech","newLocalties","updatesIds","stateLocaltie","updatesIndex","AsignacionScreen","permitSelected","techniciasns","deletePermit","updatePermisoAlgodonero","objeto","laboresChecksReducer","newState","check","editable","CheckSanidad","setInitialState","checksDispatch","checksState","checkUncheck","determinaAcceso","getAction","formatter","Intl","NumberFormat","superficieActual","inputAttributes","autocapitalize","folioConstaniciaFisica","comentario","tag","getStyle","barbechado","labores","pagar","saveConstanciaSanidad","constacia","constanciaRef","contConstanciaRef","countConstancia","PrintSanidadModal","LaboresScreen","AutorizadosModal","cultivoExpedicion","nuevosAutorizados","startUpdateAutorizados","valorNegativoError","supAsignadaError","valorVacioError","superficieExcedida","AutorizadosPozoModal","ResumenAutorizadosPozo","AutorizadosScreen","setModuloToEdit","moduloToEdit","setModulo","moduloIndex","autorizadoRef","totalNormal","totalExtra","totalCultivo","decideEstado","superficieNormal","superficieExtra","sabeAutorizados","CustomGraficoHorizontal","subtitulo1","subtitulo2","etiquetas","dataSet","ancho","GraficoPrincipalesCultivos","dataCondensada","arrayDataCondensada","sort","b","noBarrasGrafico","ordenarDataParaGrafico","completaTitulo","activosCancelados","tipoSuperficie","setCampoOrdenador","FormPermisosInformes","onChangeFechaInicial","onChangeFechaFinal","CustomPrintTable","headCells","paddingLeft","paddingRight","headRow","cells","PermisosTable","RadioButtonGroup","inputName","group","currentValue","button","simpleLoadPermits","permisosFiltrados","qrysPermisos","permisosRef","useFilteredData","initialData","initialFilters","order1","initialExtraRows","includeEmtyRow","includeSubtotalRow","setData","filters","setFilters","extraRows","setExtraRows","handleFiltersChange","aplyFilter","handleExtraRowsChange","resetFilters","mainKey","ids","cleanDataSet","separateData","finalData","totalRow","subTotalRow","emtyRow","separateBatch","finalBatch","sortFunction","uniqueOrder1","subBatch","isADate","dateA","usDate","dateB","split","dateSplit","ReportHeader","pages","page","range","PrintableTable","forwardRef","props","rowsPerPage","orientation","fracment","slice","dataPart","k","getValue","frac","minimumFractionDigits","currencyDisplay","ReportModule","excelTitle","componentRef","createRef","pageConfig","setPageConfig","trigger","current","pageStyle","excelHeaders","fileHeaders","excelData","newRow","substring","useMultiInput","index","attributes","nodeValue","targetPair","newPair","pair","addPair","removePair","CustomPermitsReport","setHeaders","handleColumn","findIndex","newHeaders","getPermisos","permisosToSet","getTitle","titleFor","reportOf","campoForTitle","loadPermisosPorSeccion","PermitsReport","setFilter","filterItem","order1Item","ModuloInformesPermisos","reportTypeValues","handleReportTipeInputChange","reportType","initialObject","supGravedadProgramada","supGravedadExpedida","supGravedadRealizada","supPozoProgramada","supPozoExpedida","supPozoRealizada","supPozoPartProgramada","supPozoPartExpedida","supPozoPartRealizada","reportData","accumulate","filterReportData","option","keys","opcion","okModulo","checkModulo","isRegisterInclude","TOTAL","mergedData","plantillaRegistro","mergeReportData","isPozoParticular","createNewAutorizadosItem","updateExpedicionItem","modulosCheckboxReducer","unidades","newValues","newValueKey","newModulosState","ExpedicionTable","rowSpan","setTitle","setUpData","subCiclo","ButtonGroup","groupStyles","buttonStyles","isOn","on","off","ModulosCheckbox","buttonClasses","ReporteExpedicion","reportOptionsValues","handleReportOptionsInputChange","getModulos","loadAutorizadosGlobal","autorizadosPromises","loadAvanceSuperficieExpedida","expedicionPromises","loadProducersPerModulo","curps","curpsInGroups","permisoSnap","simpleLoadProducers","producersFiltrados","qrysProducers","producersRef","filteredProducers","producer","ProducersReport","producersToSet","simpleLoadUsers","onlyAvailable","usuariosFiltrados","qrysUsuarios","usuariosRef","transferSnap","finalUsers","filterOnlyAvailable","users","UsersReport","getUsers","usersToSet","ModuloInformesPadron","getTransferTable","table","size","origen","destino","ha","transfersXY","totals","totalCol","unshift","cell","TableTransferReport","setTable","TransferReport","getTransfer","transfersToSet","ModuloInformesTransferencias","loadPermisosLabores","tecnicos","LaboresReport","ModuloInformesCesvbc","ReportesScreen","startSetExpedicion","startSetAutorizados","loadSystemUsers","loadUserRoles","loadUserPrivileges","startLoadSystemUsers","setSystemUsers","startSetSystemUserSelected","setSystemUserSelected","startSetUserRoles","setUserRoles","setUserRoleSelected","setPrivilegesToEdit","AddNewUserRoleForm","newRole","handleSaveNewUserRole","deleteUserRole","SelectRoleToEditForm","selectedRole","saveRolePrivileges","UserPrivilegesForm","getOwnPropertyNames","privilegeName","privilege","UserRoleModal","NewUserRoleButton","SystemUserCard","userUid","updateSystemUser","SystemUsersTable","UsersRoleManagement","actualizarEntidades","promices","exist","EntityEditingModule","useFormArray","handleActualizarEntidades","entitie","loadEntities","entidadesSnap","startLoadEntities","setEntities","ConfiguracionScreen","modules","modulesChange","module","printDuplicatePermits","unicos","duplicados","duplicadosCompletos","repetido","unico","duplicado","grupoSnap","DictamenManual","verificarExpedicion","actualizar","cultivosFromPermisos","conteosSnap","conteos","cultivoData","cultivoPer","cultivoCont","igualGravedad","igualPozo","igualPozoParticular","igualTotal","igualNumero","conteo","dif","igualdad","ExpeditionCheckModule","setUpdate","defineCuenta","word","separator","parts","defineNombe","nombrePadron","nombreExcel","defineLabores","trabajos","defineTecnico","PermisosExcelModule","localidesSnap","padronId","derechos","idLocalidad","ubicaci√≥n","itemsToUploadPromises","itemsToUpload","cargarPermisosExcel","TestArea","EntitySelector","setentity","Header","setImgStyle","DashboardRoutes","PrivateRoute","isAuthenticated","Component","rest","localStorage","setItem","location","pathname","PublicRoute","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","exat","SicperApp","srs","ReactDOM","render","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleAuthProvider","GoogleAuthProvider"],"mappings":"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","file":"static/js/main.42536f40.chunk.js","sourcesContent":["import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { modulos } from \"../consts\";\n\nexport const simpleLoadTransfer = async (pairs, modulo, ciclo, tipo) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst transferencias = [];\n\tconst transferenciasFiltradas = [];\n\tconst qrysTransferencias = [];\n\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`);\n\n\tswitch (tipo) {\n\t\tcase \"global\":\n\t\tcase \"salientes\":\n\t\t\tmodulos.forEach((modulo) => {\n\t\t\t\tconst transferRef = db\n\t\t\t\t\t.collection(`transferencias`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.collection(`transferencias`);\n\n\t\t\t\tif (palabra.length === 0) qrysTransferencias.push(transferRef.orderBy(campo).get());\n\t\t\t\telse {\n\t\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\t\ttransferRef\n\t\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t\t\t\t.get()\n\t\t\t\t\t);\n\n\t\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\t\ttransferRef\n\t\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t\t.startAt(palabra)\n\t\t\t\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t\t\t\t.get()\n\t\t\t\t\t);\n\n\t\t\t\t\tqrysTransferencias.push(transferRef.where(campo, \"==\", Number(palabra)).get());\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tcase \"entrantes\":\n\t\t\tif (palabra.length === 0) qrysTransferencias.push(transferRef.orderBy(campo).get());\n\t\t\telse {\n\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\ttransferRef\n\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t\t\t.get()\n\t\t\t\t);\n\n\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\ttransferRef\n\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t.startAt(palabra)\n\t\t\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t\t\t.get()\n\t\t\t\t);\n\n\t\t\t\tqrysTransferencias.push(transferRef.where(campo, \"==\", Number(palabra)).get());\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (global) {\n\t} else {\n\t}\n\n\tconst resolvedTransferQrys = await Promise.all(qrysTransferencias);\n\n\tresolvedTransferQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tif (tipo === \"salientes\") {\n\t\t\t\tif (snapHijo.data().modulo === parseInt(modulo)) {\n\t\t\t\t\ttransferencias.push({\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttransferencias.push({\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\ttransferenciasFiltradas.push(transferencias);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst transferencias = transferenciasFiltradas.pop();\n\t\t\ttransferenciasFiltradas.push(\n\t\t\t\ttransferencias.filter(\n\t\t\t\t\t(transferencia) =>\n\t\t\t\t\t\ttransferencia[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (transferencias.length === 0) {\n\t\tSwal.fire(\"No se encontraron transferencias \", \"...\", \"warning\");\n\t}\n\treturn onlyUnique(transferenciasFiltradas.pop(), \"folio\");\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\tcase \"claveCultivo\":\n\t\t\treturn parseInt(value);\n\n\t\tcase \"modulo\":\n\t\t\tif (value === \"9A\" || value === \"9B\") return value;\n\t\t\telse return parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","export const modulosPorUnidad = {\n\tprimeraUnidad: { 4: false, 5: false, 6: false, 14: false, 15: false, 16: false },\n\tsegundaUnidad: {\n\t\t7: false,\n\t\t8: false,\n\t\t\"9A\": false,\n\t\t\"9B\": false,\n\t\t10: false,\n\t\t11: false,\n\t\t12: false,\n\t\t17: false,\n\t\t18: false,\n\t\t19: false,\n\t\t20: false\n\t},\n\tterceraUnidad: { 1: false, 2: false, 3: false, 21: false, 22: false, 23: false },\n\tpozosParticulares: { UNI01: false, UNI02: false, UNI03: false }\n};\n\nexport const modulosPorEstado = {\n\tbc: [\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"92\",\n\t\t\"10\",\n\t\t\"11\",\n\t\t\"12\",\n\t\t\"14\",\n\t\t\"15\",\n\t\t\"16\",\n\t\t\"17\",\n\t\t\"18\",\n\t\t\"19\",\n\t\t\"20\",\n\t\t\"21\",\n\t\t\"22\",\n\t\t\"FL\"\n\t],\n\tsonora: [\"1\", \"2\", \"3\"]\n};\n\nexport const cultivosPrincipales = {\n\t\"OTO√ëO-INVIERNO\": {\n\t\t\"3-TRIGO\": {},\n\t\t\"8-AVENA\": {},\n\t\t\"2-CEBADA\": {},\n\t\t\"1-CARTAMO\": {},\n\t\t\"4-RYE-GRASS\": {},\n\t\t\"12-CEBOLLIN O-I\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t},\n\tPERENNES: {\n\t\t\"50-ALFALFA\": {},\n\t\t\"145-COMP. VOL. ALFALFA\": {},\n\t\t\"51-ALFALFA NUEVA\": {},\n\t\t\"145.1-COMP. DE VOL. ALF. NVA.\": {},\n\t\t\"52-ESPARRAGO\": {},\n\t\t\"53-VID\": {},\n\t\tFRUTALES: {},\n\t\t\"117-ZACATE BERMUDA\": {},\n\t\t\"60-PALMA DATILERA\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t},\n\t\"PRIMAVERA-VERANO\": {\n\t\t\"80-ALGODONERO\": {},\n\t\t\"81-SORGO GRANO TEMP.(SUDAN)\": {},\n\t\t\"82-SORGO GRANO TARDIO\": {},\n\t\t\"83-SORGO FORRAJERO TEMP.(SUDAN)\": {},\n\t\t\"84-SORGO FORRAJERO TARDIO\": {},\n\t\t\"87-MAIZ BLANCO TEMPRANO\": {},\n\t\t\"88-MAIZ BLANCO TARDIO\": {},\n\t\t\"12.1-CEBOLLIN P-V\": {},\n\t\t\"12.2-CEBOLLIN TARDIO\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t}\n};\n\nexport const modulos = [\n\t1,\n\t2,\n\t3,\n\t4,\n\t5,\n\t6,\n\t7,\n\t8,\n\t\"9A\",\n\t\"9B\",\n\t10,\n\t11,\n\t12,\n\t14,\n\t15,\n\t16,\n\t17,\n\t18,\n\t19,\n\t20,\n\t21,\n\t22,\n\t23,\n\t\"UNI01\",\n\t\"UNI02\",\n\t\"UNI03\",\n\t\"dev\"\n];\n\nexport const transferModulos = [\n\t\"1\",\n\t\"2\",\n\t\"3\",\n\t\"4\",\n\t\"5\",\n\t\"6\",\n\t\"7\",\n\t\"8\",\n\t\"9A\",\n\t\"9B\",\n\t\"10\",\n\t\"11\",\n\t\"12\",\n\t\"14\",\n\t\"15\",\n\t\"16\",\n\t\"17\",\n\t\"18\",\n\t\"19\",\n\t\"20\",\n\t\"21\",\n\t\"22\",\n\t\"23\"\n];\n\nexport const privileges = {\n\t//Ui\n\taccesoGlobal: false,\n\n\t//Pantallas\n\tpantallaInicio: false,\n\tpantallaPadron: false,\n\tpantallaPermisos: false,\n\tpantallaTransferencias: false,\n\tpantallaAsignacion: false,\n\tpantallaLabores: false,\n\tpantallaAutorizados: false,\n\tpantallaReportes: false,\n\tpantallaConfiguracion: false,\n\ttestArea: false,\n\n\t//Padron\n\tactualizarPadron: false,\n\tconsultarPadron: false,\n\tgenerarConstancias: false,\n\tgenerarDictamenes: false,\n\teditarProductores: false,\n\n\t//Permisos\n\texpedirPermisos: false,\n\tconsultarPermisos: false,\n\tsolicitarCancelarPermisos: false,\n\tcancelarPermisos: false,\n\tconsultarExpedicion: false,\n\n\t//Autorizados\n\tconsultarAutorizados: false,\n\teditarAutorizados: false,\n\n\t//Transferencias\n\tsolicitarTransferencias: false,\n\tconsultarTransferencias: false,\n\n\t//Asignacion\n\tasignarTecnico: false,\n\n\t//Labores\n\tconsultarLabores: false,\n\tregistrarLabores: false,\n\tpagarLabores: false,\n\timprimirLabores: false,\n\tborrarPermisos: false,\n\n\t//Configuracion\n\teditarEntidades: false,\n\tasignarRoles: false,\n\teditarRoles: false,\n\tcerrarExpedicionModulos: false,\n\tvariablesGlobales: false\n};\n\nexport const entidades = [\n\t{\n\t\tclave: \"dev\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\ttitular: \"dev\",\n\t\tdireccion: \"\",\n\t\tnombre: \"Desarrollo\",\n\t\timg: \"dev.png\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"CNA\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Comisi√≥n Nacional del Agua\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cna.png\"\n\t},\n\t{\n\t\tclave: \"SADER\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Secretar√≠a de Agricultura y Desarrollo Rural\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"sader.png\"\n\t},\n\t{\n\t\tclave: \"CESVBC\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Comit√© Estatal de Sanidad Vegetal de Baja California\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cesvbc.webp\"\n\t},\n\t{\n\t\tclave: \"SRL\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Distrito de Riego 014, R√≠o Colorado S. de R.L.\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\"\n\t},\n\t{\n\t\tclave: \"1\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 1\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m1.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"2\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 2\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m2.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"3\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 3\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m3.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"4\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 4\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m4.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"5\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 5\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m5.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"6\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 6\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m6.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"7\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 7\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m7.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"8\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo 8\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m8.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"9A\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 9A\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9a.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"9B\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 9B\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9b.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"10\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 10\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m10.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"11\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 11\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m11.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"12\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 12\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m12.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"14\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 14\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m14.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"15\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 15\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m15.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"16\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 16\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m16.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"17\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 17\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m17.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"18\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 18\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m18.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"19\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 19\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"Carretera a San Felipe Km 1.5 S/N, Col. Xochimilco C.P. 21380. Mexicali B.C.\",\n\t\timg: \"m19.png\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"20\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 20\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m20.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"21\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 21\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m21.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"22\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 22\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m22.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"23\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del M√≥dulo No. 23\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\",\n\t\texpedicionActivaModulo: true\n\t}\n];\n\nexport const testUsers = [\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 0,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 86,\n\t\tCP: 1,\n\t\tLT: 32,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 224,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 1,\n\t\tEQUIPO: 0,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"LOPEZ\",\n\t\tNOMBRE: \"JUAN DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\"\n\t},\n\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 1,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 88,\n\t\tCP: 1,\n\t\tLT: 5,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 151,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 2,\n\t\tEQUIPO: 1,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"GOMEZ\",\n\t\tNOMBRE: \"LUIS DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\"\n\t},\n\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 2,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 90,\n\t\tCP: 1,\n\t\tLT: 12,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 224,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 2,\n\t\tEQUIPO: 2,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"HERNANDEZ\",\n\t\tNOMBRE: \"CARLOS DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\"\n\t}\n];\n","// Tipos de acciones\n\nexport const types = {\n\tlogin: \"[Login] Login\",\n\tentity: \"[Login] Entity\",\n\tlogout: \"[Login] Logout\",\n\tsetPrivilegios: \"[Login] Privilegios\",\n\tsetVariablesGlobales: \"[Login] Set Variables Globales\",\n\tsetEstadoExpedicionModulo: \"[Login] Set Estado Expedicion Modulo\",\n\n\tuiSetError: \"[UI] Set Error\",\n\tuiRemoveError: \"[UI] Remove Error\",\n\tuiStartLoading: \"[UI] Start Loading\",\n\tuiFinishLoading: \"[UI] Finish Loading\",\n\n\tsetEntities: \"[Configuracion] Set Entities\",\n\n\taltaPermisoOpenPrintPermisoModal: \"[Alta Permisos] Open permiso modal\",\n\taltaPermisoClosePrintPermisoModal: \"[Alta Permisos] Close permiso modal\",\n\n\taltaPermisoOpenCultivosModal: \"[Alta Permisos] Open cultivos modal\",\n\taltaPermisoCloseCultivosModal: \"[Alta Permisos] Close cultivos modal\",\n\taltaPermisoOpenCultivoAnteriorModal: \"[Alta Permisos] Open cultivo anterior modal\",\n\taltaPermisoCloseCultivoAnteriorModal: \"[Alta Permisos] Close cultivo anterior modal\",\n\tloadCultivos: \"[Alta Permisos] Load cultivos\",\n\tsetCultivosAnteriores: \"[Alta Permisos] Set Cultivos Anteriores\",\n\tclearCultivos: \"[Alta Permisos] Clear cultivos\",\n\tsetCultivo: \"[Alta Permisos] Set cultivo\",\n\tunsetCultivo: \"[Alta Permisos] unset cultivo\",\n\tsetCultivoAnterior: \"[Alta Permisos] Set cultivo anterior\",\n\tunsetCultivoAnterior: \"[Alta Permisos] unset cultivo anterior\",\n\n\tsetCuotaCultivo: \"[Alta Permisos] Set Cuota Cultivo\",\n\n\taltaPermisoOpenUsuariosModal: \"[Alta Permisos] Open usuarios modal\",\n\taltaPermisoCloseUsuariosModal: \"[Alta Permisos] Close usuarios modal\",\n\tloadUsuarios: \"[Alta Permisos] Load usuarios\",\n\tclearUsuarios: \"[Alta Permisos] Clear usuarios\",\n\tsetUsuarios: \"[Alta Permisos] Set usuarios\",\n\tunsetUsuarios: \"[Alta Permisos] Unset usuarios\",\n\tsetUsuario: \"[Alta Permisos] Set usuario\",\n\tunsetUsuario: \"[Alta Permisos] Unset usuario\",\n\tsetUpdatingPadron: \"[Padron] Set Updating Padron\",\n\tsetUpdatingPermisos: \"[TestArea] Set Updating Permisos\",\n\tunsetUpdatingPermisos: \"[TestArea] Unset Updating Permisos\",\n\tunsetUpdatingPadron: \"[Padron] Unset Updating Padron\",\n\tsetUpdatingReacomodos: \"[Padron] Set Updating Reacomodos\",\n\tunsetUpdatingReacomodos: \"[Padron] Unset Updating Reacomodos\",\n\tsetDictamenData: \"[Padron] Set Dictamen Data\",\n\tsetDictamenDataSaved: \"[Padron] Set Dictamen Data Saved\",\n\n\taltaPermisoOpenProductoresModal: \"[Alta Permisos] Open productores modal\",\n\taltaPermisoCloseProductoresModal: \"[Alta Permisos] Close productores modal\",\n\tloadProductores: \"[Alta Permisos] Load prosuctores\",\n\tclearProductores: \"[Alta Permisos] Clear prosuctores\",\n\tsetProductor: \"[Alta Permisos] Set productor\",\n\tunsetProductor: \"[Alta Permisos] Unset productor\",\n\n\taltaPermisoOpenNuevoProductorModal: \"[Alta Permisos] Open nuevo prouctor modal\",\n\taltaPermisoCloseNuevoProductorModal: \"[Alta Permisos] Close nuevo prouctor modal\",\n\n\taltaPermisosSetFormValues: \"[Alta Permisos] Set form value\",\n\taltaPermisosUnsetFormValues: \"[Alta Permisos] Unset form value\",\n\taltaPermisosSetSubmitData: \"[Alta Permisos] Set onSubmit data\",\n\taltaPermisosUnsetSubmitData: \"[Alta Permisos] unSet onSubmit data\",\n\n\taltaPermisosSetEnEspera: \"[Alta Permisos] Set en espera\",\n\taltaPermisosUnsetEnEspera: \"[Alta Permisos] unSet en espera\",\n\n\taltaPermisosEnableSaveButton: \"[Alta Permisos] Enable save button\",\n\taltaPermisosDisableSaveButton: \"[Alta Permisos] Disable save button\",\n\n\taltaPermisosEnablePrintButton: \"[Alta Permisos] Enable print button\",\n\taltaPermisosDisablePrintButton: \"[Alta Permisos] Disable print button\",\n\n\tpermisosScreenSetPermisos: \"[Permisos Screen] Set permisos\",\n\tpermisosScreenUnsetPermisos: \"[Permisos Screen] Unset permisos\",\n\tpermisosScreenSetPermisoSelected: \"[Permisos Screen] Set permiso selected\",\n\tpermisosScreenUnsetPermisoSelected: \"[Permisos Screen] Unset permiso selected\",\n\tpermisosScreenSetSuperficies: \"[Permisos Screen] Set superficies\",\n\tpermisosScreenUnsetSuperficies: \"[Permisos Screen] Unset superficies\",\n\tpermisosScreenSetPreCancelPermits: \"[Permisos Screen] Set Pre Cancel Permits\",\n\tpermisosScreenUnsetPreCancelPermits: \"[Permisos Screen] Unset Pre Cancel Permits\",\n\tpermisosScreenSetPermitToCancel: \"[Permisos Screen] Set Pre Permit To Cancel\",\n\tpermisosScreenUnsetPermitToCancel: \"[Permisos Screen] Unset Pre Permit To Cancel\",\n\n\tautorizadosScreenSetModulo: \"[Autorizados Screen] Set modulo\",\n\tautorizadosScreenUnsetModulo: \"[Autorizados Screen] Unset modulo\",\n\tautorizadosScreenSetAutorizados: \"[Autorizados Screen] Set autorizados\",\n\tautorizadosScreenUnsetAutorizados: \"[Autorizados Screen] Unset autorizados\",\n\topenAutorizadosModal: \"[Autorizados Screen] Open autorizados modal\",\n\tcloseAutorizadosModal: \"[Autorizados Screen] Close autorizados modal\",\n\tsetAutorizadoSelected: \"[Autorizados Screen] Set autorizado selected\",\n\tunsetAutorizadoSelected: \"[Autorizados Screen] Unset autorizado selected\",\n\tsetSuperficieReferencia: \"[Autorizados Screen] Set superficie referencia\",\n\tunsetSuperficieReferencia: \"[Autorizados Screen] Unset superficie referencia\",\n\tsetFormError: \"[Autorizados Screen] Set Form Error\",\n\tremoveFormError: \"[Autorizados Screen] Unset Form Error\",\n\tsetAutorizadosPorCultivo: \"[Autorizados Screen] Set autorizados por cultivo\",\n\n\tsicperScreenSetAutorizados: \"[Sicper Screen] Set autorizados\",\n\tsicperScreenUnsetAutorizados: \"[Sicper Screen] Unset autorizados\",\n\tsicperScreenSetExpedicion: \"[Sicper Screen] Set expedicion\",\n\tsicperScreenUnsetExpedicion: \"[Sicper Screen] Unset expedicion\",\n\tsicperScreenSetSuperficieNormal: \"[Sicper Screen] Set superficie normal\",\n\tsicperScreenSetSuperficieExtra: \"[Sicper Screen] Set superficie extra\",\n\n\talgodoneroScreenSetPermisos: \"[Algodonero Screen] Set permisos\",\n\talgodoneroScreenUnsetPermisos: \"[Algodonero Screen] Unset permisos\",\n\topenSanidadModal: \"[Algodonero Screen] Open Modal Sanidad\",\n\tcloseSanidadModal: \"[Algodonero Screen] Close Modal Sanidad\",\n\topenTransferModal: \"[Transferencias Screen] Open Modal Transferencias\",\n\tcloseTransferModal: \"[Transferencias Screen] Close Modal Transferencias\",\n\tenablePrintButton: \"[Transferencias Screen] Enable Print Button\",\n\tdisablePrintButton: \"[Transferencias Screen] Disable Print Button\",\n\tsetNuevaTransferencia: \"[Transferencias Screen] Set Nueva Transferencia\",\n\tunsetNuevaTransferencia: \"[Transferencias Screen] Unset Nueva Transferencia\",\n\tsetTransferencia: \"[Transferencias Screen] Set Transferencia\",\n\tunsetTransferencia: \"[Transferencias Screen] Unset Transferencia\",\n\tsetTransferencias: \"[Transferencias Screen] Set Transferencias\",\n\tunsetTransferencias: \"[Transferencias Screen] Unset  Transferencias\",\n\n\tsetDataPrincipalesCultivos: \"[Entidades] Set Data Principales Cultivos\",\n\tunsetDataPrincipalesCultivos: \"[Entidades] Unset Data Principales Cultivos\",\n\tsetPermisos: \"[Entidades] Set permisos\",\n\tunsetPermisos: \"[Entidades] Unset permisos\",\n\tsetCampoOrdenador: \"[Entidades] Set Campo Ordenador\",\n\tunsetCampoOrdenador: \"[Entidades] Unset Campo Ordenador\",\n\topenImprimirReporteModal: \"[Scenes] Open Imprimir Reporte Modal\",\n\tcloseImprimirReporteModal: \"[Scenes] Close Imprimir Reporte Modal\",\n\n\tsetSystemUsers: \"[Entidades] Set System Users\",\n\tsetSystemUserSelected: \"[Entidades] Set System User Selected\",\n\tunsetSystemUserSelected: \"[Entidades] Unset System User Selected\",\n\tsetUserRoles: \"[Entidades] Set Users Roles\",\n\tunsetUserRoles: \"[Entidades] Unset Users Roles\",\n\tsetUserRoleSelected: \"[Entidades] Set User Role Selected\",\n\tunsetUserRoleSelected: \"[Entidades] Unset User Role Selected\",\n\tsetPrivilegesToEdit: \"[Entidades] Set Privileges To Edit\",\n\tunsetPrivilegesToEdit: \"[Entidades] Unset Privileges To Edit\",\n\n\tsetLocalties: \"[Entidades] Set Localties\",\n\tunsetLocalties: \"[Entidades] Unset Localties\",\n\tsetSelectedLocalties: \"[Entidades] Set Selected Localties\",\n\tunsetSelectedLocalties: \"[Entidades] Unset Selected Localties\",\n\tsetLocaltieSelected: \"[Entidades] Set Localtie Selected\",\n\tunsetLocaltieSelected: \"[Entidades] Unset Localtie Selected\",\n\topenLocaltiesModal: \"[Entidades] Open Localties Modal\",\n\tcloseLocaltiesModal: \"[Entidades] Close Localties Modal\",\n\n\tsetExpedicion: \"[Reportes] Set Expedicion\",\n\tsetAutorizados: \"[Reportes] Set Autorizados\",\n\n\topenUserRoleModal: \"[UI] Open User Role Modal\",\n\tcloseUserRoleModal: \"[UI] Close User Role Modal\",\n\n\tsetLocaltiesAsignacion: \"[Asignacion Screen] Set Localties\",\n\tsetSelectedLocaltiesAsignacion: \"[Asignacion Screen] Set Selected Localties\",\n\tsetTechnicians: \"[Asignacion Screen] Set Technicians\",\n\tupdateTechnicians: \"[Asignacion Screen] Update Technicians\",\n\tupdatePadronLocalties: \"[Asignacion Screen] Update Padron Localties\",\n\tsetTechnicianSelected: \"[Asignacion Screen] Set Technician Selected\",\n\tunsetTechnicianSelected: \"[Asignacion Screen] Unset Technician Selected\",\n\tsetBusqueda: \"[Asignacion Screen] Set Busqueda\",\n\tsetFolioSanidad: \"[Labores Screen] Set Folio Sanidad\",\n\tupdatePermiso: \"[Labores Screen] Update Permiso\",\n\tdeletePermiso: \"[Labores Screen] Delete Permiso\",\n\tsetTechniciansLabores: \"[Labores Screen] Set Technicians Labores\",\n\n\tsetCheckState: \"[Labores Checks] Set Check State\",\n\tcheckDesfoliado: \"[Labores Checks] Check Desfoliado\",\n\tuncheckDesfoliado: \"[Labores Checks] Uncheck Desfoliado\",\n\tcheckCosechado: \"[Labores Checks] Check Cosechado\",\n\tuncheckCosechado: \"[Labores Checks] Uncheck Cosechado\",\n\tcheckDesvarado: \"[Labores Checks] Check Desvarado\",\n\tuncheckDesvarado: \"[Labores Checks] Uncheck Desvarado\",\n\tcheckDisqueado: \"[Labores Checks] Check Disqueado\",\n\tuncheckDisqueado: \"[Labores Checks] Uncheck Disqueado\",\n\tcheckDesarraigado: \"[Labores Checks] Check Desarraigado\",\n\tuncheckDesarraigado: \"[Labores Checks] Uncheck Desarraigado\",\n\tcheckBarbechado: \"[Labores Checks] Check Barbechado\",\n\tuncheckBarbechado: \"[Labores Checks] Uncheck Barbechado\",\n\tcheckPagado: \"[Labores Checks] Check Pagado\",\n\tuncheckPagado: \"[Labores Checks] Uncheck Pagado\"\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tloading: false,\n\tmsgError: null,\n\tupdatingPermisos: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.uiSetError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: action.payload\n\t\t\t};\n\n\t\tcase types.uiRemoveError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: null\n\t\t\t};\n\n\t\tcase types.uiStartLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t};\n\n\t\tcase types.uiFinishLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false\n\t\t\t};\n\n\t\tcase types.openUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: true\n\t\t\t};\n\n\t\tcase types.closeUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: false\n\t\t\t};\n\n\t\tcase types.setUpdatingPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatingPermisos: true\n\t\t\t};\n\n\t\tcase types.unsetUpdatingPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatingPermisos: false\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tenEspera: false,\n\tenableSaveButton: true,\n\tenablePrintButton: false,\n\topenUsuariosModal: false,\n\topenProductoresModal: false,\n\tisOpenNuevoProductorModal: false,\n\topenCultivosModal: false,\n\topenCultivoAnteriorModal: false,\n\tisOpenPrintPermisoModal: false,\n\tusuarios: [],\n\tcultivos: [],\n\tcultivosAnteriores: [],\n\tproductores: [],\n\tidUsuarioSelected: null,\n\tcuenta: null,\n\tusuario: null,\n\tsupDerecho: null,\n\tlote: null,\n\tlocalidad: null,\n\tmunicipio: null,\n\testado: null,\n\tmodulo: null,\n\tseccion: null,\n\tcanal: null,\n\ttoma: null,\n\tsistema: null,\n\tidProductorSelected: null,\n\tnombreProductor: null,\n\trfcProductor: null,\n\tidCultivoSelected: null,\n\tnombreCultivo: null,\n\tclaveCultivo: null,\n\tsubciclo: null,\n\tcuotaCultivo: null,\n\tsupPrevia: 0,\n\tidCultivoAnteriorSelected: null,\n\tcultivoAnterior: null,\n\tclaveCultivoAnterior: null,\n\ttipo: null,\n\tciclo: null,\n\tnumeroPermiso: null,\n\tfechaEmicion: null,\n\tfechaLimite: null,\n\tvigencia: null,\n\testadoPermiso: null,\n\tvariedad: \"\",\n\tsupAutorizada: 0,\n\tfuenteCredito: \"\",\n\tlatitud: \"\",\n\tlongitud: \"\",\n\tobservaciones: \"\"\n};\n\nexport const altaPermisosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\t//Print Permiso **************************************\n\n\t\tcase types.altaPermisoOpenPrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoClosePrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: false\n\t\t\t};\n\n\t\t//Cultivos **************************************\n\t\tcase types.altaPermisoOpenCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: false\n\t\t\t};\n\n\t\tcase types.altaPermisoOpenCultivoAnteriorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivoAnteriorModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseCultivoAnteriorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivoAnteriorModal: false\n\t\t\t};\n\n\t\tcase types.loadCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: action.payload\n\t\t\t};\n\n\t\tcase types.setCultivosAnteriores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivosAnteriores: action.payload\n\t\t\t};\n\n\t\tcase types.clearCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: []\n\t\t\t};\n\n\t\tcase types.setCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: action.payload.id,\n\t\t\t\tnombreCultivo: action.payload.nombre,\n\t\t\t\tclaveCultivo: action.payload.clave,\n\t\t\t\tsubciclo: action.payload.subciclo,\n\t\t\t\tcuotaCultivo: action.payload.costoHectarea,\n\t\t\t\tfechaLimiteBc: action.payload.fechaLimiteBc,\n\t\t\t\tfechaLimiteSonora: action.payload.fechaLimiteSonora,\n\t\t\t\tsuperficiePreviaCultivo: action.payload.superficiePrevia\n\t\t\t};\n\n\t\tcase types.setCuotaCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcuotaCultivo: action.payload\n\t\t\t};\n\n\t\tcase types.unsetCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: null,\n\t\t\t\tnombreCultivo: null,\n\t\t\t\tclaveCultivo: null,\n\t\t\t\tsubciclo: null,\n\t\t\t\tcuotaCultivo: null\n\t\t\t};\n\n\t\tcase types.setCultivoAnterior:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoAnteriorSelected: action.payload.id,\n\t\t\t\tcultivoAnterior: action.payload.nombre,\n\t\t\t\tclaveCultivoAnterior: action.payload.clave\n\t\t\t};\n\n\t\tcase types.unsetCultivoAnterior:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoAnteriorSelected: null,\n\t\t\t\tcultivoAnterior: null,\n\t\t\t\tclaveCultivoAnterior: null\n\t\t\t};\n\n\t\t//Usuarios **************************************\n\n\t\tcase types.altaPermisoOpenUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: false\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload\n\t\t\t};\n\n\t\tcase types.clearUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: []\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: action.payload.id,\n\t\t\t\tcuenta: `${action.payload.cuenta}.${action.payload.subcta}`,\n\t\t\t\tusuario: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\tsupDerecho: action.payload.supRiego,\n\t\t\t\tlote: action.payload.predio,\n\t\t\t\tlocalidad: action.payload.localidad,\n\t\t\t\tmunicipio: action.payload.municipio,\n\t\t\t\testado: action.payload.estado,\n\t\t\t\tmodulo: action.payload.modulo,\n\t\t\t\tzona: action.payload.zona,\n\t\t\t\tseccion: action.payload.seccion,\n\t\t\t\tcanal: `${action.payload.cp}-${action.payload.lt}-${action.payload.slt}-${action.payload.ra}-${action.payload.sra}-${action.payload.ssra}`,\n\t\t\t\ttoma: action.payload.pControl,\n\t\t\t\tsistema: action.payload.sistRiego,\n\t\t\t\tsupPrevia: action.payload.supPrevia,\n\t\t\t\treacomodo: action.payload.reacomodo,\n\t\t\t\tnombreLocalidad: action.payload.nombreLocalidad,\n\t\t\t\ttipoLocalidad: action.payload.tipoLocalidad,\n\t\t\t\tclaveLocalidad: action.payload.ejido,\n\t\t\t\tdictamen: action.payload.dictamen,\n\t\t\t\tlaboresPendientes: action.payload.laboresPendientes\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: null,\n\t\t\t\tcuenta: null,\n\t\t\t\tusuario: null,\n\t\t\t\tsupDerecho: null,\n\t\t\t\tlote: null,\n\t\t\t\tlocalidad: null,\n\t\t\t\tmunicipio: null,\n\t\t\t\testado: null,\n\t\t\t\tmodulo: null,\n\t\t\t\tseccion: null,\n\t\t\t\tcanal: null,\n\t\t\t\ttoma: null,\n\t\t\t\tsistema: null\n\t\t\t};\n\n\t\t//Productores **************************************\n\n\t\tcase types.altaPermisoOpenProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: false\n\t\t\t};\n\n\t\tcase types.loadProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: action.payload\n\t\t\t};\n\n\t\tcase types.clearProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: []\n\t\t\t};\n\n\t\tcase types.setProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: action.payload.id,\n\t\t\t\tnombreProductor: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\trfcProductor: action.payload.rfc,\n\t\t\t\tcurpProductor: action.payload.curp\n\t\t\t};\n\n\t\tcase types.unsetProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: null,\n\t\t\t\tnombreProductor: null,\n\t\t\t\trfcProductor: null\n\t\t\t};\n\n\t\t//Nuevo Productor **************************************\n\n\t\tcase types.altaPermisoOpenNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: false\n\t\t\t};\n\n\t\t//Set Form *****************************************************\n\n\t\tcase types.altaPermisosSetFormValues:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsupAutorizada: Number(action.payload.supAutorizada),\n\t\t\t\tvariedad: action.payload.variedad,\n\t\t\t\tfuenteCredito: action.payload.fuenteCredito,\n\t\t\t\tlatitud: action.payload.latitud,\n\t\t\t\tlongitud: action.payload.longitud,\n\t\t\t\tobservaciones: action.payload.observaciones\n\t\t\t};\n\n\t\t// Al guardar\n\n\t\tcase types.altaPermisosSetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: action.payload.tipo,\n\t\t\t\tciclo: action.payload.ciclo,\n\t\t\t\tnumeroPermiso: action.payload.numeroPermiso,\n\t\t\t\tfechaEmicion: action.payload.fechaEmicion,\n\t\t\t\tfechaLimite: action.payload.fechaLimite,\n\t\t\t\tvigencia: action.payload.vigencia,\n\t\t\t\testadoPermiso: action.payload.estadoPermiso\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: null,\n\t\t\t\tciclo: null,\n\t\t\t\tnumeroPermiso: null,\n\t\t\t\tfechaEmicion: null,\n\t\t\t\tfechaLimite: null,\n\t\t\t\tvigencia: null\n\t\t\t};\n\n\t\tcase types.altaPermisosSetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: true\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: false\n\t\t\t};\n\n\t\tcase types.altaPermisosEnableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: true\n\t\t\t};\n\n\t\tcase types.altaPermisosDisableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: false\n\t\t\t};\n\n\t\tcase types.altaPermisosEnablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: true\n\t\t\t};\n\n\t\tcase types.altaPermisosDisablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: false\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tsuperficies: null\n};\n\nexport const permisosScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.permisosScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tmodulo: null,\n\topenAutorizadosModal: false,\n\tautorizados: [],\n\tautorizadoSelected: null,\n\tsuperficieReferencia: null,\n\tformError: null\n};\n\nexport const autorizadosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.autorizadosScreenSetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: null\n\t\t\t};\n\n\t\tcase types.setAutorizadosPorCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadosPorCultivo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenSetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: []\n\t\t\t};\n\n\t\tcase types.openAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true\n\t\t\t};\n\n\t\tcase types.closeAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadoSelected: null,\n\t\t\t\topenAutorizadosModal: false\n\t\t\t};\n\n\t\tcase types.setAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true,\n\t\t\t\tautorizadoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: false,\n\t\t\t\tautorizadoSelected: null\n\t\t\t};\n\n\t\tcase types.setSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: null\n\t\t\t};\n\n\t\tcase types.setFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: action.payload\n\t\t\t};\n\n\t\tcase types.removeFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\texpedicion: null,\n\tsuperficie: \"normal\"\n};\n\nexport const sicperReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.sicperScreenSetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: action.payload\n\t\t\t};\n\n\t\tcase types.sicperScreenUnsetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: null\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieNormal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"normal\"\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieExtra:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"extra\"\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tprintSanidadModal: false,\n\ttechnicians: []\n};\n\nexport const algodoneroScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.algodoneroScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.algodoneroScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.openSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: action.payload\n\t\t\t};\n\n\t\tcase types.closeSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: false\n\t\t\t};\n\n\t\tcase types.setFolioSanidad:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: { ...state.permisoSelected, folioSanidad: action.payload }\n\t\t\t};\n\n\t\tcase types.updatePermiso: {\n\t\t\tconst newPermits = state.permisos.map((permiso) => {\n\t\t\t\tif (permiso.id === action.payload.id) return action.payload;\n\t\t\t\telse return permiso;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: newPermits\n\t\t\t};\n\t\t}\n\n\t\tcase types.deletePermiso: {\n\t\t\tconst newPermits = [];\n\t\t\tstate.permisos.forEach((permiso) => {\n\t\t\t\tif (permiso.id !== action.payload) newPermits.push({ ...permiso });\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null,\n\t\t\t\tpermisos: newPermits\n\t\t\t};\n\t\t}\n\n\t\tcase types.setTechniciansLabores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttechnicians: action.payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nconst initialState = {\n\treportesScreen: {\n\t\topenImprimirReporteModal: false\n\t},\n\tpadronScreen: {\n\t\tupdatingPadron: false,\n\t\tupdatingReacomodos: false,\n\t\tdictamen: null\n\t}\n};\n\nexport const scenesReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.setAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\t...state.reportesScreen,\n\t\t\t\t\tautorizados: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\t...state.reportesScreen,\n\t\t\t\t\texpedicion: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.openImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.closeImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setDictamenData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\t...state.padronScreen,\n\t\t\t\t\tdictamen: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tprintTransferModal: false,\n\tnuevaTransferencia: null,\n\ttransferencia: null,\n\ttransferPrintButton: false,\n\ttransferencias: []\n};\n\nexport const transferenciasScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.openTransferModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintTransferModal: true\n\t\t\t};\n\n\t\tcase types.closeTransferModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintTransferModal: false\n\t\t\t};\n\n\t\tcase types.enablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferPrintButton: true\n\t\t\t};\n\n\t\tcase types.disablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferPrintButton: false\n\t\t\t};\n\n\t\tcase types.setNuevaTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnuevaTransferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetNuevaTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnuevaTransferencia: null\n\t\t\t};\n\n\t\tcase types.setTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencia: null\n\t\t\t};\n\n\t\tcase types.setTransferencias:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencias: action.payload\n\t\t\t};\n\n\t\tcase types.unsetTransferencias:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencias: []\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport { authReducer } from \"../reducers/authReducer\";\nimport { uiReducer } from \"../reducers/uiReducer\";\nimport { altaPermisosReducer } from \"../reducers/altaPermisosReducer\";\nimport { permisosScreenReducer } from \"../reducers/permisosScreenReducer\";\nimport { autorizadosReducer } from \"../reducers/autorizadosReducer\";\nimport { sicperReducer } from \"../reducers/sicperReducer\";\nimport { algodoneroScreenReducer } from \"../reducers/algodoneroScreenReducer\";\nimport { entidadesReducer } from \"../reducers/entidades/entidadesReducer\";\nimport { scenesReducer } from \"../reducers/scenes/scenesReducer\";\nimport { transferenciasScreenReducer } from \"../reducers/transferenciasScreenReducer\";\n\nconst composeEnhancers =\n\t(typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst reducers = combineReducers({\n\tauth: authReducer,\n\tui: uiReducer,\n\tscenes: scenesReducer,\n\tentidades: entidadesReducer,\n\tsicperScreen: sicperReducer,\n\tpermisosScreen: permisosScreenReducer,\n\talgodoneroScreen: algodoneroScreenReducer,\n\ttransferenciasScreen: transferenciasScreenReducer,\n\taltaPermisos: altaPermisosReducer,\n\tautorizadosScreen: autorizadosReducer\n});\n\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\n// const estructuraStore = {\n// \tauth: \"Datos del usuario logueado\",\n// \tui: \"Datos de componentes de la interfaz\",\n// \tscenes: \"Datos de cada una de las pantallas de la app\",\n// \tentidades: \"Datos de entidades del negocio\"\n// };\n","import { types } from \"../types/types\";\n\nexport const authReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.login:\n\t\t\treturn {\n\t\t\t\tuid: action.payload.uid,\n\t\t\t\tname: action.payload.displayName,\n\t\t\t\temail: action.payload.email\n\t\t\t};\n\n\t\tcase types.entity:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentidad: action.payload.entidad,\n\t\t\t\timg: action.payload.img,\n\t\t\t\tclaveEntidad: action.payload.claveEntidad,\n\t\t\t\tdotacionGravedad: action.payload.dotacionGravedad,\n\t\t\t\tdotacionPozo: action.payload.dotacionPozo,\n\t\t\t\ttitular: action.payload.titular,\n\t\t\t\tdireccion: action.payload.direccion,\n\t\t\t\texpedicionActivaModulo: action.payload.expedicionActivaModulo,\n\t\t\t\trol: action.payload.rol,\n\t\t\t\tmodulo: action.payload.modulo\n\t\t\t};\n\n\t\tcase types.setPrivilegios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegios: action.payload\n\t\t\t};\n\n\t\tcase types.setVariablesGlobales:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvariablesGlobales: action.payload\n\t\t\t};\n\n\t\tcase types.setEstadoExpedicionModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicionActivaModulo: action.payload\n\t\t\t};\n\n\t\tcase types.logout:\n\t\t\treturn {};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nexport const entidadesReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.setDataPrincipalesCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprincipalesCultivos: {\n\t\t\t\t\tlabels: action.payload.labels,\n\t\t\t\t\tsuperficiesCultivos: action.payload.superficiesCultivos,\n\t\t\t\t\tnumeroPermisos: action.payload.numeroPermisos\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.setCampoOrdenador:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcampoOrdenador: action.payload\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: false\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: false\n\t\t\t};\n\n\t\tcase types.setUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: false\n\t\t\t};\n\n\t\tcase types.setUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: false\n\t\t\t};\n\n\t\tcase types.setPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: action.payload\n\t\t\t};\n\n\t\tcase types.unsetPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: false\n\t\t\t};\n\n\t\tcase types.setSystemUsers:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUsers: action.payload\n\t\t\t};\n\n\t\tcase types.setSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: null\n\t\t\t};\n\n\t\tcase types.setLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: null\n\t\t\t};\n\n\t\tcase types.setSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: null\n\t\t\t};\n\n\t\tcase types.setLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: null\n\t\t\t};\n\n\t\tcase types.openLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: true\n\t\t\t};\n\n\t\tcase types.closeLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: false\n\t\t\t};\n\n\t\tcase types.setEntities:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentities: action.payload\n\t\t\t};\n\n\t\tcase types.setDictamenDataSaved:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: { ...state.usuario, dictamen: action.payload }\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nexport const setError = (err) => ({\n\ttype: types.uiSetError,\n\tpayload: err\n});\n\nexport const removeError = () => ({\n\ttype: types.uiRemoveError\n});\n\nexport const startLoading = () => ({\n\ttype: types.uiStartLoading\n});\n\nexport const finishLoading = () => ({\n\ttype: types.uiFinishLoading\n});\n\nexport const openUserRoleModal = () => ({\n\ttype: types.openUserRoleModal\n});\n\nexport const closeUserRoleModal = () => ({\n\ttype: types.closeUserRoleModal\n});\n\nexport const setUpdatingPermisos = () => ({\n\ttype: types.setUpdatingPermisos\n});\n\nexport const unsetUpdatingPermisos = () => ({\n\ttype: types.unsetUpdatingPermisos\n});\n","import { db, firebase, googleAuthProvider } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\nimport { finishLoading, startLoading } from \"./ui\";\nimport Swal from \"sweetalert2\";\n\nexport const startLoginEmailPassword = (email, password) => {\n\treturn (dispatch) => {\n\t\tdispatch(startLoading());\n\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\n\t\t\t\tconst {\n\t\t\t\t\tnombre,\n\t\t\t\t\timg,\n\t\t\t\t\tclave,\n\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\tdotacionPozo,\n\t\t\t\t\ttitular,\n\t\t\t\t\tdireccion,\n\t\t\t\t\texpedicionActivaModulo\n\t\t\t\t} = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName, user.email));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(\n\t\t\t\t\t\tnombre,\n\t\t\t\t\t\timg,\n\t\t\t\t\t\tclave,\n\t\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\t\tdotacionPozo,\n\t\t\t\t\t\ttitular,\n\t\t\t\t\t\tdireccion,\n\t\t\t\t\t\texpedicionActivaModulo,\n\t\t\t\t\t\tentity.rol,\n\t\t\t\t\t\tentity.modulo\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tdispatch(finishLoading());\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tdispatch(finishLoading());\n\t\t\t\tSwal.fire(\"Error\", \"Usuoario o contrase√±a incorrecto.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startRegisterWithEmailPasswordName = (email, password, name, modulo) => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tawait user.updateProfile({ displayName: name });\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t\tawait db.collection(`usuarios`).doc(user.uid).set({\n\t\t\t\t\tclaveEntidad: modulo,\n\t\t\t\t\tmodulo: modulo,\n\t\t\t\t\trol: \"sinAsignar\",\n\t\t\t\t\temail: email,\n\t\t\t\t\tdisplayName: name\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tSwal.fire(\"Error\", \"El usuario ya existe.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startGoogleLogin = () => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithPopup(googleAuthProvider)\n\t\t\t.then(({ user }) => {\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t});\n\t};\n};\n\nexport const login = (uid, displayName, email) => ({\n\ttype: types.login,\n\tpayload: {\n\t\tuid,\n\t\tdisplayName,\n\t\temail\n\t}\n});\n\nexport const setEntity = (\n\tentidad,\n\timg,\n\tclaveEntidad,\n\tdotacionGravedad,\n\tdotacionPozo,\n\ttitular,\n\tdireccion,\n\texpedicionActivaModulo,\n\trol,\n\tmodulo\n) => ({\n\ttype: types.entity,\n\tpayload: {\n\t\tentidad,\n\t\timg,\n\t\tclaveEntidad,\n\t\tdotacionGravedad,\n\t\tdotacionPozo,\n\t\ttitular,\n\t\tdireccion,\n\t\texpedicionActivaModulo,\n\t\trol,\n\t\tmodulo\n\t}\n});\n\nexport const startSetVariablesGlobales = () => {\n\treturn async (dispatch) => {\n\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\t};\n};\n\nexport const setVariablesGlobales = (data) => ({\n\ttype: types.setVariablesGlobales,\n\tpayload: data\n});\n\nexport const startLogout = () => {\n\treturn async (dispatch) => {\n\t\tawait firebase.auth().signOut();\n\t\tdispatch(logout());\n\t};\n};\n\nexport const logout = () => ({\n\ttype: types.logout\n});\n\nexport const loadEntity = async (uid) => {\n\tconst entitySnap = await db.collection(`usuarios`).get();\n\n\tlet entity = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.id === uid) {\n\t\t\tentity = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entity;\n};\n\nexport const loadEntityData = async (claveEntidad) => {\n\tconst entitySnap = await db.collection(`entidades`).get();\n\n\tlet entityData = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.data().clave === claveEntidad) {\n\t\t\tentityData = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entityData;\n};\n\nexport const loadPrivilegios = async (rol) => {\n\tconst roles = await db.collection(`roles`).get();\n\n\tlet privilegios = {};\n\n\troles.forEach((snapHijo) => {\n\t\tif (snapHijo.id === rol) {\n\t\t\tprivilegios = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn privilegios;\n};\n\nexport const loadVariablesGlobales = async () => {\n\tconst roles = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn roles.data();\n};\n\nexport const setPrivilegios = (privilegios) => ({\n\ttype: types.setPrivilegios,\n\tpayload: privilegios\n});\n\nexport const loadEstadoExpedicionModulo = async (claveEntidad) => {\n\tconst entidad = await db.collection(`entidades`).doc(`${claveEntidad}`).get();\n\n\treturn entidad.data().expedicionActivaModulo;\n};\n\nexport const startSetEstadoExpedicionModulo = (claveEntidad) => {\n\treturn async (dispatch) => {\n\t\tconst estadoExpedicion = await loadEstadoExpedicionModulo(claveEntidad);\n\t\tdispatch(setEstadoExpedicionModulo(estadoExpedicion));\n\t};\n};\n\nexport const setEstadoExpedicionModulo = (estadoExpedicion) => ({\n\ttype: types.setEstadoExpedicionModulo,\n\tpayload: estadoExpedicion\n});\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tif (target.type === \"checkbox\") {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.checked\n\t\t\t});\n\t\t} else {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setAValue = (value) => {\n\t\tsetValues(value);\n\t};\n\n\treturn [values, handleInputChange, reset, setAValue];\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Link } from \"react-router-dom\";\nimport { /* startGoogleLogin, */ startLoginEmailPassword } from \"../../actions/auth\";\nimport { useForm } from \"../../hooks/useForm\";\nimport \"./_auth.scss\";\n\nexport const LoginScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { loading } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\n\tconst { email, password } = formValues;\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(startLoginEmailPassword(email, password));\n\t};\n\n\t// const handleGoogleLogin = () => {\n\t// \tdispatch(startGoogleLogin());\n\t// };\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Login</h3>\n\n\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3\" disabled={loading}>\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\n\t\t\t\t{/* <div className=\"auth__social-networks\">\n\t\t\t\t\t<p>Login con redes</p>\n\n\t\t\t\t\t<div className=\"google-btn\" onClick={handleGoogleLogin}>\n\t\t\t\t\t\t<div className=\"google-icon-wrapper\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"google-icon\"\n\t\t\t\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n\t\t\t\t\t\t\t\talt=\"google button\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"btn-text\">\n\t\t\t\t\t\t\t<b>Login con google</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"pt-4\">\n\t\t\t\t\t<Link to=\"/auth/register\" className=\"link\">\n\t\t\t\t\t\tCrear nuevo usuario\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport validator from \"validator\";\nimport { Link } from \"react-router-dom\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startRegisterWithEmailPasswordName } from \"../../actions/auth\";\n\nexport const RegisterScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm();\n\n\tconst { name, email, password, password2, modulo } = formValues;\n\n\tconst decideModulo = (modulo) => {\n\t\tif (modulo === \"9A\") return \"9\";\n\t\tif (modulo === \"9B\") return \"92\";\n\t\treturn modulo;\n\t};\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(startRegisterWithEmailPasswordName(email, password, name, decideModulo(modulo)));\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!modulo) {\n\t\t\tdispatch(setError(\"Seleccione entidad\"));\n\t\t\treturn false;\n\t\t} else if (!name) {\n\t\t\tdispatch(setError(\"Se requiere el nombre\"));\n\t\t\treturn false;\n\t\t} else if (!email) {\n\t\t\tdispatch(setError(\"Se requiere email\"));\n\t\t\treturn false;\n\t\t} else if (!validator.isEmail(email)) {\n\t\t\tdispatch(setError(\"Email no valido\"));\n\t\t\treturn false;\n\t\t} else if (!password) {\n\t\t\tdispatch(setError(\"Se requiere password\"));\n\t\t\treturn false;\n\t\t} else if (password !== password2 || password.length < 6) {\n\t\t\tdispatch(setError(\"Password diferentes o menor de 6 caracteres\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Registro</h3>\n\n\t\t\t<form onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<select\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"modulo\"\n\t\t\t\t\tvalue={modulo}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t>\n\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\tEntidad\n\t\t\t\t\t</option>\n\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t<option value=\"9A\">Modulo 9A</option>\n\t\t\t\t\t<option value=\"9B\">Modulo 9B</option>\n\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t<option value=\"23\">Modulo FL</option>\n\t\t\t\t\t<option value=\"UNI01\">1ra Unidad</option>\n\t\t\t\t\t<option value=\"UNI02\">2da Unidad</option>\n\t\t\t\t\t<option value=\"UNI03\">3ra Unidad</option>\n\t\t\t\t\t<option value=\"SADER\">SADER</option>\n\t\t\t\t\t<option value=\"CNA\">CNA</option>\n\t\t\t\t\t<option value=\"CESVBC\">CESVBC</option>\n\t\t\t\t\t<option value=\"SRL\">SRL</option>\n\t\t\t\t</select>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Confirmar password\"\n\t\t\t\t\tname=\"password2\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\tCrear usuario\n\t\t\t\t</button>\n\n\t\t\t\t<Link to=\"/auth/login\" className=\"link\">\n\t\t\t\t\tYa esta registrado?\n\t\t\t\t</Link>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\n\nexport const AuthRouter = () => {\n\treturn (\n\t\t<div className=\"auth__main\">\n\t\t\t<div className=\"auth__box-container\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/auth/login\" component={LoginScreen} />\n\n\t\t\t\t\t<Route exact path=\"/auth/register\" component={RegisterScreen} />\n\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogout } from \"../../actions/auth\";\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\n\nexport const NavbarComponent = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLogout = () => {\n\t\tdispatch(startLogout());\n\t};\n\n\treturn (\n\t\t<div className=\"fixed-top\">\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n\t\t\t\t<Navbar.Brand href=\"/\">\n\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/cna.png\"\n\t\t\t\t\t\t\theight=\"50\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center\"\n\t\t\t\t\t\t\talt=\"Logo comisi√≥n nacional del agua\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/sader.png\"\n\t\t\t\t\t\t\theight=\"25\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center ml-2\"\n\t\t\t\t\t\t\talt=\"Logo comisi√≥n nacional del agua\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t{privilegios.pantallaInicio && (\n\t\t\t\t\t\t\t<NavLink to=\"/sicper\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tInicio\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPadron && (\n\t\t\t\t\t\t\t<NavLink to=\"/padron\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPadr√≥n\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPermisos && (\n\t\t\t\t\t\t\t<NavLink to=\"/permisos\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPermisos\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaTransferencias && (\n\t\t\t\t\t\t\t<NavLink to=\"/transferencias\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTransferencias\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAsignacion && (\n\t\t\t\t\t\t\t<NavLink to=\"/asignacion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAsignaci√≥n\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaLabores && (\n\t\t\t\t\t\t\t<NavLink to=\"/labores\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tLabores\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAutorizados && (\n\t\t\t\t\t\t\t<NavLink to=\"/autorizados\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAutorizados\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaReportes && (\n\t\t\t\t\t\t\t<NavLink to=\"/reportes\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tReportes\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaConfiguracion && (\n\t\t\t\t\t\t\t<NavLink to=\"/configuracion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tConfiguraci√≥n\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.testArea && (\n\t\t\t\t\t\t\t<NavLink to=\"/test\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTest\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Nav>\n\n\t\t\t\t\t<Button variant=\"outline-secondary btn-sm\" onClick={handleLogout} to=\"/login\">\n\t\t\t\t\t\tSalir\n\t\t\t\t\t</Button>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadNombresCultivos = async () => {\n\tconst cultivosSnap = await db.collection(`cultivos`).orderBy(\"clave\").get();\n\n\tconst cultivos = [];\n\n\tcultivosSnap.forEach((snapHijo) => {\n\t\tcultivos.push({\n\t\t\tclave: snapHijo.data().clave,\n\t\t\tcultivo: snapHijo.data().nombre,\n\t\t\tsubciclo: snapHijo.data().subciclo\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { loadNombresCultivos } from \"./loadNombresCultivos\";\n\nexport const loadAutorizados = async (ciclo, modulo) => {\n\tconst autorizadosSnap = await db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(`clave`)\n\t\t.get();\n\n\tlet autorizados = [];\n\n\tautorizadosSnap.forEach((snapHijo) => {\n\t\tautorizados.push({\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tconst nombresCultivos = await loadNombresCultivos();\n\n\tif (autorizados.length === 0) {\n\t\tnombresCultivos.forEach((cultivo) => {\n\t\t\tautorizados.push({\n\t\t\t\tclave: cultivo.clave,\n\t\t\t\tcultivo: cultivo.cultivo,\n\t\t\t\tsubciclo: cultivo.subciclo,\n\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\tpozoExtraAsignada: 0\n\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t// pozoParticularExtra: 0\n\t\t\t});\n\t\t});\n\t} else {\n\t\tnombresCultivos.forEach((cultivo) => {\n\t\t\tconst autorizado = autorizados.find((autorizado) => autorizado.clave === cultivo.clave);\n\t\t\tif (autorizado === undefined) {\n\t\t\t\tautorizados.push({\n\t\t\t\t\tclave: cultivo.clave,\n\t\t\t\t\tcultivo: cultivo.cultivo,\n\t\t\t\t\tsubciclo: cultivo.subciclo,\n\t\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\t\tpozoExtraAsignada: 0\n\t\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t\t// pozoParticularExtra: 0\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn autorizados;\n};\n\nexport const loadAutorizadoPorCultivo = async (ciclo, modulo, clave) => {\n\tconst autorizadosSnap = await db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.where(\"clave\", \"==\", clave)\n\t\t.get();\n\n\tconst autorizados = [];\n\n\tautorizadosSnap.forEach((snapHijo) => {\n\t\tautorizados.push({\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn autorizados[0];\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadExpedicion = async (modulo, ciclo) => {\n\tlet superficies = [];\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\tif (superficies.length === 0) superficies = false;\n\n\treturn superficies;\n};\n","import { loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\nimport { loadExpedicion } from \"../helpers/loadExpedicion\";\n\nexport const startLoadExpedicion = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst expedicion = await loadExpedicion(modulo, ciclo);\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tconst findCultivo = (expedicion, autorizadoId) => {\n\t\t\tif (expedicion) {\n\t\t\t\tconst cultivo = expedicion.find((cultivo) => cultivo.id === autorizadoId);\n\t\t\t\treturn cultivo;\n\t\t\t} else return false;\n\t\t};\n\n\t\tlet superficies = [];\n\n\t\tif (autorizados) {\n\t\t\tautorizados.forEach((cultivoAutorizado) => {\n\t\t\t\tif (cultivoAutorizado.superficieTotal > 0) {\n\t\t\t\t\tconst cultivo = findCultivo(\n\t\t\t\t\t\texpedicion,\n\t\t\t\t\t\t`${cultivoAutorizado.clave}-${cultivoAutorizado.cultivo}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cultivo) {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado, ...cultivo });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tsuperficies.forEach((cultivo) => {\n\t\t\tif (cultivo.gravedadNormal === undefined) cultivo.gravedadNormal = 0;\n\t\t\tif (cultivo.gravedadExtra === undefined) cultivo.gravedadExtra = 0;\n\t\t\tif (cultivo.pozoNormal === undefined) cultivo.pozoNormal = 0;\n\t\t\tif (cultivo.pozoExtra === undefined) cultivo.pozoExtra = 0;\n\t\t\tif (cultivo.pozoParticularNormal === undefined) cultivo.pozoParticularNormal = 0;\n\t\t\tif (cultivo.pozoParticularExtra === undefined) cultivo.pozoParticularExtra = 0;\n\t\t});\n\n\t\tif (superficies.length === 0) {\n\t\t\tsuperficies = [\n\t\t\t\t{\n\t\t\t\t\tclave: \"-\",\n\t\t\t\t\tcultivo: \"Sin expedicion\",\n\t\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\t\tpozoExtraAsignada: 0,\n\t\t\t\t\tgravedadNormal: 0,\n\t\t\t\t\tpozoNormal: 0,\n\t\t\t\t\tgravedadExtra: 0,\n\t\t\t\t\tpozoExtra: 0\n\t\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t\t// pozoParticularExtra: 0\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tdispatch(setExpedicion(superficies));\n\t};\n};\n\nexport const setExpedicion = (superficies) => ({\n\ttype: types.sicperScreenSetExpedicion,\n\tpayload: superficies\n});\n\nexport const unsetExpedicion = () => ({\n\ttype: types.sicperScreenUnsetExpedicion\n});\n\nexport const setSuperficieNormal = () => ({\n\ttype: types.sicperScreenSetSuperficieNormal\n});\n\nexport const setSuperficieExtra = () => ({\n\ttype: types.sicperScreenSetSuperficieExtra\n});\n","export const roundToN = (num, n) => {\n\treturn +(Math.round(num + `e+${n}`) + `e-${n}`);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetSuperficieExtra,\n\tsetSuperficieNormal,\n\tstartLoadExpedicion\n} from \"../../actions/sicperScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const ResumenAutorizados = () => {\n\tconst { expedicion, superficie } = useSelector((state) => state.sicperScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadExpedicion(modulo, ciclo));\n\t}, [dispatch, modulo, ciclo]);\n\n\tconst setNormal = () => {\n\t\tdispatch(setSuperficieNormal());\n\t};\n\n\tconst setExtra = () => {\n\t\tdispatch(setSuperficieExtra());\n\t};\n\n\tconst totales = {\n\t\tgravedadNormalAutorizada: 0,\n\t\tpozoNormalAutorizada: 0,\n\t\tgravedadNormalAsignada: 0,\n\t\tpozoNormalAsignada: 0,\n\t\tgravedadNormal: 0,\n\t\tpozoNormal: 0,\n\t\tpozoParticularNormal: 0,\n\t\tgravedadExtraAutorizada: 0,\n\t\tpozoExtraAutorizada: 0,\n\t\tgravedadExtraAsignada: 0,\n\t\tpozoExtraAsignada: 0,\n\t\tgravedadExtra: 0,\n\t\tpozoExtra: 0\n\t};\n\n\tif (expedicion) {\n\t\texpedicion.forEach((cultivo) => {\n\t\t\ttotales.gravedadNormalAutorizada =\n\t\t\t\ttotales.gravedadNormalAutorizada + cultivo.gravedadNormalAutorizada;\n\t\t\ttotales.pozoNormalAutorizada = totales.pozoNormalAutorizada + cultivo.pozoNormalAutorizada;\n\t\t\ttotales.gravedadNormalAsignada =\n\t\t\t\ttotales.gravedadNormalAsignada + cultivo.gravedadNormalAsignada;\n\t\t\ttotales.pozoNormalAsignada = totales.pozoNormalAsignada + cultivo.pozoNormalAsignada;\n\t\t\ttotales.gravedadNormal = totales.gravedadNormal + cultivo.gravedadNormal;\n\t\t\ttotales.pozoNormal = totales.pozoNormal + cultivo.pozoNormal;\n\t\t\ttotales.pozoParticularNormal = totales.pozoParticularNormal + cultivo.pozoParticularNormal;\n\t\t\ttotales.gravedadExtraAutorizada =\n\t\t\t\ttotales.gravedadExtraAutorizada + cultivo.gravedadExtraAutorizada;\n\t\t\ttotales.pozoExtraAutorizada = totales.pozoExtraAutorizada + cultivo.pozoExtraAutorizada;\n\t\t\ttotales.gravedadExtraAsignada = totales.gravedadExtraAsignada + cultivo.gravedadExtraAsignada;\n\t\t\ttotales.pozoExtraAsignada = totales.pozoExtraAsignada + cultivo.pozoExtraAsignada;\n\t\t\ttotales.gravedadExtra = totales.gravedadExtra + cultivo.gravedadExtra;\n\t\t\ttotales.pozoExtra = totales.pozoExtra + cultivo.pozoExtra;\n\t\t});\n\t}\n\n\tconst isModulo = (modulo) => {\n\t\tswitch (modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn false;\n\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t{superficie === \"normal\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{superficie === \"extra\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border border-info rounded p-0 mt-3\">\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-sm table-striped text-secondary\">\n\t\t\t\t\t\t<thead className=\"table-info\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tClave\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Cultivo</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Autorizada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Asignada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Expedida\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Disponible\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t{expedicion &&\n\t\t\t\t\t\t\t(superficie === \"normal\" ? (\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.gravedadNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.pozoNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAsignada - cultivo.gravedadNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAsignada - cultivo.pozoNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada - cultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t<tr key={`${totales.id}-${totales.clave}`}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<td>TOTAL</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormalAutorizada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormalAsignada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.gravedadNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAsignada - totales.gravedadNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoNormalAsignada - totales.pozoNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoNormalAsignada - totales.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.gravedadExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.pozoExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAsignada - cultivo.gravedadExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAsignada - cultivo.pozoExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t<tr key={`${totales.id}-${totales.clave}`}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<td>TOTAL</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtraAutorizada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtraAsignada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.gravedadExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAsignada - totales.gravedadExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoExtraAsignada - totales.pozoExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\nimport { useSelector } from \"react-redux\";\nimport { setSuperficiesDataformat } from \"./setSuperficiesDataformat\";\n\nexport const SuperficiesChart = () => {\n\tconst { superficies } = useSelector((state) => state.permisosScreen);\n\n\tlet data = {};\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (superficies !== null) {\n\t\tdata = setSuperficiesDataformat(superficies, \"Superficie por cultivo\");\n\n\t\tsuperficies.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tsuperficies.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>Superficies por cultivo</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Superficie expedida: {totalSuperficie.toFixed(2)} ha</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Permisos expedidos: {totalPermisos}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={220} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export const setSuperficiesDataformat = (dataSend, titulo) => {\n\tconst data = {\n\t\tlabels: dataSend.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSend.superficiesCultivos,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\treturn data;\n};\n","import React from \"react\";\n\nexport const ResumenAutorizados = ({ autorizados, modulo }) => {\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-primary border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>M√≥dulo {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-primary mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUltimosPermisos = async (modulo, ciclo) => {\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.orderBy(\"fechaEmicion\", \"desc\")\n\t\t.limit(20)\n\t\t.get();\n\n\tconst permisos = [];\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nfunction addDays(date, days) {\n\tvar result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n}\n\nexport const loadPermisos = async (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos = [\"nombreCultivo\", \"usuario\", \"cuenta\", \"numeroPermiso\"],\n\testado = \"todos\",\n\ttipo = \"todos\",\n\tsistema = \"todos\",\n\tfechaInicial = new Date(2021, 8, 1),\n\tfechaFinal = new Date(2022, 8, 30)\n) => {\n\tconst permisos = [];\n\tconst permisosCampo = [];\n\n\tconst pad = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`);\n\n\tlet filtros = pad;\n\n\tif (estado !== \"todos\") filtros = filtros.where(\"estadoPermiso\", \"==\", estado);\n\tif (tipo !== \"todos\") filtros = filtros.where(\"tipo\", \"==\", tipo);\n\tif (sistema !== \"todos\") {\n\t\tswitch (sistema) {\n\t\t\tcase \"Gravedad\":\n\t\t\t\tfiltros = filtros.where(\"sistema\", \"==\", sistema);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Pozo\":\n\t\t\t\tfiltros = filtros.where(\"sistema\", \"in\", [\"Pozo Particular\", \"Pozo Federal\"]);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcampos.forEach((campo) => {\n\t\tpermisosCampo.push(\n\t\t\tfiltros\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\t});\n\n\tconst permisosResueltos = await Promise.all(permisosCampo);\n\n\tfor (let i = 0; i < permisosResueltos.length; i++) {\n\t\tpermisosResueltos[i].forEach((snapHijo) => {\n\t\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\n\t\t\tif (fecha >= fechaInicial && fecha <= addDays(fechaFinal, 1)) {\n\t\t\t\tpermisos.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron permisos \",\n\t\t\t\"Se mostrar√°n los √∫ltimos permisos registrados.\",\n\t\t\t\"warning\"\n\t\t);\n\t}\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { roundToN } from \"./functions/roundToN\";\n\nexport const loadSuperficiesCultivos = async (modulo, ciclo) => {\n\tlet data = {};\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tconst superficies = [];\n\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst labels = [];\n\t\t\tconst superficiesCultivos = [];\n\t\t\tconst numeroPermisos = [];\n\t\t\tlet contador = 4;\n\t\t\tlet restoSuperficie = 0;\n\t\t\tlet restoPermisos = 0;\n\n\t\t\tsuperficies.forEach((cultivo) => {\n\t\t\t\tif (contador >= 0) {\n\t\t\t\t\tlabels.push(`${cultivo.id} (${roundToN(cultivo.superficie, 2)}ha)`);\n\t\t\t\t\tsuperficiesCultivos.push(cultivo.superficie);\n\t\t\t\t\tnumeroPermisos.push(cultivo.numeroPermisos);\n\t\t\t\t\tcontador--;\n\t\t\t\t} else {\n\t\t\t\t\trestoSuperficie = +cultivo.superficie;\n\t\t\t\t\trestoPermisos = +cultivo.numeroPermisos;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlabels.push(`Otros cultivos (${roundToN(restoSuperficie, 2)}ha)`);\n\t\t\tsuperficiesCultivos.push(roundToN(restoSuperficie, 3));\n\t\t\tnumeroPermisos.push(restoPermisos);\n\n\t\t\tdata = {\n\t\t\t\tlabels: labels,\n\t\t\t\tsuperficiesCultivos: superficiesCultivos,\n\t\t\t\tnumeroPermisos: numeroPermisos\n\t\t\t};\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn data;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadPreCancelPermits = async (ciclo) => {\n\tconst permisos = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"estadoPermiso\", \"==\", \"En proceso de cancelaci√≥n\")\n\t\t.where(\"ciclo\", \"==\", ciclo);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadUltimosPermisos } from \"../helpers/loadUltimosPermisos\";\nimport { loadPermisos } from \"../helpers/loadPermisos\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadPreCancelPermits } from \"../helpers/DB/loadPreCancelPermits\";\n\nexport const startLoadPermisos = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadUltimosPermisos(modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (palabra, modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(palabra, modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPreCancelPermits = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPreCancelPermits(ciclo);\n\t\tdispatch(setPreCancelPermits(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo, ciclo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.permisosScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const setPreCancelPermits = (permits) => ({\n\ttype: types.permisosScreenSetPreCancelPermits,\n\tpayload: permits\n});\n\nexport const unsetPreCancelPermits = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const setPermitToCancel = (permiso) => ({\n\ttype: types.permisosScreenSetPermitToCancel,\n\tpayload: permiso.id\n});\n\nexport const unsetPermitToCancel = () => ({\n\ttype: types.permisosScreenUnsetPermitToCancel\n});\n","import { loadAutorizadoPorCultivo, loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\n\nexport const setModulo = (modulo) => ({\n\ttype: types.autorizadosScreenSetModulo,\n\tpayload: modulo\n});\n\nexport const unsetModulo = () => ({\n\ttype: types.autorizadosScreenUnsetModulo\n});\n\nexport const startLoadAutorizados = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tlet superficieReferencia = 0;\n\t\tautorizados.forEach((autorizado) => {\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAsignada;\n\t\t});\n\t\tdispatch(setAutorizados(autorizados));\n\t\tdispatch(setSuperficieReferencia(superficieReferencia));\n\t};\n};\n\nexport const startLoadAutorizadoPorCultivo = (ciclo, modulo, clave) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizadoPorCultivo(ciclo, modulo, clave);\n\t\tdispatch(setAutorizadosPorCultivo(autorizados));\n\t};\n};\n\nexport const updateAutorizados = (autorizados, autorizadoSelected) => {\n\tautorizados.forEach((autorizado) => {\n\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\tautorizado = autorizadoSelected;\n\t\t}\n\t});\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(setAutorizadoSelected(autorizadoSelected));\n\t\tdispatch(setAutorizados(autorizados));\n\t};\n};\n\nexport const setAutorizados = (autorizados) => ({\n\ttype: types.autorizadosScreenSetAutorizados,\n\tpayload: autorizados\n});\n\nexport const setAutorizadosPorCultivo = (autorizados) => ({\n\ttype: types.setAutorizadosPorCultivo,\n\tpayload: autorizados\n});\n\nexport const unsetAutorizados = () => ({\n\ttype: types.autorizadosScreenUnsetAutorizados\n});\n\nexport const openAutorizadosModal = () => ({\n\ttype: types.openAutorizadosModal\n});\n\nexport const closeAutorizadosModal = () => ({\n\ttype: types.closeAutorizadosModal\n});\n\nexport const setAutorizadoSelected = (autorizado) => ({\n\ttype: types.setAutorizadoSelected,\n\tpayload: autorizado\n});\n\nexport const unsetAutorizadoSelected = () => ({\n\ttype: types.unsetAutorizadoSelected\n});\n\nexport const setSuperficieReferencia = (superficieReferencia) => ({\n\ttype: types.setSuperficieReferencia,\n\tpayload: superficieReferencia\n});\n\nexport const unsetSuperficieReferencia = () => ({\n\ttype: types.unsetSuperficieReferencia\n});\n\nexport const setFormError = (formError) => ({\n\ttype: types.setFormError,\n\tpayload: formError\n});\n\nexport const removeFormError = () => ({\n\ttype: types.removeFormError\n});\n","import React, { useEffect } from \"react\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { ResumenAutorizados } from \"../autorizados/ResumenAutorizados\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadSuperficies } from \"../../actions/permisosScreen\";\nimport { startLoadAutorizados } from \"../../actions/autorizadosScreen\";\n\nexport const FichaExpedicion = () => {\n\tconst { autorizados } = useSelector((state) => state.autorizadosScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t}, [dispatch, ciclo, modulo]);\n\n\treturn (\n\t\t<div className=\"border border-primary rounded detallePermiso text-secondary mt-3\">\n\t\t\t<SuperficiesChart />\n\t\t\t{autorizados.length > 0 && (\n\t\t\t\t<ResumenAutorizados autorizados={autorizados} modulo={modulo}></ResumenAutorizados>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { startSetVariablesGlobales } from \"../../actions/auth\";\n\nexport const NuevoPermisoButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handleSetVariablesGlobales = () => {\n\t\tdispatch(startSetVariablesGlobales());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<Link to=\"/nuevo-permiso\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleSetVariablesGlobales}\n\t\t\t\t>\n\t\t\t\t\t<span>Nuevo Permiso </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</Link>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\nexport const UnassignedPrivilegesMessage = () => {\n\treturn (\n\t\t<div className=\"border border-warning rounded p-4\">\n\t\t\t<h3>¬°A√∫n no tiene privilegios !</h3>\n\t\t\t<p>\n\t\t\t\tPor favor p√≥ngase en contacto con el administrador del sistema para que se le asignen\n\t\t\t\tprivilegios de usuario.\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { ResumenAutorizados } from \"../modulos/ResumenAutorizados\";\nimport { FichaExpedicion } from \"../modulos/FichaExpedicion\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { useSelector } from \"react-redux\";\nimport { UnassignedPrivilegesMessage } from \"../cards/UnassignedPrivilegesMessage\";\n\nexport const SicperScreen = () => {\n\tconst { privilegios, rol, expedicionActivaModulo } = useSelector((state) => state.auth);\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { expedicionActiva } = variablesGlobales;\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t{privilegios.consultarAutorizados && <ResumenAutorizados />}\n\t\t\t\t\t{privilegios.consultarAutorizados && (\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary mt-4 no-printme\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => window.print()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>Imprimir</span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-2\">{fechaActual.toLocaleDateString()}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 no-printme\">\n\t\t\t\t\t{expedicionActiva && expedicionActivaModulo && privilegios.expedirPermisos && (\n\t\t\t\t\t\t<NuevoPermisoButton />\n\t\t\t\t\t)}\n\t\t\t\t\t{privilegios.consultarExpedicion && <FichaExpedicion />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5\">\n\t\t\t\t<div className=\"col-sm-6\">{rol === \"sinAsignar\" && <UnassignedPrivilegesMessage />}</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomTable = ({\n\ttitle,\n\tcolumns,\n\tdata,\n\tsetFunction,\n\tcloseFunction,\n\tsimpleSetFunction\n}) => {\n\tconst dispatch = useDispatch();\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\n\t\tif (simpleSetFunction !== undefined) {\n\t\t\tsimpleSetFunction(row);\n\t\t}\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tonClick={(e) => console.log(e)}\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tonRowClicked={getRowSelected}\n\t\t/>\n\t);\n};\n","import styled from \"styled-components\";\n\nexport const TextField = styled.input`\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\nexport const usuariosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"SUBCTA\", selector: \"subcta\", sortable: true, width: \"50px\", center: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"120px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"150px\", sortable: true },\n\t{ name: \"DERECHO(ha)\", selector: \"supRiego\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"LOTE\", selector: \"predio\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"EJ/COL\", selector: \"tipoLocalidad\", sortable: true, width: \"80px\" },\n\t{ name: \"LOCALIDAD\", selector: \"nombreLocalidad\", sortable: true, width: \"200px\" },\n\t{ name: \"SECCION\", selector: \"seccion\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"TRANSFERENCIA\", selector: \"folio\", sortable: true, width: \"80px\" }\n];\n\nexport const techniciansColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"NOMBRE\", selector: \"displayName\", sortable: true },\n\t{ name: \"EMAIL\", selector: \"email\", sortable: true }\n];\n\nexport const transferColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"FOLIO\", selector: \"folio\", sortable: true, width: \"100px\", center: true },\n\t{ name: \"ESTADO\", selector: \"estadoTransferencia\", sortable: true, width: \"120px\", center: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true },\n\t{\n\t\tname: \"SUP(ha)\",\n\t\tselector: \"superficieTransferida\",\n\t\tsortable: true,\n\t\twidth: \"80px\",\n\t\tcenter: true\n\t},\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"SUBCTA\", selector: \"subcta\", sortable: true, width: \"50px\", center: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"120px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"150px\", sortable: true },\n\t{ name: \"LOTE\", selector: \"predio\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"EJ/COL\", selector: \"tipoLocalidad\", sortable: true, width: \"80px\" },\n\t{ name: \"LOCALIDAD\", selector: \"nombreLocalidad\", sortable: true, width: \"200px\" }\n];\n\nexport const productoresColumns = [\n\t{ name: \"CURP\", selector: \"id\", width: \"210px\", sortable: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"150px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"180px\", sortable: true },\n\t{ name: \"GENERO\", selector: \"genero\", width: \"120px\", sortable: true }\n];\n\nexport const cultivosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true, center: true },\n\t{ name: \"SUBCICLO\", selector: \"subciclo\", sortable: true, center: true }\n];\n\nexport const systemUsersColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE ENTIDAD\", selector: \"claveEntidad\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"displayName\", sortable: true },\n\t{ name: \"CORREO\", selector: \"email\", sortable: true },\n\t{ name: \"ROL\", selector: \"rol\", sortable: true }\n];\n\nexport const localtiesColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true },\n\t{ name: \"TIPO\", selector: \"tipo\", sortable: true },\n\t{ name: \"MUNICIPIO\", selector: \"municipio\", sortable: true },\n\t{ name: \"ESTADO\", selector: \"estado\", sortable: true }\n];\n\nexport const asignacionLocaltiesColumns = [\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, center: true, width: \"110px\" },\n\t{ name: \"TIPO\", selector: \"tipo\", sortable: true, width: \"110px\" },\n\t{ name: \"NOMBRE\", selector: \"ubicacion\", sortable: true, width: \"200px\" },\n\t{ name: \"T√âCNICO\", selector: \"tecnico\", sortable: true }\n];\n\nexport const permisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"110px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"250px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"250px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"150px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"150px\" },\n\t{ name: \"EMISI√ìN\", selector: \"fechaEmicion\", sortable: true, width: \"100px\" },\n\t{ name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"100px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"100px\" }\n];\n\nexport const laboresColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"USUARIO\", selector: \"nombre\", sortable: true, width: \"250px\" },\n\t{ name: \"PERMISO\", selector: \"folio\", sortable: true, width: \"120px\" },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"HA\", selector: \"superficie\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"ubicacion\", sortable: true, width: \"130px\" },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", width: \"130px\", sortable: true }\n];\n\nexport const printPermisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"70px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"60px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"180px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"140px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"70px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"40px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"80px\" },\n\t{ name: \"EMISI√ìN\", selector: \"fechaEmicion\", sortable: true, width: \"70px\" },\n\t// { name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"70px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"70px\" },\n\t{ name: \"CUOTA\", selector: \"cuotaCultivo\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"SISTEMA\", selector: \"sistema\", width: \"60px\", sortable: true }\n];\n\nexport const autorizadosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"GRAVEDAD NORMAL AUTORIZADA\",\n\t\tselector: \"gravedadNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD NORMAL ASIGNADA\",\n\t\tselector: \"gravedadNormalAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA AUTORIZADA\",\n\t\tselector: \"gravedadExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA ASIGNADA\",\n\t\tselector: \"gravedadExtraAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n\nexport const autorizadosPozoColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUsuarios = async (usuario, modulo, ciclo, global = false) => {\n\tconst campos = [\"apPaterno\", \"cuenta\"];\n\tconst qryUsuarios = [];\n\tconst usuarios = [];\n\n\tconst padUsuarios = defineRef(modulo, global);\n\n\tconst transferRef = db\n\t\t.collection(\"transferencias\")\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"transferencias\")\n\t\t.where(\"estadoTransferencia\", \"==\", \"ACTIVA\");\n\n\tcampos.forEach((campo) => {\n\t\tqryUsuarios.push(\n\t\t\ttransferRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryUsuarios.push(\n\t\t\tpadUsuarios\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryUsuarios.push(transferRef.where(campo, \"==\", Number(usuario)).get());\n\t\tqryUsuarios.push(padUsuarios.where(campo, \"==\", Number(usuario)).get());\n\t});\n\n\tconst resolvedUsuariosQrys = await Promise.all(qryUsuarios);\n\n\tresolvedUsuariosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (modulo) {\n\t\t\t\tcase \"UNI01\":\n\t\t\t\tcase \"UNI02\":\n\t\t\t\tcase \"UNI03\":\n\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (snapHijo.data().equipo !== 1) {\n\t\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\t\t...snapHijo.data(),\n\t\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t\tid: snapHijo.id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t});\n\treturn usuarios;\n};\n\nconst defineModulo = (modulo) => {\n\tif (modulo === \"9A\") return modulo;\n\telse if (modulo === \"9B\") return modulo;\n\telse if (modulo === \"dev\") return modulo;\n\telse return parseInt(modulo);\n};\n\nconst defineRef = (modulo, global) => {\n\tif (global) {\n\t\treturn db.collection(`derechos`);\n\t} else {\n\t\tswitch (modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\t\treturn db\n\t\t\t\t\t.collection(`derechos`)\n\t\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t\t.where(\"modulo\", \"in\", [4, 5, 6, 7]);\n\n\t\t\tcase \"UNI02\":\n\t\t\t\treturn db\n\t\t\t\t\t.collection(`derechos`)\n\t\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t\t.where(\"modulo\", \"in\", [8, \"9A\", \"9B\"]);\n\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [1, 2, 3]);\n\n\t\t\tdefault:\n\t\t\t\treturn db.collection(`derechos`).where(\"modulo\", \"==\", defineModulo(modulo));\n\t\t}\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSuperficiePrevia = async (cuenta, modulo, ciclo, folio = false) => {\n\tconst permisos = [];\n\tlet supPrevia = 0;\n\tconst permisosPad = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\");\n\n\tif (folio) {\n\t\tconst permisosSnap = await permisosPad.where(\"idUsuarioSelected\", \"==\", folio).get();\n\n\t\tpermisosSnap.forEach((snapHijo) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t} else {\n\t\tconst permisosSnap = await permisosPad.get();\n\n\t\tpermisosSnap.forEach((snapHijo) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tpermisos.forEach((permiso) => {\n\t\tsupPrevia += permiso.supAutorizada;\n\t});\n\n\treturn supPrevia;\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadTransfer = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.get();\n};\n\nexport const loadUserTransfer = async (id, ciclo) => {\n\tconst transferencias = [];\n\tlet superficie = 0;\n\n\tconst transferPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadTransfer(modulo, ciclo);\n\t\t} else return loadTransfer(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(transferPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\tconst transferId = `${childItem.data().cuenta}-${childItem.data().subcta}`;\n\t\t\tconst estado = childItem.data().estadoTransferencia;\n\t\t\tif (id === transferId && estado !== \"CANCELADA\") {\n\t\t\t\ttransferencias.push(childItem.data().superficieTransferida);\n\t\t\t}\n\t\t});\n\t});\n\n\tif (transferencias.length > 0) {\n\t\ttransferencias.forEach((transferencia) => (superficie += transferencia));\n\t}\n\n\treturn superficie;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadCiclo = async () => {\n\tconst estado = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn estado.data().cicloActual;\n};\n","export const goToElement = (id) => {\n\tif (document.getElementById(id)) document.getElementById(id).focus();\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadTransferencias = async (ciclo, modulo) => {\n\tconst transferenciasSnap = await db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.get();\n\n\tconst transferencias = [];\n\n\ttransferenciasSnap.forEach((snapHijo) => {\n\t\ttransferencias.push({\n\t\t\t...snapHijo.data(),\n\t\t\tfecha: snapHijo.data().fecha.toDate(),\n\t\t\tid: snapHijo.id\n\t\t});\n\t});\n\n\treturn transferencias;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateTransfer = async (transferencia, estado) => {\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(transferencia.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transferencia.moduloDestino}`)\n\t\t.collection(`transferencias`)\n\t\t.doc(transferencia.folio);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\ttransaction.update(transferRef, { estadoTransferencia: estado });\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tconst transfer = await transferRef.get();\n\t\t\tSwal.fire(\n\t\t\t\t`Transferencia ${estado}`,\n\t\t\t\t\"Se actualiz√≥ con √©xito el estado de la transferencia.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn transfer.data();\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intntar actualizar transferencia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import { loadTransferencias } from \"../helpers/DB/loadTransferencias\";\nimport { updateTransfer } from \"../helpers/DB/updateTransfer\";\nimport { types } from \"../types/types\";\nimport { unsetUsuarioSelected } from \"./usuarios\";\n\nexport const setNuevaTransferencia = (transferencia) => ({\n\ttype: types.setNuevaTransferencia,\n\tpayload: transferencia\n});\n\nexport const unsetNuevaTransferencia = () => ({\n\ttype: types.unsetNuevaTransferencia\n});\n\nexport const startSetTransferencia = (transferencia) => {\n\treturn (dispatch) => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(setTransferencia(transferencia));\n\t};\n};\n\nexport const setTransferencia = (transferencia) => ({\n\ttype: types.setTransferencia,\n\tpayload: transferencia\n});\n\nexport const unsetTransferencia = () => ({\n\ttype: types.unsetTransferencia\n});\n\nexport const setTransferencias = (transferencias) => ({\n\ttype: types.setTransferencias,\n\tpayload: transferencias\n});\n\nexport const unsetTransferencias = () => ({\n\ttype: types.unsetTransferencias\n});\n\nexport const startSetTransferencias = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst transferencias = await loadTransferencias(ciclo, modulo);\n\t\tdispatch(setTransferencias(transferencias));\n\t};\n};\n\nexport const openTransferModal = () => ({\n\ttype: types.openTransferModal\n});\n\nexport const closeTransferModal = () => ({\n\ttype: types.closeTransferModal\n});\n\nexport const enablePrintButton = () => ({\n\ttype: types.enablePrintButton\n});\n\nexport const disablePrintButton = () => ({\n\ttype: types.disablePrintButton\n});\n\nexport const startUpdateTransfer = (transferencia, estado) => {\n\tconst { ciclo, moduloDestino: modulo } = transferencia;\n\treturn async (dispatch) => {\n\t\tconst newTransfer = await updateTransfer(transferencia, estado);\n\n\t\tif (newTransfer) {\n\t\t\tdispatch(setTransferencia(newTransfer));\n\t\t\tdispatch(startSetTransferencias(ciclo, modulo));\n\t\t}\n\t};\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLaboresPendientes = async (cuenta, modulo, ciclo) => {\n\tconst permisos = [];\n\tlet laboresPendientes = false;\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.laboresPendientes === true) laboresPendientes = true;\n\t});\n\n\treturn laboresPendientes;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadDictamen = async (cuenta, ciclo) => {\n\tconst dictamen = await db\n\t\t.collection(`dictamenes`)\n\t\t.doc(ciclo)\n\t\t.collection(\"dictamenes\")\n\t\t.doc(cuenta)\n\t\t.get();\n\n\tif (dictamen.exists) return dictamen.data();\n\telse return false;\n};\n","import { types } from \"../types/types\";\nimport { loadUsuarios } from \"../helpers/loadUsuarios\";\nimport { loadSuperficiePrevia } from \"../helpers/loadSuperficiePrevia\";\nimport { loadUserTransfer } from \"../helpers/DB/loadUserTransfer\";\nimport { loadCiclo } from \"../helpers/DB/loadCiclo\";\nimport { startSetEstadoExpedicionModulo } from \"./auth\";\nimport { goToElement } from \"../helpers/functions/assets\";\nimport { unsetTransferencia } from \"./transferenciasScreen\";\nimport { loadLaboresPendientes } from \"../helpers/loadLaboresPendientes\";\nimport { loadDictamen } from \"../helpers/loadDictamen\";\n\nexport const openUsuariosModal = () => ({\n\ttype: types.altaPermisoOpenUsuariosModal\n});\n\nexport const closeUsuariosModal = () => ({\n\ttype: types.altaPermisoCloseUsuariosModal\n});\n\nexport const startLoadUsuarios = (usuario, modulo, ciclo, global) => {\n\treturn async (dispatch) => {\n\t\tconst usuarios = await loadUsuarios(usuario, modulo, ciclo, global);\n\t\tdispatch(setUsuarios(usuarios));\n\t\tdispatch(startSetEstadoExpedicionModulo(modulo));\n\t};\n};\n\nexport const setUsuarios = (usuarios) => ({\n\ttype: types.setUsuarios,\n\tpayload: usuarios\n});\nexport const unsetUsuarios = () => ({\n\ttype: types.unsetUsuarios\n});\n\nexport const startSetUsuarioSelected = (usuario) => {\n\tunsetUsuarioSelected();\n\n\treturn async (dispatch) => {\n\t\tconst ciclo = await loadCiclo();\n\n\t\tconst laboresPendientes = await loadLaboresPendientes(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\tusuario.entidad,\n\t\t\t// TODO: Poner ciclo de forma dinamica\n\t\t\t\"2020-2021\"\n\t\t);\n\n\t\tconst dictamen = await loadDictamen(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t// TODO: Poner ciclo de forma dinamica\n\t\t\t\"2021-2022\"\n\t\t);\n\n\t\t// Verifica si los derechos corresponden a una transferencia\n\t\tif (usuario.folio) {\n\t\t\tconst supPrevia = await loadSuperficiePrevia(\n\t\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t\tusuario.moduloDestino,\n\t\t\t\tciclo,\n\t\t\t\tusuario.folio\n\t\t\t);\n\n\t\t\tusuario.supRiego = usuario.superficieTransferida;\n\t\t\tusuario.supPrevia = supPrevia;\n\t\t\tusuario.laboresPendientes = laboresPendientes;\n\t\t\tusuario.dictamen = dictamen;\n\n\t\t\tdispatch(unsetTransferencia());\n\t\t\tdispatch(setUsuarioSelected(usuario));\n\t\t\tgoToElement(\"cultivoInput\");\n\t\t} else {\n\t\t\tconst supPrevia = await loadSuperficiePrevia(\n\t\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t\tusuario.entidad,\n\t\t\t\tciclo\n\t\t\t);\n\n\t\t\tconst transfers = await loadUserTransfer(`${usuario.cuenta}-${usuario.subcta}`, ciclo);\n\n\t\t\tusuario.laboresPendientes = laboresPendientes;\n\t\t\tusuario.supPrevia = supPrevia + transfers;\n\t\t\tusuario.dictamen = dictamen;\n\n\t\t\tdispatch(unsetTransferencia());\n\t\t\tdispatch(setUsuarioSelected(usuario));\n\t\t\tgoToElement(\"cultivoInput\");\n\t\t}\n\t};\n};\n\nexport const setUsuarioSelected = (usuario) => {\n\tif (usuario.estado === 26) {\n\t\tusuario.estado = \"Sonora\";\n\t}\n\tif (usuario.estado === 2) {\n\t\tusuario.estado = \"Baja California\";\n\t}\n\tif (usuario.municipio === 2) {\n\t\tusuario.municipio = \"Mexicali\";\n\t}\n\tif (usuario.municipio === 55) {\n\t\tusuario.municipio = \"San Luis Rio Colorado\";\n\t}\n\tif (usuario.sistRiego === 1) {\n\t\tusuario.sistRiego = \"Gravedad\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 1) {\n\t\tusuario.sistRiego = \"Pozo Particular\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 2) {\n\t\tusuario.sistRiego = \"Pozo Federal\";\n\t}\n\treturn {\n\t\ttype: types.setUsuario,\n\t\tpayload: usuario\n\t};\n};\n\nexport const unsetUsuarioSelected = () => ({\n\ttype: types.unsetUsuario\n});\n\nexport const setUpdatingPadron = () => ({\n\ttype: types.setUpdatingPadron\n});\n\nexport const unsetUpdatingPadron = () => ({\n\ttype: types.unsetUpdatingPadron\n});\n\nexport const setUpdatingReacomodos = () => ({\n\ttype: types.setUpdatingReacomodos\n});\n\nexport const unsetUpdatingReacomodos = () => ({\n\ttype: types.unsetUpdatingReacomodos\n});\n\nexport const setDictamenData = (dictamen) => ({\n\ttype: types.setDictamenData,\n\tpayload: dictamen\n});\n\nexport const setDictamenDataSaved = (dictamen) => ({\n\ttype: types.setDictamenDataSaved,\n\tpayload: dictamen\n});\n","import { useState } from \"react\";\n\nexport const useFormToUpper = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tswitch (target.type) {\n\t\t\tcase \"checkbox\":\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: target.checked\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: Number(target.value)\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: target.value.toUpperCase()\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst setAValue = (value) => {\n\t\tsetValues(value);\n\t};\n\n\treturn [values, handleInputChange, reset, setAValue, setValues];\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport {\n\tcloseUsuariosModal,\n\topenUsuariosModal,\n\tstartLoadUsuarios,\n\tunsetUsuarioSelected\n} from \"../../../actions/usuarios\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const UsuarioInput = ({ global = false }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst { idUsuarioSelected, usuario: nombreUsuario } = useSelector((state) => state.altaPermisos);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenUsuariosModal = () => {\n\t\thandleLoadUsuarios();\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(openUsuariosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(closeUsuariosModal());\n\t}, [dispatch]);\n\n\tconst handleLoadUsuarios = () => {\n\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo, ciclo, global));\n\t};\n\n\tlet usuarioLabel = \"\";\n\n\tif (idUsuarioSelected) {\n\t\tusuarioLabel = nombreUsuario;\n\t}\n\n\tconst clearUsuarioInput = () => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tformValues.usuario = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tusuario: \"\"\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenUsuariosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tUsuario:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{usuarioLabel} </label>\n\t\t\t\t{idUsuarioSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttabIndex=\"1\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearUsuarioInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenUsuariosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getConstancyCounter = async (anio) => {\n\tconst counter = await db\n\t\t.collection(`constancias`)\n\t\t.doc(`${anio}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().contadorConstancias;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexi√≥n\",\n\t\t\t\t\"Error al intentar obtener el contador de constancias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getConstancyCounter } from \"../../helpers/DB/getConstancyCount\";\n\nexport const UsuarioSelectedDetail = ({ setModalState, setDictamenFormState }) => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { generarConstancias, generarDictamenes } = privilegios;\n\tconst altaPermisos = useSelector((state) => state.altaPermisos);\n\tconst { usuarios, idUsuarioSelected } = useSelector((state) => state.altaPermisos);\n\n\tconst startSaveConstancy = async () => {\n\t\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\t\tconst constancia = {\n\t\t\t...usuario,\n\t\t\tfolio: await defineFolio(),\n\t\t\tfecha: new Date()\n\t\t};\n\n\t\tsetModalState({ openModal: true, constancia });\n\t};\n\n\tconst openDictamenModal = () => {\n\t\tsetDictamenFormState({ isOpenDictamenForm: true });\n\t};\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div>Cuenta: {altaPermisos.cuenta}</div>\n\t\t\t<div>Usuario: {altaPermisos.usuario}</div>\n\t\t\t<div>\n\t\t\t\t{altaPermisos.tipoLocalidad}: {altaPermisos.nombreLocalidad}\n\t\t\t</div>\n\t\t\t<div>Lote: {altaPermisos.lote}</div>\n\t\t\t<div>Secci√≥n: {altaPermisos.seccion}</div>\n\t\t\t<div>M√≥dulo: {altaPermisos.modulo}</div>\n\t\t\t<div>Sup. Derecho: {altaPermisos.supDerecho}</div>\n\t\t\t<div>Sup. Disponible: {altaPermisos.supDerecho - altaPermisos.supPrevia}</div>\n\t\t\t<div>Sistema: {altaPermisos.sistema}</div>\n\t\t\t{altaPermisos.reacomodo && (\n\t\t\t\t<div className=\"text-info\">Reacomodo: {altaPermisos.reacomodo}</div>\n\t\t\t)}\n\n\t\t\t{generarConstancias && (\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={startSaveConstancy}>\n\t\t\t\t\t\tGenerar constancia\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{generarDictamenes && !altaPermisos.dictamen && (\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={openDictamenModal}>\n\t\t\t\t\t\tGenerar Dictamen\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\nconst defineFolio = async () => {\n\tconst date = new Date();\n\tconst anio = date.getFullYear();\n\n\tconst counter = await getConstancyCounter(anio);\n\tif (counter !== false) {\n\t\tconst folio = `${fill(counter + 1, 3)}-${anio}`;\n\t\treturn folio;\n\t} else return null;\n};\n","import { read, utils } from \"xlsx\";\n\nexport const readExcel = async (file) => {\n\tconst promise = new Promise((resolve, reject) => {\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.readAsArrayBuffer(file);\n\n\t\tfileReader.onload = (e) => {\n\t\t\tconst bufferArray = e.target.result;\n\n\t\t\tconst workBook = read(bufferArray, { type: \"buffer\" });\n\t\t\tconst workSheetName = workBook.SheetNames[0];\n\t\t\tconst workSheet = workBook.Sheets[workSheetName];\n\n\t\t\tconst data = utils.sheet_to_json(workSheet);\n\n\t\t\tresolve(data);\n\t\t};\n\n\t\tfileReader.onerror = (error) => {\n\t\t\treject(error);\n\t\t};\n\t});\n\n\treturn promise;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadLocalties = async (localtie) => {\n\tconst localtiesSnap = await db\n\t\t.collection(`colonias`)\n\t\t.orderBy(\"nombre\")\n\t\t.startAt(localtie)\n\t\t.endAt(localtie + \"\\uf8ff\")\n\t\t.get();\n\n\tconst localties = [];\n\n\tlocaltiesSnap.forEach((snapHijo) => {\n\t\tlocalties.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn localties;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadReacomodos = async () => {\n\tconst reacomodosSnap = await db.collection(`reacomodos`).get();\n\n\tconst reacomodos = [];\n\n\treacomodosSnap.forEach((snapHijo) => {\n\t\treacomodos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn reacomodos;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingPadron, unsetUpdatingPadron } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\nimport { loadLocalties } from \"./loadLocalties\";\nimport { loadReacomodos } from \"./loadReacomodos\";\nimport { testUsers } from \"../consts\";\n\nexport const updatePadron = (file) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingPadron());\n\t\tconst localties = await loadLocalties(\"\");\n\t\tconst reacomodos = await loadReacomodos();\n\n\t\tconst data = await readExcel(file);\n\t\ttestUsers.forEach((user) => {\n\t\t\tdata.push(user);\n\t\t});\n\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\tif (checkPadron(data)) {\n\t\t\tawait data.forEach((usuario, i) => {\n\t\t\t\tconst reacomodo = reacomodos.find(\n\t\t\t\t\t(reacomodo) => reacomodo.id === `${usuario.CUENTA}-${usuario.SUBCTA}`\n\t\t\t\t);\n\t\t\t\tif (reacomodo) {\n\t\t\t\t\tdata[i].reacomodo = reacomodo.reacomodo;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait data.forEach((usuario, i) => {\n\t\t\t\tconst localidad = getLocaltie(localties, usuario.EJIDO);\n\t\t\t\tdata[i].nombreLocalidad = localidad.nombre !== undefined ? localidad.nombre : \"\";\n\t\t\t\tdata[i].tipoLocalidad = localidad.tipo !== undefined ? localidad.tipo : \"\";\n\t\t\t});\n\n\t\t\tawait data.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tapMaterno: element.APMATERNO !== undefined ? element.APMATERNO : \"\",\n\t\t\t\t\tapPaterno: element.APPATERNO !== undefined ? element.APPATERNO : \"\",\n\t\t\t\t\tcp: element.CP !== undefined ? element.CP : \"\",\n\t\t\t\t\tcuenta: element.CUENTA !== undefined ? element.CUENTA : \"\",\n\t\t\t\t\tejido: element.EJIDO !== undefined ? element.EJIDO : \"\",\n\t\t\t\t\tnombreLocalidad: element.nombreLocalidad,\n\t\t\t\t\ttipoLocalidad: element.tipoLocalidad,\n\t\t\t\t\tequipo: element.EQUIPO !== undefined ? element.EQUIPO : \"\",\n\t\t\t\t\testado: element.ESTADO !== undefined ? element.ESTADO : \"\",\n\t\t\t\t\tfecha: element.FECHA !== undefined ? element.FECHA : \"\",\n\t\t\t\t\tgrupo: element.GRUPO !== undefined ? element.GRUPO : \"\",\n\t\t\t\t\tlt: element.LT !== undefined ? element.LT : \"\",\n\t\t\t\t\tmodulo: element.ZONA !== undefined ? defineModulo(element.ZONA) : \"\",\n\t\t\t\t\tmunicipio: element.MUNICIPIO !== undefined ? element.MUNICIPIO : \"\",\n\t\t\t\t\tnombre: element.NOMBRE !== undefined ? element.NOMBRE : \"\",\n\t\t\t\t\tpControl: element.PCONTROL !== undefined ? element.PCONTROL : \"\",\n\t\t\t\t\tpredio: definePredio(element.GRUPO, element.PREDIO),\n\t\t\t\t\tra: element.RA !== undefined ? element.RA : \"\",\n\t\t\t\t\treferencia: element.REFERENCIA !== undefined ? element.REFERENCIA : \"\",\n\t\t\t\t\tseccion: element.SECCION !== undefined ? element.SECCION : \"\",\n\t\t\t\t\tsistRiego: element.SISTRIEGO !== undefined ? element.SISTRIEGO : \"\",\n\t\t\t\t\tsistemaRiego: defineSistema(element.SISTRIEGO, element.EQUIPO),\n\t\t\t\t\tslt: element.SLT !== undefined ? element.SLT : \"\",\n\t\t\t\t\tsra: element.SRA !== undefined ? element.SRA : \"\",\n\t\t\t\t\tssra: element.SSRA !== undefined ? element.SSRA : \"\",\n\t\t\t\t\tsubcta: element.SUBCTA !== undefined ? element.SUBCTA : \"\",\n\t\t\t\t\tsupFisica: element.SUPFISICA !== undefined ? element.SUPFISICA : \"\",\n\t\t\t\t\tsupRiego: element.SUPRIEGO !== undefined ? element.SUPRIEGO : \"\",\n\t\t\t\t\ttenencia: element.TENENCIA !== undefined ? element.TENENCIA : \"\",\n\t\t\t\t\tunidad: element.UNIDAD !== undefined ? element.UNIDAD : \"\",\n\t\t\t\t\tzona: element.ZONA !== undefined ? element.ZONA : \"\",\n\t\t\t\t\treacomodo: element.reacomodo !== undefined ? element.reacomodo : \"\"\n\t\t\t\t};\n\n\t\t\t\tconst ref = db.collection(\"derechos\").doc(`${itemToUpload.cuenta}-${itemToUpload.subcta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se termino de actualizar el padron\");\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Padron actualizado\",\n\t\t\t\t\t\t\"Se actualizo con √©xito el padr√≥n de usuarios.\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a un padr√≥n de usuarios v√°lido.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkPadron = (data) => {\n\tconst items = [\"CUENTA\", \"SUBCTA\", \"APPATERNO\", \"UNIDAD\", \"ZONA\", \"EJIDO\", \"SECCION\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n\nconst getLocaltie = (localidades, id) => {\n\tconst localtieFind = localidades.find((localtie) => localtie.clave === id);\n\n\tif (localtieFind) return localtieFind;\n\telse return \"\";\n};\n\nconst definePredio = (grupo, predio) => {\n\tif (predio >= 0) {\n\t\tif (grupo > 0) {\n\t\t\treturn `${grupo}${predio}`;\n\t\t}\n\t\treturn predio;\n\t} else return \"\";\n};\n\nconst defineModulo = (modulo) => {\n\tif (modulo === 9) return \"9A\";\n\telse if (modulo === 92) return \"9B\";\n\telse return modulo;\n};\n\nconst defineSistema = (sistRiego, equipo) => {\n\tif (sistRiego === 1) return \"Gravedad\";\n\telse if (sistRiego === 2 && equipo === 1) return \"Pozo Particular\";\n\telse if (sistRiego === 2 && equipo === 2) return \"Pozo Federal\";\n\telse return \"\";\n};\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\n\nexport const FileInput = ({ actionFunction, title, updating = false, fileExtension }) => {\n\tconst handleInputChange = (e) => {\n\t\tconst file = e.target.files[0];\n\n\t\tconst extension = file.name.match(/\\.[0-9a-z]+$/i);\n\n\t\tif (extension[0] === fileExtension) actionFunction(file);\n\t\telse {\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t`Verifique que el archivo que intenta cargar tenga la extensi√≥n \"${fileExtension}\".`,\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex\">\n\t\t\t\t<label htmlFor=\"input\" className=\"align-self-center\">\n\t\t\t\t\t{title}\n\t\t\t\t</label>\n\t\t\t\t{updating && (\n\t\t\t\t\t<div className=\"spinner-border text-primary align-self-center ml-2\" role=\"status\">\n\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tid=\"input\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tclassName=\"form-control-file mt-4\"\n\t\t\t\tonChange={handleInputChange}\n\t\t\t></input>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updatePadron } from \"../../../helpers/DB/updatePadron\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdatePadronModule = () => {\n\tconst { updatingPadron } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdatePadron = (file) => {\n\t\tdispatch(updatePadron(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdatePadron}\n\t\t\ttitle=\"Cargar Padron\"\n\t\t\tupdating={updatingPadron}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingReacomodos, unsetUpdatingReacomodos } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\n\nexport const updateReacomodos = (file) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingReacomodos());\n\t\tconst data = await readExcel(file);\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\tif (checkReacomodos(data)) {\n\t\t\tdata.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tcuenta: element.CTA !== undefined ? element.CTA : \"?\",\n\t\t\t\t\tsubCuenta: element.SC !== undefined ? element.SC : \"?\",\n\t\t\t\t\tllave: element.LLAVE !== undefined ? element.LLAVE : \"?\",\n\t\t\t\t\tmodulo: element.MODULO !== undefined ? element.MODULO : \"?\",\n\t\t\t\t\tclaveEjido: element.CVEEJI !== undefined ? element.CVEEJI : \"?\",\n\t\t\t\t\tejido: element.EJI !== undefined ? element.EJI : \"?\",\n\t\t\t\t\tpredio: element.PRE !== undefined ? element.PRE : \"?\",\n\t\t\t\t\thectareas: element.HAS !== undefined ? element.HAS : \"?\",\n\t\t\t\t\treacomodo: element.RE !== undefined ? element.RE : \"?\",\n\t\t\t\t\tclaveProcedencia: element.CVEPRO !== undefined ? element.CVEPRO : \"?\",\n\t\t\t\t\tejidoProcedencia: element.EJIPRO !== undefined ? element.EJIPRO : \"?\",\n\t\t\t\t\tpredioProcedencia: element.PREPRO !== undefined ? element.PREPRO : \"?\"\n\t\t\t\t};\n\n\t\t\t\tconst ref = db\n\t\t\t\t\t.collection(\"reacomodos\")\n\t\t\t\t\t.doc(`${itemToUpload.cuenta}-${itemToUpload.subCuenta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se terminaron de actualizar los reacomodos\");\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Reacomodos actualizados\",\n\t\t\t\t\t\t\"Se actualizaron con √©xito los reacomodos.\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a una tabla de reacomodos v√°lida.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkReacomodos = (data) => {\n\tconst items = [\"CTA\", \"SC\", \"LLAVE\", \"EJI\", \"HAS\", \"RE\", \"CVEPRO\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateReacomodos } from \"../../../helpers/DB/updateReacomodos\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdateReacomodosModule = () => {\n\tconst { updatingReacomodos } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdateReacomodos = (file) => {\n\t\tdispatch(updateReacomodos(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdateReacomodos}\n\t\t\ttitle=\"Cargar Reacomodos\"\n\t\t\tupdating={updatingReacomodos}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import { write, utils } from \"xlsx\";\nimport FileSaver from \"file-saver\";\n\nconst EXCEL_TYPE =\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n\nexport const exportJSONToExcel = (data, headers, title, author, sheetName) => {\n\tconst workBook = utils.book_new();\n\tworkBook.Props = {\n\t\tTitle: title,\n\t\tAuthor: author,\n\t\tCreatedDate: new Date()\n\t};\n\n\tworkBook.SheetNames.push(sheetName);\n\n\tconst workSheet = utils.json_to_sheet(data, headers);\n\tworkBook.Sheets[sheetName] = workSheet;\n\n\tconst excelBuffer = write(workBook, { bookType: \"xlsx\", type: \"array\" });\n\n\tsaveAsExcel(excelBuffer, title);\n};\n\nconst saveAsExcel = (buffer, fileName) => {\n\tconst data = new Blob([buffer], { type: EXCEL_TYPE });\n\tFileSaver.saveAs(data, `${fileName}.xlsx`);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { loadUsuarios } from \"../../../helpers/loadUsuarios\";\n\nexport const DownloadPadronButton = () => {\n\tconst { modulo, name, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst title = `PadronM${modulo}`;\n\tconst headers = {\n\t\theader: [\n\t\t\t\"CUENTA\",\n\t\t\t\"APPATERNO\",\n\t\t\t\"APMATERNO\",\n\t\t\t\"NOMBRE\",\n\t\t\t\"MODULO\",\n\t\t\t\"SECCION\",\n\t\t\t\"EJ/COL\",\n\t\t\t\"LOCALIDAD\",\n\t\t\t\"PREDIO\",\n\t\t\t\"REACOMODO\",\n\t\t\t\"HA\",\n\t\t\t\"SISTEMA\"\n\t\t]\n\t};\n\n\tconst startDowloadPadron = async () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Al confirmar se iniciar√° la descarga del padr√≥n de usuarios en formato excel.`,\n\t\t\ticon: \"question\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Descargar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst usuarios = await loadUsuarios(\"\", modulo, ciclo);\n\t\t\t\tconst padron = usuarios.map((usuario) => ({\n\t\t\t\t\tCUENTA: usuario.id,\n\t\t\t\t\tAPPATERNO: usuario.apPaterno,\n\t\t\t\t\tAPMATERNO: usuario.apMaterno,\n\t\t\t\t\tNOMBRE: usuario.nombre,\n\t\t\t\t\tMODULO: usuario.modulo,\n\t\t\t\t\tSECCION: usuario.seccion,\n\t\t\t\t\t\"EJ/COL\": usuario.tipoLocalidad,\n\t\t\t\t\tLOCALIDAD: usuario.nombreLocalidad,\n\t\t\t\t\tPREDIO: usuario.predio,\n\t\t\t\t\tREACOMODO: usuario.reacomodo,\n\t\t\t\t\tHA: usuario.supRiego,\n\t\t\t\t\tSISTEMA: usuario.sistemaRiego\n\t\t\t\t}));\n\n\t\t\t\texportJSONToExcel(padron, headers, title, name, title);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<button onClick={startDowloadPadron} className=\"btn btn-outline-primary m-3\">\n\t\t\t<i className=\"fas fa-download mr-2\"></i>\n\t\t\tDescargar Padron\n\t\t</button>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveConstancy = async (constancia, anio) => {\n\tconst constancyRef = db\n\t\t.collection(`constancias`)\n\t\t.doc(`${anio}`)\n\t\t.collection(\"constancias\")\n\t\t.doc(constancia.folio);\n\n\tconst constancyCounterRef = db.collection(`constancias`).doc(`${anio}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst constancy = await transaction.get(constancyRef);\n\t\t\tconst constancyCounter = await transaction.get(constancyCounterRef);\n\n\t\t\tif (constancy.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La transferencia ya existe\",\n\t\t\t\t\t\"Est√° intentando sobreescribir una transferencia ya existente, verifique su conexi√≥n.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La transferencia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(constancyRef, constancia);\n\t\t\t\tif (constancyCounter.exists) {\n\t\t\t\t\ttransaction.update(constancyCounterRef, {\n\t\t\t\t\t\tcontadorConstancias: firebase.firestore.FieldValue.increment(1)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(constancyCounterRef, {\n\t\t\t\t\t\tcontadorConstancias: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Constancia Guardada\",\n\t\t\t\t\"Se registr√≥ con √©xito la constancia de derechos.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intntar guardar constancia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { saveConstancy } from \"../../helpers/DB/saveConstancy\";\n\nexport const PrintConstancyModal = ({ openModal, constancia, constancySaved, setModalState }) => {\n\tconst { folio, apPaterno, apMaterno, nombre, predio, tipoLocalidad } = constancia;\n\tconst { nombreLocalidad, fecha, supRiego, cuenta, subcta, modulo, sistemaRiego } = constancia;\n\tconst { municipio, estado, reacomodo } = constancia;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1700px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst closeModal = () => {\n\t\tsetModalState((state) => ({ ...state, openModal: false }));\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst handleSaveConstancy = async () => {\n\t\tconst date = new Date();\n\t\tconst anio = date.getFullYear();\n\t\tconst saveSuccess = await saveConstancy(constancia, anio);\n\n\t\tif (saveSuccess) setModalState((state) => ({ ...state, constancySaved: true }));\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad p-5\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"border border-dark rounded\">\n\t\t\t\t<div className=\"border border-dark rounded m-1 p-3\">\n\t\t\t\t\t<div className=\"row p-5 d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={\"./logos/medio-cna-2022.png\"}\n\t\t\t\t\t\t\t\t\talt=\"Logo semarnat\"\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: 600 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t<div className=\"d-flex flex-column text-right\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>OFICIO:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>B00.807.05.DR.014.P.U./{folio}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>LUGAR:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>MEXICALI, B. C.</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>FECHA:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>{fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\tORGANISMO DE CUENCA PEN√çNSULA DE BAJA CALIFORNIA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tDIRECCI√ìN DE INFRAESTRUCTURA HIDROAGR√çCOLA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tDISTRITO DE RIEGO 014, R√çO COLORADO, B.C. Y SONORA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tJEFATURA DEL PADR√ìN DE USUARIOS\n\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>A QUIEN CORRESPONDA:</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-2\">\n\t\t\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; CON FUNDAMENTO EN LOS ART√çCULOS 52, 67 INCISO A), 70 DE LA\n\t\t\t\t\t\t\tLEY DE AGUAS NACIONALES; 92 Y 102 DEL REGLAMENTO DEL DISTRITO DE RIEGO DEL R√çO\n\t\t\t\t\t\t\tCOLORADO Y DEM√ÅS RELATIVOS DE LA NORMATIVIDAD VIGENTE, ART√çCULOS 11 LETRA B FRACCI√ìN\n\t\t\t\t\t\t\tV, 73 FRACCI√ìN XLI, AS√ç COMO SU √öLTIMO P√ÅRRAFO, 79, FRACCI√ìN XVII REGLAMENTO INTERIOR\n\t\t\t\t\t\t\tDE LA COMISI√ìN NACIONAL DEL AGUA, CON BASE EN LA B√öSQUEDA DE LOS DATOS DEL PROMOVENTE\n\t\t\t\t\t\t\tREALIZADA EL D√çA DE HOY POR EL √ÅREA RESPONSABLE DEL PADR√ìN DE USUARIOS (SIPAD), SE\n\t\t\t\t\t\t\tINFORMA QUE OBRA REGISTRO PADR√ìN DE USUARIOS DEL DISTRITO DE RIEGO 014, R√çO COLORADO,\n\t\t\t\t\t\t\tBAJA CALIFORNIA Y SONORA A NOMBRE DE{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{apPaterno} {apMaterno} {nombre}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t, CON EL N√öMERO DE CUENTA <b>{`${cuenta}.${subcta}`}</b>,{\" \"}\n\t\t\t\t\t\t\t<b>EN EL M√ìDULO DE RIEGO N√öMERO {modulo}</b> CON UNA SUPERFICIE DE{\" \"}\n\t\t\t\t\t\t\t<b>{supRiego} HECTAREAS</b> DE DERECHOS DE RIEGO DE{\" \"}\n\t\t\t\t\t\t\t<b>{sistemaRiego.toUpperCase()}</b>, EN LA <b>PARCELA N√öMERO {predio}</b>, EN{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{tipoLocalidad.toUpperCase()} {nombreLocalidad}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t{reacomodo.length > 0 && <b> (REACOMODO {reacomodo})</b>}, DEL MUNICIPIO DE{\" \"}\n\t\t\t\t\t\t\t<b>{municipio.toUpperCase()}</b>, <b>{estado.toUpperCase()}</b>.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; LA PRESENTE SE EXTIENDE CON CAR√ÅCTER INFORMATIVO A PETICI√ìN\n\t\t\t\t\t\t\tDEL INTERESADO PARA LOS FINES QUE ESTIME CONVENIENTES Y SE LE RECUERDA QUE DE ACUERDO\n\t\t\t\t\t\t\tA LA NORMATIVA EN MATERIA DE AGUAS ES DEBER DEL USUARIO, CONCESIONARIO O ASIGNATARIO,\n\t\t\t\t\t\t\tSEGUIR LOS TR√ÅMITES Y PROCEDIMIENTOS ADMINISTRATIVOS RELATIVOS PARA LA ACTUALIZACI√ìN\n\t\t\t\t\t\t\tDE LA INFORMACI√ìN, TRANSMISI√ìN, CESI√ìN DE DERECHOS DE AGUA EN EL PADR√ìN.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; LA CONSTANCIA SE EMITE, SIN PREJUZGAR SOBRE LA EXISTENCIA DE\n\t\t\t\t\t\t\tALGUNA OTRA SOLICITUD, PROCEDIMIENTO ADMINISTRATIVO, SUCESORIO O JUDICIAL QUE NO SE\n\t\t\t\t\t\t\tHAYA HECHO DE CONOCIMIENTO AL MOMENTO DE FORMULAR SU PETICI√ìN.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row pt-4\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">ATENTAMENTE</div>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex mt-4\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\tDR. JULIO ALFONSO NAVARRO URBINA,\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tING. EN JEFE DEL DISTRITO DE RIEGO 014,\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tR√çO COLORADO, BAJA CALIFORNIA Y SONORA\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 mt-4\">\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\tC.c.p.- Archivo <br />\n\t\t\t\t\t\t\t\tVMMR/JDLA/KPM\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-10 d-flex\">\n\t\t\t\t\t\t\t<div className=\"align-self-center pl-4 pr-4 pb-2 mb-3\">\n\t\t\t\t\t\t\t\t<div>Av. Reforma y calle ‚ÄúL‚Äù s/n Col. Nueva, Mexicali, Baja California.</div>\n\t\t\t\t\t\t\t\t<div>Tel√©fono: (686) 551 64 00. </div>\n\t\t\t\t\t\t\t\t<div>http//:www.gob.mx/conagua</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-end mt-5\">\n\t\t\t\t\t\t\t\t<img src={\"./logos/pie-2022.png\"} alt=\"Logo mexico\" style={{ maxWidth: 970 }} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-4\">\n\t\t\t\t\t\t{constancySaved ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-print-none\"\n\t\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={handleSaveConstancy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadCostancies = async (usuario, anio) => {\n\tconst campos = [\"apPaterno\", \"cuenta\"];\n\tconst qryConstancies = [];\n\tconst constancies = [];\n\n\tconst constanciesRef = db.collection(\"constancias\").doc(`${anio}`).collection(\"constancias\");\n\n\tcampos.forEach((campo) => {\n\t\tqryConstancies.push(\n\t\t\tconstanciesRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryConstancies.push(constanciesRef.where(campo, \"==\", Number(usuario)).get());\n\t});\n\n\tconst resolvedConstanciesQrys = await Promise.all(qryConstancies);\n\n\tresolvedConstanciesQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconstancies.push({\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn constancies;\n};\n","import React from \"react\";\n\nexport const ConstancySelectedDetail = ({ constancy, setModalState }) => {\n\tconst handleOpenModal = () => {\n\t\tconst date = constancy.fecha.toDate();\n\t\tconsole.log(date);\n\t\tsetModalState({\n\t\t\topenModal: true,\n\t\t\tconstancySaved: true,\n\t\t\tconstancia: { ...constancy, fecha: date }\n\t\t});\n\t};\n\n\tconst usuario = `${constancy.apPaterno} ${constancy.apMaterno} ${constancy.nombre}`;\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div>\n\t\t\t\t<h5>Folio:{constancy.folio}</h5>\n\t\t\t</div>\n\t\t\t<div>Cuenta: {constancy.cuenta}</div>\n\t\t\t<div>Usuario: {usuario}</div>\n\t\t\t<div>\n\t\t\t\t{constancy.tipoLocalidad}: {constancy.nombreLocalidad}\n\t\t\t</div>\n\t\t\t<div>Lote: {constancy.predio}</div>\n\t\t\t<div>Secci√≥n: {constancy.seccion}</div>\n\t\t\t<div>M√≥dulo: {constancy.modulo}</div>\n\t\t\t<div>Sup. Derecho: {constancy.supRiego}</div>\n\t\t\t<div>Sistema: {constancy.sistemaRiego}</div>\n\t\t\t{constancy.reacomodo && <div className=\"text-info\">Reacomodo: {constancy.reacomodo}</div>}\n\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={handleOpenModal}>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useConstancyModuleState } from \"../../../hooks/useConstancyModuleState\";\nimport { ConstancySelectedDetail } from \"../../padron/ConstancySelectedDetail\";\nimport { usuariosColumns } from \"../../tables/configTables\";\nimport { CustomTable } from \"../../tables/CustomTable\";\n\nexport const ConstancyModule = ({ modalState, setModalState }) => {\n\tconst [moduleState, setModuleState] = useState({\n\t\tusuario: \"\",\n\t\tconstancySelected: false,\n\t\tconstancies: []\n\t});\n\tconst { usuario, constancySelected, constancies } = moduleState;\n\n\tconst [\n\t\thandleInputChange,\n\t\tclearUsuarioInput,\n\t\thandleSetConstancies,\n\t\thandleKeyUp,\n\t\tsetConstancylected\n\t] = useConstancyModuleState(moduleState, setModuleState);\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Consulta de constancias</h4>\n\n\t\t\t<div className=\"row mt-3\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"d-flex form-group align-items-baseline\">\n\t\t\t\t\t\t<label>Usuario: </label>\n\n\t\t\t\t\t\t{constancySelected ? (\n\t\t\t\t\t\t\t<div className=\"ml-2\">\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t{`${constancySelected.apPaterno} ${constancySelected.apMaterno} ${constancySelected.nombre}`}\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={clearUsuarioInput}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-3\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleSetConstancies}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{constancies.length > 0 && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={constancies.length === 0 ? \"No se encontraron constancias\" : \"Constancias\"}\n\t\t\t\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\t\t\t\tdata={constancies}\n\t\t\t\t\t\t\tsimpleSetFunction={setConstancylected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{constancySelected && (\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<ConstancySelectedDetail\n\t\t\t\t\t\t\t\tconstancy={constancySelected}\n\t\t\t\t\t\t\t\tmodalState={modalState}\n\t\t\t\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { loadCostancies } from \"../helpers/DB/loadConstancies\";\n\nexport const useConstancyModuleState = (moduleState, setModuleState) => {\n\tconst handleInputChange = ({ target }) => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tusuario: target.value.toUpperCase()\n\t\t});\n\t};\n\n\tconst clearUsuarioInput = () => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tusuario: \"\",\n\t\t\tconstancySelected: false\n\t\t});\n\t};\n\n\tconst handleSetConstancies = async () => {\n\t\tconst constancies = await loadCostancies(moduleState.usuario, \"2021\");\n\t\tsetModuleState({ ...moduleState, constancies });\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSetConstancies();\n\t\t}\n\t};\n\n\tconst setConstancylected = (row) => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tconstancySelected: row\n\t\t});\n\t};\n\n\treturn [\n\t\thandleInputChange,\n\t\tclearUsuarioInput,\n\t\thandleSetConstancies,\n\t\thandleKeyUp,\n\t\tsetConstancylected\n\t];\n};\n","export const permitsHeaders = [\n\t{\n\t\tid: \"numeroPermiso\",\n\t\theader: \"PERMISO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"usuario\",\n\t\theader: \"USUARIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreProductor\",\n\t\theader: \"PRODUCTOR\",\n\t\tstyles: \"longCell\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"seccion\",\n\t\theader: \"SECCION\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidad\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"lote\",\n\t\theader: \"LOTE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"subciclo\",\n\t\theader: \"SUBCICLO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"supAutorizada\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuotaCultivo\",\n\t\theader: \"CUOTA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: true,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 2,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"fechaEmicion\",\n\t\theader: \"FECHA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\n\t{\n\t\tid: \"cultivoAnterior\",\n\t\theader: \"CUL. ANT.\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoPermiso\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"sistema\",\n\t\theader: \"SISTEMA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t}\n];\n\nexport const laboresHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"USUARIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"claveLocalidad\",\n\t\theader: \"CLAVE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ubicacion\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"lote\",\n\t\theader: \"LOTE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"superficie\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"superficieMapeada\",\n\t\theader: \"HA-Map\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tecnico\",\n\t\theader: \"TECNICO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desfoliado\",\n\t\theader: \"DESFOLIADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cosechado\",\n\t\theader: \"COSECHADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desvarado\",\n\t\theader: \"DESVARADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"disqueado\",\n\t\theader: \"DISQUEADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desarraigado\",\n\t\theader: \"DESARRAIGADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"barbechado\",\n\t\theader: \"BARBECHADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"pagado\",\n\t\theader: \"PAGADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"laboresPendientes\",\n\t\theader: \"BLOQUEADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n\nexport const producersHeaders = [\n\t{\n\t\tid: \"curp\",\n\t\theader: \"CURP\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"rfc\",\n\t\theader: \"RFC\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"genero\",\n\t\theader: \"GENERO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"direccion\",\n\t\theader: \"DIRECCION\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"municipio\",\n\t\theader: \"MUNICIPIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"estado\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cp\",\n\t\theader: \"CP\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"telefono\",\n\t\theader: \"TELEFONO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n\t// {\n\t// \tid: \"fechaRegistro\",\n\t// \theader: \"REGISTRO\",\n\t// \tstyles: \"\",\n\t//  currency:false,\n\t// \tsum: false,\n\t// \tcount: false,\n\t// \tfloat: false,\n\t// \tdisplay: false,\n\t// \tselectable: true,\n\t//  search:true\n\t// }\n];\n\nexport const usersHeaders = [\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"subcta\",\n\t\theader: \"SUBCTA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"PREDIO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"reacomodo\",\n\t\theader: \"REACOMODO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"seccion\",\n\t\theader: \"SECCION\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"municipio\",\n\t\theader: \"MUNICIPIO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"estado\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"supRiego\",\n\t\theader: \"SUPRIEGO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"supFisica\",\n\t\theader: \"SUPFISICA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"sistemaRiego\",\n\t\theader: \"SISTEMA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cp\",\n\t\theader: \"CP\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"equipo\",\n\t\theader: \"EQUIPO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"grupo\",\n\t\theader: \"GRUPO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"lt\",\n\t\theader: \"LT\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"pControl\",\n\t\theader: \"PCONTROL\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ra\",\n\t\theader: \"RA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"referencia\",\n\t\theader: \"REF\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"slt\",\n\t\theader: \"SLT\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"sra\",\n\t\theader: \"SRA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ssra\",\n\t\theader: \"SSRA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tenencia\",\n\t\theader: \"TENENCIA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n\nexport const transferEntrantesHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoTransferencia\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"superficieTransferida\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: true,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"moduloDestino\",\n\t\theader: \"MODULO-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"clavelocalidadDestino\",\n\t\theader: \"CLAVE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipolocalidadDestino\",\n\t\theader: \"EJ/COL-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidadDestino\",\n\t\theader: \"LOCALIDAD-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"loteDestino\",\n\t\theader: \"LOTE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaternoSolicitante\",\n\t\theader: \"PATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaternoSolicitante\",\n\t\theader: \"MATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreSolicitante\",\n\t\theader: \"NOMBRE-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"claveCultivo\",\n\t\theader: \"CLAVE-CULTIVO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"LOTE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t}\n];\n\nexport const transferSalientesHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoTransferencia\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"superficieTransferida\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: true,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"LOTE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\n\t{\n\t\tid: \"claveCultivo\",\n\t\theader: \"CLAVE-CULTIVO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"moduloDestino\",\n\t\theader: \"MODULO-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"clavelocalidadDestino\",\n\t\theader: \"CLAVE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipolocalidadDestino\",\n\t\theader: \"EJ/COL-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidadDestino\",\n\t\theader: \"LOCALIDAD-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"loteDestino\",\n\t\theader: \"LOTE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaternoSolicitante\",\n\t\theader: \"PATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaternoSolicitante\",\n\t\theader: \"MATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreSolicitante\",\n\t\theader: \"NOMBRE-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadProducersGlobal = async (inputValue, campo) => {\n\tconst producers = [];\n\tconst producersSnap = await db\n\t\t.collection(`productores`)\n\t\t.orderBy(campo)\n\t\t.startAt(inputValue.toUpperCase())\n\t\t.endAt(inputValue.toUpperCase() + \"\\uf8ff\")\n\t\t.get();\n\n\tproducersSnap.forEach((snapHijo) => {\n\t\tproducers.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tif (producers.length === 0) {\n\t\tSwal.fire(\"No se encontraron productores \", \"...\", \"warning\");\n\t}\n\n\treturn producers;\n};\n","export const productoresReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase \"setInput\":\n\t\t\treturn { ...state, inputValue: action.payload };\n\n\t\tcase \"setSelect\":\n\t\t\treturn { ...state, campo: action.payload };\n\n\t\tcase \"setProductores\":\n\t\t\treturn { ...state, productores: action.payload };\n\n\t\tcase \"setProductorSelected\":\n\t\t\treturn { ...state, productorSelected: action.payload };\n\n\t\tcase \"unsetProductorSelected\":\n\t\t\treturn { ...state, productorSelected: null };\n\n\t\tcase \"openModal\":\n\t\t\treturn { ...state, openEditModal: true };\n\n\t\tcase \"closeModal\":\n\t\t\treturn { ...state, openEditModal: false, msgError: null };\n\n\t\tcase \"setError\":\n\t\t\treturn { ...state, msgError: action.payload };\n\n\t\tcase \"removeError\":\n\t\t\treturn { ...state, msgError: null };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const deleteProducer = async (id) => {\n\tconst producerRef = db.collection(\"productores\").doc(id);\n\n\ttry {\n\t\tconst isDeleted = await db.runTransaction(async (transaction) => {\n\t\t\tconst producer = await transaction.get(producerRef);\n\n\t\t\tif (producer.exists) {\n\t\t\t\tconst permisosRef = await getPermitsRefs(id);\n\t\t\t\tif (permisosRef.length > 0) {\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"El productor tiene permisos registrados.\",\n\t\t\t\t\t\t\"No es posible borrar el registro de un productor si se generaron permisos a su nombre.\",\n\t\t\t\t\t\t\"error\"\n\t\t\t\t\t);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.delete(producerRef);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"El productor no existe\", \"...\", \"error\");\n\t\t\t\tthrow new Error(\"El productor no existe\");\n\t\t\t}\n\t\t});\n\n\t\tif (isDeleted) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Productor eliminado. \",\n\t\t\t\t\"Se elimin√≥ con √©xito el registro del productor.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intntar borrar productor.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n\nconst getPermitsRefs = async (idProductor) => {\n\tconst permisosRefs = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"idProductorSelected\", \"==\", idProductor);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisosRefs.push(doc.ref);\n\t\t});\n\t});\n\n\treturn permisosRefs;\n};\n","import React from \"react\";\nimport { deleteProducer } from \"../../helpers/DB/deleteProducer\";\nimport Swal from \"sweetalert2\";\n\nexport const ProductorDetail = ({ productor, dispatch, reload }) => {\n\tconst {\n\t\tid,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tdireccion,\n\t\testado,\n\t\tmunicipio,\n\t\trfc,\n\t\ttelefono,\n\t\tgenero,\n\t\tcp,\n\t\tfechaRegistro\n\t} = productor;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = fechaRegistro.toDate();\n\n\tconst openEditModal = () => {\n\t\tdispatch({\n\t\t\ttype: \"openModal\"\n\t\t});\n\t};\n\n\tconst handleDeleteProducer = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Est√° a punto de eliminar el registro del productor con el id: ${id}. ¬øRealmente desea eliminarlo?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst isDeleted = await deleteProducer(id);\n\n\t\t\t\tif (isDeleted) {\n\t\t\t\t\treload();\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"unsetProductorSelected\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border rounded p-3\">\n\t\t\t<div>\n\t\t\t\t<b>CURP: </b>\n\t\t\t\t{id}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>RFC: </b>\n\t\t\t\t{rfc}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>PATERNO: </b>\n\t\t\t\t{apPaterno}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>MATERNO: </b>\n\t\t\t\t{apMaterno}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>NOMBRE: </b>\n\t\t\t\t{nombre}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>GENERO: </b>\n\t\t\t\t{genero}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>DIRECCION: </b>\n\t\t\t\t{direccion}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>MUNICIPIO: </b>\n\t\t\t\t{municipio}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>ESTADO: </b>\n\t\t\t\t{estado}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>CP: </b>\n\t\t\t\t{cp}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>TELEFONO: </b>\n\t\t\t\t{telefono}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>REGISTRO: </b>\n\t\t\t\t{fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={openEditModal}>\n\t\t\t\t\tEditar\n\t\t\t\t</button>\n\n\t\t\t\t<button className=\"btn btn-outline-danger ml-5\" onClick={handleDeleteProducer}>\n\t\t\t\t\tBorrar\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateProducer = async (\n\tproductor,\n\tidAnterior,\n\ttipoPersonaAnterior,\n\tcurpAnterior,\n\tnombreAnterior,\n\trfcAnterior\n) => {\n\t/*\n    case 1: Cambia de tipo de persona (fisica/moral), cambia la curp o cambia id\n        - Obtener modulos y permisos del productor\n        - Borrar el documento\n        - Crear un nuevo documento con id difernente y los datos tal cual en el formulario.\n        - Actualizar datos del productor en permisos\n        \n    case 2: Cambia el nombre o el rfc\n        - Obtener modulos y permisos del productor\n        - Actualizar datos del productor en permisos\n        - Actualizar documento con los datos tal cual en el formulario.\n        \n    case 3: Cambia cualquier otro campo \n        - Actualizar documento con los datos tal cual en el formulario.\n    */\n\n\tconst { id, curp, rfc } = productor;\n\tconst tipoPersona = productor.genoro === \"MORAL\" ? \"MORAL\" : \"FISICA\";\n\tconst nombreCompleto = `${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`;\n\n\tconst producerRef = db.collection(\"productores\").doc(idAnterior);\n\tconst newProducerRef = db.collection(\"productores\").doc(id);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst producer = await transaction.get(producerRef);\n\n\t\t\tif (producer.exists) {\n\t\t\t\tif (tipoPersona !== tipoPersonaAnterior || curp !== curpAnterior || id !== idAnterior) {\n\t\t\t\t\tconst permisosRef = await getPermitsRefs(idAnterior);\n\n\t\t\t\t\tpermisosRef.forEach((permiso) => {\n\t\t\t\t\t\ttransaction.update(permiso, {\n\t\t\t\t\t\t\tcurpProductor: curp,\n\t\t\t\t\t\t\tidProductorSelected: id,\n\t\t\t\t\t\t\tnombreProductor: nombreCompleto,\n\t\t\t\t\t\t\trfcProductor: rfc\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\ttransaction.delete(producerRef);\n\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.set(newProducerRef, productor);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (nombreCompleto !== nombreAnterior || rfc !== rfcAnterior) {\n\t\t\t\t\tconst permisosRef = await getPermitsRefs(idAnterior);\n\n\t\t\t\t\tpermisosRef.forEach((permiso) => {\n\t\t\t\t\t\ttransaction.update(permiso, {\n\t\t\t\t\t\t\tcurpProductor: curp,\n\t\t\t\t\t\t\tidProductorSelected: id,\n\t\t\t\t\t\t\tnombreProductor: nombreCompleto,\n\t\t\t\t\t\t\trfcProductor: rfc\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.update(producerRef, productor);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.update(producerRef, productor);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"El productor no existe\", \"...\", \"error\");\n\t\t\t\tthrow new Error(\"El productor no existe\");\n\t\t\t}\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Productor actualizado. \",\n\t\t\t\t\"Se actualizaron con √©xito los datos del productor.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intntar actualizar productor.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n\nconst getPermitsRefs = async (idProductor) => {\n\tconst permisosRefs = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"idProductorSelected\", \"==\", idProductor);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisosRefs.push(doc.ref);\n\t\t});\n\t});\n\n\treturn permisosRefs;\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { updateProducer } from \"../../helpers/DB/updateProducer\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const EditProductorModal = ({\n\topenEditModal,\n\tproductor,\n\tmsgError,\n\tdispatch,\n\treload,\n\tresetProductor\n}) => {\n\tconst [formValues, handleInputChange] = useFormToUpper(productor);\n\tconst idAnterior = productor.id;\n\tconst tipoPersonaAnterior = productor.genero === \"MORAL\" ? \"MORAL\" : \"FISICA\";\n\tconst curpAnterior = productor.curp;\n\tconst nombreAnterior = `${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`;\n\tconst rfcAnterior = productor.rfc;\n\tconst uid = productor.uid;\n\tconst fechaRegistro = productor.fechaRegistro;\n\n\tconst {\n\t\tcurp,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\trfc,\n\t\tdireccion,\n\t\tmunicipio,\n\t\testado,\n\t\tcp,\n\t\ttelefono,\n\t\tgenero,\n\t\tindice = \"\"\n\t} = formValues;\n\n\t// console.log(formValues);\n\n\tconst closeModal = () => {\n\t\tdispatch({\n\t\t\ttype: \"closeModal\"\n\t\t});\n\t};\n\n\tconst handleUpdate = async (e) => {\n\t\te.preventDefault();\n\n\t\tconst productor = {\n\t\t\tid: genero === \"MORAL\" ? `${curp}-PM${indice}` : curp,\n\t\t\tcurp,\n\t\t\tapPaterno,\n\t\t\tapMaterno,\n\t\t\tnombre,\n\t\t\trfc,\n\t\t\tdireccion,\n\t\t\testado,\n\t\t\tmunicipio,\n\t\t\tcp,\n\t\t\ttelefono: telefono.replace(/ /g, \"\"),\n\t\t\tgenero,\n\t\t\tuid,\n\t\t\tfechaRegistro\n\t\t};\n\n\t\tif (isFormValid()) {\n\t\t\tconst isSave = await updateProducer(\n\t\t\t\tproductor,\n\t\t\t\tidAnterior,\n\t\t\t\ttipoPersonaAnterior,\n\t\t\t\tcurpAnterior,\n\t\t\t\tnombreAnterior,\n\t\t\t\trfcAnterior\n\t\t\t);\n\n\t\t\tif (isSave) {\n\t\t\t\tcloseModal();\n\t\t\t\treload();\n\t\t\t\tresetProductor({ ...productor, id: genero === \"MORAL\" ? `${curp}-PM` : curp });\n\t\t\t}\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (apPaterno.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere apellido paterno\" });\n\t\t\treturn false;\n\t\t} else if (direccion.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere direccion\" });\n\t\t\treturn false;\n\t\t} else if (apMaterno.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere apellido materno\" });\n\t\t\treturn false;\n\t\t} else if (estado.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere estado\" });\n\t\t\treturn false;\n\t\t} else if (nombre.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere nombre\" });\n\t\t\treturn false;\n\t\t} else if (municipio.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere municipio\" });\n\t\t\treturn false;\n\t\t} else if (curp.trim().length < 18 || curp.trim().length > 18) {\n\t\t\tdispatch({ type: \"setError\", payload: \"CURP no valido\" });\n\t\t\treturn false;\n\t\t} else if (genero.length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere genero\" });\n\t\t\treturn false;\n\t\t} else if (genero === \"MORAL\" && rfc.trim().length !== 12) {\n\t\t\tdispatch({ type: \"setError\", payload: \"RFC no valido\" });\n\t\t\treturn false;\n\t\t} else if (genero !== \"MORAL\" && rfc.trim().length !== 13) {\n\t\t\tdispatch({ type: \"setError\", payload: \"RFC no valido\" });\n\t\t\treturn false;\n\t\t} else if (cp.trim().length < 5) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Codigo postal no valido\" });\n\t\t\treturn false;\n\t\t} else if (telefono.replace(/ /g, \"\").length < 10) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Telefono no valido\" });\n\t\t\treturn false;\n\t\t}\n\t\tdispatch({ type: \"removeError\" });\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openEditModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo productor</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleUpdate}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"curp\">* CURP:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"curp\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* CURP\"\n\t\t\t\t\t\t\t\tname=\"curp\"\n\t\t\t\t\t\t\t\tvalue={curp}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"apPaterno\">* Paterno:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Apellido Paterno\"\n\t\t\t\t\t\t\t\tid=\"apPaterno\"\n\t\t\t\t\t\t\t\tname=\"apPaterno\"\n\t\t\t\t\t\t\t\tvalue={apPaterno}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"apMaterno\">* Materno:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Apellido Materno\"\n\t\t\t\t\t\t\t\tid=\"apMaterno\"\n\t\t\t\t\t\t\t\tname=\"apMaterno\"\n\t\t\t\t\t\t\t\tvalue={apMaterno}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"nombre\">* Nombre:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Nombre\"\n\t\t\t\t\t\t\t\tid=\"nombre\"\n\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\tvalue={nombre}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"rfc\">* RFC:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* RFC\"\n\t\t\t\t\t\t\t\tid=\"rfc\"\n\t\t\t\t\t\t\t\tname=\"rfc\"\n\t\t\t\t\t\t\t\tvalue={rfc}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"direccion\">* Direcci√≥n:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Direccion\"\n\t\t\t\t\t\t\t\tid=\"direccion\"\n\t\t\t\t\t\t\t\tname=\"direccion\"\n\t\t\t\t\t\t\t\tvalue={direccion}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"estado\">* Estado:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Estado\"\n\t\t\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"municipio\">* Municipio:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Municipio\"\n\t\t\t\t\t\t\t\tid=\"municipio\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvalue={municipio}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"cp\">* C.P:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* CP\"\n\t\t\t\t\t\t\t\tid=\"cp\"\n\t\t\t\t\t\t\t\tname=\"cp\"\n\t\t\t\t\t\t\t\tvalue={cp}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"telefono\">* Tel√©fono:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Telefono\"\n\t\t\t\t\t\t\t\tid=\"telefono\"\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvalue={telefono}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"masculino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MASCULINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"MASCULINO\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"masculino\"> Masculino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"FEMENINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"FEMENINO\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Femenino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MORAL\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"MORAL\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Persona Moral</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{genero === \"MORAL\" && (\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"indice\">Subindice:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-3\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Subindice\"\n\t\t\t\t\t\t\t\t\tid=\"indice\"\n\t\t\t\t\t\t\t\t\tname=\"indice\"\n\t\t\t\t\t\t\t\t\tvalue={indice}\n\t\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useReducer } from \"react\";\n\nimport { producersHeaders as headers } from \"../../helpers/constants/reportsColumns\";\nimport { loadProducersGlobal } from \"../../helpers/DB/loadProducersGlobal\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { productoresColumns } from \"../tables/configTables\";\nimport { productoresReducer } from \"./productoresReducer\";\nimport { ProductorDetail } from \"./ProductorDetail\";\nimport { EditProductorModal } from \"../modals/EditProductorModal\";\n\nexport const ProductoresModule = () => {\n\tconst initialState = {\n\t\tinputValue: \"\",\n\t\tcampo: \"\",\n\t\tproductores: [],\n\t\tproductorSelected: null,\n\t\topenEditModal: false,\n\t\tmsgError: null\n\t};\n\tconst [state, dispatch] = useReducer(productoresReducer, initialState);\n\t// console.log(state);\n\tconst { inputValue, campo, productores, productorSelected, openEditModal, msgError } = state;\n\n\tconst handleInputChange = ({ target }) => {\n\t\tdispatch({\n\t\t\ttype: \"setInput\",\n\t\t\tpayload: target.value\n\t\t});\n\t};\n\n\tconst handleSelectChange = ({ target }) => {\n\t\tdispatch({\n\t\t\ttype: \"setSelect\",\n\t\t\tpayload: target.value\n\t\t});\n\t};\n\n\tconst getProducers = async () => {\n\t\tif (campo.length) {\n\t\t\tconst productores = await loadProducersGlobal(inputValue, campo);\n\t\t\tdispatch({\n\t\t\t\ttype: \"setProductores\",\n\t\t\t\tpayload: productores\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setProductorSelected = (productor) => {\n\t\tdispatch({\n\t\t\ttype: \"setProductorSelected\",\n\t\t\tpayload: productor\n\t\t});\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetProducers();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<h4>Productores</h4>\n\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={campo}\n\t\t\t\t\t\t\t\t\tonChange={handleSelectChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-2\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={getProducers}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{productores.length > 0 && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={productores.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\t\t\t\tcolumns={productoresColumns}\n\t\t\t\t\t\t\tdata={productores}\n\t\t\t\t\t\t\tsimpleSetFunction={setProductorSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{productorSelected && (\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<ProductorDetail\n\t\t\t\t\t\t\t\tproductor={productorSelected}\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\treload={getProducers}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{openEditModal && (\n\t\t\t\t<EditProductorModal\n\t\t\t\t\topenEditModal={openEditModal}\n\t\t\t\t\tproductor={productorSelected}\n\t\t\t\t\tmsgError={msgError}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\treload={getProducers}\n\t\t\t\t\tresetProductor={setProductorSelected}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React, { useState } from \"react\";\nimport DatePicker from \"react-date-picker\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\nimport { setDictamenData } from \"../../actions/usuarios\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"450px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const DictamenModal = ({ isOpenModal, setDictamenFormState, setIsOpenDictamenPrint }) => {\n\tconst dispatch = useDispatch();\n\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst closeModal = () => {\n\t\tsetDictamenFormState({ isOpenDictamenForm: false });\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper();\n\tconst {\n\t\tnombreProductor = \"\",\n\t\thabilitadora = \"\",\n\t\tlaboresCulturales = \"\",\n\t\tdictamenTecnico = \"\",\n\t\tobservaciones = \"\"\n\t} = formValues;\n\tconst [cader, setCader] = useState(\"\");\n\tconst [fechaRiego, setFechaRiego] = useState(null);\n\tconst [fechaSiembraSeco, setFechaSiembraSeco] = useState(null);\n\tconst [fechaSiembraHumedo, setFechaSiembraHumedo] = useState(null);\n\n\t// console.log(cader);\n\t// console.log({ ...formValues, fechaRiego, fechaSiembraSeco, fechaSiembraHumedo });\n\n\tconst caders = [\n\t\t\"HECHICERA\",\n\t\t\"BENITO JUAREZ\",\n\t\t\"CERRO PRIETO\",\n\t\t\"GPR VICTORIA\",\n\t\t\"COLONIAS NUEVAS\",\n\t\t\"DELTA\",\n\t\t\"VALLE CHICO\"\n\t];\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(\n\t\t\t\tsetDictamenData({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tcader,\n\t\t\t\t\tfechaRiego,\n\t\t\t\t\tfechaSiembraSeco,\n\t\t\t\t\tfechaSiembraHumedo\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tsetIsOpenDictamenPrint(true);\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (nombreProductor.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre del productor\"));\n\t\t\treturn false;\n\t\t} else if (habilitadora.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere habilitadora\"));\n\t\t\treturn false;\n\t\t} else if (cader.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere cader\"));\n\t\t\treturn false;\n\t\t} else if (laboresCulturales.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere labores culturales\"));\n\t\t\treturn false;\n\t\t} else if (dictamenTecnico.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere dictamen t√©cnico\"));\n\t\t\treturn false;\n\t\t} else if (fechaRiego === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de riego\"));\n\t\t\treturn false;\n\t\t} else if (fechaSiembraSeco === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de siembra en seco\"));\n\t\t\treturn false;\n\t\t} else if (fechaSiembraHumedo === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de siembra en humedo\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo dictamen</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error \">{msgError}</div>}\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Nombre Productor:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"nombreProductor\"\n\t\t\t\t\t\t\tvalue={nombreProductor}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* habilitadora:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"habilitadora\"\n\t\t\t\t\t\t\tvalue={habilitadora}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* CADER:\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={cader}\n\t\t\t\t\t\t\tonChange={({ target }) => setCader(target.value)}\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\t\tSeleccionar CADER\n\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t{caders.map((cader) => (\n\t\t\t\t\t\t\t\t<option key={cader} value={cader}>\n\t\t\t\t\t\t\t\t\t{cader}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Labores Culturales:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"laboresCulturales\"\n\t\t\t\t\t\t\tvalue={laboresCulturales}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t{/* dictamen tecnico */}\n\t\t\t\t\t\t* Dictamen Tecnico:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"dictamenTecnico\"\n\t\t\t\t\t\t\tvalue={dictamenTecnico}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t{/* fecha de riego */}\n\t\t\t\t\t\t* Fecha de riego:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaRiego\"\n\t\t\t\t\t\t\tonChange={setFechaRiego}\n\t\t\t\t\t\t\tvalue={fechaRiego}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Fecha de siembra en seco:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaSiembraSeco\"\n\t\t\t\t\t\t\tonChange={setFechaSiembraSeco}\n\t\t\t\t\t\t\tvalue={fechaSiembraSeco}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Fecha de siembra en humedo:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaSiembraHumedo\"\n\t\t\t\t\t\t\tonChange={setFechaSiembraHumedo}\n\t\t\t\t\t\t\tvalue={fechaSiembraHumedo}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\tObservaciones:\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttabIndex=\"10\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\t\tname=\"observaciones\"\n\t\t\t\t\t\t\tvalue={observaciones}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error mt-3\">{msgError}</div>}\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\tRevisar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveDictamen = async (cuenta, ciclo, newDictamen) => {\n\treturn db\n\t\t.collection(`dictamenes`)\n\t\t.doc(ciclo)\n\t\t.collection(\"dictamenes\")\n\t\t.doc(cuenta)\n\t\t.set(newDictamen)\n\t\t.then(() => {\n\t\t\tSwal.fire(\"Dictamen Guardado\", \"Se registr√≥ con √©xito el dictamen.\", \"success\");\n\n\t\t\treturn true;\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\treturn false;\n\t\t});\n\n\t// const dictamenRef = db.collection(`dictamenes`).doc(ciclo).collection(\"dictamenes\").doc(cuenta);\n\n\t// try {\n\t// \tconst isSave = await db.runTransaction(async (transaction) => {\n\t// \t\tconst dictamenFile = await transaction.get(dictamenRef);\n\n\t// \t\tif (dictamenFile.exists) {\n\t// \t\t\tSwal.fire(\n\t// \t\t\t\t\"El dictamen ya existe\",\n\t// \t\t\t\t\"Est√° intentando sobreescribir un dictamen ya existente, verifique su conexi√≥n.\",\n\t// \t\t\t\t\"error\"\n\t// \t\t\t);\n\n\t// \t\t\tthrow new Error(\"El dictamen ya existe\");\n\t// \t\t} else {\n\t// \t\t\ttransaction.set(dictamenRef, newDictamen);\n\t// \t\t}\n\n\t// \t\treturn true;\n\t// \t});\n\n\t// \tif (isSave) {\n\t// \t\tSwal.fire(\"Dictamen Guardado\", \"Se registr√≥ con √©xito el dictamen.\", \"success\");\n\n\t// \t\treturn true;\n\t// \t}\n\t// } catch (error) {\n\t// \tSwal.fire(\"Error de conexi√≥n\", \"Error al intentar guardar dictamen.\", \"error\");\n\t// \tconsole.error(error);\n\t// \treturn false;\n\t// }\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setDictamenDataSaved } from \"../../actions/usuarios\";\nimport { saveDictamen } from \"../../helpers/saveDictamen\";\n\nexport const PrintDictamenModal = ({\n\tisOpenDictamenPrint,\n\tsetIsOpenDictamenPrint,\n\tsetDictamenFormState\n}) => {\n\tconst { padronScreen } = useSelector((state) => state.scenes);\n\tconst { dictamen } = padronScreen;\n\tconst { usuario } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tsetIsOpenDictamenPrint(false);\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst handleSaveDictamen = async () => {\n\t\tconst isSave = saveDictamen(`${usuario.cuenta}.${usuario.subcta}`, \"2021-2022\", {\n\t\t\t...dictamen,\n\t\t\testado: \"activo\"\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tdispatch(setDictamenDataSaved({ ...dictamen, estado: \"activo\" }));\n\t\t\tsetDictamenFormState({ isOpenDictamenForm: false });\n\t\t}\n\t};\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = new Date();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenDictamenPrint}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tSECRETARIA DE AGRICULTURA Y DESARROLLO RURAL <br />\n\t\t\t\t\t\tREPRESENTACION ESTATAL EN BAJA CALIFORNIA <br />\n\t\t\t\t\t\tCOMIT√â ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA <br />\n\t\t\t\t\t\tDICTAMEN TECNICO DE SIEMBRA CULTIVO ALGODONERO <br />\n\t\t\t\t\t\tCICLO PRIMAVERA VERANO 2022-22\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 80 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"d-flex justify-content-end pt-5\">\n\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">NOMBRE DEL PRODUCTOR: {dictamen.nombreProductor}</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tNOMBRE DEL PROPIETARIO: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 mt-2 mb-2\">\n\t\t\t\t<div className=\"col-4 pl-4\">UBICACION: {usuario.nombreLocalidad}</div>\n\t\t\t\t<div className=\"col-2\">PARCELA: {usuario.predio}</div>\n\t\t\t\t<div className=\"col-2\">SUP: {usuario.supFisica}</div>\n\t\t\t\t<div className=\"col-4\">No. CUENTA: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 mt-2 mb-2\">\n\t\t\t\t<div className=\"col-4 pl-4\">HABILITADORA: {dictamen.habilitadora}</div>\n\t\t\t\t<div className=\"col-2\">MODULO: {usuario.entidad}</div>\n\t\t\t\t<div className=\"col-6\">CADER: {dictamen.cader}</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">LABORES CULTURALES: {dictamen.laboresCulturales}</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE RIEGO: {dictamen.fechaRiego.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE SIEMBRA EN SECO: {dictamen.fechaSiembraSeco.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE SIEMBRA EN HUMEDO: {dictamen.fechaSiembraHumedo.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">DICTAMEN TECNICO: {dictamen.dictamenTecnico}</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tOBSERVACIONES:\n\t\t\t\t<div className=\"d-block w-100 rounded border\" style={{ height: 100 }}>\n\t\t\t\t\t{dictamen.observaciones}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column ml-3\">\n\t\t\t\t\t<p className=\"pb-5 text-center\">CESVBC</p>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>NOMBRE Y FIRMA</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{usuario.dictamen ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveDictamen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport {\n\tstartSetUsuarioSelected,\n\tunsetUsuarios,\n\tunsetUsuarioSelected\n} from \"../../actions/usuarios\";\nimport { UsuarioInput } from \"../permisos/inputsNuevosPermisos/UsuarioInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { UsuarioSelectedDetail } from \"./UsuarioSelectedDetail\";\nimport { UpdatePadronModule } from \"../ui/organisms/UpdatePadronModule\";\nimport { UpdateReacomodosModule } from \"../ui/organisms/UpdateReacomodosModule\";\nimport { DownloadPadronButton } from \"../ui/atoms/DownloadPadronButton\";\nimport { PrintConstancyModal } from \"../modals/PrintConstancyModal\";\nimport { ConstancyModule } from \"../ui/organisms/ConstancyModule\";\nimport { ProductoresModule } from \"./ProductoresModule\";\nimport { DictamenModal } from \"../modals/DictamenModal\";\nimport { PrintDictamenModal } from \"../modals/PrintDictamenModal\";\n\nexport const PadronScreen = () => {\n\tconst { usuarios, usuario } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { padronScreen } = useSelector((state) => state.scenes);\n\tconst { dictamen } = padronScreen;\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(unsetUsuarios());\n\t}, [dispatch]);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t}\n\n\tconst [global, setGlobal] = useState(false);\n\tconst handleSetGlogal = () => {\n\t\tsetGlobal(!global);\n\t};\n\n\tconst [modalState, setModalState] = useState({\n\t\topenModal: false,\n\t\tconstancySaved: false,\n\t\tconstancia: {}\n\t});\n\tconst { openModal, constancia, constancySaved } = modalState;\n\n\tconst [dictamenFormState, setDictamenFormState] = useState({\n\t\tisOpenDictamenForm: false\n\t});\n\tconst { isOpenDictamenForm } = dictamenFormState;\n\n\tconst [isOpenDictamenPrint, setIsOpenDictamenPrint] = useState(true);\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<h4>Consulta en padron de usuarios</h4>\n\t\t\t<div className=\"row mt-2 d-flex justify-content-start\">\n\t\t\t\t<div className=\"col-sm-1 mt-3\">\n\t\t\t\t\t{privilegios.accesoGlobal &&\n\t\t\t\t\t\t(global ? (\n\t\t\t\t\t\t\t<button onClick={handleSetGlogal} className=\"btn btn-primary mr-3\">\n\t\t\t\t\t\t\t\tGlobal\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button onClick={handleSetGlogal} className=\"btn btn-outline-primary mr-3\">\n\t\t\t\t\t\t\t\tGlobal\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<UsuarioInput global={global} />\n\n\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t<DownloadPadronButton />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{usuarios && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-8 mb-3\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t{usuario && (\n\t\t\t\t\t\t\t<UsuarioSelectedDetail\n\t\t\t\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\"></div>\n\n\t\t\t{privilegios.generarConstancias && (\n\t\t\t\t<ConstancyModule modalState={modalState} setModalState={setModalState} className=\"mt-5\" />\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\"></div>\n\n\t\t\t{privilegios.actualizarPadron && (\n\t\t\t\t<div className=\"border border-info rounded p-3 mt-3\">\n\t\t\t\t\t<h3 className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\tActualizar padron de usuarios y reacomodos\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdatePadronModule />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdateReacomodosModule />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{privilegios.editarProductores && (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<ProductoresModule />\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{openModal && (\n\t\t\t\t<PrintConstancyModal\n\t\t\t\t\topenModal={openModal}\n\t\t\t\t\tconstancia={constancia}\n\t\t\t\t\tconstancySaved={constancySaved}\n\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isOpenDictamenForm && (\n\t\t\t\t<DictamenModal\n\t\t\t\t\tisOpenModal={isOpenDictamenForm}\n\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\tsetIsOpenDictamenPrint={setIsOpenDictamenPrint}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{dictamen && (\n\t\t\t\t<PrintDictamenModal\n\t\t\t\t\tisOpenDictamenPrint={isOpenDictamenPrint}\n\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\tsetIsOpenDictamenPrint={setIsOpenDictamenPrint}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<br />\n\t\t</div>\n\t);\n};\n","import { types } from \"../types/types\";\n\nexport const setFormValues = (values) => ({\n\ttype: types.altaPermisosSetFormValues,\n\tpayload: values\n});\n\nexport const setOnSubmitData = (data) => ({\n\ttype: types.altaPermisosSetSubmitData,\n\tpayload: data\n});\n\nexport const unsetOnSubmitData = () => ({\n\ttype: types.altaPermisosUnsetSubmitData\n});\n\nexport const openPrintPermisoModal = () => ({\n\ttype: types.altaPermisoOpenPrintPermisoModal\n});\n\nexport const closePrintPermisoModal = () => ({\n\ttype: types.altaPermisoClosePrintPermisoModal\n});\n\nexport const setEnEspera = () => ({\n\ttype: types.altaPermisosSetEnEspera\n});\n\nexport const unsetEnEspera = () => ({\n\ttype: types.altaPermisosUnsetEnEspera\n});\n\nexport const startEnableSaveButton = () => ({\n\ttype: types.altaPermisosEnableSaveButton\n});\n\nexport const startDisableSaveButton = () => ({\n\ttype: types.altaPermisosDisableSaveButton\n});\n\nexport const startEnablePrintButton = () => ({\n\ttype: types.altaPermisosEnablePrintButton\n});\n\nexport const startDisablePrintButton = () => ({\n\ttype: types.altaPermisosDisablePrintButton\n});\n\nexport const setCuotaCultivo = (cuota) => ({\n\ttype: types.setCuotaCultivo,\n\tpayload: cuota\n});\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadCultivos = async (cultivo, include0) => {\n\tconst campos = [\"clave\", \"nombre\"];\n\tconst qrysCultivos = [];\n\tconst cultivos = [];\n\n\tcampos.forEach((campo) => {\n\t\tqrysCultivos.push(\n\t\t\tdb\n\t\t\t\t.collection(`cultivos`)\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(cultivo)\n\t\t\t\t.endAt(cultivo + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysCultivos.push(db.collection(`cultivos`).where(campo, \"==\", Number(cultivo)).get());\n\t});\n\n\tconst resolvedCultivosQrys = await Promise.all(qrysCultivos);\n\n\tresolvedCultivosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (include0) {\n\t\t\t\tcase \"nuevo\":\n\t\t\t\t\tif (snapHijo.data().clave !== 0) {\n\t\t\t\t\t\tcultivos.push({\n\t\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tcultivos.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (include0) {\n\t\t\t}\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { types } from \"../types/types\";\nimport { loadCultivos } from \"../helpers/loadCultivos\";\nimport { db } from \"../firebase/firebase-config\";\nimport { loadCiclo } from \"../helpers/DB/loadCiclo\";\nimport { goToElement } from \"../helpers/functions/assets\";\n\nexport const openCultivosModal = () => ({\n\ttype: types.altaPermisoOpenCultivosModal\n});\n\nexport const closeCultivosModal = () => ({\n\ttype: types.altaPermisoCloseCultivosModal\n});\n\nexport const openCultivoAnteriorModal = () => ({\n\ttype: types.altaPermisoOpenCultivoAnteriorModal\n});\n\nexport const closeCultivoAnteriorModal = () => ({\n\ttype: types.altaPermisoCloseCultivoAnteriorModal\n});\n\nexport const startLoadCultivos = (cultivo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(cultivo, \"nuevo\");\n\t\tconst cultivosConModulo = [];\n\t\tcultivos.forEach((cultivo) => {\n\t\t\tcultivosConModulo.push({ ...cultivo, modulo });\n\t\t});\n\t\tdispatch(setCultivos(cultivosConModulo));\n\t};\n};\n\nexport const setCultivos = (cultivos) => ({\n\ttype: types.loadCultivos,\n\tpayload: cultivos\n});\n\nexport const startLoadCultivosAnteriores = (cultivo) => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(cultivo, \"anterior\");\n\t\tdispatch(setCultivosAnteriores(cultivos));\n\t};\n};\n\nexport const setCultivosAnteriores = (cultivos) => ({\n\ttype: types.setCultivosAnteriores,\n\tpayload: cultivos\n});\n\nexport const loadSuperficiePrevia = async (ciclo, modulo, cultivo) => {\n\tconst supCultivo = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"permisosPorCultivo\")\n\t\t.doc(cultivo)\n\t\t.get();\n\n\tconst dataSup = { ...supCultivo.data() };\n\n\tconst superficies = {\n\t\tgravedadNormal: dataSup.hasOwnProperty(\"gravedadNormal\") ? dataSup.gravedadNormal : 0,\n\t\tgravedadExtra: dataSup.hasOwnProperty(\"gravedadExtra\") ? dataSup.gravedadExtra : 0,\n\t\tpozoNormal: dataSup.hasOwnProperty(\"pozoNormal\") ? dataSup.pozoNormal : 0,\n\t\tpozoExtra: dataSup.hasOwnProperty(\"pozoExtra\") ? dataSup.pozoExtra : 0,\n\t\tpozoParticularNormal: dataSup.hasOwnProperty(\"pozoParticularNormal\")\n\t\t\t? dataSup.pozoParticularNormal\n\t\t\t: 0,\n\t\tpozoParticularExtra: dataSup.hasOwnProperty(\"pozoParticularExtra\")\n\t\t\t? dataSup.pozoParticularExtra\n\t\t\t: 0\n\t};\n\treturn superficies;\n};\n\nexport const startSetCultivoSelected = (cultivo) => {\n\treturn async (dispatch) => {\n\t\tconst ciclo = await loadCiclo();\n\t\tconst superficiePrevia = await loadSuperficiePrevia(\n\t\t\tciclo,\n\t\t\tcultivo.modulo,\n\t\t\t`${cultivo.clave}-${cultivo.nombre}`\n\t\t);\n\n\t\tdispatch(setCultivoSelected({ ...cultivo, superficiePrevia }));\n\t\tgoToElement(\"superficieInput\");\n\t};\n};\n\nexport const setCultivoSelected = (cultivo) => ({\n\ttype: types.setCultivo,\n\tpayload: cultivo\n});\n\nexport const unsetCultivoSelected = () => ({\n\ttype: types.unsetCultivo\n});\n\nexport const setCultivoAnteriorSelected = (cultivo) => {\n\tgoToElement(\"productorInput\");\n\treturn {\n\t\ttype: types.setCultivoAnterior,\n\t\tpayload: cultivo\n\t};\n};\n\nexport const unsetCultivoAnteriorSelected = () => ({\n\ttype: types.unsetCultivoAnterior\n});\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadProductores = async (productor) => {\n\tconst usuariosSnap = await db\n\t\t.collection(`productores`)\n\t\t.orderBy(\"apPaterno\")\n\t\t.startAt(productor)\n\t\t.endAt(productor + \"\\uf8ff\")\n\t\t.get();\n\n\tconst productores = [];\n\n\tusuariosSnap.forEach((snapHijo) => {\n\t\tproductores.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn productores;\n};\n","import { types } from \"../types/types\";\nimport { loadProductores } from \"../helpers/loadProductores\";\nimport { goToElement } from \"../helpers/functions/assets\";\n\nexport const openProductoresModal = () => ({\n\ttype: types.altaPermisoOpenProductoresModal\n});\n\nexport const closeProductoresModal = () => ({\n\ttype: types.altaPermisoCloseProductoresModal\n});\n\nexport const startLoadProductores = (productor) => {\n\treturn async (dispatch) => {\n\t\tconst productores = await loadProductores(productor);\n\t\tdispatch(setProductores(productores));\n\t};\n};\n\nexport const setProductores = (productores) => ({\n\ttype: types.loadProductores,\n\tpayload: productores\n});\n\nexport const setProductorSelected = (idProductor) => {\n\tgoToElement(\"variedadInput\");\n\treturn {\n\t\ttype: types.setProductor,\n\t\tpayload: idProductor\n\t};\n};\n\nexport const unsetProductorSelected = () => ({\n\ttype: types.unsetProductor\n});\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\nimport firebase from \"firebase/app\";\n\nexport const savePermitTransaction = async (allData) => {\n\tconst data = {\n\t\tidUsuarioSelected: allData.idUsuarioSelected,\n\t\tcuenta: allData.cuenta,\n\t\tusuario: allData.usuario,\n\t\tsupDerecho: allData.supDerecho,\n\t\tlote: allData.lote,\n\t\tlocalidad: allData.nombreLocalidad,\n\t\tnombreLocalidad: allData.nombreLocalidad,\n\t\ttipoLocalidad: allData.tipoLocalidad,\n\t\tclaveLocalidad: allData.claveLocalidad,\n\t\tmunicipio: allData.municipio,\n\t\testado: allData.estado,\n\t\tmodulo: allData.modulo,\n\t\tzona: allData.zona,\n\t\tseccion: allData.seccion,\n\t\tcanal: allData.canal,\n\t\ttoma: allData.toma,\n\t\tsistema: allData.sistema,\n\t\tidProductorSelected: allData.idProductorSelected,\n\t\tnombreProductor: allData.nombreProductor,\n\t\trfcProductor: allData.rfcProductor,\n\t\tcurpProductor: allData.curpProductor ? allData.curpProductor : \"\",\n\t\tidCultivoSelected: allData.idCultivoSelected,\n\t\tnombreCultivo: allData.nombreCultivo,\n\t\tclaveCultivo: allData.claveCultivo,\n\t\tsubciclo: allData.subciclo,\n\t\tcuotaCultivo: allData.cuotaCultivo,\n\t\tsupPrevia: allData.supPrevia,\n\t\ttipo: allData.tipo,\n\t\tciclo: allData.ciclo,\n\t\tnumeroPermiso: allData.numeroPermiso,\n\t\tfechaEmicion: moment(allData.fechaEmicion).toDate(),\n\t\tfechaLimite: moment(allData.fechaLimite).toDate(),\n\t\tvigencia: moment(allData.vigencia).toDate(),\n\t\tvariedad: allData.variedad,\n\t\tsupAutorizada: allData.supAutorizada,\n\t\tfuenteCredito: allData.fuenteCredito,\n\t\tlatitud: allData.latitud,\n\t\tlongitud: allData.longitud,\n\t\tcultivoAnterior: allData.cultivoAnterior,\n\t\tidCultivoAnteriorSelected: allData.idCultivoAnteriorSelected,\n\t\tclaveCultivoAnterior: allData.claveCultivoAnterior,\n\t\tobservaciones: allData.observaciones,\n\t\tuid: allData.uid,\n\t\tname: allData.name,\n\t\tdotacionGravedad: allData.dotacionGravedad,\n\t\tdotacionPozo: allData.dotacionPozo,\n\t\ttitular: allData.titular,\n\t\ttransferencia: allData.transferencia,\n\t\testadoPermiso: allData.estadoPermiso,\n\t\treacomodo: allData.reacomodo ? allData.reacomodo : \"\",\n\t\tdireccion: allData.direccion\n\t};\n\n\tif (data.nombreCultivo === \"ALGODONERO\") {\n\t\tdata.tecnico = \"sinAsignar\";\n\t\tdata.desfoliado = false;\n\t\tdata.cosechado = false;\n\t\tdata.desvarado = false;\n\t\tdata.disqueado = false;\n\t\tdata.desarraigado = false;\n\t\tdata.superficieMapeada = 0;\n\t\tdata.pagado = false;\n\t\tdata.constanciaFitosanitaria = false;\n\t}\n\n\tconst permisosPorCultivoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.doc(`${data.claveCultivo}-${data.nombreCultivo}`);\n\n\tconst permisoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(data.numeroPermiso);\n\n\tconst contadorPermisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst permiso = await transaction.get(permisoRef);\n\t\t\tconst permisosPorCultivo = await transaction.get(permisosPorCultivoRef);\n\n\t\t\tif (permiso.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"El permiso ya existe\",\n\t\t\t\t\t\"Est√° intentando sobreescribir un permiso ya existente, verifique su conexi√≥n.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"El permiso ya existe!\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(permisoRef, data);\n\t\t\t\ttransaction.update(contadorPermisosRef, {\n\t\t\t\t\tnumeroPermisosModulo: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t});\n\n\t\t\t\tif (permisosPorCultivo.exists) {\n\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Permiso Guardado\", \"Se registr√≥ con √©xito el nuevo permiso de riego.\", \"success\");\n\t\t}\n\n\t\treturn isSave;\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Por favor intente m√°s tarde.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tclosePrintPermisoModal,\n\tstartDisableSaveButton,\n\tunsetOnSubmitData,\n\tstartEnablePrintButton,\n\tsetEnEspera,\n\tunsetEnEspera,\n\tstartEnableSaveButton,\n\tstartDisablePrintButton\n} from \"../../actions/altaPermisos\";\nimport { unsetCultivoAnteriorSelected, unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetProductorSelected } from \"../../actions/productores\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { savePermitTransaction } from \"../../helpers/DB/savePermitTransaction\";\n\nconst customStyles = {\n\tcontent: {\n\t\twidth: \"1125px\",\n\t\theight: \"1500px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nexport const PrintPermisoModal = ({ data, isNew }) => {\n\tconst { openPrintPermisoModal, enableSaveButton, enablePrintButton, enEspera } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closePrintPermisoModal());\n\t\tdispatch(unsetOnSubmitData());\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(unsetCultivoAnteriorSelected());\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(startEnableSaveButton());\n\t\tdispatch(startDisablePrintButton());\n\t\tdispatch(unsetEnEspera());\n\t};\n\n\tconst handleSavePermiso = async () => {\n\t\tdispatch(startDisableSaveButton());\n\t\tdispatch(setEnEspera());\n\n\t\tconst isSave = await savePermitTransaction(data);\n\t\tconsole.log(\"isSave en lugar: \", isSave);\n\n\t\tif (isSave) {\n\t\t\tdispatch(unsetEnEspera());\n\t\t\tdispatch(startEnablePrintButton());\n\t\t} else {\n\t\t\tdispatch(unsetEnEspera());\n\t\t\tdispatch(startEnableSaveButton());\n\t\t}\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst toUpper = (string) => {\n\t\tlet str = \"\";\n\t\tif (string) str = string;\n\t\treturn str.toUpperCase();\n\t};\n\n\tconst getDotacion = (sistema) => {\n\t\tif (sistema === \"Gravedad\") return data.dotacionGravedad;\n\t\tif (sistema === \"Pozo Federal\") return data.dotacionPozo;\n\t\tif (sistema === \"Pozo Particular\") return data.dotacionPozo;\n\t};\n\n\tconst defineModulo = () => {\n\t\tswitch (data.modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\tif (data.zona === 9) return \"9A\";\n\t\t\t\telse if (data.zona === 92) return \"9B\";\n\t\t\t\telse return data.zona;\n\n\t\t\tdefault:\n\t\t\t\treturn data.zona;\n\t\t}\n\t};\n\n\tconst defineTituloFirmaTitular = () => {\n\t\tswitch (data.modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn \"ENCARGADO/A\";\n\n\t\t\tdefault:\n\t\t\t\treturn \"PRESIDENTE\";\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openPrintPermisoModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModal pl-5 pr-5 pb-0 mb-0\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t{/* Marca de agua ***************************************************************** */}\n\n\t\t\t{data.estadoPermiso === \"activo\" ? (\n\t\t\t\t<></>\n\t\t\t) : (\n\t\t\t\t<div className=\"watermark rotar\">{data.estadoPermiso}</div>\n\t\t\t)}\n\n\t\t\t{/* Header ************************************************************************ */}\n\n\t\t\t<div className=\"row mt-5\"></div>\n\n\t\t\t<div className=\"row mt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-3 d-flex flex-column justify-content-center\">\n\t\t\t\t\t{/* <div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo SADER\" style={{ maxHeight: 35 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3\">\n\t\t\t\t\t\t<img src={\"./logos/srl.png\"} alt=\"Logo CRL\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">DISTRITO DE RIEGO R√çO COLORADO</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">S DE R.L. DE I.P. DE C.V.</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border border-dark rounded d-flex justify-content-left mt-4 w-200\">Folio: </div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-6 d-flex flex-column justify-content-center\">\n\t\t\t\t\t{/* <h1 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>PERMISO √öNICO DE SIEMBRA</b>\n\t\t\t\t\t</h1>\n\t\t\t\t\t<h3 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>DISTRITO DE RIEGO 014 R√çO COLORADO</b>\n\t\t\t\t\t</h3> */}\n\t\t\t\t\t<h2 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>Ciclo Agr√≠cola {data.ciclo}</b>\n\t\t\t\t\t</h2>\n\t\t\t\t\t{/* <h3 className=\"d-flex flex-column justify-content-center\">\n\t\t\t\t\t\t<div>{data.direccion}</div>\n\t\t\t\t\t</h3> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex flex-column justify-content-center\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t{/* <img\n\t\t\t\t\t\t\tsrc={\"./logos/cna.png\"}\n\t\t\t\t\t\t\talt=\"Logo comisi√≥n nacional del agua\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 50 }}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border border-dark rounded d-flex justify-content-center\">\n\t\t\t\t\t\t<h2 className=\"m-0\">\n\t\t\t\t\t\t\t<b>Folio: {data.numeroPermiso}</b>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t{moment(data.fechaEmicion).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos del usuario ******************************************************************* */}\n\t\t\t<div className=\"row mt-4\"></div>\n\t\t\t<div className=\"row mt-5\"></div>\n\t\t\t<h3 className=\"row d-flex justify-content-center\">\n\t\t\t\t<div>{data.direccion}</div>\n\t\t\t</h3>\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center border border-dark rounded\">\n\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS DEL USUARIO</div>\n\n\t\t\t\t<div className=\"d-flex justify-content-center border-top border-dark p-1 pb-0\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thect√°reas del lote: <b>{data.lote}</b> en la colonia/ejido <b>{data.nombreLocalidad}</b>\n\t\t\t\t\t\t, <b>{data.municipio}</b>, <b>{data.estado}</b>. M√≥dulo <b>{defineModulo()}</b>, secci√≥n{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.<br />\n\t\t\t\t\t\t{data.reacomodo && <b> Reacomodo: {data.reacomodo}</b>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Parrafo legal ********************************************************************** */}\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center\">\n\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\tCon base en el Acuerdo Nacional de Colaboraci√≥n entre la Secretar√≠a de Agricultura,\n\t\t\t\t\tGanader√≠a, Desarrollo Rural, Pesca y Alimentaci√≥n y el Acuerdo de Concertaci√≥n entre la\n\t\t\t\t\tSAGARPA, CONAGUA, Distrito de Riego R√≠o Colorado y la Sociedad de Responsabilidad Limitada\n\t\t\t\t\tcon el objetivo de regular en forma ordenada la expedici√≥n de Permisos √önicos de Siembra\n\t\t\t\t\tcon Derechos de Agua, y con fundamento en los art√≠culos 66, 67, 68, 69 y 69 Bis de la Ley\n\t\t\t\t\tde Aguas Nacionales; Reglamento de la Ley de Sanidad Fitopecuaria de los Estados Unidos\n\t\t\t\t\tMexicanos, en materia de sanidad vegetal, Normas Mexicanas, NOM-026-FITO-1995, que\n\t\t\t\t\testablece el control de plagas de algodonero, NOM-001-FITO-2001, para el manejo y\n\t\t\t\t\teliminaci√≥n de focos de infecci√≥n de plagas, mediante el reordenamiento de fechas de\n\t\t\t\t\tsiembra y destrucci√≥n de residuos. Se otorga el Permiso √önico de Siembra para que\n\t\t\t\t\testablezca exclusivamente el cultivo y superficie que se indica, apercibiendose que se\n\t\t\t\t\tpuede suspender el servicio de riego si se siembra superficie adicional o cultivo\n\t\t\t\t\tdiferente al autorizado en este permiso.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Detalle de cultivo y superficie ***************************************************** */}\n\n\t\t\t<div className=\"row m-3 mt-0 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DETALLES DEL CULTIVO</div>\n\t\t\t\t\t<div className=\"border-top border-dark p-1\">\n\t\t\t\t\t\tTipo de permiso: <b>{toUpper(data.tipo)}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreCultivo} (Clave: {data.claveCultivo})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSubciclo: <b>{data.subciclo}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSuperficie autorizada: <b>{data.supAutorizada} ha</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFecha l√≠mite de siembra: <b>{moment(data.fechaLimite).format(\"DD/MM/YYYY\")}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column border border-dark rounded\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">SUPERFICIE Y DOTACI√ìN VOLUM√âTRICA</div>\n\t\t\t\t\t<div className=\"row border-top border-dark d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Descripci√≥n</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Derecho de riego</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Utilizada Previamente</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Autorizada en este permiso</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Disponible</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Hect√°reas</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supDerecho}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supPrevia}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>{data.supAutorizada}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho - data.supPrevia - data.supAutorizada, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border p-0\">\n\t\t\t\t\t\t\t<div className=\"p-0 ml-2\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t\t\tl.p.s./24 hrs en Parcela\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supPrevia * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supAutorizada * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t(data.supDerecho - data.supPrevia - data.supAutorizada) *\n\t\t\t\t\t\t\t\t\t\tgetDotacion(data.sistema),\n\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<div className=\"ml-2\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t\t\tDotaci√≥n en condiciones normales. No incluye ajuste por reducciones establecidas en\n\t\t\t\t\t\t\t\tel acta 323 de la CILA que deber√° ser aplicado por el M√≥dulo de Riego.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos complementarios  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS COMPLEMENTARIOS</div>\n\t\t\t\t\t<div className=\"border-top border-dark p-1\">\n\t\t\t\t\t\tCultivo Anterior: <b>{data.cultivoAnterior}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFuente de cr√©dito: <b>{data.fuenteCredito}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tVariedad: <b>{data.variedad}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreProductor} ({data.curpProductor})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column p-0\">\n\t\t\t\t\t{/* Observaciones  ************************************************************* */}\n\t\t\t\t\t<div className=\"border border-dark rounded\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center \">OBSERVACIONES</div>\n\t\t\t\t\t\t<div className=\"border-top border-dark d-flex text-dotacion p-1\">\n\t\t\t\t\t\t\t<p>{data.observaciones}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Transferencia  ************************************************************* */}\n\t\t\t\t\t<div className=\"border border-dark rounded mt-3\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center \">TRANSFERENCIA</div>\n\t\t\t\t\t\t<div className=\"border-top border-dark d-flex text-dotacion p-1\">\n\t\t\t\t\t\t\t<p>{data.transferencia}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Firmas  ************************************************************* */}\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">M√≥dulo</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.titular}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">{defineTituloFirmaTitular()}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">\n\t\t\t\t\t\tSanidad Vegetal\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">\n\t\t\t\t\t\tFIRMA DEL USUARIO\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.usuario}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">Acepto de conformidad</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Advertencias  ************************************************************* */}\n\n\t\t\t<p className=\"row m-2\">\n\t\t\t\t<b>\n\t\t\t\t\t<u>\n\t\t\t\t\t\tADVERTENCIAS: (1) Es responsabilidad del usuario de este permiso, disponer de la\n\t\t\t\t\t\ttotalidad del volumen adicional requerido por el cultivo a establecer. (2) Para los\n\t\t\t\t\t\tsistemas de Gravedad y Pozo Federal un derecho de riego de 20 ha. alcanza para regar una\n\t\t\t\t\t\tsuperficie sembrada para el cultivo de Trigo = 20ha., Algod√≥n = 15ha., Alfalfa 13ha.,\n\t\t\t\t\t\tEsparrago = 16ha., y Sorgo forrajero temprano = 18ha.\n\t\t\t\t\t</u>\n\t\t\t\t</b>\n\t\t\t</p>\n\n\t\t\t{/* Encavezado sanidad  ************************************************************* */}\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\t<div className=\"col-2\"></div>\n\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t<div className=\"row d-flex justify-content-between\">\n\t\t\t\t\t\t<div className=\"border border-dark rounded mt-2 p-2\">Folio: {data.numeroPermiso}</div>\n\t\t\t\t\t\t<div className=\"border border-dark rounded mt-2 p-2\">\n\t\t\t\t\t\t\tBueno por: $ {roundToN(data.cuotaCultivo * data.supAutorizada, 3)} pesos M.N.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Resivo Sanidad  ************************************************************* */}\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<u>\n\t\t\t\t\t\t\tRecibimos de El/la C.{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{data.usuario} La cantidad de {roundToN(data.cuotaCultivo * data.supAutorizada, 3)}{\" \"}\n\t\t\t\t\t\t\t\tpesos M.N.\n\t\t\t\t\t\t\t</b>{\" \"}\n\t\t\t\t\t\t\tPor concepto de aportaci√≥n a las campa√±as Fitosanitarias, para el sostenimiento del\n\t\t\t\t\t\t\tcomit√© Estatal de Sanidad Vegetal.\n\t\t\t\t\t\t</u>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos usuario sanidad  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3\">\n\t\t\t\t<div className=\"col-2 d-flex flex-column\">\n\t\t\t\t\t{/* <div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">COMIT√â ESTATAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">SANIDAD VEGETAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">BAJA CALIFORNIA</div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-10 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center border-bottom border-dark\">\n\t\t\t\t\t\tDATOS DEL USUARIO\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p className=\"m-2\">\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thect√°reas del lote: <b>{data.lote}</b> en la colonia <b>{data.nombreLocalidad}</b>,{\" \"}\n\t\t\t\t\t\t<b>{data.municipio}</b>, <b>{data.estado}</b>. M√≥dulo <b>{defineModulo()}</b>, secci√≥n{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Logo sanidad  y botones************************************************************* */}\n\n\t\t\t<div className=\"row mb-0 pb-0\">\n\t\t\t\t<div className=\"col-12 d-flex justify-content-center align-items-center pt-2\">\n\t\t\t\t\t{enableSaveButton ? (\n\t\t\t\t\t\tisNew ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={handleSavePermiso}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enEspera ? (\n\t\t\t\t\t\t<div className=\"spinner-border border-dark text-primary\" role=\"status\">\n\t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enablePrintButton ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const cancelPermit = (permiso, modulo, ciclo, fecha, uid) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update({\n\t\t\testadoPermiso: \"Cancelado\",\n\t\t\tcuotaCultivo: 0,\n\t\t\tfechaCancelacion: fecha,\n\t\t\tapruebaCancelacion: uid\n\t\t});\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nexport const decrementPermisosExpedidos = (ciclo, modulo, supAutorizada) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.update({\n\t\t\t// numeroPermisosModulo: firebase.firestore.FieldValue.increment(-1),\n\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t});\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nexport const decrementPermisosPorCultivo = (\n\tciclo,\n\tmodulo,\n\tclaveCultivo,\n\tnombreCultivo,\n\tsistema,\n\ttipo,\n\tsupAutorizada\n) => {\n\tconst permisosPorCultivoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.doc(`${claveCultivo}-${nombreCultivo}`);\n\n\tswitch (sistema) {\n\t\tcase \"Gravedad\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"Pozo Federal\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"Pozo Particular\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\tbreak;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const getPermitStatus = async (permiso, modulo, ciclo) => {\n\tconst permit = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.get();\n\n\treturn permit.data().estadoPermiso;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startLoadPreCancelPermits, unsetPermitToCancel } from \"../../actions/permisosScreen\";\nimport { cancelPermit } from \"../../helpers/DB/cancelPermit\";\nimport { decrementPermisosExpedidos } from \"../../helpers/DB/decrementPermisosExpedidos\";\nimport { decrementPermisosPorCultivo } from \"../../helpers/DB/decrementPermisosPorCultivo\";\nimport { getPermitStatus } from \"../../helpers/DB/getPermitStatus\";\n\nexport const PermitToCancelCard = () => {\n\tconst { preCancelPermits, permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\tconst { uid } = useSelector((state) => state.auth);\n\n\tconst permit = preCancelPermits.find((perm) => perm.id === permitToCancelSelected);\n\tconst {\n\t\tnumeroPermiso,\n\t\tmotivoCancelacion,\n\t\tmodulo,\n\t\tclaveCultivo,\n\t\tnombreCultivo,\n\t\tsistema,\n\t\ttipo,\n\t\tsupAutorizada\n\t} = permit;\n\n\tconst elements = {\n\t\tMODULO: permit.modulo,\n\t\tCUENTA: permit.cuenta,\n\t\tUSUARIO: permit.usuario,\n\t\tCULTIVO: permit.nombreCultivo,\n\t\t\"SUPERFICIE (ha)\": permit.supAutorizada\n\t};\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Est√° a punto de cancelar el permiso ${numeroPermiso}, ¬øRealmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst permitStatus = await getPermitStatus(permitToCancelSelected, modulo, ciclo);\n\t\t\t\tconsole.log(\"permitStatus en lugar: \", permitStatus);\n\n\t\t\t\tif (permitStatus === \"En proceso de cancelaci√≥n\") {\n\t\t\t\t\tcancelPermit(permitToCancelSelected, modulo, ciclo, new Date(), uid);\n\t\t\t\t\tdecrementPermisosPorCultivo(\n\t\t\t\t\t\tciclo,\n\t\t\t\t\t\tmodulo,\n\t\t\t\t\t\tclaveCultivo,\n\t\t\t\t\t\tnombreCultivo,\n\t\t\t\t\t\tsistema,\n\t\t\t\t\t\ttipo,\n\t\t\t\t\t\tsupAutorizada\n\t\t\t\t\t);\n\t\t\t\t\tdecrementPermisosExpedidos(ciclo, modulo, supAutorizada);\n\t\t\t\t\tdispatch(startLoadPreCancelPermits(ciclo));\n\t\t\t\t\tdispatch(unsetPermitToCancel());\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Permiso cancelado\",\n\t\t\t\t\t\t`Se cancel√≥ con exito el permiso ${numeroPermiso}`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>{numeroPermiso}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"m-3\">\n\t\t\t\t<div className=\"row p-1 pl-2 text-warning\">\n\t\t\t\t\t<div className=\"col-4\">MOTIVO: </div>\n\t\t\t\t\t<div className=\"col-8\">{motivoCancelacion}</div>\n\t\t\t\t</div>\n\n\t\t\t\t{Object.entries(elements).map((element) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"row p-1 pl-2\" key={element[0]}>\n\t\t\t\t\t\t\t<div className=\"col-4\">{element[0]}: </div>\n\t\t\t\t\t\t\t<div className=\"col-8\">{element[1]}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t<div className=\"mb-3 d-flex justify-content-center\">\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger\" onClick={cancelarPermiso}>\n\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { setPermitToCancel, startLoadPreCancelPermits } from \"../../actions/permisosScreen\";\nimport { permisosColumns } from \"./configTables\";\nimport { CustomTable } from \"./CustomTable\";\n\nexport const PermitsCancelationTable = () => {\n\tconst { preCancelPermits } = useSelector((state) => state.permisosScreen);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tif (!preCancelPermits) {\n\t\tdispatch(startLoadPreCancelPermits(ciclo));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (preCancelPermits) {\n\t\tpreCancelPermits.forEach((permiso) => {\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t\t});\n\t\t});\n\t}\n\n\treturn (\n\t\t<CustomTable\n\t\t\ttitle=\"Permisos en proceso de cancelaci√≥n\"\n\t\t\tcolumns={permisosColumns}\n\t\t\tdata={permisosFormateados}\n\t\t\tsetFunction={setPermitToCancel}\n\t\t></CustomTable>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { PermitToCancelCard } from \"../../cards/PermitToCancelCard\";\nimport { PermitsCancelationTable } from \"../../tables/PermitsCancelationTable\";\n\nexport const PermitsCancellationModule = () => {\n\tconst { permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t<PermitsCancelationTable />\n\t\t\t</div>\n\t\t\t<div className=\"col-sm-4\">{permitToCancelSelected && <PermitToCancelCard />}</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\n\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { permisosColumns } from \"../tables/configTables\";\nimport {\n\tstartLoadPermisos,\n\tsetPermisoSelected,\n\tstartLoadPermisosSearch,\n\tstartLoadSuperficies\n} from \"../../actions/permisosScreen\";\nimport { openPrintPermisoModal } from \"../../actions/altaPermisos\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { setPermisoInCancelProces } from \"../../helpers/setPermisoInCancelProces\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { PermitsCancellationModule } from \"../ui/organisms/PermitsCancellationModule\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\n\nexport const PermisosScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected } = useSelector((state) => state.permisosScreen);\n\tconst { modulo, privilegios, expedicionActivaModulo, uid } = useSelector((state) => state.auth);\n\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo, expedicionActiva } = variablesGlobales;\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t\tdispatch(unsetUsuarioSelected());\n\t}, [dispatch, modulo, ciclo]);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(startLoadPermisosSearch(palabra, modulo, ciclo));\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese n√∫mero de permiso, n√∫mero de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet permisosFormateados = [];\n\n\tpermisos.forEach((permiso) => {\n\t\tpermisosFormateados.push({\n\t\t\t...permiso,\n\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t});\n\t});\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tlet dataPermisoImprecion = {};\n\n\tif (dataPermiso !== undefined) {\n\t\tdataPermisoImprecion = {\n\t\t\t...dataPermiso,\n\t\t\tfechaEmicion: dataPermiso.fechaEmicion.toDate(),\n\t\t\tfechaLimite: dataPermiso.fechaLimite.toDate(),\n\t\t\tvigencia: dataPermiso.vigencia.toDate()\n\t\t};\n\t}\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\tinput: \"textarea\",\n\t\t\tinputPlaceholder: \"Indique la raz√≥n por la que desea cancelar el permiso\",\n\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Est√° a punto de cancelar el permiso ${dataPermiso.numeroPermiso}, ¬øRealmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(({ isConfirmed, value: motivo }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tif (motivo.length > 0) {\n\t\t\t\t\tsetPermisoInCancelProces(permisoSelected, modulo, ciclo, motivo, uid);\n\t\t\t\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Solicitud recibida\",\n\t\t\t\t\t\t`Se inici√≥ el proceso de cancelaci√≥n para el permiso ${dataPermiso.numeroPermiso}`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire(\"Error\", `Indique la raz√≥n por la que desea cancelar el permiso`, \"warning\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst getDotacion = (sistema) => {\n\t\tif (sistema === \"Gravedad\") return dataPermiso.dotacionGravedad;\n\t\tif (sistema === \"Pozo Federal\") return dataPermiso.dotacionPozo;\n\t\tif (sistema === \"Pozo Particular\") return dataPermiso.dotacionPozo;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-4 p-2\">\n\t\t\t\t\t\t\t{expedicionActiva && expedicionActivaModulo && privilegios.expedirPermisos && (\n\t\t\t\t\t\t\t\t<NuevoPermisoButton />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-8 d-inline-flex p-2 pr-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"N√∫mero de permiso, n√∫mero de cuenta o apellido paterno\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={permisosColumns}\n\t\t\t\t\t\tdata={permisosFormateados}\n\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t></CustomTable>\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t\t\t\t<h5>{dataPermiso.numeroPermiso}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.usuario}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">PRODUCTOR:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreProductor}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CULTIVO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreCultivo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUBCICLO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.subciclo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUPERFICIE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supAutorizada} ha</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">DOTACION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{roundToN(getDotacion(dataPermiso.sistema) * dataPermiso.supAutorizada, 3)} lts\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SISTEMA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.sistema}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.localidad}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SECCION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.seccion}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">EXPEDICION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">FECHA LIMITE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">VIGENCIA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.vigencia.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">ESTADO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.estadoPermiso}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t\t\t\t<div className=\"col-6 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleOpenPrintPermisoModal}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-6 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t{dataPermiso.estadoPermiso === \"activo\" && privilegios.solicitarCancelarPermisos && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-danger\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={cancelarPermiso}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<SuperficiesChart />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{privilegios.cancelarPermisos && <PermitsCancellationModule />}\n\n\t\t\t<PrintPermisoModal data={dataPermisoImprecion} isNew={false} />\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const setPermisoInCancelProces = (permiso, modulo, ciclo, motivo, uid) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update({\n\t\t\testadoPermiso: \"En proceso de cancelaci√≥n\",\n\t\t\tmotivoCancelacion: motivo,\n\t\t\tsolicitanteCancelacion: uid,\n\t\t\tfechaSolicitudCancelacion: new Date()\n\t\t});\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeCultivosModal, startSetCultivoSelected } from \"../../actions/cultivos\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { cultivosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const CultivoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openCultivosModal, cultivos } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(cultivos);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeCultivosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openCultivosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron cultivos\" : \"Cultivos\"}\n\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetCultivoSelected}\n\t\t\t\tcloseFunction={closeCultivosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUsuariosModal, startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UsuarioModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openUsuariosModal, usuarios } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(usuarios);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUsuariosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openUsuariosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\tcloseFunction={closeUsuariosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import { types } from \"../types/types\";\nimport { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const openNuevoProductorModal = () => ({\n\ttype: types.altaPermisoOpenNuevoProductorModal\n});\n\nexport const closeNuevoProductorModal = () => ({\n\ttype: types.altaPermisoCloseNuevoProductorModal\n});\n\n// TODO: Comprobar que el rfc no exista\nexport const startSaveProductor = (productor) => {\n\treturn (dispatch) => {\n\t\tlet productorRef = db.collection(\"productores\").doc(productor.curp);\n\t\tif (productor.genero === \"MORAL\") {\n\t\t\tproductorRef = db.collection(\"productores\").doc(`${productor.curp}-PM`);\n\t\t}\n\n\t\tproductorRef.get().then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst { apPaterno, apMaterno, nombre, curp } = doc.data();\n\t\t\t\tSwal.fire(\n\t\t\t\t\t`El CURP ${curp} ya existe!`,\n\t\t\t\t\t`NOMBRE: ${apPaterno} ${apMaterno} ${nombre}`,\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tproductorRef.set(productor).then(() => {\n\t\t\t\t\tSwal.fire(\"Productor registrado\", \"Se registr√≥ con √©xito el nuevo productor.\", \"success\");\n\t\t\t\t\tdispatch(closeNuevoProductorModal());\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeProductoresModal, setProductorSelected } from \"../../actions/productores\";\nimport { openNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { productoresColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const ProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openProductoresModal, productores } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(productores);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t};\n\n\tconst changeProductorModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t\tdispatch(openNuevoProductorModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openProductoresModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron productores\" : \"Productores\"}\n\t\t\t\tcolumns={productoresColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setProductorSelected}\n\t\t\t\tcloseFunction={closeProductoresModal}\n\t\t\t></CustomTable>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={changeProductorModal}>\n\t\t\t\t\t<span>Registrar nuevo productor </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startSaveProductor } from \"../../actions/nuevoProductor\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const NuevoProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenNuevoProductorModal } = useSelector((state) => state.altaPermisos);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { uid } = useSelector((state) => state.auth);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeNuevoProductorModal());\n\t\tdispatch(removeError());\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper();\n\n\tconst {\n\t\tapPaterno = \"\",\n\t\tdireccion = \"\",\n\t\tapMaterno = \"\",\n\t\testado = \"\",\n\t\tnombre = \"\",\n\t\tmunicipio = \"\",\n\t\trfc = \"\",\n\t\tcp = \"\",\n\t\tgenero = \"\",\n\t\ttelefono = \"\",\n\t\tcurp = \"\"\n\t} = formValues;\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(\n\t\t\t\tstartSaveProductor({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tapPaterno: apPaterno.toUpperCase(),\n\t\t\t\t\tapMaterno: apMaterno.toUpperCase(),\n\t\t\t\t\tnombre: nombre.toUpperCase(),\n\t\t\t\t\tdireccion: direccion.toUpperCase(),\n\t\t\t\t\testado: estado.toUpperCase(),\n\t\t\t\t\tmunicipio: municipio.toUpperCase(),\n\t\t\t\t\trfc: rfc.toUpperCase(),\n\t\t\t\t\tcurp: curp.toUpperCase(),\n\t\t\t\t\ttelefono: telefono.replace(/ /g, \"\"),\n\t\t\t\t\tuid,\n\t\t\t\t\tfechaRegistro: new Date()\n\t\t\t\t})\n\t\t\t);\n\t\t\t// closeModal();\n\t\t\t// TODO: Seleccionar el nuebo productor recien guardado\n\t\t\t// TODO: Enviar mensaje de confirmacion para nuevo productor\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (apPaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido paterno\"));\n\t\t\treturn false;\n\t\t} else if (direccion.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere direccion\"));\n\t\t\treturn false;\n\t\t} else if (apMaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido materno\"));\n\t\t\treturn false;\n\t\t} else if (estado.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere estado\"));\n\t\t\treturn false;\n\t\t} else if (nombre.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre\"));\n\t\t\treturn false;\n\t\t} else if (municipio.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere municipio\"));\n\t\t\treturn false;\n\t\t} else if (curp.trim().length < 18 || curp.trim().length > 18) {\n\t\t\tdispatch(setError(\"CURP no valido\"));\n\t\t\treturn false;\n\t\t} else if (genero.length === 0) {\n\t\t\tdispatch(setError(\"Se requiere genero\"));\n\t\t\treturn false;\n\t\t} else if (genero === \"MORAL\" && rfc.trim().length !== 12) {\n\t\t\tdispatch(setError(\"RFC no valido\"));\n\t\t\treturn false;\n\t\t} else if (genero !== \"MORAL\" && rfc.trim().length !== 13) {\n\t\t\tdispatch(setError(\"RFC no valido\"));\n\t\t\treturn false;\n\t\t} else if (cp.trim().length < 5) {\n\t\t\tdispatch(setError(\"Codigo postal no valido\"));\n\t\t\treturn false;\n\t\t} else if (telefono.replace(/ /g, \"\").length < 10) {\n\t\t\tdispatch(setError(\"Telefono no valido\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenNuevoProductorModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo productor</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Paterno\"\n\t\t\t\t\t\t\tname=\"apPaterno\"\n\t\t\t\t\t\t\tvalue={apPaterno}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Direccion\"\n\t\t\t\t\t\t\tname=\"direccion\"\n\t\t\t\t\t\t\tvalue={direccion}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Materno\"\n\t\t\t\t\t\t\tname=\"apMaterno\"\n\t\t\t\t\t\t\tvalue={apMaterno}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Estado\"\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Nombre\"\n\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\tvalue={nombre}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Municipio\"\n\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\tvalue={municipio}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CURP\"\n\t\t\t\t\t\t\tname=\"curp\"\n\t\t\t\t\t\t\tvalue={curp}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CP\"\n\t\t\t\t\t\t\tname=\"cp\"\n\t\t\t\t\t\t\tvalue={cp}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* RFC\"\n\t\t\t\t\t\t\tname=\"rfc\"\n\t\t\t\t\t\t\tvalue={rfc}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Telefono\"\n\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\tvalue={telefono}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"masculino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MASCULINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"masculino\"> Masculino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"FEMENINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Femenino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MORAL\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Persona Moral</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseCultivosModal,\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const CultivoInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(closeCultivosModal());\n\t}, [dispatch]);\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst { claveEntidad } = useSelector((state) => state.auth);\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase(), claveEntidad));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tformValues.cultivo = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tcultivo: \"\"\n\t});\n\n\tconst { cultivo } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\t\t\t\t{idCultivoSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"cultivoInput\"\n\t\t\t\t\t\t\ttabIndex=\"2\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Clave o nombre del cultivo\"\n\t\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseProductoresModal,\n\topenProductoresModal,\n\tstartLoadProductores,\n\tunsetProductorSelected\n} from \"../../../actions/productores\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const ProductorInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(closeProductoresModal());\n\t}, [dispatch]);\n\n\tconst handleOpenProductoresModal = () => {\n\t\thandleLoadProductores();\n\t\tif (productor.length > 0) {\n\t\t\tdispatch(openProductoresModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno del productor\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadProductores = () => {\n\t\tdispatch(startLoadProductores(productor.toUpperCase()));\n\t};\n\n\tconst { idProductorSelected, nombreProductor } = useSelector((state) => state.altaPermisos);\n\n\tlet productorLabel = \"\";\n\n\tif (idProductorSelected) {\n\t\tproductorLabel = nombreProductor;\n\t}\n\n\tconst clearProductorInput = () => {\n\t\tdispatch(unsetProductorSelected());\n\t\tformValues.productor = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tproductor: \"\"\n\t});\n\n\tconst { productor } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenProductoresModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{productorLabel} </label>\n\t\t\t\t{idProductorSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"productorInput\"\n\t\t\t\t\t\t\ttabIndex=\"5\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\t\tname=\"productor\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={productor}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearProductorInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenProductoresModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UsuarioSelected = () => {\n\tconst { usuarios, idUsuarioSelected, supPrevia, supDerecho } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t{usuario.laboresPendientes && (\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"text-danger\">Labores fitosanitarias pendientes.</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">Cuenta: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t{usuario.tipoLocalidad}: {usuario.nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t{usuario.folio ? (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Derecho: {usuario.superficieTransferida}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Derecho: {supDerecho}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\tUsuario: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Lote: {usuario.predio}</div>\n\t\t\t\t{supDerecho - supPrevia === 0 ? (\n\t\t\t\t\t<div className=\"col-sm-3 text-danger\">Sup. Disponible: {supDerecho - supPrevia}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Disponible: {supDerecho - supPrevia}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t{usuario.reacomodo && <div className=\"text-info\">Reacomodo: {usuario.reacomodo}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Seccion: {usuario.seccion}</div>\n\t\t\t\t<div className=\"col-sm-3\">Sistema: {usuario.sistRiego}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const ProductorSelected = () => {\n\tconst { productores, idProductorSelected } = useSelector((state) => state.altaPermisos);\n\n\tlet rfc = \"\";\n\tlet productor = \"\";\n\tlet curp = \"\";\n\n\tproductores.forEach((element) => {\n\t\tif (element.id === idProductorSelected) {\n\t\t\trfc = element.rfc;\n\t\t\tcurp = element.curp;\n\t\t\tproductor = `${element.apPaterno} ${element.apMaterno} ${element.nombre}`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-5\">Productor: {productor}</div>\n\t\t\t\t<div className=\"col-sm-4\">CURP: {curp}</div>\n\t\t\t\t<div className=\"col-sm-3\">RFC: {rfc}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadContador = async (modulo, ciclo) => {\n\tlet contador = 0;\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tcontador = doc.data().numeroPermisosModulo;\n\t\t\t} else {\n\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.set({ numeroPermisosModulo: 0 });\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn contador;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const CultivoSelected = () => {\n\tconst { nombreCultivo, claveCultivo, subciclo, superficiePreviaCultivo, sistema } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\n\tconst { autorizadosPorCultivo } = useSelector((state) => state.autorizadosScreen);\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-12 d-inline-flex\">\n\t\t\t\t\t<div className=\"mr-4\">Cultivo: {nombreCultivo}</div>\n\t\t\t\t\t<div className=\"mr-4\">Clave: {claveCultivo}</div>\n\t\t\t\t\t<div className=\"mr-4\">Subciclo: {subciclo}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t\t<table className=\"table table-sm\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Superficie</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\tAutorizada\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\tAsignada\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\tExpedida\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\tDisponible\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{sistema === \"Gravedad\" && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{autorizadosPorCultivo.gravedadNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{autorizadosPorCultivo.gravedadNormalAsignada}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.gravedadNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{autorizadosPorCultivo.gravedadExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.gravedadExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.gravedadExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.gravedadExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{sistema === \"Pozo Federal\" && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoNormalAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada - superficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{sistema === \"Pozo Particular\" && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoNormalAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoParticularNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{autorizadosPorCultivo.pozoExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoParticularExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautorizadosPorCultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeCultivoAnteriorModal, setCultivoAnteriorSelected } from \"../../actions/cultivos\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { cultivosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const CultivoAnteriorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openCultivoAnteriorModal, cultivosAnteriores } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tlet data = [];\n\tdata = Object.values(cultivosAnteriores);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeCultivoAnteriorModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openCultivoAnteriorModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron cultivos\" : \"Cultivo Anterior\"}\n\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setCultivoAnteriorSelected}\n\t\t\t\tcloseFunction={closeCultivoAnteriorModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseCultivoAnteriorModal,\n\topenCultivoAnteriorModal,\n\tstartLoadCultivosAnteriores,\n\tunsetCultivoAnteriorSelected\n} from \"../../../actions/cultivos\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const CultivoAnteriorInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetCultivoAnteriorSelected());\n\t\tdispatch(closeCultivoAnteriorModal());\n\t}, [dispatch]);\n\n\tconst handleOpenCultivoAnteriorModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (nombreCultivoAnterior.length > 0) {\n\t\t\tdispatch(openCultivoAnteriorModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivosAnteriores(nombreCultivoAnterior.toUpperCase()));\n\t};\n\n\tconst { idCultivoAnteriorSelected, cultivoAnterior } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoAnteriorSelected) {\n\t\tcultivoLabel = cultivoAnterior;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoAnteriorSelected());\n\t\tformValues.cultivoAnterior = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tnombreCultivoAnterior: \"\"\n\t});\n\n\tconst { nombreCultivoAnterior } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivoAnteriorModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tCultivo Anterior:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\t\t\t\t{idCultivoAnteriorSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idCultivoAnteriorSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttabIndex=\"4\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Clave o nombre del cultivo\"\n\t\t\t\t\t\t\tname=\"nombreCultivoAnterior\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={nombreCultivoAnterior}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idCultivoAnteriorSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivoAnteriorModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { CultivoModal } from \"../modals/CultivoModal\";\nimport { UsuarioModal } from \"../modals/UsuarioModal\";\nimport { ProductorModal } from \"../modals/ProductorModal\";\nimport { NuevoProductorModal } from \"../modals/NuevoProductorModal\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { CultivoInput } from \"./inputsNuevosPermisos/CultivoInput\";\nimport { UsuarioInput } from \"./inputsNuevosPermisos/UsuarioInput\";\nimport { ProductorInput } from \"./inputsNuevosPermisos/ProductorInput\";\nimport { UsuarioSelected } from \"./inputsNuevosPermisos/UsuarioSelected\";\nimport { ProductorSelected } from \"./inputsNuevosPermisos/ProductorSelected\";\nimport {\n\tsetFormValues,\n\tsetOnSubmitData,\n\topenPrintPermisoModal,\n\tsetCuotaCultivo\n} from \"../../actions/altaPermisos\";\nimport { loadContador } from \"../../helpers/loadContador\";\nimport { removeError, setError } from \"../../actions/ui\";\n\nimport { startLoadAutorizadoPorCultivo } from \"../../actions/autorizadosScreen\";\nimport { CultivoSelected } from \"./inputsNuevosPermisos/CultivoSelected\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\nimport { CultivoAnteriorModal } from \"../modals/CultivoAnteriorModal\";\nimport { CultivoAnteriorInput } from \"./inputsNuevosPermisos/CultivoAnteriorInput\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const NuevoPermisoScreen = () => {\n\tconst {\n\t\tidUsuarioSelected,\n\t\tidProductorSelected,\n\t\tidCultivoSelected,\n\t\tsubciclo,\n\t\tnombreCultivo,\n\t\tsuperficiePreviaCultivo,\n\t\tusuarios\n\t} = useSelector((state) => state.altaPermisos);\n\tconst altaPermisos = useSelector((state) => state.altaPermisos);\n\tconst auth = useSelector((state) => state.auth);\n\tconst { variablesGlobales, expedicionActivaModulo } = auth;\n\tconst { cicloActual: ciclo, expedicionActiva } = variablesGlobales;\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { autorizadosPorCultivo } = useSelector((state) => state.autorizadosScreen);\n\n\tconst [formValues, handleInputChange, , , setValues] = useFormToUpper({\n\t\tvariedad: \"\",\n\t\tsupAutorizada: \"\",\n\t\tfuenteCredito: \"\",\n\t\tlatitud: \"\",\n\t\tlongitud: \"\",\n\t\tobservaciones: \"\",\n\t\ttransferencia: \"\",\n\t\tcuotaSanidad: true\n\t});\n\n\tconst { variedad, supAutorizada, fuenteCredito, observaciones, transferencia, cuotaSanidad } =\n\t\tformValues;\n\n\tconst permisoData = {\n\t\t...formValues,\n\t\t...altaPermisos,\n\t\t...auth\n\t};\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(removeError());\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadAutorizadoPorCultivo(ciclo, auth.modulo, altaPermisos.claveCultivo));\n\t}, [ciclo, dispatch, auth.modulo, altaPermisos.claveCultivo]);\n\n\tuseEffect(() => {\n\t\tconst cultivoSelected = altaPermisos.cultivos.find(\n\t\t\t(cultivo) => cultivo.id === altaPermisos.idCultivoSelected\n\t\t);\n\n\t\tconst defineCuota = () => {\n\t\t\tif (!cuotaSanidad) return 0;\n\t\t\tif (altaPermisos.idCultivoSelected) return cultivoSelected.costoHectarea;\n\t\t};\n\n\t\tdispatch(setCuotaCultivo(defineCuota()));\n\t}, [\n\t\tciclo,\n\t\tdispatch,\n\t\taltaPermisos.cuotaCultivo,\n\t\tcuotaSanidad,\n\t\taltaPermisos.cultivos,\n\t\taltaPermisos.idCultivoSelected\n\t]);\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst onSendForm = async (e) => {\n\t\tif (await isFormValid()) {\n\t\t\te.preventDefault();\n\t\t\tdispatch(setFormValues(formValues));\n\t\t\tdispatch(setOnSubmitData(await getOnSubmitData()));\n\t\t\thandleOpenPrintPermisoModal();\n\t\t}\n\t};\n\n\tconst getFechaLimite = () => {\n\t\tconsole.log(auth.modulo);\n\t\tswitch (auth.modulo) {\n\t\t\tcase \"1\":\n\t\t\tcase \"2\":\n\t\t\tcase \"3\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn altaPermisos.fechaLimiteSonora;\n\n\t\t\tdefault:\n\t\t\t\treturn altaPermisos.fechaLimiteBc;\n\t\t}\n\t};\n\n\tconst bloquearPorFechaLimite = () => {\n\t\tconst fechaLimite = getFechaLimite();\n\n\t\tif (fechaLimite) {\n\t\t\tconst hoy = new Date();\n\t\t\t// Firebase guarda en segundos (se requieren milisegundos)\n\t\t\tconst limite = new Date(fechaLimite.seconds * 1000);\n\n\t\t\tif (limite > hoy.getTime()) return false;\n\t\t\telse {\n\t\t\t\tif (altaPermisos.dictamen) return false;\n\t\t\t\telse return true;\n\t\t\t}\n\t\t} else return false;\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!expedicionActiva || !expedicionActivaModulo) {\n\t\t\tdispatch(setError(\"Expedici√≥n cerrada! Por el momento no es posible expedir permisos.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.usuario) {\n\t\t\tdispatch(setError(\"El campo usuario es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreProductor) {\n\t\t\tdispatch(setError(\"El campo productor es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreCultivo) {\n\t\t\tdispatch(setError(\"El campo cultivo es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (supAutorizada <= 0) {\n\t\t\tdispatch(setError(\"Ingrese la superficie que ser√° autorizada en este permiso.\"));\n\t\t\treturn false;\n\t\t} else if (altaPermisos.supDerecho - altaPermisos.supPrevia < parseInt(supAutorizada)) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"La superficie excede la superficie disponible de la cuenta seleccionada.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (altaPermisos.laboresPendientes) {\n\t\t\tdispatch(setError(\"La cuenta seleccionada tiene labores fitosanitarias pendientes.\"));\n\t\t\treturn false;\n\t\t} else if (!fuenteCredito) {\n\t\t\tdispatch(setError(\"Especifique la fuente de cr√©dito.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.cultivoAnterior) {\n\t\t\tdispatch(setError(\"Especifique el cultivo anterior.\"));\n\t\t\treturn false;\n\t\t} else if (\n\t\t\tautorizadosPorCultivo === undefined ||\n\t\t\tdefineTipoPermiso(superficiePreviaCultivo, autorizadosPorCultivo) ===\n\t\t\t\t\"Superficie no disponible\"\n\t\t) {\n\t\t\tdispatch(setError(\"La superficie asignada para el cultivo no es suficiente.\"));\n\t\t\treturn false;\n\t\t} else if (bloquearPorFechaLimite()) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t\"La fecha l√≠mite para la expedici√≥n de este cultivo ha expirado. Se requiere dictamen t√©cnico de siembra.\"\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\t\treturn true;\n\t};\n\n\tconst getOnSubmitData = async () => {\n\t\tconst data = {\n\t\t\ttipo: defineTipoPermiso(superficiePreviaCultivo, autorizadosPorCultivo),\n\t\t\tciclo,\n\t\t\tnumeroPermiso: await defineNumeroPermiso(),\n\t\t\tfechaEmicion: moment(),\n\t\t\tfechaLimite: defineFechaLimite(nombreCultivo),\n\t\t\tvigencia: defineVigencia(subciclo),\n\t\t\testadoPermiso: await defineEstadoPermiso(nombreCultivo)\n\t\t};\n\n\t\treturn data;\n\t};\n\n\t// TODO: Probar defineTipoPermiso (es necesario conciderar el acumulado de lo expedido para cada cultivo)\n\tconst defineTipoPermiso = (superficiePreviaCultivo, autorizadosPorCultivo) => {\n\t\tconst { gravedadNormalAsignada, gravedadExtraAsignada, pozoNormalAsignada, pozoExtraAsignada } =\n\t\t\tautorizadosPorCultivo;\n\n\t\tconst {\n\t\t\tgravedadNormal: gravedadNormalPrevia,\n\t\t\tgravedadExtra: gravedadExtraPrevia,\n\t\t\tpozoNormal: pozoNormalPrevia,\n\t\t\tpozoExtra: pozoExtraPrevia,\n\t\t\tpozoParticularNormal: pozoParticularNormalPrevia,\n\t\t\tpozoParticularExtra: pozoParticularExtraPrevia\n\t\t} = superficiePreviaCultivo;\n\n\t\tswitch (altaPermisos.sistema) {\n\t\t\tcase \"Gravedad\":\n\t\t\t\tif (roundToN(gravedadNormalAsignada - gravedadNormalPrevia, 4) >= supAutorizada)\n\t\t\t\t\treturn \"normal\";\n\t\t\t\tif (roundToN(gravedadExtraAsignada - gravedadExtraPrevia, 4) >= supAutorizada)\n\t\t\t\t\treturn \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tcase \"Pozo Federal\":\n\t\t\t\tif (roundToN(pozoNormalAsignada - pozoNormalPrevia, 4) >= supAutorizada) return \"normal\";\n\t\t\t\tif (roundToN(pozoExtraAsignada - pozoExtraPrevia, 4) >= supAutorizada) return \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tcase \"Pozo Particular\":\n\t\t\t\tif (roundToN(pozoNormalAsignada - pozoParticularNormalPrevia, 4) >= supAutorizada)\n\t\t\t\t\treturn \"normal\";\n\t\t\t\tif (roundToN(pozoExtraAsignada - pozoParticularExtraPrevia, 4) >= supAutorizada)\n\t\t\t\t\treturn \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tdefault:\n\t\t\t\treturn \"Superficie no disponible\";\n\t\t}\n\t};\n\n\tconst defineNumeroPermiso = async () => {\n\t\tif (altaPermisos.sistema === \"Pozo Particular\") {\n\t\t\tconst permiso = `${auth.modulo}-${fill((await loadContador(auth.modulo, ciclo)) + 1, 4)}`;\n\t\t\treturn permiso;\n\t\t} else {\n\t\t\tconst permiso = `MOD${auth.modulo}-${fill((await loadContador(auth.modulo, ciclo)) + 1, 4)}`;\n\t\t\treturn permiso;\n\t\t}\n\t};\n\n\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\n\tconst defineVigencia = (subciclo) => {\n\t\t// TODO: Determinar la vigencia segun subciclo y fecha de emicion\n\t\tlet vigencia = null;\n\t\tif (subciclo) {\n\t\t\tswitch (subciclo) {\n\t\t\t\tcase \"PRIMAVERA-VERANO\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"OTO√ëO-INVIERNO\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENNES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvigencia = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn vigencia;\n\t};\n\n\tconst defineEstadoPermiso = async (/* cultivo */) => {\n\t\t// let estado = \"\";\n\n\t\t// if (cultivo === \"ALGODONERO\") estado = \"pendiente\";\n\t\t// else estado = \"activo\";\n\n\t\treturn \"activo\";\n\t};\n\n\tconst defineFechaLimite = (cultivo) => {\n\t\tif (cultivo === \"TRIGO\") return moment(\"12/31/2021\");\n\t\telse return moment(\"03/31/2022\");\n\t};\n\n\tconst setTransferComent = useCallback(\n\t\t(folio, lote, tipolocalidad, localidad) => {\n\t\t\tsetValues((values) => ({\n\t\t\t\t...values,\n\t\t\t\tobservaciones: `TRANSFERENCIA FOLIO ${folio} EN EL LOTE ${lote}, ${tipolocalidad.toUpperCase()} ${localidad}`\n\t\t\t}));\n\t\t},\n\t\t[setValues]\n\t);\n\n\tuseEffect(() => {\n\t\tif (idUsuarioSelected) {\n\t\t\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\t\t\tif (usuario.folio) {\n\t\t\t\tsetTransferComent(\n\t\t\t\t\tusuario.folio,\n\t\t\t\t\tusuario.loteDestino,\n\t\t\t\t\tusuario.tipolocalidadDestino,\n\t\t\t\t\tusuario.localidadDestino\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [idUsuarioSelected, usuarios, setTransferComent]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Alta de permiso unico de siembra</h1>\n\t\t\t</div>\n\n\t\t\t{/* TODO: indicar cuando un campo es incorrecto directamente en los inputs */}\n\t\t\t{/* TODO: Checkbox para transferencia interna */}\n\t\t\t<form className=\"container pb-4\">\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t{idUsuarioSelected && <UsuarioSelected />}\n\t\t\t\t{idProductorSelected && <ProductorSelected />}\n\t\t\t\t{idCultivoSelected && autorizadosPorCultivo && superficiePreviaCultivo && (\n\t\t\t\t\t<CultivoSelected />\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<UsuarioInput />\n\t\t\t\t\t<ProductorInput />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<CultivoInput />\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tVariedad:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid=\"variedadInput\"\n\t\t\t\t\t\t\t\t\ttabIndex=\"6\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"variedad\"\n\t\t\t\t\t\t\t\t\tname=\"variedad\"\n\t\t\t\t\t\t\t\t\tvalue={variedad}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tSuperficie:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid=\"superficieInput\"\n\t\t\t\t\t\t\t\t\ttabIndex=\"3\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"superficie\"\n\t\t\t\t\t\t\t\t\tname=\"supAutorizada\"\n\t\t\t\t\t\t\t\t\tvalue={supAutorizada}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tFuente de credito:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"7\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"fuente de credito\"\n\t\t\t\t\t\t\t\t\tname=\"fuenteCredito\"\n\t\t\t\t\t\t\t\t\tvalue={fuenteCredito}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<CultivoAnteriorInput />\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">Transferencia interna:</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"8\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cuenta destino\"\n\t\t\t\t\t\t\t\t\tname=\"transferencia\"\n\t\t\t\t\t\t\t\t\tvalue={transferencia}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group row p-3\">\n\t\t\t\t\t\t\t<label className=\"mr-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"9\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\tid=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tname=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tvalue={cuotaSanidad}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tchecked={cuotaSanidad}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cuotaSanidad\">\n\t\t\t\t\t\t\t\t\tCobrar cuota de sanidad vegetal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttabIndex=\"10\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Observaciones\"\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\tname=\"observaciones\"\n\t\t\t\t\t\tvalue={observaciones}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tInformaci√≥n adicional\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-5 d-print-none\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"11\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={onSendForm}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"far fa-file\"></i>\n\t\t\t\t\t\t<span> Revisar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<CultivoModal />\n\t\t\t<CultivoAnteriorModal />\n\t\t\t<UsuarioModal />\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<PrintPermisoModal data={permisoData} isNew={true} />\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UserCard = () => {\n\tconst { usuario } = useSelector((state) => state.entidades);\n\n\tconst {\n\t\tcuenta,\n\t\tsubcta,\n\t\tnombreLocalidad,\n\t\tsupRiego,\n\t\tpredio,\n\t\tsupPrevia,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tseccion,\n\t\ttipoLocalidad\n\t} = usuario;\n\n\tconst derechoDisponible = supRiego - supPrevia;\n\tconst nombreUsuario = `${apPaterno} ${apMaterno} ${nombre}`;\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<h3>Cuenta: {`${cuenta}.${subcta}`}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column p-4\">\n\t\t\t\t<div>Usuario: {nombreUsuario}</div>\n\t\t\t\t<div>Lote: {predio}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipoLocalidad}: {nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t<div>Seccion: {seccion}</div>\n\t\t\t\t<div>Sup. Derecho: {supRiego}</div>\n\t\t\t\t<div>Sup. Disponible: {derechoDisponible}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\n\nexport const CultivoInput2 = ({ cultivo, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase()));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tcultivo = \"\";\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tCultivo:\n\t\t\t</label>\n\n\t\t\t{idCultivoSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Cultivo\"\n\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLocaltiesFromPermits = async () => {\n\tconst permisosSnap = db.collectionGroup(\"permisos\").where(\"ciclo\", \"==\", \"2020-2021\");\n\tconst localtiesIds = [];\n\tconst localties = [];\n\tconst padronLocalties = [];\n\tconst padronLocaltiesSnap = await db.collectionGroup(\"colonias\").get();\n\n\tpadronLocaltiesSnap.forEach((localtie) => {\n\t\tpadronLocalties.push({ id: localtie.id, ...localtie.data() });\n\t});\n\n\tawait permisosSnap.get().then((permisos) => {\n\t\tpermisos.forEach((permiso) => {\n\t\t\tif (permiso.data().claveLocalidad && !localtiesIds.includes(permiso.data().claveLocalidad)) {\n\t\t\t\tlocaltiesIds.push(permiso.data().claveLocalidad);\n\t\t\t\tlocalties.push({\n\t\t\t\t\tid: getLocaltieId(permiso.data().claveLocalidad, padronLocalties),\n\t\t\t\t\tclave: permiso.data().claveLocalidad,\n\t\t\t\t\tubicacion: permiso.data().ubicacion,\n\t\t\t\t\ttipo: permiso.data().tipoLocalidad,\n\t\t\t\t\ttecnico: getTechnician(permiso.data().claveLocalidad, padronLocalties)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\treturn localties;\n};\n\nconst getTechnician = (id, localties) => {\n\tconst localtie = localties.find((localtie) => localtie.clave === id);\n\n\tif (localtie.tecnico) return localtie.tecnico;\n\telse return \"Sin asignar\";\n};\n\nconst getLocaltieId = (clave, localties) => {\n\tconst localtie = localties.find((localtie) => localtie.clave === clave);\n\n\treturn localtie.id;\n};\n","import { types } from \"../../types/types\";\nimport { loadLocaltiesFromPermits } from \"../../helpers/loadLocaltiesFromPermits\";\nimport { loadLocaltiesGroup } from \"../../helpers/loadLocaltiesGroup\";\nimport { assignTechnician } from \"../../helpers/assignTechnician\";\nimport { loadLocalties } from \"../../helpers/DB/loadLocalties\";\n\nexport const startLoadLocaltiesFromUnassignedPermits = () => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocaltiesFromPermits();\n\t\tconst localtiesData = await loadLocaltiesGroup(localties);\n\t\tdispatch(setLocalties(localtiesData));\n\t};\n};\n\nexport const startAssignTechnician = (ciclo, modulo, localtiesNames, uid) => {\n\tassignTechnician(ciclo, modulo, localtiesNames, uid);\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(startLoadLocaltiesFromUnassignedPermits());\n\t\tdispatch(unsetLocalties());\n\t\tdispatch(unsetSelectedLocalties());\n\t};\n};\n\nexport const startLoadLocalties = (localtie) => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocalties(localtie);\n\t\tdispatch(setLocalties(localties));\n\t};\n};\n\nexport const setLocalties = (localties) => ({\n\ttype: types.setLocalties,\n\tpayload: localties\n});\n\nexport const unsetLocalties = () => ({\n\ttype: types.unsetLocalties\n});\n\nexport const setSelectedLocalties = (localties) => ({\n\ttype: types.setSelectedLocalties,\n\tpayload: localties\n});\n\nexport const unsetSelectedLocalties = () => ({\n\ttype: types.unsetSelectedLocalties\n});\n\nexport const setLocaltieSelected = (localtie) => ({\n\ttype: types.setLocaltieSelected,\n\tpayload: localtie\n});\n\nexport const unsetLocaltieSelected = () => ({\n\ttype: types.unsetLocaltieSelected\n});\n\nexport const openLocaltiesModal = () => ({\n\ttype: types.openLocaltiesModal\n});\n\nexport const closeLocaltiesModal = () => ({\n\ttype: types.closeLocaltiesModal\n});\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenLocaltiesModal,\n\tstartLoadLocalties,\n\tunsetLocaltieSelected\n} from \"../../../actions/entidades/localidades\";\n\nexport const LocalidadInput = ({ localtie, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenLocaltiesModal = () => {\n\t\thandleLoadLocalties();\n\t\tif (localtie.length > 0) {\n\t\t\tdispatch(openLocaltiesModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre de la localidad\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadLocalties = () => {\n\t\tdispatch(startLoadLocalties(localtie.toUpperCase()));\n\t};\n\n\tconst { localtieSelected } = useSelector((state) => state.entidades);\n\n\tlet localtieLabel = \"\";\n\tlet idLocaltieSelected = \"\";\n\n\tif (localtieSelected) {\n\t\tlocaltieLabel = localtieSelected.nombre;\n\t\tidLocaltieSelected = localtieSelected.id;\n\t}\n\n\tconst clearLocaltieInput = () => {\n\t\tdispatch(unsetLocaltieSelected());\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenLocaltiesModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group d-flex flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tLocalidad destino:\n\t\t\t</label>\n\n\t\t\t{idLocaltieSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label>{localtieLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearLocaltieInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control d-flex\"\n\t\t\t\t\t\tplaceholder=\"Localidad\"\n\t\t\t\t\t\tname=\"localtie\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={localtie}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenLocaltiesModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getTranseferCount = async (modulo, ciclo) => {\n\tconst counter = await db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().numeroTransferenciasModulo;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexi√≥n\",\n\t\t\t\t\"Error al intentar obtener el contador de transferencias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { CultivoInput2 } from \"../permisos/inputsNuevosPermisos/CultivoInput2\";\nimport { LocalidadInput } from \"../permisos/inputsNuevosPermisos/LocalidadInput\";\nimport { getTranseferCount } from \"../../helpers/DB/getTransferCount\";\nimport { openTransferModal, setNuevaTransferencia } from \"../../actions/transferenciasScreen\";\n\nexport const TransferForm = ({ values, handleInputChange }) => {\n\tconst { usuario, localtieSelected } = useSelector((state) => state.entidades);\n\tconst { nombreCultivo, claveCultivo } = useSelector((state) => state.altaPermisos);\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst {\n\t\tsuperficieTransferida,\n\t\tloteDestino,\n\t\tmoduloDestino,\n\t\tcultivo,\n\t\tlocaltie,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante\n\t} = values;\n\n\tlet superficieDisponible;\n\n\tif (usuario) {\n\t\tsuperficieDisponible = usuario.supRiego - usuario.supPrevia;\n\t}\n\n\tconst dispatch = useDispatch();\n\n\tconst isFormValid = () => {\n\t\tif (superficieTransferida <= 0) {\n\t\t\tdispatch(setError(\"Indique superficie a transferir\"));\n\t\t\treturn false;\n\t\t} else if (superficieTransferida > superficieDisponible) {\n\t\t\tdispatch(setError(\"La superficie a transferir excede a la superficie disponible\"));\n\t\t\treturn false;\n\t\t} else if (nombreCultivo === null) {\n\t\t\tdispatch(setError(\"Indique Cultivo\"));\n\t\t\treturn false;\n\t\t} else if (apPaternoSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique apellido paterno del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (apMaternoSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique apellido materno del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (nombreSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique nombre del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (moduloDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique el m√≥dulo destino\"));\n\t\t\treturn false;\n\t\t} else if (localtieSelected === null || localtieSelected === undefined) {\n\t\t\tdispatch(setError(\"Indique la localidad destino\"));\n\t\t\treturn false;\n\t\t} else if (loteDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique el lote en el que se aplicar√° la transferencia\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\n\tconst defineFolio = async () => {\n\t\tconst counter = await getTranseferCount(moduloDestino === \"DEV\" ? \"dev\" : moduloDestino, ciclo);\n\t\tif (counter !== false) {\n\t\t\tconst folio = `M${moduloDestino === \"DEV\" ? \"dev\" : moduloDestino}-${fill(counter + 1, 3)}`;\n\t\t\treturn folio;\n\t\t} else return null;\n\t};\n\n\tconst startSaveTransfer = async (e) => {\n\t\te.preventDefault();\n\t\tif (isFormValid()) {\n\t\t\tconst transfer = {\n\t\t\t\t...usuario,\n\t\t\t\tfolio: await defineFolio(),\n\t\t\t\tciclo,\n\t\t\t\testadoTransferencia: \"PENDIENTE\",\n\t\t\t\tsuperficieTransferida,\n\t\t\t\tloteDestino,\n\t\t\t\tmoduloDestino: moduloDestino === \"DEV\" ? \"dev\" : moduloDestino,\n\t\t\t\tapPaternoSolicitante,\n\t\t\t\tapMaternoSolicitante,\n\t\t\t\tnombreSolicitante,\n\t\t\t\tnombreCultivo,\n\t\t\t\tclaveCultivo,\n\t\t\t\tlocalidadDestino: localtieSelected.nombre,\n\t\t\t\tclavelocalidadDestino: localtieSelected.clave,\n\t\t\t\ttipolocalidadDestino: localtieSelected.tipo,\n\t\t\t\tfecha: new Date()\n\t\t\t};\n\n\t\t\tif (transfer.folio !== null) {\n\t\t\t\tdispatch(setNuevaTransferencia(transfer));\n\t\t\t\tdispatch(openTransferModal());\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartSaveTransfer(event);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"border border-info rounded mt-4\">\n\t\t\t\t<div className=\"d-flex justify-content-center border-bottom border-info p-2\">\n\t\t\t\t\t<h3>Transferencia</h3>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"d-flex flex-column p-3\">\n\t\t\t\t\t<div className=\"row d-flex p-3 text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tSuperficie a transferir (ha):\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\tplaceholder=\"0 ha\"\n\t\t\t\t\t\t\tname=\"superficieTransferida\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={superficieTransferida}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t<CultivoInput2 cultivo={cultivo} handleInputChange={handleInputChange} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"border rounded p-2\">\n\t\t\t\t\t\tDatos del solicitante\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tApellido paterno:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\t\t\tname=\"apPaternoSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={apPaternoSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tApellido materno:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Apellido materno\"\n\t\t\t\t\t\t\t\tname=\"apMaternoSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={apMaternoSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tNombre:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\t\t\t\tname=\"nombreSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={nombreSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tModulo destino:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"moduloDestino\"\n\t\t\t\t\t\t\tvalue={moduloDestino}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\tModulo\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t\t\t<option value=\"9A\">Modulo 9A</option>\n\t\t\t\t\t\t\t<option value=\"9B\">Modulo 9B</option>\n\t\t\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t\t\t<option value=\"23\">Modulo 23</option>\n\t\t\t\t\t\t\t<option value=\"dev\">Modulo dev</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t<LocalidadInput localtie={localtie} handleInputChange={handleInputChange} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tLote destino:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\tplaceholder=\"Lote\"\n\t\t\t\t\t\t\tname=\"loteDestino\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={loteDestino}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary flex-fill\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={startSaveTransfer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>Revisar </span>\n\t\t\t\t\t\t\t<i className=\"far fa-file\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { startLoadUsuarios } from \"../../actions/usuarios\";\n\nexport const UsuariosInput = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLoadUsuarios = () => {\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo, ciclo));\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tusuario: \"\"\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleLoadUsuarios();\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<div className=\"form-group d-flex align-items-baseline\">\n\t\t\t\t<label>Usuario: </label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control ml-5\"\n\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={usuario}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleLoadUsuarios}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\n\nexport const UsuariosTable = () => {\n\tconst { usuarios } = useSelector((state) => state.entidades);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeLocaltiesModal, setLocaltieSelected } from \"../../actions/entidades/localidades\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { localtiesColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const LocalidadesModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openLocaltiesModal, localties } = useSelector((state) => state.entidades);\n\tlet data = [];\n\n\tif (localties) {\n\t\tdata = Object.values(localties);\n\t}\n\n\tconst closeModal = () => {\n\t\tdispatch(closeLocaltiesModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openLocaltiesModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron localidades\" : \"Localidades\"}\n\t\t\t\tcolumns={localtiesColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setLocaltieSelected}\n\t\t\t\tcloseFunction={closeLocaltiesModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveTransfer = async (transfer, ciclo) => {\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transfer.moduloDestino}`)\n\t\t.collection(`transferencias`)\n\t\t.doc(transfer.folio);\n\n\tconst contTransferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transfer.moduloDestino}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst transferencia = await transaction.get(transferRef);\n\t\t\tconst countTransfer = await transaction.get(contTransferRef);\n\n\t\t\tif (transferencia.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La transferencia ya existe\",\n\t\t\t\t\t\"Est√° intentando sobreescribir una transferencia ya existente, verifique su conexi√≥n.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La transferencia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(transferRef, transfer);\n\t\t\t\tif (countTransfer.exists) {\n\t\t\t\t\ttransaction.update(contTransferRef, {\n\t\t\t\t\t\tnumeroTransferenciasModulo: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\tsuperficieRecibidaModulo: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\tNumber(transfer.superficieTransferida)\n\t\t\t\t\t\t)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(contTransferRef, {\n\t\t\t\t\t\tnumeroTransferenciasModulo: 1,\n\t\t\t\t\t\tsuperficieRecibidaModulo: Number(transfer.superficieTransferida)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Transferencia Guardada\",\n\t\t\t\t\"Se registr√≥ con √©xito la transferncia de volumen.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intentar guardar transferencia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetLocaltieSelected } from \"../../actions/entidades/localidades\";\n\nimport {\n\tcloseTransferModal,\n\tdisablePrintButton,\n\tenablePrintButton\n} from \"../../actions/transferenciasScreen\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { saveTransfer } from \"../../helpers/saveTransfer\";\n\nexport const PrintTransferModal = ({ transferencia, reset }) => {\n\tconst {\n\t\tfolio,\n\t\tciclo,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tpredio,\n\t\ttipoLocalidad,\n\t\tnombreLocalidad,\n\t\tsuperficieTransferida,\n\t\tnombreCultivo,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante,\n\t\tloteDestino,\n\t\ttipolocalidadDestino,\n\t\tlocalidadDestino,\n\t\tfecha,\n\t\tzona,\n\t\tmoduloDestino\n\t} = transferencia;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\n\tconst { usuario } = useSelector((state) => state.entidades);\n\tconst { printTransferModal, transferPrintButton } = useSelector(\n\t\t(state) => state.transferenciasScreen\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closeTransferModal());\n\t\tdispatch(disablePrintButton());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst handleSaveTransfer = async () => {\n\t\tconst isSave = await saveTransfer(transferencia, ciclo);\n\n\t\tif (isSave) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tdispatch(startSetUsuarioSelected(usuario)); //Al actualizar el usuario se actualiza la sup previa\n\t\t\treset();\n\t\t\tdispatch(unsetCultivoSelected());\n\t\t\tdispatch(unsetLocaltieSelected());\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={printTransferModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad p-5\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5 \">\n\t\t\t\t<div className=\"col-2 d-flex justify-content-center\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\tsrc={\"./logos/cna.png\"}\n\t\t\t\t\t\talt=\"Logo cna\"\n\t\t\t\t\t\tstyle={{ maxHeight: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tORGANISMO DE CUENCA PEN√çNSULA DE BAJA CALIFORNIA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tDIRECCI√ìN DE INFRAESTRUCTURA HIDROAGR√çCOLA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tDISTRITO DE RIEGO 014, R√çO COLORADO, B.C. Y SONORA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tJEFATURA DE OPERACI√ìN\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2 d-flex justify-content-center\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\tsrc={\"./logos/medio-2022.png\"}\n\t\t\t\t\t\talt=\"Logo secretaria del medio ambiente\"\n\t\t\t\t\t\tstyle={{ maxWidth: 200 }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t<h5>\n\t\t\t\t\t<b>AVISO DE TRANSFERENCIA DE VOL√öMENES Y DERECHOS DE RIEGO A√ëO AGR√çCOLA {ciclo}</b>\n\t\t\t\t</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-end mt-5\">\n\t\t\t\t<p>NO. OP./{folio}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-2\">\n\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; EN BASE A LO DISPUESTO EN EL ART√çCULO 49 DE LA LEY DE AGUAS\n\t\t\t\t\tNACIONALES EN EL CUAL ESPECIFICA QUE LOS DERECHOS DE EXPLOTACI√ìN, USO O APROVECHAMIENTO DE\n\t\t\t\t\tAGUA PARA USO AGR√çCOLA, GANADERO O FORESTAL SE PODR√ÅN TRANSMITIR EN LOS T√âRMINOS Y\n\t\t\t\t\tCONDICIONES ESTABLECIDAS EN LA LEY Y SU REGLAMENTO, Y EL ART√çCULO 88 DEL REGLAMENTO DE LA\n\t\t\t\t\tPROPIA LEY, DICE QUE LA TRANSMISI√ìN DE DERECHOS DE RIEGO A QUE SE REFIERE EL ART√çCULO 49\n\t\t\t\t\tDE LA ‚ÄòLEY‚Äô EN RELACI√ìN CON EL CAP√çTULO V DEL T√çTULO CUARTO DE LA MISMA, AS√ç COMO LAS\n\t\t\t\t\tTRANSMISIONES EN UNIDADES Y DISTRITOS DE RIEGO PODR√ÅN SER TEMPORAL O DEFINITIVA.\n\t\t\t\t</p>\n\n\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; ES TEMPORAL CUANDO LOS DERECHOS SE TRANSFIEREN POR DETERMINADOS\n\t\t\t\t\tCICLOS AGR√çCOLAS CONSERVANDO LA TITULARIDAD DE LA CONCESI√ìN SIEMPRE Y CUANDO NO SE CAUSEN\n\t\t\t\t\tPERJUICIOS A TERCEROS, POR LO ANTERIORMENTE SE√ëALADO LA COMISI√ìN NACIONAL DEL AGUA HA\n\t\t\t\t\tACORDADO, QUE SE AUTORICE LA TRANSFERENCIA PROVISIONAL DE LOS DERECHOS DE RIEGO.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSOLICITANTE: <br />\n\t\t\t\t\t\t{apPaterno} {apMaterno} {nombre}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tLOTE: {predio} EN {tipoLocalidad.toUpperCase()} {nombreLocalidad}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{superficieTransferida} HECT√ÅREAS DE {nombreCultivo}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tADJUDICATARIO:\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{apPaternoSolicitante} {apMaternoSolicitante} {nombreSolicitante}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tLOTE: {loteDestino} EN {tipolocalidadDestino.toUpperCase()} {localidadDestino}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-5\">\n\t\t\t\t<p clssName=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; ESTA TRANSFERENCIA TENDR√Å VALIDEZ √öNICAMENTE EN EL PRESENTE CICLO\n\t\t\t\t\tAGR√çCOLA {ciclo}, DEBIENDO ENTREGARSE EL SERVICIO DE RIEGO PRECISAMENTE AL SOLICITANTE.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-end mt-5\">\n\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center mt-5\">\n\t\t\t\t<p className=\"text-center\">\n\t\t\t\t\tATENTAMENTE\n\t\t\t\t\t<br />\n\t\t\t\t\tEL ING. EN JEFE DEL DISTRITO DE\n\t\t\t\t\t<br />\n\t\t\t\t\tRIEGO 014, RIO COLORADO\n\t\t\t\t\t<br />\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-center\">\n\t\t\t\t<p className=\"text-center\">DR. JULIO ALFONSO NAVARRO URBINA</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\tC.C.P. DISTRITO DE RIEGO NO. 014, RIO COLORADO. - EDIF. <br />\n\t\t\t\tC.C.P. JEFATURA DE OPERACI√ìN. - EDIF. <br />\n\t\t\t\tC.C.P. DISTRITO DE RIEGO RIO COLORADO S.de R.L. de I.P. - PTE. <br />\n\t\t\t\tC.C.P. M√ìDULOS DE RIEGO {zona} y {moduloDestino}. - PTE. <br />\n\t\t\t\tC.C.P. MINUTARIO <br />\n\t\t\t\tC.C.P. ARCHIVO <br />\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{transferPrintButton ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveTransfer}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { transferColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { startSetTransferencia } from \"../../actions/transferenciasScreen\";\n\nexport const TransferTable = () => {\n\tconst { transferencias } = useSelector((state) => state.transferenciasScreen);\n\n\treturn (\n\t\t<CustomTable\n\t\t\ttitle={transferencias.length === 0 ? \"No se encontraron transferencias\" : \"Transferencias\"}\n\t\t\tcolumns={transferColumns}\n\t\t\tdata={transferencias}\n\t\t\tsetFunction={startSetTransferencia}\n\t\t></CustomTable>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tenablePrintButton,\n\topenTransferModal,\n\tstartUpdateTransfer\n} from \"../../actions/transferenciasScreen\";\n\nexport const TransferCard = ({ transferencia }) => {\n\tconst dispatch = useDispatch();\n\tconst {\n\t\tfolio,\n\t\tcuenta,\n\t\tsubcta,\n\t\tnombreLocalidad,\n\t\tsupRiego,\n\t\tpredio,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante,\n\t\tzona,\n\t\ttipoLocalidad,\n\t\tmoduloDestino,\n\t\ttipolocalidadDestino,\n\t\tlocalidadDestino,\n\t\tloteDestino,\n\t\tclaveCultivo,\n\t\tnombreCultivo,\n\t\tsuperficieTransferida,\n\t\testadoTransferencia\n\t} = transferencia;\n\n\tconst nombreUsuario = `${apPaterno} ${apMaterno} ${nombre}`;\n\tconst nombreAdjudicatario = `${apPaternoSolicitante} ${apMaternoSolicitante} ${nombreSolicitante}`;\n\n\tconst openPrintModal = () => {\n\t\tdispatch(openTransferModal());\n\t\tdispatch(enablePrintButton());\n\t};\n\n\tconst activateTransfer = () => {\n\t\tdispatch(startUpdateTransfer(transferencia, \"ACTIVA\"));\n\t};\n\n\tconst cancelTransfer = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Est√° a punto de cancelar la transferencia. ¬øRealmente desea cancelarla?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tdispatch(startUpdateTransfer(transferencia, \"CANCELADA\"));\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<h3>Folio: {folio}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>SOLICITANTE</div>\n\t\t\t\t<div>Nombre: {nombreUsuario}</div>\n\t\t\t\t<div>Cuenta: {`${cuenta}.${subcta}`}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipoLocalidad}: {nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t<div>Lote: {predio}</div>\n\t\t\t\t<div>Modulo Origen: {zona}</div>\n\t\t\t\t<div>Sup. Derecho: {supRiego} ha</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>ADJUDICATARIO</div>\n\t\t\t\t<div>Nombre: {nombreAdjudicatario}</div>\n\t\t\t\t<div>Modulo Destino: {moduloDestino}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipolocalidadDestino}: {localidadDestino}\n\t\t\t\t</div>\n\t\t\t\t<div>Lote: {loteDestino}</div>\n\t\t\t\t<div>Cultivo: {`${claveCultivo} - ${nombreCultivo}`}</div>\n\t\t\t\t<div>Sup. Trasferida: {superficieTransferida} ha</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>ESTADO: {estadoTransferencia}</div>\n\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary mt-4\" onClick={openPrintModal}>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\n\t\t\t\t{estadoTransferencia !== \"ACTIVA\" && (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-success mt-4\" onClick={activateTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t<span> Autorizar</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{estadoTransferencia !== \"CANCELADA\" && (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger mt-4\" onClick={cancelTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { UserCard } from \"../components/cards/UserCard\";\nimport { TransferForm } from \"../components/forms/TransferForm\";\nimport { UsuariosInput } from \"../components/inputs/UsuariosInput\";\nimport { NuevoProductorModal } from \"../components/modals/NuevoProductorModal\";\nimport { ProductorModal } from \"../components/modals/ProductorModal\";\nimport { CultivoModal } from \"../components/modals/CultivoModal\";\nimport { UsuariosTable } from \"../components/tables/UsuariosTable\";\nimport { LocalidadesModal } from \"../components/modals/LocalidadesModal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PrintTransferModal } from \"../components/modals/PrintTransferModal\";\nimport { useFormToUpper } from \"../hooks/UseFormToUpper\";\nimport { TransferTable } from \"../components/tables/TransferTable\";\nimport { startSetTransferencias, unsetTransferencia } from \"../actions/transferenciasScreen\";\nimport { TransferCard } from \"../components/cards/TransferCard\";\nimport { unsetUsuarios, unsetUsuarioSelected } from \"../actions/usuarios\";\n\nexport const TransferenciasScreen = () => {\n\tconst { usuario } = useSelector((state) => state.entidades);\n\tconst { variablesGlobales, modulo } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\tconst { nuevaTransferencia } = useSelector((state) => state.transferenciasScreen);\n\tconst { transferencia } = useSelector((state) => state.transferenciasScreen);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(startSetTransferencias(ciclo, modulo));\n\t\tdispatch(unsetTransferencia());\n\t\tdispatch(unsetUsuarios());\n\t\tdispatch(unsetUsuarioSelected());\n\t}, [dispatch, ciclo, modulo]);\n\n\tconst [values, handleInputChange, reset] = useFormToUpper({\n\t\tsuperficieTransferida: \"\",\n\t\tloteDestino: \"\",\n\t\tmoduloDestino: \"\",\n\t\tcultivo: \"\",\n\t\tlocaltie: \"\",\n\t\tapPaternoSolicitante: \"\",\n\t\tapMaternoSolicitante: \"\",\n\t\tnombreSolicitante: \"\"\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"border rounded p-4\">\n\t\t\t\t\t\t<h3 className=\"mb-4\">Transferir superficie</h3>\n\t\t\t\t\t\t<UsuariosInput />\n\t\t\t\t\t\t<UsuariosTable />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"border rounded p-4 mt-5\">\n\t\t\t\t\t\t<h3 className=\"mb-4\">Transferencias recibidas</h3>\n\t\t\t\t\t\t<TransferTable />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{usuario && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<UserCard />\n\t\t\t\t\t\t\t<TransferForm values={values} handleInputChange={handleInputChange} />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{transferencia && <TransferCard transferencia={transferencia} />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<CultivoModal />\n\t\t\t<LocalidadesModal />\n\t\t\t{nuevaTransferencia && (\n\t\t\t\t<PrintTransferModal transferencia={nuevaTransferencia} reset={reset} />\n\t\t\t)}\n\t\t\t{transferencia && <PrintTransferModal transferencia={transferencia} reset={reset} />}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadSearchPermisosAlgodonero = async (id, palabra) => {\n\tconst permisos = [];\n\n\tconst permisosNombre = getNombreRef(id, palabra);\n\n\tawait permisosNombre.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst permisosCuenta = getCuentaRef(id, palabra);\n\n\tawait permisosCuenta.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron registros!\",\n\t\t\t\"Por favor intente con otro par√°metro de b√∫squeda.\",\n\t\t\t\"error\"\n\t\t);\n\t}\n\n\treturn permisos;\n};\n\nconst getNombreRef = (id, palabra) => {\n\tif (id === 0) {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.orderBy(\"nombre\")\n\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\t} else {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"tecnico\", \"==\", id)\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.orderBy(\"nombre\")\n\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\t}\n};\n\nconst getCuentaRef = (id, palabra) => {\n\tif (id === 0) {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.orderBy(\"cuenta\")\n\t\t\t.startAt(palabra)\n\t\t\t.endAt(palabra + \"\\uf8ff\");\n\t} else {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"tecnico\", \"==\", id)\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.orderBy(\"cuenta\")\n\t\t\t.startAt(palabra)\n\t\t\t.endAt(palabra + \"\\uf8ff\");\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getConstanciaSanidadCount = async (ciclo) => {\n\tconst counter = await db\n\t\t.collection(`constanciasSanidad`)\n\t\t.doc(ciclo)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().numeroConstancia;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexi√≥n\",\n\t\t\t\t\"Error al intentar obtener el contador de constancias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermitsForPay = async () => {\n\tconst permisos = [];\n\n\tconst desarraigadoSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t.where(\"desarraigado\", \"==\", true)\n\t\t.get();\n\n\tconst barbechadoSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t.where(\"barbechado\", \"==\", true)\n\t\t.get();\n\n\tdesarraigadoSnap.forEach((doc) => {\n\t\tif (doc.data().pagado !== true) {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t}\n\t});\n\n\tbarbechadoSnap.forEach((doc) => {\n\t\tif (doc.data().pagado !== true) {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t}\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron registros!\",\n\t\t\t\"Por favor intente con otro par√°metro de b√∫squeda.\",\n\t\t\t\"error\"\n\t\t);\n\t}\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadPermisosAlgodonero } from \"../helpers/loadPermisosAlgodonero\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadSearchPermisosAlgodonero } from \"../helpers/loadSearchPermisosAlgodonero\";\nimport { getConstanciaSanidadCount } from \"../helpers/DB/getCostanciaSanidadCount\";\nimport { disablePrintButton, enablePrintButton } from \"./transferenciasScreen\";\nimport { loadPermitsForPay } from \"../helpers/loadPermitsForPay\";\n\nexport const startLoadPermisos = (id) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisosAlgodonero(id);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (id, palabra) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadSearchPermisosAlgodonero(id, palabra);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermitsForPay = () => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermitsForPay();\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.algodoneroScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.algodoneroScreenUnsetPermisos\n});\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const openSanidadModal = (permiso) => ({\n\ttype: types.openSanidadModal,\n\tpayload: permiso\n});\n\nexport const closeSanidadModal = () => ({\n\ttype: types.closeSanidadModal\n});\n\nexport const startCloseSanidadModal = () => {\n\treturn (dispatch) => {\n\t\tdispatch(disablePrintButton());\n\t\tdispatch(closeSanidadModal());\n\t};\n};\n\nconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\nconst defineFolio = (counter) => {\n\tif (counter !== false) {\n\t\tconst folio = `CESVBC-${fill(counter + 1, 4)}`;\n\t\treturn folio;\n\t} else return null;\n};\n\nexport const startOpenSanidadModal = (ciclo, permiso) => {\n\treturn async (dispatch) => {\n\t\tif (permiso.folioSanidad) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tdispatch(openSanidadModal(permiso));\n\t\t} else {\n\t\t\tconst counter = await getConstanciaSanidadCount(ciclo);\n\t\t\tconst folioSanidad = defineFolio(counter);\n\n\t\t\tdispatch(openSanidadModal({ ...permiso, folioSanidad }));\n\t\t}\n\t};\n};\n\nexport const updatePermiso = (permiso) => ({\n\ttype: types.updatePermiso,\n\tpayload: permiso\n});\n\nexport const deletePermiso = (id) => ({\n\ttype: types.deletePermiso,\n\tpayload: id\n});\n\nexport const setTechniciansLabores = (technicians) => ({\n\ttype: types.setTechniciansLabores,\n\tpayload: technicians\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadPermisosSearch } from \"../../actions/algodoneroScreen\";\nimport { asignarTecnico } from \"../../helpers/DB/asignarTecnico\";\n\nexport const PermisoAsignacion = ({ state }) => {\n\tconst dispatch = useDispatch();\n\n\tconst { technicians } = state;\n\tconst { permisos, permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\tconst permiso = permisos.find((permiso) => permiso.id === permisoSelected);\n\tconst { folio, nombre, cuenta, tecnico } = permiso;\n\tconst technicianSelected = technicians.find((technician) => technician.id === tecnico);\n\n\tconst [technician, setTechnician] = useState(\"\");\n\n\tconst { uid, rol } = useSelector((state) => state.auth);\n\n\tconst handleSetTechnician = ({ target }) => {\n\t\tsetTechnician(target.value);\n\t\tasignarTecnico(permiso.modulo, permiso.folio, target.value);\n\t\tdispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, state.palabra));\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded text-center p-3\">\n\t\t\t<h4>{folio}</h4>\n\t\t\t<div>Cuenta: {cuenta}</div>\n\t\t\t<div>{nombre}</div>\n\t\t\t<div>T√©cnico: {technicianSelected ? technicianSelected.displayName : \"Sin asignar\"}</div>\n\n\t\t\t<select\n\t\t\t\tname=\"campo\"\n\t\t\t\tid=\"campo\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={technician}\n\t\t\t\tonChange={handleSetTechnician}\n\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t>\n\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\tAsignar T√©cnico\n\t\t\t\t</option>\n\n\t\t\t\t{technicians.map((technician) => (\n\t\t\t\t\t<option key={technician.id} value={technician.id}>\n\t\t\t\t\t\t{technician.displayName}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const asignarTecnico = (modulo, folio, tecnico) => {\n\tdb.collection(\"permisos\")\n\t\t.doc(\"2020-2021\")\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"permisos\")\n\t\t.doc(folio)\n\t\t.update({ tecnico })\n\t\t.then(() => {\n\t\t\tSwal.fire(\n\t\t\t\t\"T√©cnico asignado\",\n\t\t\t\t`Se aplicaron los cambios en la asignaci√≥n de predios. `,\n\t\t\t\t\"success\"\n\t\t\t);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveTechnicianLocalties = async (id, nombre, localties, otherTechnicians) => {\n\t// TODO: Asignar ciclo de forma dinamica\n\n\t//Traer todos los permisos que coinsidan con las localidades que no tengan al tecnico\n\t//Asignar a los permisos de la consulta anterior el nuevo tecnico\n\t//En la tabla de usuarios actualizar las localidades que se asignaron al tecnico\n\n\tSwal.fire({\n\t\ttitle: \"Actualizando...\",\n\t\ttext: \"Por favor espere...\",\n\t\tallowOutsideClick: false,\n\t\tdidOpen: () => {\n\t\t\tSwal.showLoading();\n\t\t}\n\t});\n\tconst updates = getUpdates(localties, otherTechnicians);\n\tupdates.push({ id, nombre, localidades: localties });\n\n\tconst newPermisosRefs = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"tecnico\", \"!=\", id)\n\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t.where(\"claveLocalidad\", \"in\", localties.length > 0 ? localties : [\"x\"])\n\t\t.get();\n\n\tconst idPadronPromises = [];\n\tupdates.forEach((technician) => {\n\t\ttechnician.localidades.forEach((claveLocalidad) => {\n\t\t\tidPadronPromises.push(db.collection(\"colonias\").where(\"clave\", \"==\", claveLocalidad).get());\n\t\t});\n\t});\n\n\tconst idPadronResolvedPromises = await Promise.all(idPadronPromises);\n\tconst padronLocalties = [];\n\n\tidPadronResolvedPromises.forEach((snap) => {\n\t\tsnap.forEach((localtie) => {\n\t\t\tpadronLocalties.push({ id: localtie.id, clave: localtie.data().clave });\n\t\t});\n\t});\n\n\tconst updatesInPadron = [];\n\tupdates.forEach((technician) => {\n\t\ttechnician.localidades.forEach((claveLocalidad) => {\n\t\t\tconst localtie = padronLocalties.find((localtie) => localtie.clave === claveLocalidad);\n\n\t\t\tupdatesInPadron.push({ id: localtie.id, tecnico: technician.nombre });\n\t\t});\n\t});\n\n\tlet batch = db.batch();\n\tlet i = 1;\n\tconst batchSize = 500;\n\n\ttry {\n\t\tlet asignados = 0;\n\n\t\tupdatesInPadron.forEach((localtie) => {\n\t\t\tbatch.update(db.collection(\"colonias\").doc(localtie.id), {\n\t\t\t\ttecnico: localtie.tecnico\n\t\t\t});\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tupdates.forEach((update) => {\n\t\t\tbatch.update(db.collection(\"usuarios\").doc(update.id), { localidades: update.localidades });\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tnewPermisosRefs.forEach((permit) => {\n\t\t\tbatch.update(\n\t\t\t\tdb\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(\"2020-2021\")\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${permit.data().modulo}`)\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(permit.id),\n\t\t\t\t{ tecnico: id }\n\t\t\t);\n\t\t\tasignados++;\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tbatch\n\t\t\t.commit()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Se terminaron de actualizar los permisos\");\n\t\t\t\tSwal.close();\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"Cambios guardados\",\n\t\t\t\t\t`Se aplicaron los cambios en la asignaci√≥n de predios. \n\t\t\t\t${asignados} predios asignados.`,\n\t\t\t\t\t// ${removidos} predios removidos.`,\n\t\t\t\t\t\"success\"\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\n\t\treturn { updates, updatesInPadron };\n\t} catch (error) {\n\t\tSwal.close();\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intentar guardar los cambios.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\nconst getUpdates = (localties, otherTechnicians) => {\n\t/* \t\n\tToma un arreglo con los datos de los tecnicos que no se estan procesando y retorna un array con objetos \n\tque contienen la clave del tecnico y un objeto con las localidades que le quedan despues de\n\tquitarle las localidades que se le estan asignando al tecnico que se esta procesando\n \t*/\n\n\tconst techniciansCopy = [];\n\totherTechnicians.forEach((technician) => {\n\t\ttechniciansCopy.push({\n\t\t\tid: technician.id,\n\t\t\tnombre: technician.nombre,\n\t\t\tlocalidades: [...technician.localidades]\n\t\t});\n\t});\n\n\tlocalties.forEach((localtie) => {\n\t\ttechniciansCopy.forEach((technician, i) => {\n\t\t\tif (technician.localidades.includes(localtie)) {\n\t\t\t\tconst j = technician.localidades.indexOf(localtie);\n\t\t\t\ttechniciansCopy[i].localidades.splice(j, 1);\n\t\t\t}\n\t\t});\n\t});\n\n\tconst updates = [];\n\n\tfor (let i = 0; i < otherTechnicians.length; i++) {\n\t\tif (otherTechnicians[i].localidades.length !== techniciansCopy[i].localidades.length) {\n\t\t\tupdates.push(techniciansCopy[i]);\n\t\t}\n\t}\n\t// Retorna solo los tecnicos que fueron modificados\n\treturn updates;\n};\n","import React, { useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { saveTechnicianLocalties } from \"../../helpers/DB/saveTechnicianLocalties\";\n// import { saveTechnicianLocalties } from \"../../helpers/DB/saveTechnicianLocalties\";\nimport { types } from \"../../types/types\";\n\nexport const SelectedLocaltiesDetail = ({ state, dispatch }) => {\n\tconst { selectedLocalties, technicians, technicianSelected } = state;\n\n\tconst [technicianId, setTechnicianId] = useState(\"\");\n\n\tconst handleSetTechnician = async ({ target }) => {\n\t\tsetTechnicianId(target.value);\n\t\tconst technician = technicians.find((technician) => technician.id === target.value);\n\t\tdispatch({ type: types.setTechnicianSelected, payload: technician });\n\n\t\t// asignarTecnico(permiso.modulo, permiso.folio, target.value);\n\t\t// dispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, state.palabra));\n\t};\n\n\tconst handleSaveChanges = async () => {\n\t\tif (technicianId.length > 0) {\n\t\t\tconst otherTechnicians = [];\n\t\t\tstate.technicians.forEach((technician) => {\n\t\t\t\tif (technician.id !== technicianId) {\n\t\t\t\t\totherTechnicians.push({\n\t\t\t\t\t\tid: technician.id,\n\t\t\t\t\t\tnombre: technician.displayName,\n\t\t\t\t\t\tlocalidades: technician.localidades ?? []\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst localtiesIds = [];\n\t\t\tselectedLocalties.forEach((localtie) => localtiesIds.push(localtie.clave));\n\n\t\t\tconst updates = await saveTechnicianLocalties(\n\t\t\t\ttechnicianId,\n\t\t\t\ttechnicianSelected.displayName,\n\t\t\t\tlocaltiesIds,\n\t\t\t\totherTechnicians\n\t\t\t);\n\t\t\tif (updates) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.updateTechnicians,\n\t\t\t\t\tpayload: updates.updates\n\t\t\t\t});\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.updatePadronLocalties,\n\t\t\t\t\tpayload: updates.updatesInPadron\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"T√©cnico no seleccionado!\",\n\t\t\t\t\"Por favor indique el t√©cnico a quien le ser√°n asignadas las localidades seleccionadas.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded text-center p-3\">\n\t\t\t<h4>Localidades seleccionadas: {selectedLocalties.length}</h4>\n\n\t\t\t<div>\n\t\t\t\t{selectedLocalties.map((localtie) => (\n\t\t\t\t\t<div key={localtie.id}> {localtie.ubicacion}</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t<select\n\t\t\t\tname=\"campo\"\n\t\t\t\tid=\"campo\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={technicianId}\n\t\t\t\tonChange={handleSetTechnician}\n\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t>\n\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\tSeleccionar T√©cnico\n\t\t\t\t</option>\n\n\t\t\t\t{technicians.map((technician) => (\n\t\t\t\t\t<option key={technician.id} value={technician.id}>\n\t\t\t\t\t\t{technician.displayName}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\n\t\t\t<button onClick={handleSaveChanges} className=\"btn btn-success mt-4\">\n\t\t\t\tAplicar cambios\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { setPermisoSelected, startLoadPermisosSearch } from \"../../actions/algodoneroScreen\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { types } from \"../../types/types\";\nimport { laboresColumns } from \"./configTables\";\nimport { CustomTable } from \"./CustomTable\";\n\nexport const LaboresPermitsTable = ({ dispatch: dispatchLocal }) => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\n\tconst { permisos } = useSelector((state) => state.algodoneroScreen);\n\tconst { uid, rol } = useSelector((state) => state.auth);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, palabra));\n\t\t\tdispatchLocal({ type: types.setBusqueda, payload: palabra });\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese n√∫mero de permiso, n√∫mero de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-inline-flex\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={palabra}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"\">\n\t\t\t\t{permisos.length > 0 && (\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={laboresColumns}\n\t\t\t\t\t\tdata={permisos}\n\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomSelectableTable = ({\n\ttitle,\n\tcolumns,\n\tdata,\n\tsetSelectedRowsFunction,\n\tsimpleSetSelectedRowsFunction,\n\tcontextMessage\n}) => {\n\tconst dispatch = useDispatch();\n\n\tconst setSelectedRows = (rows) => {\n\t\tif (setSelectedRowsFunction !== undefined) {\n\t\t\tdispatch(setSelectedRowsFunction(rows.selectedRows));\n\t\t}\n\n\t\tif (!simpleSetSelectedRowsFunction !== undefined) {\n\t\t\tsimpleSetSelectedRowsFunction(rows.selectedRows);\n\t\t}\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tselectableRows={true}\n\t\t\tonSelectedRowsChange={setSelectedRows}\n\t\t\tcontextMessage={contextMessage}\n\t\t/>\n\t);\n};\n","import React from \"react\";\nimport { types } from \"../../types/types\";\nimport { CustomSelectableTable } from \"../tables/CustomSelectableTable\";\nimport { asignacionLocaltiesColumns } from \"./configTables\";\n\nexport const SelectableLocaltiesTable = ({ localties, dispatch }) => {\n\tconst startSetSelectedLocalties = (selectedLocalties) => {\n\t\tdispatch({ type: types.setSelectedLocaltiesAsignacion, payload: selectedLocalties });\n\t};\n\n\tconst contextMessage = { singular: \"localidad\", plural: \"localidades\", message: \"para asignar\" };\n\n\treturn (\n\t\t<CustomSelectableTable\n\t\t\ttitle={\"Localidades\"}\n\t\t\tcolumns={asignacionLocaltiesColumns}\n\t\t\tdata={localties}\n\t\t\tsimpleSetSelectedRowsFunction={startSetSelectedLocalties}\n\t\t\tcontextMessage={contextMessage}\n\t\t/>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadTechnician = async () => {\n\tconst technicians = [];\n\tconst techniciansSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\n\ttechniciansSnap.forEach((doc) => {\n\t\ttechnicians.push({\n\t\t\t...doc.data(),\n\t\t\tid: doc.id,\n\t\t\tmodulos: doc.data().modulos ?? [],\n\t\t\tlocalidades: doc.data().localidades ?? []\n\t\t});\n\t});\n\n\treturn technicians;\n};\n","import { types } from \"../types/types\";\n\n// const initialState = {\n//     technicians: [],\n//     technicianSelected: null,\n//     permits: [],\n//     permitSelected: null\n// };\n\nexport const asignacionReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase types.setLocaltiesAsignacion:\n\t\t\treturn { ...state, localties: action.payload };\n\n\t\tcase types.setSelectedLocaltiesAsignacion:\n\t\t\treturn { ...state, selectedLocalties: action.payload };\n\n\t\tcase types.setTechnicians:\n\t\t\treturn { ...state, technicians: action.payload };\n\n\t\tcase types.setTechnicianSelected:\n\t\t\treturn { ...state, technicianSelected: action.payload };\n\n\t\tcase types.setBusqueda:\n\t\t\treturn { ...state, palabra: action.payload };\n\n\t\tcase types.updateTechnicians:\n\t\t\tconst updatedTechnicians = [];\n\t\t\tstate.technicians.forEach((technician, i) => {\n\t\t\t\tupdatedTechnicians.push(technician);\n\t\t\t\taction.payload.forEach((updatedTech) => {\n\t\t\t\t\tif (technician.id === updatedTech.id) {\n\t\t\t\t\t\tupdatedTechnicians[i].localidades = updatedTech.localidades;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttechnicians: updatedTechnicians\n\t\t\t};\n\n\t\tcase types.updatePadronLocalties:\n\t\t\tconst newLocalties = [];\n\t\t\tconst updatesIds = [];\n\n\t\t\taction.payload.forEach((localtie) => updatesIds.push(localtie.id));\n\n\t\t\tstate.localties.forEach((stateLocaltie) => {\n\t\t\t\tconst updatesIndex = updatesIds.indexOf(stateLocaltie.id);\n\n\t\t\t\tif (updatesIndex >= 0) {\n\t\t\t\t\tnewLocalties.push({ ...stateLocaltie, tecnico: action.payload[updatesIndex].tecnico });\n\t\t\t\t} else {\n\t\t\t\t\tnewLocalties.push({ ...stateLocaltie });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: newLocalties\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React, { useEffect } from \"react\";\nimport { useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { PermisoAsignacion } from \"../components/asignacion/PermisoAsignacion\";\nimport { SelectedLocaltiesDetail } from \"../components/asignacion/SelectedLocaltiesDetail\";\nimport { LaboresPermitsTable } from \"../components/tables/LaboresPermitsTable\";\nimport { SelectableLocaltiesTable } from \"../components/tables/SelectableLocaltiesTable\";\nimport { loadTechnician } from \"../helpers/DB/loadTechnician\";\nimport { loadLocaltiesFromPermits } from \"../helpers/loadLocaltiesFromPermits\";\nimport { asignacionReducer } from \"../reducers/asignacionReducer\";\nimport { types } from \"../types/types\";\n\nexport const AsignacionScreen = () => {\n\tconst initialState = {\n\t\tlocalties: [],\n\t\tselectedLocalties: [],\n\t\ttechnicians: [],\n\t\ttechnicianSelected: null,\n\t\tpermits: [],\n\t\tpermitSelected: null\n\t};\n\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { asignarTecnico } = privilegios;\n\tconst { permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\n\tconst [state, dispatch] = useReducer(asignacionReducer, initialState);\n\tconst { selectedLocalties, localties } = state;\n\t// console.log(state);\n\n\tuseEffect(() => {\n\t\tloadLocaltiesFromPermits().then((localties) => {\n\t\t\tdispatch({ type: types.setLocaltiesAsignacion, payload: localties });\n\t\t});\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tloadTechnician().then((techniciasns) => {\n\t\t\tdispatch({ type: types.setTechnicians, payload: techniciasns });\n\t\t});\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-center p-4\">\n\t\t\t\t<h1>Asignaci√≥n de t√©cnico</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t{localties.length > 0 && (\n\t\t\t\t\t\t<SelectableLocaltiesTable localties={localties} dispatch={dispatch} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{selectedLocalties.length > 0 && (\n\t\t\t\t\t\t<SelectedLocaltiesDetail state={state} dispatch={dispatch} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{asignarTecnico && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"row d-flex justify-content-center mt-5\">\n\t\t\t\t\t\t<h4>Asignaci√≥n individual</h4>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<LaboresPermitsTable dispatch={dispatch} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-4\">{permisoSelected && <PermisoAsignacion state={state} />}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{\" \"}\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const deletePermit = async (id, modulo) => {\n\ttry {\n\t\tawait db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(\"2020-2021\")\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(id)\n\t\t\t.delete();\n\n\t\tconsole.log(\"Permiso borrado: \", id);\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const updatePermisoAlgodonero = async (permiso, modulo, ciclo, objeto) => {\n\ttry {\n\t\tawait db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(permiso)\n\t\t\t.update(objeto);\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\treturn false;\n\t}\n};\n","import { types } from \"../types/types\";\n\nexport const laboresChecksReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase types.setCheckState: {\n\t\t\treturn action.payload;\n\t\t} /* \n            const initialState = [\n                0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: false, editable: true },\n                1 { name: \"cosechado\", tag: \"COSECHADO\",       state: false, editable: false },\n                2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: false },\n                3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n                4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n                5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n                6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n            ];\n        */\n\n\t\tcase types.checkDesfoliado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[0].state = true;\n\t\t\tnewState[1].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesfoliado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[0].state = false;\n\t\t\tnewState[1].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: true },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: false, editable: true },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];      \n        */\n\n\t\tcase types.checkCosechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[1].state = true;\n\t\t\tnewState[0].editable = false;\n\t\t\tnewState[2].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckCosechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[1].state = false;\n\t\t\tnewState[0].editable = true;\n\t\t\tnewState[2].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: true },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: true },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];      \n        */\n\n\t\tcase types.checkDesvarado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].state = true;\n\t\t\tnewState[1].editable = false;\n\t\t\tnewState[3].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesvarado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].state = false;\n\t\t\tnewState[1].editable = true;\n\t\t\tnewState[3].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: true },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: true },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];                   \n        */\n\n\t\tcase types.checkDisqueado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].editable = false;\n\t\t\tnewState[3].state = true;\n\t\t\tnewState[4].editable = true;\n\t\t\tnewState[5].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDisqueado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].editable = true;\n\t\t\tnewState[3].state = false;\n\t\t\tnewState[4].editable = false;\n\t\t\tnewState[5].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: true },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];            \n        */\n\n\t\tcase types.checkDesarraigado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = false;\n\t\t\tnewState[4].state = true;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesarraigado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = true;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: true, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: true }\n           ];            \n        */\n\n\t\tcase types.checkBarbechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = false;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = true;\n\t\t\tnewState[6].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckBarbechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = true;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: true, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: true }\n           ];            \n        */\n\n\t\tcase types.checkPagado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[4].editable = false;\n\t\t\tnewState[5].editable = false;\n\t\t\tnewState[6].state = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckPagado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[4].editable = true;\n\t\t\tnewState[5].editable = true;\n\t\t\tnewState[6].state = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: true, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: true, editable: true }\n           ];            \n        */\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useReducer } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport {\n\tdeletePermiso,\n\tstartOpenSanidadModal,\n\tupdatePermiso\n} from \"../../actions/algodoneroScreen\";\nimport { deletePermit } from \"../../helpers/deletePermit\";\nimport { updatePermisoAlgodonero } from \"../../helpers/updatePermisoAlgodonero\";\nimport { laboresChecksReducer } from \"../../reducers/laboresChecksReducer\";\nimport { types } from \"../../types/types\";\n\nexport const CheckSanidad = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { permisos, permisoSelected, technicians } = useSelector((state) => state.algodoneroScreen);\n\tconst { uid, privilegios } = useSelector((state) => state.auth);\n\tconst { registrarLabores, pagarLabores, imprimirLabores, borrarPermisos } = privilegios;\n\n\tconst cuotaSanidad = 60;\n\n\tconst dataPermiso = permisos.find((permiso) => permiso.id === permisoSelected);\n\tconst tecnico = technicians.find((tecnico) => tecnico.id === dataPermiso.tecnico);\n\n\tuseEffect(() => {\n\t\tconst state = setInitialState(dataPermiso);\n\t\tchecksDispatch({ type: types.setCheckState, payload: state });\n\t}, [dataPermiso]);\n\n\tconst [checksState, checksDispatch] = useReducer(\n\t\tlaboresChecksReducer,\n\t\tsetInitialState(dataPermiso)\n\t);\n\n\tconst checkUncheck = async (editable, name, state) => {\n\t\tif (determinaAcceso(editable, name, registrarLabores, pagarLabores, uid, dataPermiso.tecnico)) {\n\t\t\tconst updates = getUpdates(name, state);\n\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\tpermisoSelected,\n\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\"2020-2021\",\n\t\t\t\tupdates\n\t\t\t);\n\n\t\t\tif (isSave) {\n\t\t\t\tchecksDispatch(getAction(name, state));\n\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, ...updates }));\n\t\t\t}\n\t\t}\n\t};\n\n\tconst addSuperficieMapeada = (superficieActual) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Actualizar superficie mapeada\",\n\t\t\tinput: \"text\",\n\t\t\tinputPlaceholder: superficieActual,\n\t\t\tinputAttributes: {\n\t\t\t\tautocapitalize: \"off\"\n\t\t\t},\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async (result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\tpermisoSelected,\n\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\"2020-2021\",\n\t\t\t\t\t{\n\t\t\t\t\t\tsuperficieMapeada: Number(result.value)\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (isSave) {\n\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, superficieMapeada: Number(result.value) }));\n\t\t\t\t\tSwal.fire(\"OK\", `Se actualiso la superficie mapeada`, \"success\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst addFolioFisico = (folio) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Folio de constancia f√≠sica:\",\n\t\t\tinput: \"text\",\n\t\t\tinputPlaceholder: folio,\n\t\t\tinputAttributes: {\n\t\t\t\tautocapitalize: \"off\"\n\t\t\t},\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async (result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\tpermisoSelected,\n\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\"2020-2021\",\n\t\t\t\t\t{\n\t\t\t\t\t\tfolioConstaniciaFisica: result.value\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (isSave) {\n\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, folioConstaniciaFisica: result.value }));\n\t\t\t\t\tSwal.fire(\"OK\", `Se guard√≥ el folio de la constancia.`, \"success\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst addComentario = (comentario) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Folio de constancia f√≠sica:\",\n\t\t\tinput: \"textarea\",\n\t\t\tinputValue: comentario,\n\t\t\tinputAttributes: {\n\t\t\t\tautocapitalize: \"off\"\n\t\t\t},\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async (result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\tpermisoSelected,\n\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\"2020-2021\",\n\t\t\t\t\t{\n\t\t\t\t\t\tcomentario: result.value\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (isSave) {\n\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, comentario: result.value }));\n\t\t\t\t\tSwal.fire(\"OK\", `Se guard√≥ el comentario.`, \"success\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst formatter = new Intl.NumberFormat(\"es-MX\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"MXN\"\n\t});\n\n\tconst handleOpenSanidadModal = () => {\n\t\tdispatch(startOpenSanidadModal(\"2020-2021\", dataPermiso));\n\t};\n\n\t// TODO: Asignar folio de constancia fitosanitaria al expedir permiso de algodon\n\n\tconst handleDelete = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\ttext: `Borrar?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconsole.log(\"Borrando permiso \", dataPermiso.id, dataPermiso.modulo);\n\t\t\t\tconst isDeleted = await deletePermit(dataPermiso.id, dataPermiso.modulo);\n\t\t\t\tif (isDeleted) {\n\t\t\t\t\tdispatch(deletePermiso(dataPermiso.id));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t<h5>{dataPermiso.folio}</h5>\n\t\t\t\t</div>\n\n\t\t\t\t{borrarPermisos && (\n\t\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={handleDelete}>\n\t\t\t\t\t\t\t\tBorrar\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">T√âCNICO:</div>\n\t\t\t\t\t<div className=\"col-8\">{tecnico ? tecnico.displayName : \"SIN ASIGNAR\"}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombre}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.ubicacion}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">SUPERFICIE:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.superficie} ha</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">SUPERFICIE MAPEADA:</div>\n\t\t\t\t\t<div className=\"col-3\">{dataPermiso.superficieMapeada} Ha</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addSuperficieMapeada(dataPermiso.superficieMapeada)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">FOLIO DE CONSTANCIA F√çSICA:</div>\n\t\t\t\t\t<div className=\"col-3\">{dataPermiso.folioConstaniciaFisica}</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addFolioFisico(dataPermiso.folioConstaniciaFisica ?? \"\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">COMENTARIO:</div>\n\t\t\t\t\t<div className=\"col-3\"> {\" - \"} </div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addComentario(dataPermiso.comentario ?? \"\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{dataPermiso.comentario && dataPermiso.comentario.length > 0 && (\n\t\t\t\t\t<div className=\"row border rounded m-2 p-2\">\n\t\t\t\t\t\t<div className=\"col-12\">{dataPermiso.comentario}</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{checksState.map((check) => (\n\t\t\t\t\t<div key={check.name} className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-4\">{check.tag}:</div>\n\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-sm ${getStyle(check.state, check.editable)}`}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => checkUncheck(check.editable, check.name, check.state)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MONTO A PAGAR:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{formatter.format(dataPermiso.superficieMapeada * cuotaSanidad)} MN\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row pt-3 pl-2\">\n\t\t\t\t\t<div className={`col-12 ${!dataPermiso.laboresPendientes && \"text-success\"}`}>\n\t\t\t\t\t\t{dataPermiso.laboresPendientes\n\t\t\t\t\t\t\t? \"CUENTA BLOQUEADA PARA EXPEDICI√ìN\"\n\t\t\t\t\t\t\t: \"CUENTA LIBERADA PARA EXPEDICI√ìN\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t{dataPermiso.pagado && imprimirLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success\"\n\t\t\t\t\t\t\t\tonClick={handleOpenSanidadModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t{dataPermiso.folioSanidad ? (\n\t\t\t\t\t\t\t\t\t<span> Imprimir Constancia</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span> Generar Constancia</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst getStyle = (state, editable) => {\n\tif (state === true) return \"btn-success\";\n\telse if (editable === true) return \"btn-outline-success\";\n\telse return \"btn-outline-secondary\";\n};\n\nconst setInitialState = (permiso) => {\n\tconst desfoliado = permiso.desfoliado ?? false;\n\tconst cosechado = permiso.cosechado ?? false;\n\tconst desvarado = permiso.desvarado ?? false;\n\tconst disqueado = permiso.disqueado ?? false;\n\tconst desarraigado = permiso.desarraigado ?? false;\n\tconst barbechado = permiso.barbechado ?? false;\n\tconst pagado = permiso.pagado ?? false;\n\n\tconst state = [\n\t\t/* 0 */ { name: \"desfoliado\", tag: \"DESFOLIADO\", state: desfoliado, editable: false },\n\t\t/* 1 */ { name: \"cosechado\", tag: \"COSECHADO\", state: cosechado, editable: false },\n\t\t/* 2 */ { name: \"desvarado\", tag: \"DESVARADO\", state: desvarado, editable: false },\n\t\t/* 3 */ { name: \"disqueado\", tag: \"DISQUEADO\", state: disqueado, editable: false },\n\t\t/* 4 */ { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: desarraigado, editable: false },\n\t\t/* 5 */ { name: \"barbechado\", tag: \"BARBECHADO\", state: barbechado, editable: false },\n\t\t/* 6 */ { name: \"pagado\", tag: \"PAGADO\", state: pagado, editable: false }\n\t];\n\n\tif (pagado) {\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (barbechado) {\n\t\tstate[5].editable = true;\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (desarraigado) {\n\t\tstate[4].editable = true;\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (disqueado) {\n\t\tstate[3].editable = true;\n\t\tstate[4].editable = true;\n\t\tstate[5].editable = true;\n\t\treturn state;\n\t} else if (desvarado) {\n\t\tstate[2].editable = true;\n\t\tstate[3].editable = true;\n\t\treturn state;\n\t} else if (cosechado) {\n\t\tstate[1].editable = true;\n\t\tstate[2].editable = true;\n\t\treturn state;\n\t} else if (desfoliado) {\n\t\tstate[0].editable = true;\n\t\tstate[1].editable = true;\n\t\treturn state;\n\t} else {\n\t\tstate[0].editable = true;\n\t\treturn state;\n\t}\n};\n\nconst getAction = (name, state) => {\n\tif (state) {\n\t\tswitch (name) {\n\t\t\tcase \"desfoliado\":\n\t\t\t\treturn { type: types.uncheckDesfoliado };\n\t\t\tcase \"cosechado\":\n\t\t\t\treturn { type: types.uncheckCosechado };\n\t\t\tcase \"desvarado\":\n\t\t\t\treturn { type: types.uncheckDesvarado };\n\t\t\tcase \"disqueado\":\n\t\t\t\treturn { type: types.uncheckDisqueado };\n\t\t\tcase \"desarraigado\":\n\t\t\t\treturn { type: types.uncheckDesarraigado };\n\t\t\tcase \"barbechado\":\n\t\t\t\treturn { type: types.uncheckBarbechado };\n\t\t\tcase \"pagado\":\n\t\t\t\treturn { type: types.uncheckPagado };\n\n\t\t\tdefault:\n\t\t\t\treturn { type: \"\" };\n\t\t}\n\t} else {\n\t\tswitch (name) {\n\t\t\tcase \"desfoliado\":\n\t\t\t\treturn { type: types.checkDesfoliado };\n\t\t\tcase \"cosechado\":\n\t\t\t\treturn { type: types.checkCosechado };\n\t\t\tcase \"desvarado\":\n\t\t\t\treturn { type: types.checkDesvarado };\n\t\t\tcase \"disqueado\":\n\t\t\t\treturn { type: types.checkDisqueado };\n\t\t\tcase \"desarraigado\":\n\t\t\t\treturn { type: types.checkDesarraigado };\n\t\t\tcase \"barbechado\":\n\t\t\t\treturn { type: types.checkBarbechado };\n\t\t\tcase \"pagado\":\n\t\t\t\treturn { type: types.checkPagado };\n\n\t\t\tdefault:\n\t\t\t\treturn { type: \"\" };\n\t\t}\n\t}\n};\n\nconst getUpdates = (name, state) => {\n\tif (name === \"pagado\") return { pagado: !state, laboresPendientes: state };\n\telse return { [name]: !state };\n};\n\nconst determinaAcceso = (editable, name, labores, pagar, uid, tecnico) => {\n\tif (!editable) return false;\n\n\tif (name === \"pagado\") {\n\t\tif (pagar) return true;\n\t\telse return false;\n\t} else {\n\t\tif (labores) return true;\n\t\telse if (uid === tecnico) return true;\n\t\telse return false;\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveConstanciaSanidad = async (constacia, ciclo) => {\n\tconst constanciaRef = db\n\t\t.collection(`constanciasSanidad`)\n\t\t.doc(ciclo)\n\t\t.collection(`constancias`)\n\t\t.doc(constacia.folio);\n\n\tconst contConstanciaRef = db.collection(`constanciasSanidad`).doc(ciclo);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst constancia = await transaction.get(constanciaRef);\n\t\t\tconst countConstancia = await transaction.get(contConstanciaRef);\n\n\t\t\tif (constancia.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La constancia ya existe\",\n\t\t\t\t\t\"Est√° intentando sobreescribir una constancia ya existente, verifique su conexi√≥n.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La constancia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(constanciaRef, constacia);\n\t\t\t\tif (countConstancia.exists) {\n\t\t\t\t\ttransaction.update(contConstanciaRef, {\n\t\t\t\t\t\tnumeroConstancia: firebase.firestore.FieldValue.increment(1)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(contConstanciaRef, {\n\t\t\t\t\t\tnumeroConstancia: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Constancia Guardada\", \"Se registr√≥ con √©xito la constancia.\", \"success\");\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexi√≥n\", \"Error al intentar guardar la constancia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { startCloseSanidadModal, updatePermiso } from \"../../actions/algodoneroScreen\";\nimport { enablePrintButton } from \"../../actions/transferenciasScreen\";\nimport { saveConstanciaSanidad } from \"../../helpers/saveConsatanciaSanidad\";\nimport { updatePermisoAlgodonero } from \"../../helpers/updatePermisoAlgodonero\";\n\nexport const PrintSanidadModal = () => {\n\tconst { printSanidadModal, technicians } = useSelector((state) => state.algodoneroScreen);\n\tconst tecnico = technicians.find((tecnico) => tecnico.id === printSanidadModal.tecnico);\n\tconst { transferPrintButton } = useSelector((state) => state.transferenciasScreen);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(startCloseSanidadModal());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst handleSaveConstancy = async () => {\n\t\tconst isSave = await saveConstanciaSanidad(\n\t\t\t{ ...printSanidadModal, folioSanidad: printSanidadModal.folioSanidad },\n\t\t\t\"2020-2021\"\n\t\t);\n\n\t\tif (isSave) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tupdatePermisoAlgodonero(printSanidadModal.folio, printSanidadModal.modulo, \"2020-2021\", {\n\t\t\t\tfolioSanidad: printSanidadModal.folioSanidad\n\t\t\t});\n\t\t\tdispatch(\n\t\t\t\tupdatePermiso({ ...printSanidadModal, folioSanidad: printSanidadModal.folioSanidad })\n\t\t\t);\n\t\t}\n\t};\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = new Date();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={printSanidadModal ? true : false}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tSECRETARIA DE AGRICULTURA Y DESARROLLO RURAL <br />\n\t\t\t\t\t\tDISTRITO DE DESARROLLO RURAL 002, RIO COLORADO <br />\n\t\t\t\t\t\tCOMIT√â ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 80 }} />\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<b>FOLIO: {printSanidadModal.folioSanidad} </b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h4>\n\t\t\t\t\t<b>CONSTANCIA DE EJECUCI√ìN DE LABORES FITOSANITARIAS</b>\n\t\t\t\t</h4>\n\t\t\t</div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h5>\n\t\t\t\t\t<b>ALGODONERO CICLO P-V 2021-2021</b>\n\t\t\t\t</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5 text-justify\">\n\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPOR LA PRESENTE HACEMOS CONSTAR QUE EL C. {printSanidadModal.nombre}, PRODUCTOR DEL LOTE\n\t\t\t\t\t\tNO.\n\t\t\t\t\t\t{printSanidadModal.lote} DEL EJIDO/COLONIA {printSanidadModal.ubicacion}, REALIZ√ì LAS\n\t\t\t\t\t\tLABORES FITOSANITARIAS EN UNA SUPERFICIE DE {printSanidadModal.superficie} HA.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tDANDO AS√ç CUMPLIMIENTO A LO ESTABLECIDO EN LA LEY FEDERAL DE SANIDAD VEGETAL, LA NORMA\n\t\t\t\t\t\tOFICIAL MEXICANA: NOM-026-SAG/FITO-2014 POR LA QUE SE ESTABLECE EL CONTROL DE PLAGAS\n\t\t\t\t\t\tREGLAMENTADAS DEL ALGODONERO Y LA NOM-081-FITO-2001-MANEJO Y ELIMINACI√ìN DE FOCOS DE\n\t\t\t\t\t\tINFESTACI√ìN DE PLAGAS, MEDIANTE EL ESTABLECIMIENTO O REORDENAMIENTO DE FECHAS DE\n\t\t\t\t\t\tSIEMBRA, COSECHA Y DESTRUCCI√ìN DE RESIDUOS.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>SIRVA EL PRESENTE DOCUMENTO PARA LA LIBERACI√ìN DE CARTA DE GARANT√çA EMITIDA.</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPROPIETARIO: {printSanidadModal.nombre} <br />\n\t\t\t\t\t\tCUENTA: {printSanidadModal.cuenta} <br />\n\t\t\t\t\t\tT√âCNICO: {tecnico ? tecnico.displayName : \"\"}\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className=\" d-flex justify-content-end pt-5\">\n\t\t\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pt-5 d-flex \">\n\t\t\t\t<div className=\"col-4 d-flex-column align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\"./logos/sello-cesvbc.png\"}\n\t\t\t\t\t\t\talt=\"Sello sanidad vegetal\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 150 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex flex-column ml-3\">\n\t\t\t\t\t<p className=\"pb-5 text-center\">NOMBRE Y FIRMA</p>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>T√âCNICO FITOSANITARIO DEL CESVBC</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* <div className=\"col-4 d-flex align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>SELLO DE CADER</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n\t\t\t</div>\n\n\t\t\t<div className=\"row p-5\">\n\t\t\t\tC.c.p. -DISTRITO DE DESARROLLO RURAL 002-RIO COLORADO <br />\n\t\t\t\tC.c.p. -ARCHIVO\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{transferPrintButton ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveConstancy}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { CustomTable } from \"../components/tables/CustomTable\";\nimport { laboresColumns } from \"../components/tables/configTables\";\nimport {\n\tsetPermisoSelected,\n\tsetTechniciansLabores,\n\tstartLoadPermisosSearch,\n\tstartLoadPermitsForPay\n} from \"../actions/algodoneroScreen\";\nimport { useForm } from \"../hooks/useForm\";\nimport { CheckSanidad } from \"../components/modulos/CheckSanidad\";\nimport { PrintSanidadModal } from \"../components/modals/PrintSanidadModal\";\nimport { loadTechnician } from \"../helpers/DB/loadTechnician\";\n\nexport const LaboresScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected, printSanidadModal } = useSelector(\n\t\t(state) => state.algodoneroScreen\n\t);\n\t// const { uid, rol } = useSelector((state) => state.auth);\n\n\tuseEffect(() => {\n\t\tloadTechnician().then((techniciasns) => {\n\t\t\tdispatch(setTechniciansLabores(techniciasns));\n\t\t});\n\t}, [dispatch]);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\t// dispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, palabra));\n\t\t\tdispatch(startLoadPermisosSearch(0, palabra));\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese n√∫mero de permiso, n√∫mero de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tconst loadPermitsForPay = () => {\n\t\tdispatch(startLoadPermitsForPay());\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-6 d-inline-flex mt-2\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={buscarPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 mt-2\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={loadPermitsForPay}>\n\t\t\t\t\t\tLabores Completas\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t{permisos.length > 0 && (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\t\tcolumns={laboresColumns}\n\t\t\t\t\t\t\tdata={permisos}\n\t\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? <CheckSanidad palabra={palabra} /> : <></>}\n\t\t\t</div>\n\t\t\t{printSanidadModal !== undefined && <PrintSanidadModal />}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst { expedicion } = useSelector((state) => state.sicperScreen);\n\tconst cultivoExpedicion = expedicion.find(\n\t\t(cultivo) => cultivo.id === `${autorizadoSelected.clave}-${autorizadoSelected.cultivo}`\n\t);\n\n\tconst gravedadNormal = cultivoExpedicion ? cultivoExpedicion.gravedadNormal : 0;\n\tconst gravedadExtra = cultivoExpedicion ? cultivoExpedicion.gravedadExtra : 0;\n\tconst pozoNormal = cultivoExpedicion ? cultivoExpedicion.pozoNormal : 0;\n\tconst pozoExtra = cultivoExpedicion ? cultivoExpedicion.pozoExtra : 0;\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tsubciclo: autorizadoSelected.subciclo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tsubciclo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tsubciclo: subciclo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\t\tconst superficieExcedida =\n\t\t\t\"La superficie asignada no puede ser menor que la superficie expedida !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada - gravedadExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada - gravedadNormal < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada - pozoNormal < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada - pozoExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"gravedad Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadNormalAsignada - gravedadNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadExtraAsignada - gravedadExtra, 4)}</td>\n\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoNormalAsignada - pozoNormal, 4)}</td>\n\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoExtraAsignada - pozoExtra, 4)}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosPozoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst { expedicion } = useSelector((state) => state.sicperScreen);\n\tconst cultivoExpedicion = expedicion.find(\n\t\t(cultivo) => cultivo.id === `${autorizadoSelected.clave}-${autorizadoSelected.cultivo}`\n\t);\n\n\tconst pozoParticularNormal = cultivoExpedicion ? cultivoExpedicion.pozoParticularNormal : 0;\n\tconst pozoParticularExtra = cultivoExpedicion ? cultivoExpedicion.pozoParticularExtra : 0;\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tsubciclo: autorizadoSelected.subciclo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tsubciclo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tsubciclo: subciclo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\t\tconst superficieExcedida =\n\t\t\t\"La superficie asignada no puede ser menor que la superficie expedida !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada - pozoParticularNormal < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada - pozoParticularExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoParticularNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoNormalAsignada - pozoParticularNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoParticularExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoExtraAsignada - pozoParticularExtra, 4)}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\n\nexport const ResumenAutorizadosPozo = ({ autorizados, modulo }) => {\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5> {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-info mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetAutorizadoSelected,\n\tsetModulo,\n\tstartLoadAutorizados\n} from \"../../actions/autorizadosScreen\";\nimport { startLoadExpedicion } from \"../../actions/sicperScreen\";\nimport { modulos } from \"../../helpers/consts\";\nimport { sabeAutorizados } from \"../../helpers/sabeAutorizados\";\nimport { AutorizadosModal } from \"../modals/AutorizadosModal\";\nimport { AutorizadosPozoModal } from \"../modals/AutorizadosPozoModal\";\nimport { autorizadosColumns, autorizadosPozoColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { ResumenAutorizados } from \"./ResumenAutorizados\";\nimport { ResumenAutorizadosPozo } from \"./ResumenAutorizadosPozo\";\n\nexport const AutorizadosScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { modulo, autorizados, autorizadoSelected, superficieReferencia } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst { variablesGlobales, privilegios } = useSelector((state) => state.auth);\n\tconst ciclo = variablesGlobales.cicloActual;\n\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\tlet superficieTotal = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\n\t\tsuperficieTotal =\n\t\t\ttotalGravedadNormalAutorizada +\n\t\t\ttotalGravedadNormalAsignada +\n\t\t\ttotalGravedadExtraAutorizada +\n\t\t\ttotalGravedadExtraAsignada +\n\t\t\ttotalPozoNormalAutorizada +\n\t\t\ttotalPozoNormalAsignada +\n\t\t\ttotalPozoExtraAutorizada +\n\t\t\ttotalPozoExtraAsignada;\n\t}\n\n\tconst setModuloToEdit = (moduloToEdit) => {\n\t\tdispatch(setModulo(moduloToEdit));\n\t\tdispatch(startLoadAutorizados(ciclo, moduloToEdit));\n\t\tdispatch(startLoadExpedicion(moduloToEdit, ciclo));\n\t};\n\n\tconst handleSaveAutorizados = () => {\n\t\tsabeAutorizados(ciclo, modulo, autorizados);\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t\tdispatch(startLoadExpedicion(modulo, ciclo));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-3 .autorizadosModal\">\n\t\t\t\t<div className=\"col-sm-8 \">\n\t\t\t\t\t{modulos.map((moduloIndex) => {\n\t\t\t\t\t\tif (modulo === moduloIndex) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row \">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t{modulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\tcolumns={autorizadosPozoColumns}\n\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\tcolumns={autorizadosColumns}\n\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{modulo ? (\n\t\t\t\t\t<div className=\"col-sm-4 pl-3 mt-3\">\n\t\t\t\t\t\t<div className=\"d-flex flex-column border rounded border-info\">\n\t\t\t\t\t\t\t{autorizados.length > 0 ? (\n\t\t\t\t\t\t\t\tmodulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t\t\t\t<ResumenAutorizadosPozo\n\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t></ResumenAutorizadosPozo>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ResumenAutorizados\n\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t></ResumenAutorizados>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{privilegios.editarAutorizados && superficieReferencia !== superficieTotal && (\n\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2  d-flex flex-column\">\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-5 text-warning\">\n\t\t\t\t\t\t\t\t\t\t! Hay modificaciones sin guardar !\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-4 pb-4\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleSaveAutorizados}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<span> Guardar Cambios</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{autorizadoSelected ? (\n\t\t\t\tmodulo === \"UNI01\" || modulo === \"UNI02\" || modulo === \"UNI03\" ? (\n\t\t\t\t\t<AutorizadosPozoModal />\n\t\t\t\t) : (\n\t\t\t\t\t<AutorizadosModal />\n\t\t\t\t)\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nconst decideEstado = (modulo) => {\n\tif (modulo === 1 || modulo === 2 || modulo === 3) return \"Sonora\";\n\telse return \"Baja California\";\n};\n\nexport const sabeAutorizados = (ciclo, modulo, autorizados) => {\n\tconst batch = db.batch();\n\n\tautorizados.forEach((autorizado) => {\n\t\tconst autorizadoRef = db\n\t\t\t.collection(\"autorizados\")\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`autorizados`)\n\t\t\t.doc(`${autorizado.clave}-${autorizado.cultivo}`);\n\n\t\tconst totalNormal = autorizado.gravedadNormalAutorizada + autorizado.pozoNormalAutorizada;\n\t\tconst totalExtra = autorizado.gravedadExtraAutorizada + autorizado.pozoExtraAutorizada;\n\t\tconst totalCultivo = totalNormal + totalExtra;\n\t\tconst estado = decideEstado(modulo);\n\n\t\tbatch.set(autorizadoRef, {\n\t\t\testado,\n\t\t\tmodulo,\n\t\t\tclave: autorizado.clave,\n\t\t\tcultivo: autorizado.cultivo,\n\t\t\tsubciclo: autorizado.subciclo,\n\t\t\tsuperficieNormal: totalNormal,\n\t\t\tsuperficieExtra: totalExtra,\n\t\t\tsuperficieTotal: totalCultivo,\n\t\t\tgravedadNormalAutorizada: autorizado.gravedadNormalAutorizada,\n\t\t\tgravedadNormalAsignada: autorizado.gravedadNormalAsignada,\n\t\t\tgravedadExtraAutorizada: autorizado.gravedadExtraAutorizada,\n\t\t\tgravedadExtraAsignada: autorizado.gravedadExtraAsignada,\n\t\t\tpozoNormalAutorizada: autorizado.pozoNormalAutorizada,\n\t\t\tpozoNormalAsignada: autorizado.pozoNormalAsignada,\n\t\t\tpozoExtraAutorizada: autorizado.pozoExtraAutorizada,\n\t\t\tpozoExtraAsignada: autorizado.pozoExtraAsignada\n\t\t});\n\t});\n\n\tbatch\n\t\t.commit()\n\t\t.then(() => {\n\t\t\tconsole.log(\"Se registraron con √©xito los cambios.\");\n\t\t\tSwal.fire(\"Autorizados Guardados\", \"Se registraron con √©xito los cambios.\", \"success\");\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\n\nexport const CustomGraficoHorizontal = ({\n\ttitulo,\n\tsubtitulo1,\n\tsubtitulo2,\n\tetiquetas,\n\tdataSet,\n\tancho\n}) => {\n\tconst data = {\n\t\tlabels: etiquetas,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSet,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 0.2)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 0.2)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 0.2)\",\n\t\t\t\t\t\"rgba(150, 50, 150,0.21)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 1)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 1)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 1)\",\n\t\t\t\t\t\"rgba(150, 50, 150, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>{titulo}</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo1}</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo2}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={ancho} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ordenarDataParaGrafico } from \"../../helpers/ordenarDataParaGrafico\";\nimport { CustomGraficoHorizontal } from \"./CustomGraficoHorizontal\";\n\nexport const GraficoPrincipalesCultivos = () => {\n\tconst { permisos, campoOrdenador } = useSelector((state) => state.entidades);\n\n\tconst completaTitulo = (campo) => {\n\t\tswitch (campo) {\n\t\t\tcase \"nombreCultivo\":\n\t\t\t\treturn \"cultivo\";\n\n\t\t\tcase \"usuario\":\n\t\t\t\treturn \"usuario\";\n\n\t\t\tcase \"nombreProductor\":\n\t\t\t\treturn \"productor\";\n\n\t\t\tcase \"localidad\":\n\t\t\t\treturn \"localidad\";\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlet data = [];\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (permisos) {\n\t\tdata = ordenarDataParaGrafico(permisos, campoOrdenador);\n\n\t\tdata.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tdata.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst subtitulo1 = `Superficie incluida: ${totalSuperficie} ha`;\n\tconst subtitulo2 = `Permisos incluidos: ${totalPermisos}`;\n\n\treturn (\n\t\t<div>\n\t\t\t{data ? (\n\t\t\t\t<CustomGraficoHorizontal\n\t\t\t\t\ttitulo={`Superficies por ${completaTitulo(campoOrdenador)}`}\n\t\t\t\t\tsubtitulo1={subtitulo1}\n\t\t\t\t\tsubtitulo2={subtitulo2}\n\t\t\t\t\tetiquetas={data.labels}\n\t\t\t\t\tdataSet={data.superficiesCultivos}\n\t\t\t\t\tancho={220}\n\t\t\t\t></CustomGraficoHorizontal>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","export const ordenarDataParaGrafico = (data, campo) => {\n\tconst dataCondensada = {};\n\n\tdata.forEach((element) => {\n\t\tconst key = element[campo];\n\n\t\tif (dataCondensada[key]) {\n\t\t\tdataCondensada[key].superficie += element.supAutorizada;\n\t\t\tdataCondensada[key].numeroPermisos++;\n\t\t} else {\n\t\t\tdataCondensada[key] = {\n\t\t\t\tlabel: key,\n\t\t\t\tsuperficie: element.supAutorizada,\n\t\t\t\tnumeroPermisos: 1\n\t\t\t};\n\t\t}\n\t});\n\n\tconst arrayDataCondensada = Object.values(dataCondensada);\n\n\tarrayDataCondensada.sort((a, b) => {\n\t\tif (a.superficie < b.superficie) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a.superficie > b.superficie) {\n\t\t\treturn -1;\n\t\t}\n\n\t\treturn 0;\n\t});\n\n\tconst labels = [];\n\tconst superficiesCultivos = [];\n\tconst numeroPermisos = [];\n\n\tlet noBarrasGrafico = 8;\n\tlet restoSuperficie = 0;\n\tlet restoPermisos = 0;\n\n\tarrayDataCondensada.forEach((campo) => {\n\t\tif (noBarrasGrafico >= 0) {\n\t\t\tlabels.push(`${campo.label} (${campo.superficie}ha)`);\n\t\t\tsuperficiesCultivos.push(campo.superficie);\n\t\t\tnumeroPermisos.push(campo.numeroPermisos);\n\t\t\tnoBarrasGrafico--;\n\t\t} else {\n\t\t\trestoSuperficie += campo.superficie;\n\t\t\trestoPermisos += campo.numeroPermisos;\n\t\t}\n\t});\n\n\tlabels.push(`Otros ${campo} (${restoSuperficie}ha)`);\n\tsuperficiesCultivos.push(restoSuperficie);\n\tnumeroPermisos.push(restoPermisos);\n\n\tconst dataFormateada = {\n\t\tlabels: labels,\n\t\tsuperficiesCultivos: superficiesCultivos,\n\t\tnumeroPermisos: numeroPermisos\n\t};\n\n\treturn dataFormateada;\n};\n","import { types } from \"../../types/types\";\nimport { loadPermisos } from \"../../helpers/loadPermisos\";\n\nexport const startLoadPermisos = (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos,\n\tactivosCancelados,\n\ttipoSuperficie,\n\tsistema,\n\tfechaInicial,\n\tfechaFinal\n) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(\n\t\t\tpalabra,\n\t\t\tmodulo,\n\t\t\tciclo,\n\t\t\tcampos,\n\t\t\tactivosCancelados,\n\t\t\ttipoSuperficie,\n\t\t\tsistema,\n\t\t\tfechaInicial,\n\t\t\tfechaFinal\n\t\t);\n\t\tdispatch(setPermisos(permisos));\n\t\tdispatch(setCampoOrdenador(campos[0]));\n\t};\n};\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.setPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.unsetPermisos\n});\n\nexport const setCampoOrdenador = (campo) => ({\n\ttype: types.setCampoOrdenador,\n\tpayload: campo\n});\n\nexport const unsetCampoOrdenador = () => ({\n\ttype: types.unsetCampoOrdenador\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport DatePicker from \"react-date-picker\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\n\nexport const FormPermisosInformes = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra, campo, activosCancelados, tipoSuperficie, sistema } = formValues;\n\n\t// TODO: obtener fecha inicial y final del ciclo vigente\n\n\tconst [fechaInicial, onChangeFechaInicial] = useState(new Date(2021, 8, 1));\n\tconst [fechaFinal, onChangeFechaFinal] = useState(new Date());\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst buscarPermisos = () => {\n\t\tif (campo) {\n\t\t\tdispatch(\n\t\t\t\tstartLoadPermisos(\n\t\t\t\t\tpalabra,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tciclo,\n\t\t\t\t\t[campo],\n\t\t\t\t\tactivosCancelados,\n\t\t\t\t\ttipoSuperficie,\n\t\t\t\t\tsistema,\n\t\t\t\t\tfechaInicial,\n\t\t\t\t\tfechaFinal\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Seleccione un campo.\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tconst imprimirInforme = () => {\n\t\twindow.print();\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-12 d-inline-flex p-0\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"parametro de busqueda\"\n\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\tvalue={campo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">-</option>\n\t\t\t\t\t\t\t<option value=\"nombreCultivo\">Cultivo</option>\n\t\t\t\t\t\t\t<option value=\"usuario\">Usuario</option>\n\t\t\t\t\t\t\t<option value=\"nombreProductor\">Productor</option>\n\t\t\t\t\t\t\t<option value=\"localidad\">Localidad</option>\n\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-2 no-printme\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between pt-2\">\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>ESTADO DE LOS PERMISOS</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"todos\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t\tTodos los permisos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"activos\"\n\t\t\t\t\t\t\t\t\tvalue=\"activo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"activos\">\n\t\t\t\t\t\t\t\t\tPermisos activos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"cancelados\"\n\t\t\t\t\t\t\t\t\tvalue=\"Cancelado\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cancelados\">\n\t\t\t\t\t\t\t\t\tPermisos cancelados\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"En proceso de cancelaci√≥n\"\n\t\t\t\t\t\t\t\t\tvalue=\"En proceso de cancelaci√≥n\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"En proceso de cancelaci√≥n\">\n\t\t\t\t\t\t\t\t\tEn proceso de cancelaci√≥n\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>TIPO DE EXPEDICI√ìN</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"toda\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"toda\">\n\t\t\t\t\t\t\t\t\tToda la superficie\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieNormal\"\n\t\t\t\t\t\t\t\t\tvalue=\"normal\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieNormal\">\n\t\t\t\t\t\t\t\t\tSuperficie normal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieExtra\"\n\t\t\t\t\t\t\t\t\tvalue=\"extra\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieExtra\">\n\t\t\t\t\t\t\t\t\tSuperficie extra\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-3 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>SISTEMA DE RIEGO</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedadPozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedadPozo\">\n\t\t\t\t\t\t\t\t\tGravedad y pozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedad\"\n\t\t\t\t\t\t\t\t\tvalue=\"Gravedad\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedad\">\n\t\t\t\t\t\t\t\t\tGravedad\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"pozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"Pozo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"pozo\">\n\t\t\t\t\t\t\t\t\tPozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between border rounded mt-2\">\n\t\t\t\t\t<div className=\"col-sm-12 p-2\">\n\t\t\t\t\t\t<p>RANGO DE EXPEDICI√ìN</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-5  pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha inicial</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaInicial}\n\t\t\t\t\t\t\t\tvalue={fechaInicial}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-5 pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha final</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaFinal}\n\t\t\t\t\t\t\t\tvalue={fechaFinal}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row d-flex pt-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary flex-fill no-printme\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={imprimirInforme}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Imprimir informe </span>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomPrintTable = ({ title, data, columns, setFunction, closeFunction }) => {\n\tconst dispatch = useDispatch();\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\t};\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: \"5px\",\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t},\n\n\t\theadRow: {\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: \"lightgray\"\n\t\t\t}\n\t\t},\n\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tfontSize: \"10px\",\n\t\t\t\tpaddingLeft: \"5px\",\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"table table-responsive table-striped\">\n\t\t\t<Datatable\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={data}\n\t\t\t\ttitle={title}\n\t\t\t\thighlightOnHover={true}\n\t\t\t\tstriped={true}\n\t\t\t\tpointerOnHover={true}\n\t\t\t\tdense={true}\n\t\t\t\tonRowClicked={getRowSelected}\n\t\t\t\tcustomStyles={customStyles}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { CustomPrintTable } from \"./CustomPrintTable\";\nimport { printPermisosColumns } from \"./configTables\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const PermisosTable = () => {\n\tconst { permisos } = useSelector((state) => state.entidades);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\tif (!permisos) {\n\t\tdispatch(startLoadPermisos(\"\", modulo, ciclo, [\"nombreCultivo\"]));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (permisos) {\n\t\tconst totales = {\n\t\t\tnumeroPermiso: \"TOTALES\",\n\t\t\tsupAutorizada: 0,\n\t\t\tcuotaCultivo: 0\n\t\t};\n\n\t\tpermisos.forEach((permiso) => {\n\t\t\ttotales.supAutorizada = totales.supAutorizada + permiso.supAutorizada;\n\t\t\ttotales.cuotaCultivo =\n\t\t\t\ttotales.cuotaCultivo + roundToN(permiso.cuotaCultivo * permiso.supAutorizada, 3);\n\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tcuotaCultivo: roundToN(permiso.cuotaCultivo * permiso.supAutorizada, 3)\n\t\t\t});\n\t\t});\n\n\t\tpermisosFormateados.push(totales);\n\t}\n\n\tconst titulo = \"\";\n\n\treturn (\n\t\t<div className=\"printme\">\n\t\t\t<CustomPrintTable\n\t\t\t\ttitle={titulo}\n\t\t\t\tcolumns={printPermisosColumns}\n\t\t\t\tdata={permisosFormateados}\n\t\t\t></CustomPrintTable>\n\t\t\t<div className=\"mt-1\">{fechaActual.toLocaleDateString()}</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const RadioButtonGroup = ({ inputName, options, formValues, setFunction, styles }) => {\n\tconst isActive = (currentValue) => currentValue === formValues[inputName] && \"active\";\n\n\treturn (\n\t\t<div className={styles.group}>\n\t\t\t{options.map(({ id, label }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<label key={id} className={`${styles.button} ${isActive(id)}`}>\n\t\t\t\t\t\t<input type=\"radio\" name={inputName} id={id} value={id} onChange={setFunction} />\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nRadioButtonGroup.propTypes = {\n\tinputName: PropTypes.string.isRequired,\n\toptions: PropTypes.array.isRequired,\n\tformValues: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tstyles: PropTypes.object\n};\n\n// options example\n// const options = [\n// \t{\n// \t\tid: \"id0\",\n// \t\tlabel: \"Label 0\"\n// \t},\n// \t{\n// \t\tid: \"id1\",\n// \t\tlabel: \"Label 1\"\n// \t}\n// ];\n\n// styles example\n// const styles = {\n// \tgroup: \"btn-group btn-group-toggle\",\n// \tbutton: \"btn btn-primary\"\n// }\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const simpleLoadPermits = async (\n\tpairs,\n\tmodulo,\n\tciclo,\n\tfechaInicial = new Date(2021, 8, 1),\n\tfechaFinal = new Date(2022, 8, 30)\n) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst permisos = [];\n\tconst permisosFiltrados = [];\n\tconst qrysPermisos = [];\n\tconst permisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`);\n\n\tif (palabra.length === 0) qrysPermisos.push(permisosRef.orderBy(campo).get());\n\telse {\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(permisosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst resolvedPermisosQrys = await Promise.all(qrysPermisos);\n\n\tresolvedPermisosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\t\t\tconst cuota = snapHijo.data().cuotaCultivo * snapHijo.data().supAutorizada;\n\n\t\t\tif (fecha >= fechaInicial && fecha <= addDays(fechaFinal, 1)) {\n\t\t\t\tpermisos.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data(),\n\t\t\t\t\tcuotaCultivo: cuota,\n\t\t\t\t\tfechaEmicion: fecha.toLocaleDateString()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\tpermisosFiltrados.push(permisos);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst permisos = permisosFiltrados.pop();\n\t\t\tpermisosFiltrados.push(\n\t\t\t\tpermisos.filter(\n\t\t\t\t\t(permiso) => permiso[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn onlyUnique(permisosFiltrados.pop(), \"numeroPermiso\");\n};\n\nconst addDays = (date, days) => {\n\tlet result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import { useState } from \"react\";\nimport { roundToN } from \"../helpers/functions/roundToN\";\n\nexport const useFilteredData = (\n\theaders,\n\tinitialData = [],\n\tinitialFilters = { filter: \"\", order1: \"\" },\n\tinitialExtraRows = { includeEmtyRow: false, includeSubtotalRow: false }\n) => {\n\tconst [data, setData] = useState(initialData);\n\tconst [filters, setFilters] = useState(initialFilters);\n\tconst { filter, order1 } = filters;\n\tconst [extraRows, setExtraRows] = useState(initialExtraRows);\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst handleFiltersChange = ({ target }) => {\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[target.name]: target.value\n\t\t});\n\n\t\tif (target.name === \"filter\")\n\t\t\tsetData(aplyFilter(data, headers, target.value, order1, includeEmtyRow, includeSubtotalRow));\n\t\tif (target.name === \"order1\")\n\t\t\tsetData(aplyFilter(data, headers, filter, target.value, includeEmtyRow, includeSubtotalRow));\n\t};\n\n\tconst handleExtraRowsChange = ({ target }) => {\n\t\tsetExtraRows({\n\t\t\t...extraRows,\n\t\t\t[target.name]: target.checked\n\t\t});\n\n\t\tif (target.name === \"includeEmtyRow\")\n\t\t\tsetData(aplyFilter(data, headers, filter, order1, target.checked, includeSubtotalRow));\n\t\tif (target.name === \"includeSubtotalRow\")\n\t\t\tsetData(aplyFilter(data, headers, filter, order1, includeEmtyRow, target.checked));\n\t};\n\n\tconst resetFilters = () => {\n\t\tsetFilters(initialFilters);\n\t\tsetExtraRows(initialExtraRows);\n\t};\n\n\treturn [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t];\n};\n\nconst aplyFilter = (dataSet, headers, filter, order1, includeEmtyRow, includeSubtotalRow) => {\n\tconst mainKey = headers[0].id;\n\tconst ids = [];\n\tconst cleanDataSet = dataSet.filter((row) => {\n\t\tif (\n\t\t\trow[mainKey] !== \"-\" &&\n\t\t\trow[mainKey] !== \"SUBTOTAL\" &&\n\t\t\trow[mainKey] !== \"TOTAL\" &&\n\t\t\t!ids.find((id) => id === row[mainKey])\n\t\t) {\n\t\t\tids.push(row[mainKey]);\n\t\t\treturn true;\n\t\t} else return false;\n\t});\n\tconst unique = onlyUnique(cleanDataSet, filter);\n\tconst separateData = [];\n\tconst finalData = [];\n\tconst totalRow = { [mainKey]: \"TOTAL\" };\n\n\tunique.forEach((value) => {\n\t\tseparateData.push(cleanDataSet.filter((row) => row[filter] === value));\n\t});\n\n\tseparateData.forEach((batch) => {\n\t\tconst subTotalRow = { [mainKey]: \"SUBTOTAL\" };\n\t\tconst emtyRow = { [mainKey]: \"-\" };\n\t\tconst separateBatch = [];\n\t\tconst finalBatch = [];\n\n\t\tbatch.sort((a, b) => sortFunction(a[order1], b[order1]));\n\t\tconst uniqueOrder1 = onlyUnique(batch, order1);\n\t\tuniqueOrder1.forEach((value) => {\n\t\t\tseparateBatch.push(batch.filter((row) => row[order1] === value));\n\t\t});\n\n\t\tseparateBatch.forEach((subBatch) => {\n\t\t\tsubBatch.forEach((row) => {\n\t\t\t\tfinalBatch.push(row);\n\t\t\t});\n\t\t\tif (includeEmtyRow) finalBatch.push(emtyRow);\n\t\t});\n\t\tif (includeEmtyRow) finalBatch.pop();\n\n\t\tfinalBatch.forEach((row) => {\n\t\t\theaders.forEach((header) => {\n\t\t\t\tif (header.sum) {\n\t\t\t\t\tif (row[header.id]) {\n\t\t\t\t\t\tif (subTotalRow[header.id]) subTotalRow[header.id] += row[header.id];\n\t\t\t\t\t\telse subTotalRow[header.id] = row[header.id];\n\n\t\t\t\t\t\tif (totalRow[header.id]) totalRow[header.id] += row[header.id];\n\t\t\t\t\t\telse totalRow[header.id] = row[header.id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (header.count) {\n\t\t\t\t\tif (row[header.id]) {\n\t\t\t\t\t\tif (subTotalRow[header.id]) subTotalRow[header.id]++;\n\t\t\t\t\t\telse subTotalRow[header.id] = 1;\n\n\t\t\t\t\t\tif (totalRow[header.id]) totalRow[header.id]++;\n\t\t\t\t\t\telse totalRow[header.id] = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tfinalData.push(row);\n\t\t});\n\n\t\tfor (const key in subTotalRow) {\n\t\t\tif (typeof subTotalRow[key] === \"number\") subTotalRow[key] = roundToN(subTotalRow[key], 4);\n\t\t}\n\t\tif (includeSubtotalRow) finalData.push(subTotalRow);\n\t});\n\tfinalData.push(totalRow);\n\n\treturn finalData;\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tobjectsArray.forEach((element) => {\n\t\tif (typeof element[key] === \"object\") {\n\t\t\tconst fecha = element[key].toDate();\n\t\t\tconsole.log(fecha.toLocaleDateString());\n\t\t\tconst index = unique.indexOf(fecha.toLocaleDateString());\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(fecha.toLocaleDateString());\n\t\t\t}\n\t\t} else {\n\t\t\tconst index = unique.indexOf(element[key]);\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(element[key]);\n\t\t\t}\n\t\t}\n\t});\n\n\tunique.sort((a, b) => sortFunction(a, b));\n\treturn unique;\n};\n\nconst sortFunction = (a, b) => {\n\tconst isDate = isADate(a);\n\n\tif (isDate) {\n\t\tconst dateA = new Date(usDate(a));\n\t\tconst dateB = new Date(usDate(b));\n\n\t\tif (dateA > dateB) return 1;\n\t\tif (dateA < dateB) return -1;\n\t\treturn 0;\n\t}\n\n\tswitch (typeof a) {\n\t\tcase \"number\":\n\t\t\tif (a < b) return 1;\n\t\t\tif (a > b) return -1;\n\t\t\treturn 0;\n\n\t\tdefault:\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t}\n};\n\nconst isADate = (value) => {\n\tif (value) {\n\t\tif (typeof value === \"string\") {\n\t\t\tconst arrayDate = value.split(\"/\");\n\t\t\tif (arrayDate.length === 3) return true;\n\t\t\telse return false;\n\t\t} else return false;\n\t} else return false;\n};\n\nconst usDate = (date) => {\n\tconst dateSplit = date.split(\"/\");\n\treturn `${dateSplit[1]}/${dateSplit[0]}/${dateSplit[2]}`;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const ReportHeader = ({ title, pages, page, range = \"\" }) => {\n\tconst { email, entidad, img, variablesGlobales } = useSelector((state) => state.auth);\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\treturn (\n\t\t<div className=\"row border rounded border-dark m-0\">\n\t\t\t<div className=\"col-2 p-3 d-flex justify-content-center\">\n\t\t\t\t<img src={`./logos/${img}`} alt=\"Logo de la entidad\" style={{ maxHeight: 80 }} />\n\t\t\t</div>\n\n\t\t\t<div className=\"col-2 p-3\" style={{ maxHeight: 80 }}>\n\t\t\t\t<div>Operador:</div>\n\t\t\t\t<div>{email}</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-6 p-3 justify-content-center\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<b>{entidad}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<b>{title}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div>{range}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-2 p-3 d-flex flex-column\">\n\t\t\t\t<b>Ciclo: {variablesGlobales.cicloActual}</b>\n\t\t\t\t<div>{fechaActual.toLocaleDateString()}</div>\n\t\t\t\t<div>\n\t\t\t\t\tPagina {page} de {pages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { forwardRef } from \"react\";\nimport { ReportHeader } from \"./ReportHeader\";\n\nexport const PrintableTable = forwardRef((props, ref) => {\n\tconst { title, headers, data, rowsPerPage, orientation = \"portrait\", range } = props;\n\n\tconst getPageMargins = () => {\n\t\tconst marginTop = 60;\n\t\tconst marginRight = 60;\n\t\tconst marginBottom = 60;\n\t\tconst marginLeft = 60;\n\t\treturn `@page { margin: ${marginTop} ${marginRight} ${marginBottom} ${marginLeft} !important; size:letter ${orientation};}`;\n\t};\n\n\tconst separateData = [];\n\n\tfor (let i = 0; i < data.length; i += rowsPerPage) {\n\t\tlet fracment = data.slice(i, i + rowsPerPage);\n\t\tseparateData.push(fracment);\n\t}\n\n\treturn (\n\t\t<div ref={ref}>\n\t\t\t{separateData.map((dataPart, i) => (\n\t\t\t\t<div key={i} className=\"page-break\">\n\t\t\t\t\t<style>{getPageMargins()}</style>\n\t\t\t\t\t<ReportHeader title={title} pages={separateData.length} page={i + 1} range={range} />\n\n\t\t\t\t\t<table className=\"table table-sm table-striped border mt-4\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t<thead className=\"thead-light\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.display) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<th key={`${i}-${header.id}`} scope=\"col\" className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <th key={`${i}-${header.id}`} style={{ display: \"none\" }}></th>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{dataPart &&\n\t\t\t\t\t\t\t\tdataPart.map((row, j) => (\n\t\t\t\t\t\t\t\t\t<tr key={`${i}-${j}-${row[0]}`}>\n\t\t\t\t\t\t\t\t\t\t{headers.map((header, k) => {\n\t\t\t\t\t\t\t\t\t\t\tif (header.display) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof row[header.id] === \"object\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst fechaObject = row[header.id].toDate();\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={`${i}-${k}-${fecha}`} className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fecha}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={`${i}-${k}-${header.id}`} className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{header.float\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValue(row[header.id], header.float, header.currency)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: row[header.id]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\t\t\t\t\treturn <td key={`${i}-${k}-${header.id}`} style={{ display: \"none\" }}></td>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n});\n\nconst getValue = (value, frac, currency) => {\n\t// console.log(typeof value);\n\n\tswitch (typeof value) {\n\t\tcase \"number\":\n\t\t\tif (currency)\n\t\t\t\treturn Intl.NumberFormat(\"en-IN\", {\n\t\t\t\t\tminimumFractionDigits: frac,\n\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\tcurrencyDisplay: \"symbol\"\n\t\t\t\t}).format(value);\n\t\t\telse\n\t\t\t\treturn Intl.NumberFormat(\"en-IN\", {\n\t\t\t\t\tminimumFractionDigits: frac\n\t\t\t\t}).format(value);\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n","import React, { createRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ReactToPrint from \"react-to-print\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { PrintableTable } from \"../molecules/PrintableTable\";\n\nexport const ReportModule = ({ title, excelTitle, headers, data, range }) => {\n\tconst componentRef = createRef();\n\tconst { name } = useSelector((state) => state.auth);\n\n\tconst exportToExcel = () => {\n\t\tconst excelHeaders = [];\n\t\tconst fileHeaders = [];\n\t\tconst excelData = [];\n\n\t\theaders.forEach((header) => {\n\t\t\tif (header.display) excelHeaders.push([header.id, header.header]);\n\t\t});\n\n\t\tdata.forEach((row) => {\n\t\t\tconst newRow = {};\n\t\t\texcelHeaders.forEach((header) => {\n\t\t\t\tfileHeaders.push(header[1]);\n\n\t\t\t\tif (typeof row[header[0]] === \"object\") {\n\t\t\t\t\tconst fechaObject = row[header[0]].toDate();\n\t\t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t\t\t\t\tnewRow[header[1]] = fecha;\n\t\t\t\t} else newRow[header[1]] = row[header[0]];\n\t\t\t});\n\t\t\texcelData.push(newRow);\n\t\t});\n\n\t\texportJSONToExcel(\n\t\t\texcelData,\n\t\t\tfileHeaders,\n\t\t\texcelTitle.substring(0, 30),\n\t\t\tname,\n\t\t\texcelTitle.substring(0, 30)\n\t\t);\n\t};\n\n\tconst [pageConfig, setPageConfig] = useState({ orientation: \"landscape\", rowsPerPage: 25 });\n\tconst { orientation, rowsPerPage } = pageConfig;\n\n\tconst setLandscape = () => {\n\t\tsetPageConfig({ rowsPerPage: 25, orientation: \"landscape\" });\n\t};\n\tconst setPortrait = () => {\n\t\tsetPageConfig({ rowsPerPage: 50, orientation: \"portrait\" });\n\t};\n\tconst addRow = () => {\n\t\tsetPageConfig({ ...pageConfig, rowsPerPage: rowsPerPage + 1 });\n\t};\n\tconst removeRow = () => {\n\t\tsetPageConfig({ ...pageConfig, rowsPerPage: rowsPerPage - 1 });\n\t};\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row mb-4\">\n\t\t\t\t<div className=\"col-sm-4 d-flex mt-4\">\n\t\t\t\t\t<label htmlFor=\"orientation\">\n\t\t\t\t\t\tLineas por pagina: <b>{rowsPerPage}</b>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none mr-4 ml-2\" id=\"orientation\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={addRow}\n\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary\"\n\t\t\t\t\t\t\tstyle={{ width: 40 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t+\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={removeRow}\n\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary\"\n\t\t\t\t\t\t\tstyle={{ width: 40 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex mt-4\">\n\t\t\t\t\t<label htmlFor=\"orientation\">Orientacion:</label>\n\t\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none mr-4 ml-2\" id=\"orientation\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={setLandscape}\n\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\torientation === \"landscape\" ? \"btn-primary\" : \"btn-outline-primary\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHorizontal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={setPortrait}\n\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\torientation === \"portrait\" ? \"btn-primary\" : \"btn-outline-primary\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tVertical\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex justify-content-end mt-4\">\n\t\t\t\t\t<ReactToPrint\n\t\t\t\t\t\ttrigger={() => (\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-primary d-print-none \">\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tcontent={() => componentRef.current}\n\t\t\t\t\t\tpageStyle=\"bootstrap/dist/css/bootstrap.min.css\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={exportToExcel}\n\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary ml-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t\t\t<span> Descargar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<PrintableTable\n\t\t\t\ttitle={title}\n\t\t\t\theaders={headers}\n\t\t\t\tdata={data}\n\t\t\t\tref={componentRef}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\torientation={orientation}\n\t\t\t\tclassName={\"mt-0\"}\n\t\t\t\trange={range}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { useState } from \"react\";\n\nexport const useMultiInput = (initialState = []) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst index = parseInt(target.attributes.index.nodeValue);\n\t\tconst targetPair = values[index];\n\t\tconst newPair = { ...targetPair, [target.name]: target.value };\n\t\tconst newState = values.map((pair, i) => {\n\t\t\tif (i === index) return newPair;\n\t\t\telse return pair;\n\t\t});\n\n\t\tsetValues(newState);\n\t};\n\n\tconst addPair = () => {\n\t\tsetValues([...values, { palabra: \"\", campo: \"\" }]);\n\t};\n\n\tconst removePair = () => {\n\t\tconst newState = values.slice(0, values.length - 1);\n\t\tsetValues(newState);\n\t};\n\n\treturn [values, handleInputChange, addPair, removePair, reset];\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport DatePicker from \"react-date-picker\";\n\nimport { simpleLoadPermits } from \"../../../helpers/DB/simpleLoadPermits\";\nimport { permitsHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const CustomPermitsReport = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [fechaInicial, onChangeFechaInicial] = useState(new Date(2021, 8, 1));\n\tconst [fechaFinal, onChangeFechaFinal] = useState(new Date());\n\tconst range = `Del ${fechaInicial.toLocaleDateString()} al ${fechaFinal.toLocaleDateString()}`;\n\n\tconst [headers, setHeaders] = useState(permitsHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getPermisos = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst permisosToSet = await simpleLoadPermits(\n\t\t\t\tformValues,\n\t\t\t\tmodulo,\n\t\t\t\tcicloActual,\n\t\t\t\tfechaInicial,\n\t\t\t\tfechaFinal\n\t\t\t);\n\t\t\tresetFilters();\n\t\t\tsetData(permisosToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `PERMISOS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"PERMISOS\");\n\tconst excelTitle = getTitle(\"excel\", \"PERMISOS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha inicial</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaInicial}\n\t\t\t\t\t\t\t\tvalue={fechaInicial}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha final</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaFinal}\n\t\t\t\t\t\t\t\tvalue={fechaFinal}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACI√ìN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={excelTitle}\n\t\t\t\t\theaders={headers}\n\t\t\t\t\tdata={data}\n\t\t\t\t\trange={range}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermisosPorSeccion = async (seccion, modulo, ciclo) => {\n\tconst permisos = [];\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"seccion\", \"==\", parseInt(seccion))\n\t\t.where(\"estadoPermiso\", \"==\", \"activo\")\n\t\t.orderBy(\"nombreCultivo\")\n\t\t.get();\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\t\tconst cuota = snapHijo.data().cuotaCultivo * snapHijo.data().supAutorizada;\n\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data(),\n\t\t\tcuotaCultivo: cuota,\n\t\t\tfechaEmicion: fecha.toLocaleDateString()\n\t\t});\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn permisos;\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { permitsHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { loadPermisosPorSeccion } from \"../../../helpers/DB/loadPermisosPorSeccion\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { ReportModule } from \"./ReportModule\";\n\nexport const PermitsReport = () => {\n\tconst title = \"REPORTE DE PERMISOS ACTIVOS POR SECCION\";\n\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual } = variablesGlobales;\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\tconst [permisos, setPermisos] = useState([]);\n\n\tconst onlyUnique = (objectsArray, key) => {\n\t\tconst unique = [];\n\t\tobjectsArray.forEach((element) => {\n\t\t\tconst index = unique.indexOf(element[key]);\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(element[key]);\n\t\t\t}\n\t\t});\n\n\t\tunique.sort((a, b) => {\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t\t});\n\n\t\treturn unique;\n\t};\n\n\tconst filter = \"seccion\";\n\tconst order1 = \"localidad\";\n\n\tconst fechaInicial = new Date(2021, 8, 1);\n\tconst fechaFinal = new Date();\n\n\tconst getPermisos = async () => {\n\t\tconst permisosToSet = await loadPermisosPorSeccion(palabra, modulo, cicloActual);\n\t\tsetPermisos(setFilter(permisosToSet));\n\t};\n\n\tconst setFilter = (permisos) => {\n\t\tconst unique = onlyUnique(permisos, filter);\n\t\tconst separateData = [];\n\t\tconst finalData = [];\n\n\t\tunique.forEach((value) => {\n\t\t\tseparateData.push(permisos.filter((permiso) => permiso[filter] === value));\n\t\t});\n\n\t\tseparateData.forEach((filterItem) => {\n\t\t\tfilterItem.sort((a, b) => {\n\t\t\t\tif (a[order1] > b[order1]) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (a[order1] < b[order1]) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\tfilterItem.forEach((order1Item) => {\n\t\t\t\tfinalData.push(order1Item);\n\t\t\t});\n\t\t});\n\n\t\treturn finalData;\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container d-flex mb-4 col-6\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Seccion\"\n\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={palabra}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={getPermisos}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{permisos.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={\"REPORTE DE PERMISOS POR SECCION\"}\n\t\t\t\t\theaders={permitsHeaders}\n\t\t\t\t\tdata={permisos}\n\t\t\t\t\trowsPerPage={24}\n\t\t\t\t\torientation=\"landscape\"\n\t\t\t\t\tfechaInicial={fechaInicial}\n\t\t\t\t\tfechaFinal={fechaFinal}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { GraficoPrincipalesCultivos } from \"../charts/GraficoPrincipalesCultivos\";\nimport { FormPermisosInformes } from \"../forms/FormPermisosInformes\";\nimport { PermisosTable } from \"../tables/PermisosTable\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { CustomPermitsReport } from \"../ui/organisms/CustomPermitsReport\";\nimport { PermitsReport } from \"../ui/organisms/PermitsReport\";\n\nexport const ModuloInformesPermisos = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"grafico\",\n\t\t\tlabel: \"Reporte con grafico\"\n\t\t},\n\t\t{\n\t\t\tid: \"seccion\",\n\t\t\tlabel: \"Reporte por seccion\"\n\t\t},\n\t\t{\n\t\t\tid: \"configurable\",\n\t\t\tlabel: \"Reporte configurable\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de permisos</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"grafico\" && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-sm-9 no-printme\">\n\t\t\t\t\t\t\t<FormPermisosInformes />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-sm-5 no-printme\">\n\t\t\t\t\t\t\t<GraficoPrincipalesCultivos />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t\t\t<PermisosTable />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{reportTypeValues.reportType === \"seccion\" && <PermitsReport />}\n\n\t\t\t{reportTypeValues.reportType === \"configurable\" && <CustomPermitsReport />}\n\t\t</div>\n\t);\n};\n","import { cultivosPrincipales as cultivos } from \"../consts\";\n\nconst initialObject = {\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\nconst reportData = { ...cultivos };\n\nconst accumulate = (\n\tref,\n\tsupGravedadProgramada,\n\tsupGravedadExpedida,\n\tsupGravedadRealizada,\n\tsupPozoProgramada,\n\tsupPozoExpedida,\n\tsupPozoRealizada,\n\tsupPozoPartProgramada,\n\tsupPozoPartExpedida,\n\tsupPozoPartRealizada\n) => {\n\tref.supGravedadProgramada = ref.supGravedadProgramada + supGravedadProgramada;\n\tref.supGravedadExpedida = ref.supGravedadExpedida + supGravedadExpedida;\n\tref.supGravedadRealizada = ref.supGravedadRealizada + supGravedadRealizada;\n\tref.supPozoProgramada = ref.supPozoProgramada + supPozoProgramada;\n\tref.supPozoExpedida = ref.supPozoExpedida + supPozoExpedida;\n\tref.supPozoRealizada = ref.supPozoRealizada + supPozoRealizada;\n\tref.supPozoPartProgramada = ref.supPozoPartProgramada + supPozoPartProgramada;\n\tref.supPozoPartExpedida = ref.supPozoPartExpedida + supPozoPartExpedida;\n\tref.supPozoPartRealizada = ref.supPozoPartRealizada + supPozoPartRealizada;\n};\n\nconst checkModulo = (modulos, modulo) => {\n\tlet isOk = false;\n\n\tif (modulos.length > 0) {\n\t\tmodulos.forEach((okModulo) => {\n\t\t\tif (modulo.toString() === okModulo) isOk = true;\n\t\t});\n\t} else isOk = true;\n\n\treturn isOk;\n};\n\nconst isRegisterInclude = (opcion, modulos, modulo, estado) => {\n\tswitch (opcion) {\n\t\tcase \"modulos\":\n\t\tcase \"modulo\":\n\t\t\treturn checkModulo(modulos, modulo);\n\n\t\tcase \"Baja California\":\n\t\tcase \"Sonora\":\n\t\t\tif (opcion === estado) {\n\t\t\t\treturn true;\n\t\t\t} else return false;\n\n\t\tcase \"global\":\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nexport const filterReportData = (data, option, modulos) => {\n\tObject.keys(reportData).forEach((subciclo) => {\n\t\tObject.keys(reportData[subciclo]).forEach((cultivo) => {\n\t\t\treportData[subciclo][cultivo] = { ...initialObject };\n\t\t});\n\t});\n\n\tObject.values(data).forEach(\n\t\t({\n\t\t\tsubciclo,\n\t\t\tcultivo,\n\t\t\tmodulo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada,\n\t\t\tsupGravedadExpedida,\n\t\t\tsupGravedadRealizada,\n\t\t\tsupPozoProgramada,\n\t\t\tsupPozoExpedida,\n\t\t\tsupPozoRealizada,\n\t\t\tsupPozoPartProgramada,\n\t\t\tsupPozoPartExpedida,\n\t\t\tsupPozoPartRealizada\n\t\t}) => {\n\t\t\tif (isRegisterInclude(option, modulos, modulo, estado)) {\n\t\t\t\tif (reportData[subciclo][cultivo]) {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo][cultivo],\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].VARIOS,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tif (reportData.TOTAL) {\n\t\tdelete reportData.TOTAL;\n\t}\n\n\tconst TOTAL = {\n\t\tsupGravedadProgramada: 0,\n\t\tsupGravedadExpedida: 0,\n\t\tsupGravedadRealizada: 0,\n\t\tsupPozoProgramada: 0,\n\t\tsupPozoExpedida: 0,\n\t\tsupPozoRealizada: 0,\n\t\tsupPozoPartProgramada: 0,\n\t\tsupPozoPartExpedida: 0,\n\t\tsupPozoPartRealizada: 0\n\t};\n\n\tObject.values(reportData).forEach((subciclo) => {\n\t\tTOTAL.supGravedadProgramada =\n\t\t\tTOTAL.supGravedadProgramada + subciclo.SUBTOTAL.supGravedadProgramada;\n\t\tTOTAL.supGravedadExpedida = TOTAL.supGravedadExpedida + subciclo.SUBTOTAL.supGravedadExpedida;\n\t\tTOTAL.supGravedadRealizada =\n\t\t\tTOTAL.supGravedadRealizada + subciclo.SUBTOTAL.supGravedadRealizada;\n\t\tTOTAL.supPozoProgramada = TOTAL.supPozoProgramada + subciclo.SUBTOTAL.supPozoProgramada;\n\t\tTOTAL.supPozoExpedida = TOTAL.supPozoExpedida + subciclo.SUBTOTAL.supPozoExpedida;\n\t\tTOTAL.supPozoRealizada = TOTAL.supPozoRealizada + subciclo.SUBTOTAL.supPozoRealizada;\n\t\tTOTAL.supPozoPartProgramada =\n\t\t\tTOTAL.supPozoPartProgramada + subciclo.SUBTOTAL.supPozoPartProgramada;\n\t\tTOTAL.supPozoPartExpedida = TOTAL.supPozoPartExpedida + subciclo.SUBTOTAL.supPozoPartExpedida;\n\t\tTOTAL.supPozoPartRealizada =\n\t\t\tTOTAL.supPozoPartRealizada + subciclo.SUBTOTAL.supPozoPartRealizada;\n\t});\n\n\treportData.TOTAL = {};\n\treportData.TOTAL.TOTAL = { ...TOTAL };\n\n\treturn reportData;\n};\n","const mergedData = {};\n\nconst plantillaRegistro = {\n\tcultivo: \"\",\n\tmodulo: \"\",\n\tsubciclo: \"\",\n\testado: \"\",\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\n\nconst updateExpedicionItem = ({\n\tid,\n\tmodulo,\n\tgravedadNormal = 0,\n\tgravedadExtra = 0,\n\tpozoNormal = 0,\n\tpozoExtra = 0,\n\tpozoParticularNormal = 0,\n\tpozoParticularExtra = 0\n}) => {\n\tmergedData[`${id}-${modulo}`] = {\n\t\t...mergedData[`${id}-${modulo}`],\n\t\tsupGravedadExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supGravedadExpedida + gravedadNormal + gravedadExtra,\n\t\tsupPozoExpedida: mergedData[`${id}-${modulo}`].supPozoExpedida + pozoNormal + pozoExtra,\n\t\tsupPozoPartExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supPozoPartExpedida + pozoParticularNormal + pozoParticularExtra\n\t};\n};\n\nconst createNewAutorizadosItem = ({\n\tid,\n\tmodulo,\n\tsubciclo,\n\testado = \"\",\n\tgravedadExtraAutorizada = 0,\n\tgravedadNormalAutorizada = 0,\n\tpozoExtraAutorizada = 0,\n\tpozoNormalAutorizada = 0\n}) => {\n\tif (subciclo === \"PERENES\") subciclo = \"PERENNES\";\n\tif (isPozoParticular(modulo)) {\n\t\tmergedData[`${id}-${modulo}`] = {\n\t\t\t...plantillaRegistro,\n\t\t\tcultivo: id,\n\t\t\tmodulo,\n\t\t\tsubciclo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada: gravedadNormalAutorizada + gravedadExtraAutorizada,\n\t\t\tsupPozoPartProgramada: pozoNormalAutorizada + pozoExtraAutorizada\n\t\t};\n\t} else {\n\t\tmergedData[`${id}-${modulo}`] = {\n\t\t\t...plantillaRegistro,\n\t\t\tcultivo: id,\n\t\t\tmodulo,\n\t\t\tsubciclo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada: gravedadNormalAutorizada + gravedadExtraAutorizada,\n\t\t\tsupPozoProgramada: pozoNormalAutorizada + pozoExtraAutorizada\n\t\t};\n\t}\n};\n\nexport const mergeReportData = (autorizados, expedicion) => {\n\tautorizados.forEach((item) => {\n\t\tcreateNewAutorizadosItem(item);\n\t});\n\n\texpedicion.forEach((item) => {\n\t\tmergedData[`${item.id}-${item.modulo}`] && updateExpedicionItem(item);\n\t});\n\n\treturn mergedData;\n};\n\nconst isPozoParticular = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\tcase \"UNI02\":\n\t\tcase \"UNI03\":\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n","export const modulosCheckboxReducer = (state, action) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase \"setUnidad\":\n\t\t\tif (unidades[payload]) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...unidades,\n\t\t\t\t\t\t[payload]: false\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst newValues = {};\n\t\t\t\tObject.keys(unidades).forEach((newValueKey) => {\n\t\t\t\t\tnewValues[newValueKey] = false;\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...newValues,\n\t\t\t\t\t\t[payload]: true\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase \"changeModulo\":\n\t\t\tconst { unidad, modulo } = payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: {\n\t\t\t\t\t...modulosPorUnidad,\n\t\t\t\t\t[unidad]: {\n\t\t\t\t\t\t...modulosPorUnidad[unidad],\n\t\t\t\t\t\t[modulo]: !modulosPorUnidad[unidad][modulo]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase \"changeGroup\":\n\t\t\tconst newModulosState = { ...modulosPorUnidad };\n\t\t\tObject.keys(state.unidades).forEach((unidad) => {\n\t\t\t\tObject.keys(state.modulosPorUnidad[unidad]).forEach((modulo) => {\n\t\t\t\t\tnewModulosState[unidad][modulo] = state.unidades[unidad];\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: newModulosState\n\t\t\t};\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const ExpedicionTable = ({ data, modulos }) => {\n\tconst { name } = useSelector((state) => state.auth);\n\n\tconst exportToExcel = () => {\n\t\tconst title = setTitle(modulos);\n\t\tconst headers = {\n\t\t\theader: [\n\t\t\t\t\"CULTIVO\",\n\t\t\t\t\"GRAVEDAD PROGRAMADA\",\n\t\t\t\t\"GRAVEDAD EXPEDIDA\",\n\t\t\t\t\"GRAVEDAD REALIZADA\",\n\t\t\t\t\"POZO PROGRAMADA\",\n\t\t\t\t\"POZO EXPEDIDA\",\n\t\t\t\t\"POZO REALIZADA\",\n\t\t\t\t\"POZO PART PROGRAMADA\",\n\t\t\t\t\"POZO PART EXPEDIDA\",\n\t\t\t\t\"POZO PART REALIZADA\",\n\t\t\t\t\"TOTAL PROGRAMADA\",\n\t\t\t\t\"TOTAL EXPEDIDA\",\n\t\t\t\t\"TOTAL REALIZADA\"\n\t\t\t]\n\t\t};\n\n\t\texportJSONToExcel(setUpData(data), headers, title, name, title);\n\t};\n\n\treturn (\n\t\t<div className=\"table-responsive-sm\">\n\t\t\t<table className=\"table table-sm table-bordered font12\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" rowSpan=\"2\">\n\t\t\t\t\t\t\tCULTIVO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. GRAVEDAD\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO FEDERAL\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO PARTICULAR\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. TOTAL\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tOTO√ëO - INVIERNO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"OTO√ëO-INVIERNO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"OTO√ëO-INVIERNO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPERENNES\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PERENNES\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PERENNES\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPRIMAVERA-VERANO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PRIMAVERA-VERANO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PRIMAVERA-VERANO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"TOTAL\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"TOTAL\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={exportToExcel}\n\t\t\t\tclassName=\"btn btn-outline-primary d-print-none\"\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t<span> Descargar</span>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\tonClick={() => window.print()}\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t<span> Imprimir</span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nconst setUpData = (expedicion) => {\n\tconst data = [];\n\tconst subCiclos = Object.entries(expedicion);\n\n\tsubCiclos.forEach((subCiclo) => {\n\t\tdata.push({ cultivo: subCiclo[0] });\n\t\tconst cultivos = Object.entries(subCiclo[1]);\n\t\tcultivos.forEach((cultivo) => {\n\t\t\tdata.push({ cultivo: cultivo[0], ...cultivo[1] });\n\t\t});\n\t});\n\n\tconst expedicionTable = data.map((cultivo) => {\n\t\tif (Object.keys(cultivo).length > 1) {\n\t\t\treturn {\n\t\t\t\tCULTIVO: cultivo.cultivo,\n\t\t\t\t\"GRAVEDAD PROGRAMADA\": cultivo.supGravedadProgramada,\n\t\t\t\t\"GRAVEDAD EXPEDIDA\": cultivo.supGravedadExpedida,\n\t\t\t\t\"GRAVEDAD REALIZADA\": cultivo.supGravedadRealizada,\n\t\t\t\t\"POZO PROGRAMADA\": cultivo.supPozoProgramada,\n\t\t\t\t\"POZO EXPEDIDA\": cultivo.supPozoExpedida,\n\t\t\t\t\"POZO REALIZADA\": cultivo.supPozoRealizada,\n\t\t\t\t\"POZO PART PROGRAMADA\": cultivo.supPozoPartProgramada,\n\t\t\t\t\"POZO PART EXPEDIDA\": cultivo.supPozoPartExpedida,\n\t\t\t\t\"POZO PART REALIZADA\": cultivo.supPozoPartRealizada,\n\t\t\t\t\"TOTAL PROGRAMADA\":\n\t\t\t\t\tcultivo.supGravedadProgramada + cultivo.supPozoProgramada + cultivo.supPozoPartProgramada,\n\t\t\t\t\"TOTAL EXPEDIDA\":\n\t\t\t\t\tcultivo.supGravedadExpedida + cultivo.supPozoExpedida + cultivo.supPozoPartExpedida,\n\t\t\t\t\"TOTAL REALIZADA\":\n\t\t\t\t\tcultivo.supGravedadRealizada + cultivo.supPozoRealizada + cultivo.supPozoPartRealizada\n\t\t\t};\n\t\t} else {\n\t\t\treturn { CULTIVO: cultivo.cultivo };\n\t\t}\n\t});\n\n\treturn expedicionTable;\n};\n\nconst setTitle = (modulos) => {\n\tswitch (modulos.length) {\n\t\tcase 0:\n\t\t\treturn \"ExpedicionGlobal\";\n\t\tcase 1:\n\t\t\treturn `ExpedicionM${modulos[0]}`;\n\n\t\tdefault:\n\t\t\treturn \"Expedicion\";\n\t}\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ButtonGroup = ({ options, setFunction, groupStyles, buttonStyles }) => {\n\tconst defineButtonStile = (isOn) => {\n\t\treturn isOn ? buttonStyles.on : buttonStyles.off;\n\t};\n\n\treturn (\n\t\t<div className={groupStyles}>\n\t\t\t{Object.entries(options).map((option) => {\n\t\t\t\tconst handleSetFunction = () => {\n\t\t\t\t\tsetFunction(option[0]);\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={defineButtonStile(option[1])}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tkey={option[0]}\n\t\t\t\t\t\tonClick={handleSetFunction}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{option[0]}</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nButtonGroup.propTypes = {\n\toptions: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tgroupStyles: PropTypes.string,\n\tbuttonStyles: PropTypes.object\n};\n\n// options example\n// const options = {\n// \toptionA: false,\n// \toptionB: false,\n// \toptionC: false\n// };\n\n// buttonStyles example\n// const buttonClasses = {\n// \ton: \"btn btn-primary\",\n// \toff: \"btn btn-outline-primary\"\n// };\n","import React from \"react\";\nimport { ButtonGroup } from \"../molecules/ButtonGroup\";\n\nexport const ModulosCheckbox = ({ state, dispatch }) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad, pozosParticulares } = modulosPorUnidad;\n\n\tconst buttonClasses = {\n\t\ton: \"btn btn-primary\",\n\t\toff: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center mt-5\">\n\t\t\t\t<ButtonGroup\n\t\t\t\t\toptions={unidades}\n\t\t\t\t\tsetFunction={(unidad) => {\n\t\t\t\t\t\tdispatch({ type: \"setUnidad\", payload: unidad });\n\t\t\t\t\t}}\n\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-around\">\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={primeraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"primeraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={segundaUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"segundaUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={terceraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"terceraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={pozosParticulares}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"pozosParticulares\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React, { useEffect, useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { modulosPorUnidad } from \"../../../helpers/consts\";\nimport { filterReportData } from \"../../../helpers/functions/filterReportData\";\nimport { mergeReportData } from \"../../../helpers/functions/mergeReportData\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { modulosCheckboxReducer } from \"../../../reducers/modulosCheckboxReducer\";\nimport { ExpedicionTable } from \"../molecules/ExpedicionTable\";\nimport { RadioButtonGroup } from \"../molecules/RadioButtonGroup\";\nimport { ModulosCheckbox } from \"./ModulosCkeckbox\";\n\nconst unidades = {\n\tprimeraUnidad: false,\n\tsegundaUnidad: false,\n\tterceraUnidad: false,\n\tpozosParticulares: false\n};\n\nconst initialState = { unidades, modulosPorUnidad };\n\nexport const ReporteExpedicion = () => {\n\tconst { privilegios, modulo } = useSelector((state) => state.auth);\n\tconst { autorizados, expedicion } = useSelector((state) => state.scenes.reportesScreen);\n\n\tconst [reportOptionsValues, handleReportOptionsInputChange, , setAValue] = useForm();\n\n\tif (Object.keys(reportOptionsValues).length === 0) setAValue({ opcion: \"modulo\" });\n\n\tconst [state, dispatch] = useReducer(modulosCheckboxReducer, initialState);\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad, pozosParticulares } = modulosPorUnidad;\n\n\tconst reportOptions = [\n\t\t{\n\t\t\tid: \"global\",\n\t\t\tlabel: \"Global\"\n\t\t},\n\t\t{\n\t\t\tid: \"Baja California\",\n\t\t\tlabel: \"Baja California\"\n\t\t},\n\t\t{\n\t\t\tid: \"Sonora\",\n\t\t\tlabel: \"Sonora\"\n\t\t},\n\t\t{\n\t\t\tid: \"modulos\",\n\t\t\tlabel: \"Modulos\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: \"changeGroup\"\n\t\t});\n\t}, [unidades]);\n\n\tconst getModulos = () => {\n\t\tconst modulos = [];\n\t\tObject.keys(primeraUnidad).forEach((modulo) => {\n\t\t\tprimeraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(segundaUnidad).forEach((modulo) => {\n\t\t\tsegundaUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(terceraUnidad).forEach((modulo) => {\n\t\t\tterceraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(pozosParticulares).forEach((modulo) => {\n\t\t\tpozosParticulares[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\treturn modulos;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reporte de expedici√≥n</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t{privilegios.accesoGlobal && (\n\t\t\t\t\t<RadioButtonGroup\n\t\t\t\t\t\tinputName={\"opcion\"}\n\t\t\t\t\t\toptions={reportOptions}\n\t\t\t\t\t\tformValues={reportOptionsValues}\n\t\t\t\t\t\tsetFunction={handleReportOptionsInputChange}\n\t\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{reportOptionsValues.opcion === \"modulos\" && (\n\t\t\t\t<ModulosCheckbox state={state} dispatch={dispatch} />\n\t\t\t)}\n\n\t\t\t{((privilegios.accesoGlobal && reportOptionsValues.opcion === \"global\") ||\n\t\t\t\treportOptionsValues.opcion === \"Baja California\" ||\n\t\t\t\treportOptionsValues.opcion === \"Sonora\") && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\tmodulos={[]}\n\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{privilegios.accesoGlobal &&\n\t\t\t\treportOptionsValues.opcion === \"modulos\" &&\n\t\t\t\tgetModulos().length > 0 && (\n\t\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\t\tmodulos={getModulos()}\n\t\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t\tgetModulos()\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t{!privilegios.accesoGlobal && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t{autorizados && expedicion && (\n\t\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\t\tmodulos={[modulo]}\n\t\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t\t[modulo]\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadAutorizados = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAutorizadosGlobal = async (ciclo) => {\n\tlet autorizados = [];\n\n\tconst autorizadosPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadAutorizados(modulo, ciclo);\n\t\t} else return loadAutorizados(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(autorizadosPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\tif (childItem.id !== \"0-SIN CULTIVO\") {\n\t\t\t\tautorizados.push({\n\t\t\t\t\tid: childItem.id,\n\t\t\t\t\t...childItem.data(),\n\t\t\t\t\testado: childItem.data().modulo === \"UNI03\" ? \"Sonora\" : childItem.data().estado\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\tif (autorizados.length === 0) autorizados = false;\n\n\treturn autorizados;\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadExpedicion = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAvanceSuperficieExpedida = async (ciclo) => {\n\tlet expedicion = [];\n\n\tconst expedicionPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadExpedicion(modulo, ciclo);\n\t\t} else return loadExpedicion(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(expedicionPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\texpedicion.push({\n\t\t\t\tid: childItem.id,\n\t\t\t\t...childItem.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (expedicion.length === 0) expedicion = false;\n\n\treturn expedicion;\n};\n","import { loadAutorizadosGlobal } from \"../../helpers/DB/loadAutorizadosGlobal\";\nimport { loadAvanceSuperficieExpedida } from \"../../helpers/DB/loadAvanceSuperficieExpedida\";\nimport { types } from \"../../types/types\";\n\nexport const openImprimirReporteModal = () => ({\n\ttype: types.openImprimirReporteModal\n});\n\nexport const closeImprimirReporteModal = () => ({\n\ttype: types.closeImprimirReporteModal\n});\n\nexport const startSetExpedicion = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst expedicion = await loadAvanceSuperficieExpedida(ciclo);\n\t\tdispatch(setExpedicion(expedicion));\n\t};\n};\n\nexport const startSetAutorizados = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizadosGlobal(ciclo);\n\t\tdispatch(setAutorizados(autorizados));\n\t};\n};\n\nexport const setExpedicion = (expedicion) => ({\n\ttype: types.setExpedicion,\n\tpayload: expedicion\n});\n\nexport const setAutorizados = (autorizados) => ({\n\ttype: types.setAutorizados,\n\tpayload: autorizados\n});\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadProducersPerModulo = async (ciclo, modulo) => {\n\tconst curps = [];\n\tconst curpsInGroups = [];\n\tlet index = 0;\n\tconst permisos = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.get();\n\n\tpermisos.forEach((permisoSnap) => {\n\t\tconst curp = permisoSnap.data().curpProductor;\n\t\tif (!curps.includes(curp)) curps.push(curp);\n\t});\n\n\tcurps.forEach((curp) => {\n\t\tif (curpsInGroups[index]) {\n\t\t\tif (curpsInGroups[index].length < 10) curpsInGroups[index].push(curp);\n\t\t\telse {\n\t\t\t\tindex++;\n\t\t\t\tcurpsInGroups[index] = [curp];\n\t\t\t}\n\t\t} else {\n\t\t\tcurpsInGroups[index] = [curp];\n\t\t}\n\t});\n\n\treturn curpsInGroups;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { loadProducersPerModulo } from \"./loadProducersPerModulo\";\n\nexport const simpleLoadProducers = async (pairs, ciclo, modulo) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst producers = [];\n\tconst producersFiltrados = [];\n\tconst qrysProducers = [];\n\tconst producersRef = db.collection(`productores`);\n\tconst curps = await loadProducersPerModulo(ciclo, modulo);\n\n\tcurps.forEach((group) => {\n\t\tqrysProducers.push(producersRef.where(\"curp\", \"in\", group).get());\n\t});\n\n\tconst resolvedProducersQrys = await Promise.all(qrysProducers);\n\n\tresolvedProducersQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tproducers.push({\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst filteredProducers = producers.filter((producer) =>\n\t\tproducer[campo].includes(palabra.toUpperCase())\n\t);\n\n\tproducersFiltrados.push(filteredProducers);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst producers = producersFiltrados.pop();\n\t\t\tproducersFiltrados.push(\n\t\t\t\tproducers.filter(\n\t\t\t\t\t(producer) => producer[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (filteredProducers.length === 0) {\n\t\tSwal.fire(\"No se encontraron productores \", \"...\", \"warning\");\n\t}\n\treturn onlyUnique(producersFiltrados.pop(), \"curp\");\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { producersHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { simpleLoadProducers } from \"../../../helpers/DB/simpleLoadProducers\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const ProducersReport = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(producersHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getProducers = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst producersToSet = await simpleLoadProducers(formValues, cicloActual, modulo);\n\t\t\tresetFilters();\n\t\t\tsetData(producersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetProducers();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `PRODUCTORES`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"PRODUCTORES\");\n\tconst excelTitle = getTitle(\"excel\", \"PRODUCTORES\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getProducers}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACI√ìN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const simpleLoadUsers = async (pairs, modulo, ciclo, onlyAvailable) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst usuarios = [];\n\tconst usuariosFiltrados = [];\n\tconst qrysUsuarios = [];\n\tconst permisos = [];\n\tconst transferencias = [];\n\n\tconst usuariosRef = defineRef(modulo);\n\tconst permisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\");\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.where(\"estadoTransferencia\", \"!=\", \"CANCELADA\");\n\n\tif (onlyAvailable) {\n\t\tconst permisosSnap = await permisosRef.get();\n\t\tconst transferSnap = await transferRef.get();\n\n\t\tpermisosSnap.forEach((permiso) => {\n\t\t\tpermisos.push([permiso.data().cuenta.replace(\".\", \"-\"), permiso.data().supAutorizada]);\n\t\t});\n\n\t\ttransferSnap.forEach((transferencia) => {\n\t\t\tconst cuenta = `${transferencia.data().cuenta}-${transferencia.data().subcta}`;\n\t\t\ttransferencias.push([cuenta, transferencia.data().superficieTransferida]);\n\t\t});\n\t}\n\n\tif (palabra.length === 0) qrysUsuarios.push(usuariosRef.orderBy(campo).get());\n\telse {\n\t\tqrysUsuarios.push(\n\t\t\tusuariosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysUsuarios.push(\n\t\t\tusuariosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysUsuarios.push(usuariosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst resolvedUsuariosQrys = await Promise.all(qrysUsuarios);\n\n\tresolvedUsuariosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (modulo) {\n\t\t\t\tcase \"UNI01\":\n\t\t\t\tcase \"UNI02\":\n\t\t\t\tcase \"UNI03\":\n\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (snapHijo.data().equipo !== 1) {\n\t\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t});\n\n\tusuariosFiltrados.push(usuarios);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst usuarios = usuariosFiltrados.pop();\n\t\t\tusuariosFiltrados.push(\n\t\t\t\tusuarios.filter(\n\t\t\t\t\t(usuario) => usuario[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (usuarios.length === 0) {\n\t\tSwal.fire(\"No se encontraron usuarios \", \"...\", \"warning\");\n\t}\n\n\tconst finalUsers = onlyUnique(usuariosFiltrados.pop(), \"id\");\n\n\tif (onlyAvailable) return filterOnlyAvailable(finalUsers, permisos, transferencias);\n\telse return finalUsers;\n};\n\nconst defineModulo = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"9A\":\n\t\tcase \"9B\":\n\t\tcase \"dev\":\n\t\t\treturn modulo;\n\n\t\tdefault:\n\t\t\treturn parseInt(modulo);\n\t}\n};\n\nconst defineRef = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [4, 5, 6, 7]);\n\n\t\tcase \"UNI02\":\n\t\t\treturn db\n\t\t\t\t.collection(`derechos`)\n\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t.where(\"modulo\", \"in\", [8, \"9A\", \"9B\"]);\n\n\t\tcase \"UNI03\":\n\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [1, 2, 3]);\n\n\t\tdefault:\n\t\t\treturn db.collection(`derechos`).where(\"modulo\", \"==\", defineModulo(modulo));\n\t}\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n\nconst filterOnlyAvailable = (users, permisos, transferencias) => {\n\tpermisos.forEach((permiso) => {\n\t\tconst index = users.findIndex((user) => user.id === permiso[0]);\n\n\t\tif (index >= 0) {\n\t\t\tusers[index].supRiego = users[index].supRiego - permiso[1];\n\t\t\tif (users[index].supRiego <= 0) users.splice(index, 1);\n\t\t}\n\t});\n\n\ttransferencias.forEach((transfer) => {\n\t\tconst index = users.findIndex((user) => user.id === transfer[0]);\n\n\t\tif (index >= 0) {\n\t\t\tusers[index].supRiego = users[index].supRiego - transfer[1];\n\t\t\tif (users[index].supRiego <= 0) users.splice(index, 1);\n\t\t}\n\t});\n\n\treturn users;\n};\n","import React, { useState } from \"react\";\n\nimport { usersHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { simpleLoadUsers } from \"../../../helpers/DB/simpleLoadUsers\";\nimport { useSelector } from \"react-redux\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const UsersReport = ({ onlyAvailable }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(usersHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getUsers = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst usersToSet = await simpleLoadUsers(formValues, modulo, ciclo, onlyAvailable);\n\t\t\tresetFilters();\n\t\t\tsetData(usersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetUsers();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `USUARIOS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"USUARIOS\");\n\tconst excelTitle = getTitle(\"excel\", \"USUARIOS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getUsers}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACI√ìN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { ProducersReport } from \"../ui/organisms/ProducersReport\";\nimport { UsersReport } from \"../ui/organisms/UsersReport\";\n\nexport const ModuloInformesPadron = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"usuarios\",\n\t\t\tlabel: \"Padron de usuarios\"\n\t\t},\n\t\t{\n\t\t\tid: \"supDisponible\",\n\t\t\tlabel: \"Superficie disponible\"\n\t\t},\n\t\t{\n\t\t\tid: \"productores\",\n\t\t\tlabel: \"Padron de productores\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de padron</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"usuarios\" && <UsersReport onlyAvailable={false} />}\n\t\t\t{reportTypeValues.reportType === \"supDisponible\" && <UsersReport onlyAvailable={true} />}\n\n\t\t\t{reportTypeValues.reportType === \"productores\" && <ProducersReport />}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport { transferModulos } from \"../consts\";\n\nexport const getTransferTable = async (ciclo) => {\n\tconst transferencias = [];\n\tconst table = [];\n\tconst modulos = [];\n\ttransferModulos.forEach((modulo) => modulos.push(modulo));\n\tconst size = modulos.length;\n\n\tfor (let i = 0; i < size; i++) {\n\t\tconst row = [];\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\trow.push(0);\n\t\t}\n\t\ttable.push(row);\n\t}\n\n\tconst transferSnap = await db.collectionGroup(\"transferencias\").where(\"ciclo\", \"==\", ciclo).get();\n\n\ttransferSnap.forEach((snap) => {\n\t\tif (snap.data().moduloDestino !== \"dev\")\n\t\t\ttransferencias.push({\n\t\t\t\torigen: `${snap.data().modulo}`,\n\t\t\t\tdestino: snap.data().moduloDestino,\n\t\t\t\tha: snap.data().superficieTransferida\n\t\t\t});\n\t});\n\n\tfor (let i = 0; i < size; i++) {\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\tconst transfersXY = transferencias.filter(\n\t\t\t\t(transfer) => transfer.origen === modulos[i] && transfer.destino === modulos[j]\n\t\t\t);\n\n\t\t\tif (transfersXY.length > 0) transfersXY.forEach((transfer) => (table[i][j] += transfer.ha));\n\t\t}\n\t}\n\n\tfor (let i = 0; i < size; i++) {\n\t\tlet totalRow = 0;\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\ttotalRow += table[i][j];\n\t\t}\n\t\ttable[i].push(totalRow);\n\t}\n\n\tconst totals = [\"Total Destino\"];\n\tfor (let i = 0; i <= size; i++) {\n\t\tlet totalCol = 0;\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\ttotalCol += table[j][i];\n\t\t}\n\t\ttotals.push(totalCol);\n\t}\n\n\tmodulos.unshift(\"x\");\n\ttable.unshift(modulos);\n\tmodulos.forEach((modulo, i) => {\n\t\tif (i !== 0) table[i].unshift([modulo]);\n\t});\n\tmodulos.push(\"Total Origen\");\n\ttable.push(totals);\n\n\treturn table;\n};\n","import React, { forwardRef } from \"react\";\nimport { ReportHeader } from \"./ReportHeader\";\n\nexport const TransferTable = forwardRef((props, ref) => {\n\tconst { data, title, orientation } = props;\n\n\tconst getPageMargins = () => {\n\t\tconst marginTop = 60;\n\t\tconst marginRight = 60;\n\t\tconst marginBottom = 60;\n\t\tconst marginLeft = 60;\n\t\treturn `@page { margin: ${marginTop} ${marginRight} ${marginBottom} ${marginLeft} !important; size:letter ${orientation};}`;\n\t};\n\n\treturn (\n\t\t<div ref={ref} className=\"mt-3\">\n\t\t\t<style>{getPageMargins()}</style>\n\t\t\t<ReportHeader title={title} pages={1} page={1} />\n\t\t\t<table className=\"table table-sm mt-3\">\n\t\t\t\t<tbody>\n\t\t\t\t\t{data.map((row, i) => (\n\t\t\t\t\t\t<tr key={`row-${i}`}>\n\t\t\t\t\t\t\t{row.map((cell, j) => (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={`cell-${i}${j}`}\n\t\t\t\t\t\t\t\t\tclassName={`text-center border border-dark ${i === j && \"bg-secondary\"}`}\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 12 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i === j && i !== 0 && j !== 0 && i !== 24 && j !== 24 ? \"X\" : cell}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n});\n","import React, { createRef, useEffect, useState } from \"react\";\nimport ReactToPrint from \"react-to-print\";\nimport { useSelector } from \"react-redux\";\n// import { transferModulos as modulos } from \"../../../helpers/consts\";\nimport { getTransferTable } from \"../../../helpers/DB/getTransferTable\";\nimport { TransferTable } from \"../molecules/TransferTable\";\n\nexport const TableTransferReport = () => {\n\tconst componentRef = createRef();\n\n\tconst { cicloActual: ciclo } = useSelector((state) => state.auth.variablesGlobales);\n\tconst [table, setTable] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetTable([]);\n\t\tgetTransferTable(ciclo).then((table) => setTable(table));\n\t}, [ciclo]);\n\n\t// const exportToExcel = () => {\n\t// \tconst excelHeaders = [];\n\t// \tconst fileHeaders = [];\n\t// \tconst excelData = [];\n\n\t// \tmodulos.forEach((header) => {\n\t// \t\tif (header.display) excelHeaders.push([header.id, header.header]);\n\t// \t});\n\n\t// \ttable.forEach((row) => {\n\t// \t\tconst newRow = {};\n\t// \t\texcelHeaders.forEach((header) => {\n\t// \t\t\tfileHeaders.push(header[1]);\n\n\t// \t\t\tif (typeof row[header[0]] === \"object\") {\n\t// \t\t\t\tconst fechaObject = row[header[0]].toDate();\n\t// \t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t// \t\t\t\tnewRow[header[1]] = fecha;\n\t// \t\t\t} else newRow[header[1]] = row[header[0]];\n\t// \t\t});\n\t// \t\texcelData.push(newRow);\n\t// \t});\n\n\t// \texportJSONToExcel(\n\t// \t\texcelData,\n\t// \t\tfileHeaders,\n\t// \t\texcelTitle.substring(0, 30),\n\t// \t\tname,\n\t// \t\texcelTitle.substring(0, 30)\n\t// \t);\n\t// };\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mt-4\">\n\t\t\t\t<ReactToPrint\n\t\t\t\t\ttrigger={() => (\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-primary d-print-none \">\n\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\tcontent={() => componentRef.current}\n\t\t\t\t\tpageStyle=\"bootstrap/dist/css/bootstrap.min.css\"\n\t\t\t\t\t// pageStyle=\"../../../printStyles.css\"\n\t\t\t\t/>\n\n\t\t\t\t{/* <button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={exportToExcel}\n\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary ml-2\"\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t\t<span> Descargar</span>\n\t\t\t\t</button> */}\n\t\t\t</div>\n\n\t\t\t<TransferTable\n\t\t\t\tdata={table}\n\t\t\t\ttitle=\"Un titulo\"\n\t\t\t\tref={componentRef}\n\t\t\t\tclassName={\"mt-2\"}\n\t\t\t\torientation=\"landscape\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\n\nimport {\n\ttransferEntrantesHeaders,\n\ttransferSalientesHeaders\n} from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useSelector } from \"react-redux\";\nimport { simpleLoadTransfer } from \"../../../helpers/DB/simpleLoadTransfer\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const TransferReport = ({ tipo }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(\n\t\ttipo === \"salientes\" ? transferSalientesHeaders : transferEntrantesHeaders\n\t);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getTransfer = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst transfersToSet = await simpleLoadTransfer(formValues, modulo, ciclo, tipo);\n\t\t\tresetFilters();\n\t\t\tsetData(transfersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetTransfer();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `TRANSFERENCIAS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"TRANSFERENCIAS\");\n\tconst excelTitle = getTitle(\"excel\", \"TRANSFERENCIAS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACI√ìN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { TableTransferReport } from \"../ui/organisms/TableTransferReport\";\nimport { TransferReport } from \"../ui/organisms/TransferReport\";\n\nexport const ModuloInformesTransferencias = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { accesoGlobal: global } = privilegios;\n\n\tconst reportTypesGlobal = [\n\t\t{\n\t\t\tid: \"salientes\",\n\t\t\tlabel: \"Transferencias salientes\"\n\t\t},\n\t\t{\n\t\t\tid: \"entrantes\",\n\t\t\tlabel: \"Transferencias recibidas\"\n\t\t},\n\t\t{\n\t\t\tid: \"global\",\n\t\t\tlabel: \"Reportes global de transferencias\"\n\t\t},\n\t\t{\n\t\t\tid: \"tabla\",\n\t\t\tlabel: \"Tabla de transferencias\"\n\t\t}\n\t];\n\tconst reportTypesModulo = [\n\t\t{\n\t\t\tid: \"salientes\",\n\t\t\tlabel: \"Transferencias salientes\"\n\t\t},\n\t\t{\n\t\t\tid: \"entrantes\",\n\t\t\tlabel: \"Transferencias recibidas\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de transferencias</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={global ? reportTypesGlobal : reportTypesModulo}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"salientes\" && <TransferReport tipo={\"salientes\"} />}\n\t\t\t{reportTypeValues.reportType === \"entrantes\" && <TransferReport tipo={\"entrantes\"} />}\n\t\t\t{reportTypeValues.reportType === \"global\" && global && <TransferReport tipo={\"global\"} />}\n\t\t\t{reportTypeValues.reportType === \"tabla\" && global && <TableTransferReport tipo={\"tabla\"} />}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermisosLabores = async (pairs) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst permisos = [];\n\tconst tecnicos = [];\n\tconst permisosFiltrados = [];\n\tconst qrysPermisos = [];\n\tconst permisosRef = db.collectionGroup(\"permisos\").where(\"ciclo\", \"==\", \"2020-2021\");\n\n\tif (palabra.length === 0) qrysPermisos.push(permisosRef.orderBy(campo).get());\n\telse {\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(permisosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst tecnicosSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\ttecnicosSnap.forEach((doc) => {\n\t\ttecnicos.push({ id: doc.id, nombre: doc.data().displayName });\n\t});\n\n\tconst resolvedPermisosQrys = await Promise.all(qrysPermisos);\n\n\tresolvedPermisosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconst tecnico = tecnicos.find((tecnico) => tecnico.id === snapHijo.data().tecnico);\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data(),\n\t\t\t\tdesfoliado: snapHijo.data().desfoliado ? \"SI\" : \"NO\",\n\t\t\t\tcosechado: snapHijo.data().cosechado ? \"SI\" : \"NO\",\n\t\t\t\tdesvarado: snapHijo.data().desvarado ? \"SI\" : \"NO\",\n\t\t\t\tdisqueado: snapHijo.data().disqueado ? \"SI\" : \"NO\",\n\t\t\t\tdesarraigado: snapHijo.data().desarraigado ? \"SI\" : \"NO\",\n\t\t\t\tbarbechado: snapHijo.data().barbechado ? \"SI\" : \"NO\",\n\t\t\t\tpagado: snapHijo.data().pagado ? \"SI\" : \"NO\",\n\t\t\t\tlaboresPendientes: snapHijo.data().laboresPendientes ? \"SI\" : \"NO\",\n\t\t\t\ttecnico: tecnico ? tecnico.nombre : \"\"\n\t\t\t});\n\t\t});\n\t});\n\n\tpermisosFiltrados.push(permisos);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst permisos = permisosFiltrados.pop();\n\t\t\tpermisosFiltrados.push(\n\t\t\t\tpermisos.filter(\n\t\t\t\t\t(permiso) => permiso[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn onlyUnique(permisosFiltrados.pop(), \"folio\");\n};\n\n// const addDays = (date, days) => {\n// \tlet result = new Date(date);\n// \tresult.setDate(result.getDate() + days);\n// \treturn result;\n// };\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import React, { useState } from \"react\";\n\nimport { laboresHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\nimport { loadPermisosLabores } from \"../../../helpers/DB/loadPermisosLabores\";\n\nexport const LaboresReport = () => {\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(laboresHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getPermisos = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst permisosToSet = await loadPermisosLabores(formValues);\n\t\t\tresetFilters();\n\t\t\tsetData(permisosToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `LABORES`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"LABORES\");\n\tconst excelTitle = getTitle(\"excel\", \"LABORES\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACI√ìN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={excelTitle}\n\t\t\t\t\theaders={headers}\n\t\t\t\t\tdata={data}\n\t\t\t\t\t// range={range}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { LaboresReport } from \"../ui/organisms/LaboresReport\";\n\nexport const ModuloInformesCesvbc = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"labores\",\n\t\t\tlabel: \"Reporte De Labores\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes (CESVBC)</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"labores\" && <LaboresReport tipo={\"salientes\"} />}\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { ModuloInformesPermisos } from \"../components/modulos/ModuloInformesPermisos\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ReporteExpedicion } from \"../components/ui/organisms/ReporteExpedicion\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\nimport { startSetAutorizados, startSetExpedicion } from \"../actions/scenes/reportesScreen\";\nimport { ModuloInformesPadron } from \"../components/modulos/ModuloInformesPadron\";\nimport { ModuloInformesTransferencias } from \"../components/modulos/ModuloInformesTransferencias\";\nimport { ModuloInformesCesvbc } from \"../components/modulos/ModuloInformesCesvbc\";\n\nexport const ReportesScreen = () => {\n\tconst { privilegios, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst dispatch = useDispatch();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"expedicion\",\n\t\t\tlabel: \"Expedici√≥n\"\n\t\t},\n\t\t{\n\t\t\tid: \"permisos\",\n\t\t\tlabel: \"Permisos\"\n\t\t},\n\t\t{\n\t\t\tid: \"padron\",\n\t\t\tlabel: \"Padr√≥n\"\n\t\t},\n\t\t{\n\t\t\tid: \"transferencias\",\n\t\t\tlabel: \"Transferencias\"\n\t\t},\n\t\t{\n\t\t\tid: \"sanidad\",\n\t\t\tlabel: \"CESVBC\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(startSetExpedicion(ciclo));\n\t\tdispatch(startSetAutorizados(ciclo));\n\t}, [dispatch, ciclo]);\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"expedicion\" && privilegios.consultarExpedicion && (\n\t\t\t\t\t<ReporteExpedicion />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"permisos\" && privilegios.consultarPermisos && (\n\t\t\t\t\t<ModuloInformesPermisos />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"padron\" && privilegios.consultarPadron && (\n\t\t\t\t\t<ModuloInformesPadron />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"transferencias\" &&\n\t\t\t\t\tprivilegios.consultarTransferencias && <ModuloInformesTransferencias />}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"sanidad\" && privilegios.consultarLabores && (\n\t\t\t\t\t<ModuloInformesCesvbc />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"pb-5\"></div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSystemUsers = async (entidad) => {\n\tconst usuarios = [];\n\n\tif (entidad === \"dev\") {\n\t\tconst usuariosSnap = await db.collection(`usuarios`).orderBy(\"claveEntidad\").get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CNA\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"!=\", \"CESVBC\")\n\t\t\t.orderBy(\"claveEntidad\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CESVBC\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"==\", \"CESVBC\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\treturn usuarios;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserRoles = async () => {\n\tconst roles = [];\n\n\tconst rolesSnap = await db.collection(`roles`).get();\n\n\trolesSnap.forEach((snapHijo) => {\n\t\troles.push(snapHijo.id);\n\t});\n\n\treturn roles;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserPrivileges = async (role) => {\n\tconst privileges = await db.collection(`roles`).doc(role).get();\n\n\treturn privileges.data();\n};\n","import { types } from \"../../types/types\";\nimport { loadSystemUsers } from \"../../helpers/loadSystemUsers\";\nimport { removeError } from \"../../actions/ui\";\nimport { loadUserRoles } from \"../../helpers/loadUserRoles\";\nimport { loadUserPrivileges } from \"../../helpers/loadUserPrivileges\";\n\nexport const startLoadSystemUsers = (entidad) => {\n\treturn async (dispatch) => {\n\t\tconst users = await loadSystemUsers(entidad);\n\t\tdispatch(setSystemUsers(users));\n\t};\n};\n\nexport const setSystemUsers = (users) => ({\n\ttype: types.setSystemUsers,\n\tpayload: users\n});\n\nexport const setSystemUserSelected = (user) => ({\n\ttype: types.setSystemUserSelected,\n\tpayload: user\n});\n\nexport const unsetSystemUserSelected = () => ({\n\ttype: types.unsetSystemUserSelected\n});\n\nexport const startSetSystemUserSelected = (user) => {\n\treturn (dispatch) => {\n\t\tdispatch(removeError());\n\t\tdispatch(setSystemUserSelected(user));\n\t};\n};\n\nexport const startSetUserRoles = () => {\n\treturn async (dispatch) => {\n\t\tconst roles = await loadUserRoles();\n\t\tdispatch(setUserRoles(roles));\n\t};\n};\n\nexport const setUserRoles = (roles) => ({\n\ttype: types.setUserRoles,\n\tpayload: roles\n});\n\nexport const unsetUserRoles = () => ({\n\ttype: types.unsetUserRoles\n});\n\nexport const setUserRoleSelected = (role) => ({\n\ttype: types.setUserRoleSelected,\n\tpayload: role\n});\n\nexport const unsetUserRoleSelected = () => ({\n\ttype: types.unsetUserRoleSelected\n});\n\nexport const setPrivilegesToEdit = (privileges) => ({\n\ttype: types.setPrivilegesToEdit,\n\tpayload: privileges\n});\n\nexport const unsetPrivilegesToEdit = () => ({\n\ttype: types.unsetPrivilegesToEdit\n});\n\nexport const startSetPrivilegesToEdit = (role) => {\n\treturn async (dispatch) => {\n\t\tconst privileges = await loadUserPrivileges(role);\n\n\t\tdispatch(setUserRoleSelected(role));\n\t\tdispatch(unsetPrivilegesToEdit());\n\t\tdispatch(setPrivilegesToEdit(privileges));\n\t};\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { startSetUserRoles } from \"../../actions/entidades/sistemUsers\";\nimport { saveNewUserRole } from \"../../helpers/saveNewUserRole\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const AddNewUserRoleForm = () => {\n\tconst [formValues, handleInputChange] = useForm({\n\t\tnewRole: \"\"\n\t});\n\n\tconst { newRole } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSaveNewUserRole = () => {\n\t\tif (newRole.length > 0) {\n\t\t\tsaveNewUserRole(newRole);\n\t\t\tdispatch(startSetUserRoles());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSaveNewUserRole();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t<label>Crear nuevo rol:</label>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Nuevo Rol\"\n\t\t\t\t\tname=\"newRole\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={newRole}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handleSaveNewUserRole}>\n\t\t\t\t\t<span>Agregar </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const saveNewUserRole = (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.set({})\n\t\t.then(() => {\n\t\t\tconsole.log(`Se guardo rol -> ${role}`);\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t});\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const deleteUserRole = async (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.delete()\n\t\t.then(() => {\n\t\t\tconsole.log(`Rol de usuario borrado (${role})`);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error removing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetUserRoles,\n\tstartSetPrivilegesToEdit,\n\tunsetUserRoles,\n\tunsetUserRoleSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { deleteUserRole } from \"../../helpers/deleteUserRole\";\n\nexport const SelectRoleToEditForm = () => {\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { selectedRole } = formValues;\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tif (userRoles) {\n\t\tconst handleSelectRoleToEdit = (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (selectedRole) {\n\t\t\t\tdispatch(startSetPrivilegesToEdit(selectedRole));\n\t\t\t}\n\t\t};\n\n\t\tconst startDeleteUserRole = () => {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Atenci√≥n!!\",\n\t\t\t\ttext: `Esta apunto de borrar el rol de usuario ${selectedRole}, ¬øRealmente desea borrarlo?`,\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\t\tcancelButtonColor: \"#d33\",\n\t\t\t\tconfirmButtonText: \"Si\",\n\t\t\t\tcancelButtonText: \"No\"\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tdeleteUserRole(selectedRole);\n\t\t\t\t\tdispatch(unsetUserRoles());\n\t\t\t\t\tdispatch(unsetUserRoleSelected());\n\t\t\t\t\tdispatch(startSetUserRoles());\n\t\t\t\t\tSwal.fire(`Rol: ${selectedRole}`, \"Se borro el rol con √©xito !\", \"success\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-3\">Gestionar rol:</div>\n\n\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t<select\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"selectedRole\"\n\t\t\t\t\t\tvalue={selectedRole}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex\">\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={handleSelectRoleToEdit} className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t\t<span>Editar Rol </span>\n\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={startDeleteUserRole} className=\" btn btn-outline-danger ml-4\">\n\t\t\t\t\t\t\t<span>Borrar</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveRolePrivileges = async (role, privileges) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.set(privileges)\n\t\t.then(() => {\n\t\t\tSwal.fire(`Rol: ${role}`, \"Se actualizaron los privilegios con √©xito !\", \"success\");\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { privileges } from \"../../helpers/consts\";\nimport { saveRolePrivileges } from \"../../helpers/saveRolePrivileges\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const UserPrivilegesForm = () => {\n\tconst { userRoleSelected, privilegesToEdit } = useSelector((state) => state.entidades);\n\n\tObject.getOwnPropertyNames(privilegesToEdit).map((privilegeName) => {\n\t\tprivileges[privilegeName] = privilegesToEdit[privilegeName];\n\t\treturn true;\n\t});\n\n\tconst [formValues, handleInputChange] = useForm(privileges);\n\n\tconst startSaveRolePrivileges = (e) => {\n\t\te.preventDefault();\n\n\t\tsaveRolePrivileges(userRoleSelected, formValues);\n\t};\n\n\treturn (\n\t\t<form onSubmit={startSaveRolePrivileges} className=\"border rounded p-4\">\n\t\t\t<div className=\"row d-flex\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\tPRIVILEGIOS PARA EL ROL:{\"  \"}\n\t\t\t\t\t<span className=\"text-success font-weight-bold\">{userRoleSelected}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<button type=\"submit\" className=\" btn btn-outline-primary\">\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"form-check d-flex flex-wrap\">\n\t\t\t\t{Object.getOwnPropertyNames(privileges).map((privilege) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={privilege} className=\"w-25 p-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname={privilege}\n\t\t\t\t\t\t\t\tid={privilege}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={formValues[privilege]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t{privilege}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUserRoleModal } from \"../../actions/ui\";\nimport { AddNewUserRoleForm } from \"../forms/AddNewUserRoleForm\";\nimport { SelectRoleToEditForm } from \"../forms/SelectRoleToEditForm\";\nimport { UserPrivilegesForm } from \"../forms/UserPrivilegesForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\twidth: \"1125px\",\n\t\theight: \"1500px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UserRoleModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenUserRoleModal } = useSelector((state) => state.ui);\n\tconst { privilegesToEdit, userRoleSelected } = useSelector((state) => state.entidades);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUserRoleModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenUserRoleModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<AddNewUserRoleForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<SelectRoleToEditForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t{privilegesToEdit && userRoleSelected ? <UserPrivilegesForm /> : <></>}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openUserRoleModal } from \"../../actions/ui\";\n\nexport const NewUserRoleButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handOpenUserRoleModal = () => {\n\t\tdispatch(openUserRoleModal());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handOpenUserRoleModal}>\n\t\t\t\t<span>Gestionar Roles </span>\n\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\n\nimport { removeError, setError } from \"../../actions/ui\";\nimport { updateSystemUser } from \"../../helpers/updateSystemUser\";\nimport {\n\tstartLoadSystemUsers,\n\tstartSetUserRoles,\n\tunsetSystemUserSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { NewUserRoleButton } from \"../buttons/NewUserRoleButton\";\n\nexport const SystemUserCard = () => {\n\tconst { systemUserSelected: user } = useSelector((state) => state.entidades);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { claveEntidad, privilegios } = useSelector((state) => state.auth);\n\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { rol } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tconst handleSetUserRole = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tupdateSystemUser(user.id, rol);\n\t\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t\t\tdispatch(unsetSystemUserSelected());\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!rol) {\n\t\t\tdispatch(setError(\"Seleccione un rol de usuario\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tif (user) {\n\t\treturn (\n\t\t\t<div className=\"row border border-info rounded m-1\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"row border-bottom border-info p-2\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t\t<h5>Cuenta: {user.email}</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex flex-column p-4\">\n\t\t\t\t\t\t\t<div>Usuario: {user.displayName}</div>\n\t\t\t\t\t\t\t<div>Clave Entidad: {user.claveEntidad}</div>\n\t\t\t\t\t\t\t{user.rol === \"sinAsignar\" ? (\n\t\t\t\t\t\t\t\t<div className=\"text-warning\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-success\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<form onSubmit={handleSetUserRole} className=\"form-group pt-3\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"rol\"\n\t\t\t\t\t\t\t\t\tvalue={rol}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t<option value=\"sinAsignar\">Sin Asignar</option>\n\t\t\t\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\t\t\t\t\tAsignar Rol\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t{privilegios.editarRoles ? <NewUserRoleButton /> : <></>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateSystemUser = (userUid, rol) => {\n\tdb.collection(`usuarios`)\n\t\t.doc(userUid)\n\t\t.update({ rol: rol })\n\t\t.then(() => {\n\t\t\tSwal.fire(\"Usuario habilitado\", `Se asign√≥ correctamente el rol de usuario`, \"success\");\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t\tSwal.fire(\"Error\", e, \"error\");\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetSystemUserSelected,\n\tstartLoadSystemUsers\n} from \"../../actions/entidades/sistemUsers\";\nimport { systemUsersColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\n\nexport const SystemUsersTable = () => {\n\tconst { systemUsers } = useSelector((state) => state.entidades);\n\tconst { claveEntidad } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tlet data = [];\n\n\tif (!systemUsers) {\n\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t}\n\n\tif (systemUsers) {\n\t\tdata = Object.values(systemUsers);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={systemUsersColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetSystemUserSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport { SystemUserCard } from \"../cards/SystemUserCard\";\nimport { SystemUsersTable } from \"../tables/SystemUsersTable\";\n\nexport const UsersRoleManagement = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"\">\n\t\t\t\t<h3>Gesti√≥n de roles de usuarios</h3>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<SystemUsersTable />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<SystemUserCard />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport \"firebase/firestore\";\nimport { entidades } from \"../consts\";\nimport Swal from \"sweetalert2\";\n\nexport const actualizarEntidades = async (data = entidades) => {\n\tconst ref = db.collection(\"entidades\");\n\tconst promices = [];\n\n\tdata.forEach((entidad) => {\n\t\tref\n\t\t\t.doc(entidad.clave)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tif (doc.exist) {\n\t\t\t\t\tpromices.push(ref.doc(entidad.clave).update(entidad));\n\t\t\t\t} else {\n\t\t\t\t\tpromices.push(ref.doc(entidad.clave).set(entidad));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(`Error al actualizar entidad (${entidad.clave})`, e);\n\t\t\t});\n\t});\n\n\tawait Promise.all(promices).then(\n\t\tSwal.fire(\n\t\t\t\"Cambios guardados\",\n\t\t\t\"Se actualizaron con √©xito los datos de las entidades.\",\n\t\t\t\"success\"\n\t\t)\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { actualizarEntidades } from \"../../helpers/DB/actualizarEntidades\";\nimport { useFormArray } from \"../../hooks/useFormArray\";\n\nexport const EntityEditingModule = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst [formValues, handleInputChange] = useFormArray(entities);\n\tconst handleActualizarEntidades = () => {\n\t\tactualizarEntidades(formValues);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<h3>Edici√≥n de entidades</h3>\n\t\t\t</div>\n\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"row mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<form>\n\t\t\t\t{entities.map((entitie, i) => {\n\t\t\t\t\tif (entitie.clave !== \"dev\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={entitie.clave} className=\"d-flex flex-column mb-5\">\n\t\t\t\t\t\t\t\t<h5>{entitie.nombre}</h5>\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3 h-100 d-flex justify-content-center align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={`./logos/${entitie.img}`}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxHeight: 70, maxWidth: 100 }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-8 mt-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-titular`}>\n\t\t\t\t\t\t\t\t\t\t\t\tTitular:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formValues[i].titular}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-direccion`}>\n\t\t\t\t\t\t\t\t\t\t\t\tDireccion:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].direccion}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{entitie.clave !== \"SADER\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CNA\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SRL\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CESVBC\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center col-sm-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDotaci√≥n Gravedad:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2 w-25\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].dotacionGravedad}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center col-sm-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDotaci√≥n Pozo:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2 w-25\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].dotacionPozo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{privilegios.cerrarExpedicionModulos &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SADER\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CNA\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SRL\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CESVBC\" && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\tExpedici√≥n:\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActiva\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCerrada\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else return <div key={entitie.clave}></div>;\n\t\t\t\t})}\n\t\t\t</form>\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { useState } from \"react\";\n\nexport const useFormArray = (initialState = []) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst keys = target.name.split(\"-\");\n\t\tconst index = keys[0];\n\t\tconst name = keys[1];\n\t\tconst newState = values.slice();\n\n\t\tif (target.type === \"button\") {\n\t\t\tnewState[index][name] = !newState[index][name];\n\t\t} else if (target.type === \"number\") {\n\t\t\tnewState[index][name] = Number(target.value);\n\t\t} else {\n\t\t\tnewState[index][name] = target.value;\n\t\t}\n\t\tsetValues(newState);\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadEntities = async () => {\n\tconst entidadesSnap = await db.collection(`entidades`).orderBy(\"nombre\").get();\n\n\tconst entities = [];\n\n\tentidadesSnap.forEach((snapHijo) => {\n\t\tentities.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn entities;\n};\n","import { loadEntities } from \"../../helpers/DB/loadEntities\";\nimport { types } from \"../../types/types\";\n\nexport const startLoadEntities = () => {\n\treturn async (dispatch) => {\n\t\tconst entities = await loadEntities();\n\t\tdispatch(setEntities(entities));\n\t};\n};\n\nexport const setEntities = (entities) => ({\n\ttype: types.setEntities,\n\tpayload: entities\n});\n","import React from \"react\";\nimport { UserRoleModal } from \"../components/modals/UserRoleModal\";\nimport { UsersRoleManagement } from \"../components/modulos/UsersRoleManagement\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { EntityEditingModule } from \"../components/modulos/EntityEditingModule\";\nimport { startLoadEntities } from \"../actions/entidades/entities\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\n\nexport const ConfiguracionScreen = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { entities } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\n\tif (!entities) {\n\t\tdispatch(startLoadEntities());\n\t}\n\n\tconst [modules, modulesChange] = useForm();\n\n\tconst modulesNames = [\n\t\t{\n\t\t\tid: \"usuarios\",\n\t\t\tlabel: \"usuarios\"\n\t\t},\n\t\t{\n\t\t\tid: \"entidades\",\n\t\t\tlabel: \"entidades\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-4\">\n\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center\">\n\t\t\t\t\t<h1>Configuracion</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center pt-4\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"module\"}\n\t\t\t\t\toptions={modulesNames}\n\t\t\t\t\tformValues={modules}\n\t\t\t\t\tsetFunction={modulesChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"usuarios\" && privilegios.asignarRoles && <UsersRoleManagement />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"entidades\" && privilegios.editarEntidades && <EntityEditingModule />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<UserRoleModal />\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const printDuplicatePermits = async () => {\n\tconsole.log(\"Cargando permisos...\");\n\tconst unicos = [];\n\tconst duplicados = [];\n\tconst duplicadosCompletos = [];\n\n\tconst permisosSnap = await db.collectionGroup(\"permisos\").where(\"ciclo\", \"==\", \"2020-2021\").get();\n\n\tpermisosSnap.forEach((permisoSnap) => {\n\t\tconst repetido = unicos.find(\n\t\t\t(unico) => unico.cuenta === permisoSnap.data().cuenta /* &&\n\t\t\t\tunico.superficie === permisoSnap.data().superficie &&\n\t\t\t\tunico.lote === permisoSnap.data().lote &&\n\t\t\t\tunico.nombre === permisoSnap.data().nombre &&\n\t\t\t\tunico.ubicacion === permisoSnap.data().ubicacion */\n\t\t);\n\t\tif (repetido) {\n\t\t\tif (!duplicados.includes(permisoSnap.data().cuenta)) {\n\t\t\t\tduplicados.push(repetido.cuenta);\n\t\t\t\tduplicadosCompletos.push(permisoSnap.data());\n\t\t\t}\n\t\t} else unicos.push(permisoSnap.data());\n\t});\n\n\tconsole.log(duplicados);\n\tconsole.table(duplicadosCompletos);\n\n\tduplicados.forEach(async (duplicado, i) => {\n\t\tconst grupoSnap = await db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.where(\"cuenta\", \"==\", duplicado)\n\t\t\t.get();\n\t\tawait console.log(`${i} Cargando grupo...`, duplicado);\n\n\t\tgrupoSnap.forEach((permiso) => {\n\t\t\tconsole.log(permiso.id, permiso.data().cuenta, \" :\", Object.keys(permiso.data()).length);\n\t\t});\n\t});\n};\n","import React from \"react\";\nimport { saveDictamen } from \"../../helpers/saveDictamen\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const DictamenManual = () => {\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { cuenta = \"\", estado = \"\" } = formValues;\n\n\tconst handleSaveDictamen = () => {\n\t\tif (estado.length > 0) {\n\t\t\tsaveDictamen(cuenta, \"2021-2022\", formValues);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row p-2\">\n\t\t\t\t<h2>Guardar Dictamen</h2>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\tCuenta:\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"cuenta\"\n\t\t\t\t\t\tname=\"cuenta\"\n\t\t\t\t\t\tvalue={cuenta}\n\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\tSeleccionar estado\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"activo\">activo</option>\n\t\t\t\t\t\t<option value=\"cancelado\">cancelado</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-flex\"\n\t\t\t\t\t\tonClick={handleSaveDictamen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","// Traer todos los permisos del modulo\n// Crear un array con las claves de los diferentes cultivos expedidos\n// Crear un array con la superficies expedidadas por cultivo\n// Traer las soperficies por cultivo del modulo\n// Comparar los superficies de los permisos con la de los conteos\n\nimport { db } from \"../../../firebase/firebase-config\";\n\nexport const verificarExpedicion = async (modulo, ciclo, actualizar) => {\n\tconst cultivosFromPermisos = [];\n\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tconst permisos = [];\n\tpermisosSnap.forEach((snap) => {\n\t\tpermisos.push(snap.data());\n\t});\n\n\tconst conteosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.get();\n\n\tconst conteos = [];\n\tconteosSnap.forEach((snap) => {\n\t\tconteos.push({ id: snap.id, ...snap.data() });\n\t});\n\n\tconst cultivos = onlyUnique(permisos, \"claveCultivo\");\n\n\tcultivos.forEach((cultivo) => {\n\t\tconst batch = permisos.filter((permiso) => permiso.claveCultivo === cultivo);\n\t\tconst cultivoData = {\n\t\t\tid: `${cultivo}-${batch[0].nombreCultivo}`,\n\t\t\tclave: cultivo,\n\t\t\tcultivo: batch[0].nombreCultivo,\n\t\t\tgravedadNormal: 0,\n\t\t\tnumeroPermisos: 0,\n\t\t\tpozoNormal: 0,\n\t\t\tpozoParticularNormal: 0,\n\t\t\tsuperficie: 0\n\t\t};\n\n\t\tbatch.forEach((permiso) => {\n\t\t\tswitch (permiso.sistema) {\n\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\tcultivoData.gravedadNormal = cultivoData.gravedadNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\tcultivoData.pozoNormal = cultivoData.pozoNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\tcultivoData.pozoParticularNormal =\n\t\t\t\t\t\tcultivoData.pozoParticularNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcultivoData.numeroPermisos = cultivoData.numeroPermisos + 1;\n\t\t\tcultivoData.superficie = cultivoData.superficie + permiso.supAutorizada;\n\t\t});\n\n\t\tcultivosFromPermisos.push(cultivoData);\n\t});\n\n\tcultivosFromPermisos.forEach((cultivoPer) => {\n\t\tconst cultivoCont = conteos.find((cultivo) => cultivo.id === cultivoPer.id);\n\n\t\tif (cultivoCont.gravedadNormal === undefined) cultivoCont.gravedadNormal = 0;\n\t\tif (cultivoCont.pozoNormal === undefined) cultivoCont.pozoNormal = 0;\n\t\tif (cultivoCont.pozoParticularNormal === undefined) cultivoCont.pozoParticularNormal = 0;\n\n\t\tconst igualGravedad = cultivoCont.gravedadNormal === cultivoPer.gravedadNormal ? true : false;\n\t\tconst igualPozo = cultivoCont.pozoNormal === cultivoPer.pozoNormal ? true : false;\n\t\tconst igualPozoParticular =\n\t\t\tcultivoCont.pozoParticularNormal === cultivoPer.pozoParticularNormal ? true : false;\n\t\tconst igualTotal = cultivoCont.superficie === cultivoPer.superficie ? true : false;\n\t\tconst igualNumero = cultivoCont.numeroPermisos === cultivoPer.numeroPermisos ? true : false;\n\n\t\tconst table = [\n\t\t\t{ tipo: cultivoPer.id },\n\n\t\t\t{\n\t\t\t\ttipo: \"Gravedad\",\n\t\t\t\tconteo: cultivoCont.gravedadNormal,\n\t\t\t\tpermisos: cultivoPer.gravedadNormal,\n\t\t\t\tdif: cultivoPer.gravedadNormal - cultivoCont.gravedadNormal,\n\t\t\t\tigualdad: igualGravedad\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Pozo\",\n\t\t\t\tconteo: cultivoCont.pozoNormal,\n\t\t\t\tpermisos: cultivoPer.pozoNormal,\n\t\t\t\tdif: cultivoPer.pozoNormal - cultivoCont.pozoNormal,\n\t\t\t\tigualdad: igualPozo\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Pozo Particular\",\n\t\t\t\tconteo: cultivoCont.pozoParticularNormal,\n\t\t\t\tpermisos: cultivoPer.pozoParticularNormal,\n\t\t\t\tdif: cultivoPer.pozoParticularNormal - cultivoCont.pozoParticularNormal,\n\t\t\t\tigualdad: igualPozoParticular\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Total\",\n\t\t\t\tconteo: cultivoCont.superficie,\n\t\t\t\tpermisos: cultivoPer.superficie,\n\t\t\t\tdif: cultivoPer.superficie - cultivoCont.superficie,\n\t\t\t\tigualdad: igualTotal\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Numero\",\n\t\t\t\tconteo: cultivoCont.numeroPermisos,\n\t\t\t\tpermisos: cultivoPer.numeroPermisos,\n\t\t\t\tdif: cultivoPer.numeroPermisos - cultivoCont.numeroPermisos,\n\t\t\t\tigualdad: igualNumero\n\t\t\t}\n\t\t];\n\t\tif (!igualGravedad || !igualPozo || !igualPozoParticular || !igualTotal || !igualNumero) {\n\t\t\tconsole.table(table);\n\n\t\t\tif (actualizar) {\n\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.collection(`permisosPorCultivo`)\n\t\t\t\t\t.doc(cultivoPer.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\tgravedadNormal: cultivoPer.gravedadNormal,\n\t\t\t\t\t\tpozoNormal: cultivoPer.pozoNormal,\n\t\t\t\t\t\tpozoParticularNormal: cultivoPer.pozoParticularNormal,\n\t\t\t\t\t\tsuperficie: cultivoPer.superficie,\n\t\t\t\t\t\tnumeroPermisos: cultivoPer.numeroPermisos\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tconsole.log(`Se termido de actualizar el modulo: ${modulo}`);\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t}\n\t});\n\n\tunique.sort((a, b) => sortFunction(a, b));\n\treturn unique;\n};\n\nconst sortFunction = (a, b) => {\n\tswitch (typeof a) {\n\t\tcase \"number\":\n\t\t\tif (a < b) return 1;\n\t\t\tif (a > b) return -1;\n\t\t\treturn 0;\n\n\t\tdefault:\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t}\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { verificarExpedicion } from \"../../helpers/DB/DBTools/verificarExpedicion\";\n\nexport const ExpeditionCheckModule = () => {\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst [update, setUpdate] = useState(false);\n\tconst handleUpdateMode = () => {\n\t\tsetUpdate(!update);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3>Verificar expedicion</h3>\n\n\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t<h5>Modulo: {modulo}</h5>\n\n\t\t\t\t<button className=\"btn btn-outline-primary ml-4\" onClick={handleUpdateMode}>\n\t\t\t\t\tModo:\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\t// Solo imprime la tabla si hay diferencias\n\t\t\t\t\tonClick={() => verificarExpedicion(modulo, \"2021-2022\", update)}\n\t\t\t\t\tclassName=\"btn btn-primary ml-5\"\n\t\t\t\t>\n\t\t\t\t\t{update ? \"Actualizar\" : \"Revisar\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { setUpdatingPermisos, unsetUpdatingPermisos } from \"../../actions/ui\";\nimport Swal from \"sweetalert2\";\nimport { readExcel } from \"../functions/readExcel\";\nimport { db } from \"../../firebase/firebase-config\";\n\nexport const cargarPermisosExcel = (file, ciclo) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingPermisos());\n\n\t\tconst data = await readExcel(file);\n\t\tconst localidesSnap = await db.collection(\"colonias\").get();\n\t\tconst localidades = [];\n\t\t// const itemsToUpload = [];\n\n\t\tlocalidesSnap.forEach((localidad) => {\n\t\t\tlocalidades.push(localidad.data());\n\t\t});\n\n\t\tconst itemsToUploadPromises = await data.map(async (permiso) => {\n\t\t\tconst cuenta = defineCuenta(`${permiso.cuenta}`, \".\");\n\t\t\tconst padronId = defineCuenta(`${permiso.cuenta}`, \"-\");\n\t\t\tconst derechos = await db.collection(\"derechos\").doc(padronId).get();\n\t\t\tconst labores = defineLabores(permiso.labores ?? \"\");\n\t\t\tconst tecnico = defineTecnico(permiso.tecnico ?? \"\");\n\n\t\t\tif (derechos.exists) {\n\t\t\t\tconst modulo = `${derechos.data().modulo}`;\n\t\t\t\tconst folio = defineFolio(modulo, permiso.folio);\n\t\t\t\tconst idLocalidad = derechos.data().ejido;\n\t\t\t\tconst localidad = localidades.find((localidad) => localidad.clave === idLocalidad);\n\n\t\t\t\treturn {\n\t\t\t\t\t...labores,\n\t\t\t\t\tfolio,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tcuenta,\n\t\t\t\t\tnombre: permiso.nombre.trim(),\n\t\t\t\t\tcultivo: permiso.cultivo.trim(),\n\t\t\t\t\tsuperficie: permiso.superficie,\n\t\t\t\t\tlote: `${permiso.lote}`,\n\t\t\t\t\tubicacion: defineNombe(localidad.nombre, permiso.ubicaci√≥n),\n\t\t\t\t\tclaveLocalidad: localidad.clave,\n\t\t\t\t\ttipoLocalidad: localidad.tipo,\n\t\t\t\t\testadoPermiso: \"Activo\",\n\t\t\t\t\tlaboresPendientes: true,\n\t\t\t\t\tciclo: \"2020-2021\",\n\t\t\t\t\ttecnico\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Cuenta desconocida: \", padronId);\n\t\t\t}\n\t\t});\n\n\t\tconst itemsToUpload = await Promise.all(itemsToUploadPromises);\n\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\titemsToUpload.forEach((permiso) => {\n\t\t\tif (permiso) {\n\t\t\t\tconst ref = db\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${permiso.modulo}`)\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(permiso.folio);\n\n\t\t\t\tbatch.set(ref, permiso);\n\t\t\t}\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tbatch\n\t\t\t.commit()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Se terminaron de subir los permisos\");\n\t\t\t\tSwal.fire(\"Permisos actualizados\", \"Se subieron con exito los permisos.\", \"success\");\n\t\t\t\tdispatch(unsetUpdatingPermisos());\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t};\n};\n\n// const defineModulo = (word) => {\n// \tconst parts = word.split(\" \");\n\n// \tif (parts.length === 1) return parts[0];\n// \telse if (parts[0] === \"Modulo\") return parts[1];\n// \telse if (parts[0] === \"Unidad\") return `UNI0${parts[1]}`;\n// \telse return \"XXXXXX\";\n// };\n\nconst defineCuenta = (word, separator) => {\n\tconst parts = word.split(\".\");\n\n\tif (parts.length === 1) return `${parts[0]}${separator}0`;\n\telse return `${parts[0]}${separator}${parts[1]}`;\n};\n\nconst defineFolio = (modulo, folio) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\tcase \"UNI02\":\n\t\tcase \"UNI03\":\n\t\t\treturn `${modulo}-${folio}`;\n\n\t\tdefault:\n\t\t\treturn `MOD${modulo}-${folio}`;\n\t}\n};\n\nconst defineNombe = (nombrePadron, nombreExcel) => {\n\tconst dividedName = nombrePadron.split(\" \");\n\n\tif (dividedName[0] === \"Desconocido\") return nombreExcel.trim();\n\telse return nombrePadron.trim();\n};\n\nconst defineLabores = (trabajos) => {\n\tif (trabajos.trim() === \"BARBECHADO\") {\n\t\treturn {\n\t\t\tdesfoliado: true,\n\t\t\tcosechado: true,\n\t\t\tdesvarado: true,\n\t\t\tdisqueado: true,\n\t\t\tdesarraigado: true,\n\t\t\tbarbechado: true\n\t\t};\n\t} else return {};\n};\n\nconst defineTecnico = (tecnico) => {\n\tswitch (tecnico.trim()) {\n\t\tcase \"ADRIAN VILLA\":\n\t\t\treturn \"GOxDoCdADSSVhj1gQIXxzZ5YN4H3\";\n\n\t\tcase \"EDUARDO BA√ëUELOS\":\n\t\t\treturn \"rUxW1A8ehVWGYzjK91c8LCwwklb2\";\n\n\t\tcase \"EDUARDO ZAVALA\":\n\t\t\treturn \"31naXMbqQibk1SzOLIhZ5JXFYAk1\";\n\n\t\tcase \"GUILEBALDO ZAVALA\":\n\t\t\treturn \"u2onRGMYn6RqLafQC3LNe2cP64q1\";\n\n\t\tcase \"SAUL VEA BERRELLEZA\":\n\t\t\treturn \"rA5pOGIhqZceAigtDlP0cVy2SwA3\";\n\n\t\tcase \"CORNELIO LARA\":\n\t\t\treturn \"bHflypkGK8SBj2VAOe6lIccxwbc2\";\n\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n};\n\n/* \n31naXMbqQibk1SzOLIhZ5JXFYAk1\n7x7LpErVMrcGQDvI5sBflOnzOx12\nGOxDoCdADSSVhj1gQIXxzZ5YN4H3\nbHflypkGK8SBj2VAOe6lIccxwbc2\nrA5pOGIhqZceAigtDlP0cVy2SwA3\nrUxW1A8ehVWGYzjK91c8LCwwklb2\nu2onRGMYn6RqLafQC3LNe2cP64q1\n*/\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cargarPermisosExcel } from \"../../helpers/DB/cargarPermisosExcel\";\nimport { FileInput } from \"../ui/atoms/FileInput\";\n\nexport const PermisosExcelModule = () => {\n\tconst { updatingPermisos } = useSelector((state) => state.ui);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdatePermisos = (file) => {\n\t\tdispatch(cargarPermisosExcel(file, \"2020-2021\"));\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h3>Subir Permisos</h3>\n\n\t\t\t<FileInput\n\t\t\t\tactionFunction={startUpdatePermisos}\n\t\t\t\ttitle=\"Cargar Padron\"\n\t\t\t\tupdating={updatingPermisos}\n\t\t\t\tfileExtension=\".xlsx\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { printDuplicatePermits } from \"../../helpers/printDuplicatePermits\";\nimport { DictamenManual } from \"../modulos/DictamenManual\";\n// import { editarPermisos } from \"../../helpers/DB/editarPermisos\";\nimport { ExpeditionCheckModule } from \"../modulos/ExpeditionCheckModule\";\nimport { PermisosExcelModule } from \"../modulos/PermisosExcelModule\";\nimport { ProducersReport } from \"../ui/organisms/ProducersReport\";\n\nexport const TestArea = () => {\n\t// console.log(\"modulo en test: \", modulo);\n\n\t// const editar = () => {\n\t// \teditarPermisos();\n\t// };\n\n\tconst cargarPermisos = () => {\n\t\tprintDuplicatePermits();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center pt-5\">\n\t\t\t\t<h1>TestArea</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<ProducersReport />\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center pt-5\">\n\t\t\t\t<h1>Dev Tools</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1\">\n\t\t\t\t<ExpeditionCheckModule />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1 mt-5\">\n\t\t\t\t<PermisosExcelModule />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded d-flex flex-column p-3 m-1 mt-5\">\n\t\t\t\t<DictamenManual />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1 mt-5\">\n\t\t\t\t<button className=\"btn btn-primary\" onClick={cargarPermisos}>\n\t\t\t\t\tPermisos Duplicados\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{/* <div className=\"mt-5\">\n\t\t\t\t<button onClick={editar} className=\"btn btn-primary\">\n\t\t\t\t\tEditar\n\t\t\t\t</button>\n\t\t\t</div> */}\n\t\t</>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setEntity } from \"../../../actions/auth\";\n\nexport const EntitySelector = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { rol } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst modulos = entities.filter((entity) => {\n\t\tswitch (entity.id) {\n\t\t\tcase \"CNA\":\n\t\t\tcase \"SADER\":\n\t\t\tcase \"CESVBC\":\n\t\t\tcase \"SRL\":\n\t\t\t\treturn false;\n\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t});\n\n\tconst [entity, setentity] = useState(\"\");\n\n\tconst handleSetEntity = ({ target }) => {\n\t\tsetentity(target.value);\n\t\tconst entity = entities.find((entity) => entity.id === target.value);\n\t\tdispatch(\n\t\t\tsetEntity(\n\t\t\t\tentity.nombre,\n\t\t\t\tentity.img,\n\t\t\t\tentity.clave,\n\t\t\t\tentity.dotacionGravedad,\n\t\t\t\tentity.dotacionPozo,\n\t\t\t\tentity.titular,\n\t\t\t\tentity.direccion,\n\t\t\t\tentity.expedicionActivaModulo,\n\t\t\t\trol,\n\t\t\t\tentity.clave\n\t\t\t)\n\t\t);\n\t};\n\n\treturn (\n\t\t<select\n\t\t\tname=\"campo\"\n\t\t\tid=\"campo\"\n\t\t\ttype=\"text\"\n\t\t\tvalue={entity}\n\t\t\tonChange={handleSetEntity}\n\t\t\tclassName=\"form-control\"\n\t\t>\n\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\tEntidad\n\t\t\t</option>\n\n\t\t\t{modulos.map((modulo) => (\n\t\t\t\t<option key={modulo.id} value={modulo.id}>\n\t\t\t\t\t{modulo.id}\n\t\t\t\t</option>\n\t\t\t))}\n\t\t</select>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadEntities } from \"../../actions/entidades/entities\";\nimport { EntitySelector } from \"./molecules/EntitySelector\";\n\nexport const Header = () => {\n\tconst { email, entidad, img, variablesGlobales, claveEntidad, privilegios } = useSelector(\n\t\t(state) => state.auth\n\t);\n\tconst global = privilegios.accesoGlobal;\n\n\tconst { entities } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tdispatch(startLoadEntities());\n\t}, [dispatch]);\n\n\tconst setImgStyle = (entidad) => {\n\t\tswitch (entidad) {\n\t\t\tcase \"SADER\":\n\t\t\tcase \"CNA\":\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn { maxWidth: 140 };\n\n\t\t\tdefault:\n\t\t\t\treturn { maxHeight: 100 };\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-between header\">\n\t\t\t\t<div className=\"col-sm-2 text-center \">\n\t\t\t\t\t<div className=\"border rounded h-100 d-flex justify-content-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\tsrc={`./logos/${img}`}\n\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\tstyle={setImgStyle(claveEntidad)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t<div className=\"card border\">\n\t\t\t\t\t\t<div className=\"card-header d-inline-flex\">\n\t\t\t\t\t\t\t<div className=\"div\">{`${entidad} - Operador: ${email}`} </div>\n\t\t\t\t\t\t\t<div className=\"div ml-5\">\n\t\t\t\t\t\t\t\t<b>Ciclo: {variablesGlobales.cicloActual}</b>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"card-body text-dark\">\n\t\t\t\t\t\t\t<h5 className=\"card-title\">Plataforma digital</h5>{\" \"}\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6 card-text\">Distrito de riego 014 Rio Colorado</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">{entities && global && <EntitySelector />}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Header;\n","import React from \"react\";\nimport { NavbarComponent } from \"../components/ui/NavbarComponent\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { SicperScreen } from \"../components/sicper/SicperScreen\";\nimport { PadronScreen } from \"../components/padron/PadronScreen\";\nimport { PermisosScreen } from \"../components/permisos/PermisosScreen\";\nimport { NuevoPermisoScreen } from \"../components/permisos/NuevoPermisoScreen\";\nimport { TransferenciasScreen } from \"../scenes/TransferenciasScreen\";\nimport { AsignacionScreen } from \"../scenes/AsignacionScreen\";\nimport { LaboresScreen } from \"../scenes/LaboresScreen\";\nimport { AutorizadosScreen } from \"../components/autorizados/AutorizadosScreen\";\nimport { ReportesScreen } from \"../scenes/ReportesScreen\";\nimport { ConfiguracionScreen } from \"../scenes/ConfiguracionScreen\";\nimport { TestArea } from \"../components/templates/TestArea\";\nimport Header from \"../components/ui/Header\";\n\nexport const DashboardRoutes = () => {\n\treturn (\n\t\t<div className=\"container-fluid pr-4\">\n\t\t\t<NavbarComponent />\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/sicper\" component={SicperScreen} />\n\t\t\t\t<Route exact path=\"/padron\" component={PadronScreen} />\n\t\t\t\t<Route exact path=\"/permisos\" component={PermisosScreen} />\n\t\t\t\t<Route exact path=\"/nuevo-permiso\" component={NuevoPermisoScreen} />\n\t\t\t\t<Route exact path=\"/transferencias\" component={TransferenciasScreen} />\n\t\t\t\t<Route exact path=\"/asignacion\" component={AsignacionScreen} />\n\t\t\t\t<Route exact path=\"/labores\" component={LaboresScreen} />\n\t\t\t\t<Route exact path=\"/autorizados\" component={AutorizadosScreen} />\n\t\t\t\t<Route exact path=\"/reportes\" component={ReportesScreen} />\n\t\t\t\t<Route exact path=\"/configuracion\" component={ConfiguracionScreen} />\n\t\t\t\t<Route exact path=\"/test\" component={TestArea} />\n\n\t\t\t\t<Redirect to=\"/sicper\" />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\tlocalStorage.setItem(\"lastPath\", rest.location.pathname);\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nPrivateRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PublicRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) => (isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />)}\n\t\t/>\n\t);\n};\n\nPublicRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { AuthRouter } from \"./AuthRouter\";\nimport { DashboardRoutes } from \"./DashboardRoutes\";\nimport { firebase } from \"../firebase/firebase-config\";\nimport { useDispatch } from \"react-redux\";\nimport {\n\tloadEntity,\n\tloadEntityData,\n\tloadPrivilegios,\n\tloadVariablesGlobales,\n\tlogin,\n\tsetEntity,\n\tsetPrivilegios,\n\tsetVariablesGlobales\n} from \"../actions/auth\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\n\nexport const AppRouter = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [checking, setChecking] = useState(true);\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(async (user) => {\n\t\t\tif (user?.uid) {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\t\t\t\tconst {\n\t\t\t\t\tnombre,\n\t\t\t\t\timg,\n\t\t\t\t\tclave,\n\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\tdotacionPozo,\n\t\t\t\t\ttitular,\n\t\t\t\t\tdireccion,\n\t\t\t\t\texpedicionActivaModulo\n\t\t\t\t} = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName, user.email));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(\n\t\t\t\t\t\tnombre,\n\t\t\t\t\t\timg,\n\t\t\t\t\t\tclave,\n\t\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\t\tdotacionPozo,\n\t\t\t\t\t\ttitular,\n\t\t\t\t\t\tdireccion,\n\t\t\t\t\t\texpedicionActivaModulo,\n\t\t\t\t\t\tentity.rol,\n\t\t\t\t\t\tentity.modulo\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tsetIsLoggedIn(true);\n\t\t\t} else {\n\t\t\t\tsetIsLoggedIn(false);\n\t\t\t}\n\t\t\tsetChecking(false);\n\t\t});\n\t}, [dispatch, setChecking, setIsLoggedIn]);\n\n\tif (checking) {\n\t\treturn (\n\t\t\t<div className=\"container pt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"spinner-border text-primary\" role=\"status\">\n\t\t\t\t\t<span className=\"sr-only\">Cargando...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PublicRoute path=\"/auth\" component={AuthRouter} isAuthenticated={isLoggedIn} />\n\t\t\t\t\t<PrivateRoute exat isAuthenticated={isLoggedIn} path=\"/\" component={DashboardRoutes} />\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./store/store\";\nimport { AppRouter } from \"./routers/AppRouter\";\n// import { Page404 } from \"./scenes/Page404\";\n\nexport const SicperApp = () => {\n\treturn (\n\t\t<div>\n\t\t\t<script srs=\"filesaver.js\"></script>\n\t\t\t<Provider store={store}>\n\t\t\t\t{/* <Page404 /> */}\n\t\t\t\t<AppRouter />\n\t\t\t</Provider>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SicperApp } from \"./SicperApp\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\n\nReactDOM.render(<SicperApp />, document.getElementById(\"root\"));\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_APIKEY,\n\tauthDomain: process.env.REACT_APP_AUTHDOMAIN,\n\tdatabaseURL: process.env.REACT_APP_DATABASEURL,\n\tprojectId: process.env.REACT_APP_PROJECTID,\n\tstorageBucket: process.env.REACT_APP_STORAGEBUCKET,\n\tmessagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n\tappId: process.env.REACT_APP_APPID\n};\n\n// const firebaseConfig = {\n// \tapiKey: \"AIzaSyCPGzYLWjSE-8cCojpCClhkbDZouZVqVVo\",\n// \tauthDomain: \"sicper-e1812.firebaseapp.com\",\n// \tdatabaseURL: \"https://sicper-e1812.firebaseio.com\",\n// \tprojectId: \"sicper-e1812\",\n// \tstorageBucket: \"sicper-e1812.appspot.com\",\n// \tmessagingSenderId: \"868337651917\",\n// \tappId: \"1:868337651917:web:ce83022e99f450f19dd984\"\n// };\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, googleAuthProvider, firebase };\n"],"sourceRoot":""}