{"version":3,"sources":["types/types.js","reducers/uiReducer.js","reducers/altaPermisosReducer.js","reducers/permisosScreenReducer.js","reducers/autorizadosReducer.js","reducers/sicperReducer.js","reducers/algodoneroScreenReducer.js","reducers/scenes/scenesReducer.js","store/store.js","reducers/authReducer.js","reducers/entidades/entidadesReducer.js","firebase/firebase-config.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/ui/NavbarComponent.js","helpers/loadNombresCultivos.js","helpers/loadAutorizados.js","helpers/loadExpedicion.js","actions/sicperScreen.js","helpers/functions/roundToN.js","components/modulos/ResumenAutorizados.js","components/charts/SuperficiesChart.js","components/charts/setSuperficiesDataformat.js","components/autorizados/ResumenAutorizados.js","helpers/loadUltimosPermisos.js","helpers/loadPermisos.js","helpers/loadSuperficiesCultivos.js","helpers/DB/loadPreCancelPermits.js","actions/permisosScreen.js","actions/autorizadosScreen.js","components/modulos/FichaExpedicion.js","components/buttons/NuevoPermisoButton.js","components/cards/UnassignedPrivilegesMessage.js","components/sicper/SicperScreen.js","components/tables/CustomTable.js","components/tables/configTables.js","helpers/loadUsuarios.js","helpers/loadLocalidad.js","helpers/loadSuperficiePrevia.js","helpers/loadUserTransfer.js","helpers/DB/loadCiclo.js","actions/usuarios.js","components/permisos/inputsNuevosPermisos/UsuarioInput.js","components/padron/UsuarioSelectedDetail.js","helpers/functions/readExcel.js","helpers/DB/updatePadron.js","components/ui/atoms/FileInput.js","components/ui/organisms/UpdatePadronModule.js","helpers/DB/updateReacomodos.js","components/ui/organisms/UpdateReacomodosModule.js","components/padron/PadronScreen.js","actions/altaPermisos.js","helpers/loadCultivos.js","actions/cultivos.js","helpers/loadProductores.js","actions/productores.js","helpers/savePermiso.js","components/modals/PrintPermisoModal.js","components/cards/PermitToCancelCard.js","helpers/DB/cancelPermit.js","helpers/DB/decrementPermisosPorCultivo.js","helpers/DB/decrementPermisosExpedidos.js","components/tables/PermitsCancelationTable.js","components/ui/organisms/PermitsCancellationModule.js","components/permisos/PermisosScreen.js","helpers/setPermisoInCancelProces.js","components/modals/CultivoModal.js","components/modals/UsuarioModal.js","components/modals/ProductorModal.js","actions/nuevoProductor.js","components/modals/NuevoProductorModal.js","components/permisos/inputsNuevosPermisos/CultivoInput.js","components/permisos/inputsNuevosPermisos/ProductorInput.js","components/permisos/inputsNuevosPermisos/UsuarioSelected.js","components/permisos/inputsNuevosPermisos/ProductorSelected.js","helpers/loadContador.js","components/permisos/NuevoPermisoScreen.js","components/cards/UserCard.js","components/permisos/inputsNuevosPermisos/ProductorInput2.js","components/permisos/inputsNuevosPermisos/CultivoInput2.js","helpers/loadLocaltiesFromUnassignedPermits.js","helpers/loadLocaltiesGroup.js","helpers/assignTechnician.js","helpers/DB/loadLocalties.js","actions/entidades/localidades.js","components/permisos/inputsNuevosPermisos/LocalidadInput.js","components/forms/TransferForm.js","helpers/saveTransfer.js","components/inputs/UsuariosInput.js","components/tables/UsuariosTable.js","components/modals/LocalidadesModal.js","scenes/TransferenciasScreen.js","components/buttons/AssignTechnicianButton.js","components/tables/CustomSelectableTable.js","components/tables/SelectableLocaltiesTable.js","scenes/AsignacionScreen.js","helpers/loadPermisosAlgodonero.js","helpers/loadSearchPermisosAlgodonero.js","actions/algodoneroScreen.js","helpers/updatePermisoAlgodonero.js","components/modulos/CheckSanidad.js","components/modals/PrintSanidadModal.js","scenes/LaboresScreen.js","components/modals/AutorizadosModal.js","components/modals/AutorizadosPozoModal.js","components/autorizados/ResumenAutorizadosPozo.js","components/autorizados/AutorizadosScreen.js","helpers/sabeAutorizados.js","components/charts/CustomGraficoHorizontal.js","components/charts/GraficoPrincipalesCultivos.js","helpers/ordenarDataParaGrafico.js","actions/entidades/permisos.js","components/forms/FormPermisosInformes.js","components/tables/CustomPrintTable.js","components/tables/PermisosTable.js","components/modulos/ModuloInformesPermisos.js","helpers/consts.js","helpers/DB/loadAutorizadosGlobal.js","helpers/DB/loadAvanceSuperficieExpedida.js","helpers/functions/filterReportData.js","helpers/functions/mergeReportData.js","reducers/modulosCheckboxReducer.js","components/ui/molecules/ExpedicionTable.js","components/ui/molecules/RadioButtonGroup.js","components/ui/molecules/ButtonGroup.js","components/ui/organisms/ModulosCkeckbox.js","components/ui/organisms/ReporteExpedicion.js","scenes/ReportesScreen.js","helpers/loadSystemUsers.js","helpers/loadUserRoles.js","helpers/loadUserPrivileges.js","actions/entidades/sistemUsers.js","components/forms/AddNewUserRoleForm.js","helpers/saveNewUserRole.js","helpers/deleteUserRole.js","components/forms/SelectRoleToEditForm.js","helpers/saveRolePrivileges.js","components/forms/UserPrivilegesForm.js","components/modals/UserRoleModal.js","components/buttons/NewUserRoleButton.js","components/cards/SystemUserCard.js","helpers/updateSystemUser.js","components/tables/SystemUsersTable.js","components/modulos/UsersRoleManagement.js","components/modulos/EntityEditingModule.js","hooks/useFormArray.js","helpers/DB/actualizarEntidades.js","helpers/DB/loadEntities.js","actions/entidades/entities.js","scenes/ConfiguracionScreen.js","components/templates/TestArea.js","components/ui/Header.js","routers/DashboardRoutes.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","SicperApp.js","index.js"],"names":["types","initialState","loading","msgError","enEspera","enableSaveButton","enablePrintButton","openUsuariosModal","openProductoresModal","isOpenNuevoProductorModal","openCultivosModal","isOpenPrintPermisoModal","usuarios","cultivos","productores","idUsuarioSelected","cuenta","usuario","supDerecho","lote","localidad","municipio","estado","modulo","seccion","canal","toma","sistema","idProductorSelected","nombreProductor","rfcProductor","idCultivoSelected","nombreCultivo","claveCultivo","subciclo","cuotaCultivo","supPrevia","tipo","ciclo","numeroPermiso","fechaEmicion","fechaLimite","vigencia","estadoPermiso","variedad","supAutorizada","fuenteCredito","latitud","longitud","cultivoAnterior","observaciones","permisos","permisoSelected","superficies","openAutorizadosModal","autorizados","autorizadoSelected","superficieReferencia","formError","expedicion","superficie","printSanidadModal","reportesScreen","openImprimirReporteModal","padronScreen","updatingPadron","updatingReacomodos","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","uid","payload","name","displayName","entidad","img","claveEntidad","dotacion","titular","direccion","rol","privilegios","variablesGlobales","ui","isOpenUserRoleModal","scenes","entidades","principalesCultivos","labels","superficiesCultivos","numeroPermisos","campoOrdenador","userRoles","userRoleSelected","privilegesToEdit","systemUsers","systemUserSelected","localties","selectedLocalties","localtieSelected","openLocaltiesModal","entities","sicperScreen","permisosScreen","preCancelPermits","permitToCancelSelected","algodoneroScreen","altaPermisos","openPrintPermisoModal","id","nombre","clave","costoHectarea","subcta","apPaterno","apMaterno","supRiego","predio","cp","lt","slt","ra","sra","ssra","pControl","sistRiego","reacomodo","rfc","curpProductor","curp","Number","autorizadosScreen","autorizadosPorCultivo","store","createStore","applyMiddleware","thunk","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","setError","GoogleAuthProvider","err","removeError","finishLoading","startLoginEmailPassword","email","password","dispatch","signInWithEmailAndPassword","then","a","user","loadEntity","entity","loadEntityData","entityData","loadPrivilegios","login","setEntity","setPrivilegios","loadVariablesGlobales","variablesGlovales","setVariablesGlobales","catch","e","console","log","Swal","fire","data","logout","collection","get","entitySnap","forEach","snapHijo","roles","doc","useForm","useState","values","setValues","reset","handleInputChange","target","checked","value","LoginScreen","useDispatch","useSelector","formValues","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","to","RegisterScreen","password2","isFormValid","validator","isEmail","length","createUserWithEmailAndPassword","updateProfile","set","startRegisterWithEmailPasswordName","decideModulo","hidden","defaultValue","AuthRouter","exact","path","component","NavbarComponent","Navbar","bg","variant","expand","Brand","href","src","height","alt","Toggle","aria-controls","Collapse","Nav","pantallaInicio","pantallaPadron","pantallaPermisos","pantallaTransferencias","pantallaAsignacion","pantallaLabores","pantallaAutorizados","pantallaReportes","pantallaConfiguracion","testArea","Button","onClick","signOut","loadNombresCultivos","orderBy","cultivosSnap","push","cultivo","loadAutorizados","autorizadosSnap","nombresCultivos","gravedadNormalAutorizada","gravedadNormalAsignada","gravedadExtraAutorizada","gravedadExtraAsignada","pozoNormalAutorizada","pozoNormalAsignada","pozoExtraAutorizada","pozoExtraAsignada","loadAutorizadoPorCultivo","where","loadExpedicion","superficiesSnap","setExpedicion","roundToN","num","n","Math","round","ResumenAutorizados","cicloActual","useEffect","findCultivo","autorizadoId","find","cultivoAutorizado","superficieTotal","undefined","gravedadNormal","gravedadExtra","pozoNormal","pozoExtra","startLoadExpedicion","setNormal","setExtra","role","scope","map","key","SuperficiesChart","dataSend","titulo","totalSuperficie","totalPermisos","datasets","label","backgroundColor","borderColor","borderWidth","toFixed","options","scales","yAxes","ticks","beginAtZero","width","totalGravedadNormalAutorizada","totalGravedadNormalAsignada","totalGravedadExtraAutorizada","totalGravedadExtraAsignada","totalPozoNormalAutorizada","totalPozoNormalAsignada","totalPozoExtraAutorizada","totalPozoExtraAsignada","autorizado","colSpan","loadUltimosPermisos","limit","permisosSnap","loadPermisos","palabra","campos","fechaInicial","Date","fechaFinal","permisosCampo","pad","filtros","campo","startAt","toUpperCase","endAt","Promise","all","permisosResueltos","i","fecha","toDate","loadSuperficiesCultivos","contador","restoSuperficie","restoPermisos","loadPreCancelPermits","collectionGroup","querySnapshot","startLoadPermisos","setPermisos","startLoadPreCancelPermits","setPreCancelPermits","startLoadSuperficies","setSuperficies","permits","setPermisoSelected","permiso","setPermitToCancel","startLoadAutorizados","setAutorizados","setSuperficieReferencia","setAutorizadosPorCultivo","closeAutorizadosModal","setAutorizadoSelected","setFormError","removeFormError","FichaExpedicion","NuevoPermisoButton","UnassignedPrivilegesMessage","SicperScreen","expedicionActiva","consultarAutorizados","expedirPermisos","consultarExpedicion","CustomTable","title","columns","setFunction","closeFunction","pagination","paginationComponentOptions","rowsPerPageText","rangesSeparatorText","selectAllRowsItem","selectAllRowsItemText","fixedHeader","persistTableHead","fixedHeaderScrollHeight","highlightOnHover","striped","pointerOnHover","dense","onRowClicked","row","styled","input","usuariosColumns","selector","omit","sortable","center","productoresColumns","cultivosColumns","systemUsersColumns","localtiesColumns","permisosColumns","printPermisosColumns","autorizadosColumns","autorizadosPozoColumns","loadUsuarios","qryUsuarios","reacomodos","qryReacomodos","padUsuarios","parseInt","snap","equipo","loadLocalidad","localidadSnap","localidades","loadSuperficiePrevia","loadUserTransfer","transferSnap","transfer","superficieTransferida","loadCiclo","closeUsuariosModal","startLoadUsuarios","setUsuarios","startSetUsuarioSelected","unsetUsuarioSelected","ejido","transfers","setUsuarioSelected","unsetUpdatingPadron","unsetUpdatingReacomodos","UsuarioInput","nombreUsuario","handleOpenUsuariosModal","handleLoadUsuarios","usuarioLabel","onKeyUp","event","UsuarioSelectedDetail","readExcel","file","promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","bufferArray","result","workBook","read","workSheetName","SheetNames","workSheet","Sheets","utils","sheet_to_json","onerror","error","checkPadron","isOk","item","FileInput","actionFunction","updating","fileExtension","htmlFor","files","match","UpdatePadronModule","batch","definePredio","grupo","element","itemToUpload","APMATERNO","APPATERNO","CP","CUENTA","EJIDO","EQUIPO","ESTADO","FECHA","GRUPO","LT","ZONA","MUNICIPIO","NOMBRE","PCONTROL","PREDIO","RA","referencia","REFERENCIA","SECCION","SISTRIEGO","SLT","SRA","SSRA","SUBCTA","supFisica","SUPFISICA","SUPRIEGO","tenencia","TENENCIA","unidad","UNIDAD","zona","ref","commit","updatePadron","checkReacomodos","UpdateReacomodosModule","CTA","subCuenta","SC","llave","LLAVE","MODULO","claveEjido","CVEEJI","EJI","PRE","hectareas","HAS","RE","claveProcedencia","CVEPRO","ejidoProcedencia","EJIPRO","predioProcedencia","PREPRO","updateReacomodos","PadronScreen","Object","actualizarPadron","setOnSubmitData","unsetEnEspera","loadCultivos","closeCultivosModal","startLoadCultivos","setCultivos","setCultivoSelected","idCultivo","unsetCultivoSelected","loadProductores","productor","usuariosSnap","closeProductoresModal","startLoadProductores","setProductores","setProductorSelected","idProductor","unsetProductorSelected","savePermiso","allData","moment","transferencia","tecnico","desfoliado","cosechado","desvarado","disqueado","desarraigado","superficieMapeada","pagado","constanciaFitosanitaria","permisosPorCultivoRef","permisoRef","exists","update","numeroPermisosModulo","FieldValue","increment","superficieModulo","pozoParticularNormal","pozoParticularExtra","message","isSave","customStyles","content","overflow","PrintPermisoModal","isNew","closeModal","handleSavePermiso","imprimir","print","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","format","string","str","toUpper","maxHeight","PermitToCancelCard","permit","perm","motivoCancelacion","elements","USUARIO","CULTIVO","entries","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","fechaCancelacion","cancelPermit","decrementPermisosPorCultivo","decrementPermisosExpedidos","PermitsCancelationTable","permisosFormateados","PermitsCancellationModule","PermisosScreen","dataPermiso","buscarPermisos","startLoadPermisosSearch","dataPermisoImprecion","solicitarCancelarPermisos","inputPlaceholder","motivo","setPermisoInCancelProces","cancelarPermisos","top","left","right","bottom","marginRight","transform","Modal","setAppElement","CultivoModal","UsuarioModal","ProductorModal","NuevoProductorModal","genero","telefono","trim","replace","add","CultivoInput","handleOpenCultivosModal","handleLoadCultivos","cultivoLabel","ProductorInput","handleOpenProductoresModal","handleLoadProductores","productorLabel","UsuarioSelected","ProductorSelected","loadContador","NuevoPermisoScreen","cuotaSanidad","permisoData","startLoadAutorizadoPorCultivo","cuota","cultivoSelected","onSendForm","getOnSubmitData","defineTipoPermiso","defineNumeroPermiso","defineVigencia","defineEstadoPermiso","fill","number","len","repeat","toString","rows","UserCard","derecho","derechoDisponible","ProductorInput2","CultivoInput2","loadLocaltiesFromUnassignedPermits","includes","loadLocaltiesGroup","localtiesGroup","localtiesData","dataPromises","pushOnLocaltiesData","localtiesForLoad","location","splice","assignTechnician","pushOnPermitsData","promisesResults","runTransaction","transaction","loadLocalties","localtie","localtiesSnap","startLoadLocaltiesFromUnassignedPermits","setLocalties","unsetLocalties","setSelectedLocalties","unsetSelectedLocalties","setLocaltieSelected","unsetLocaltieSelected","closeLocaltiesModal","LocalidadInput","handleOpenLocaltiesModal","handleLoadLocalties","startLoadLocalties","localtieLabel","idLocaltieSelected","TransferForm","superficieDisponible","loteDestino","moduloDestino","startSaveTransfer","saveTransfer","localidadDestino","clavelocalidadDestino","cuentaOrigen","loteOrigen","localidadOrigen","moduloOrigen","handleKeyUp","UsuariosInput","UsuariosTable","LocalidadesModal","TransferenciasScreen","AssignTechnicianButton","localtiesNames","startAssignTechnician","CustomSelectableTable","setSelectedRowsFunction","contextMessage","selectableRows","onSelectedRowsChange","selectedRows","SelectableLocaltiesTable","singular","plural","AsignacionScreen","loadPermisosAlgodonero","loadSearchPermisosAlgodonero","permisosNombre","permisosCuenta","permisosPermiso","updatePermisoAlgodonero","objeto","CheckSanidad","setUnset","formatter","Intl","NumberFormat","currency","superficieActual","inputAttributes","autocapitalize","PrintSanidadModal","LaboresScreen","AutorizadosModal","nuevosAutorizados","startUpdateAutorizados","valorNegativoError","supAsignadaError","valorVacioError","AutorizadosPozoModal","ResumenAutorizadosPozo","AutorizadosScreen","setModuloToEdit","moduloToEdit","setModulo","moduloIndex","totalNormal","totalExtra","totalCultivo","decideEstado","superficieNormal","superficieExtra","sabeAutorizados","CustomGraficoHorizontal","subtitulo1","subtitulo2","etiquetas","dataSet","ancho","GraficoPrincipalesCultivos","dataCondensada","arrayDataCondensada","sort","b","noBarrasGrafico","ordenarDataParaGrafico","completaTitulo","activosCancelados","tipoSuperficie","setCampoOrdenador","FormPermisosInformes","onChangeFechaInicial","onChangeFechaFinal","CustomPrintTable","headCells","paddingLeft","paddingRight","headRow","cells","fontSize","PermisosTable","ModuloInformesPermisos","modulos","privileges","accesoGlobal","consultarPermisos","solicitarTransferencias","asignarTécnico","consultarLabores","registrarLabores","pagarLabores","imprimirLabores","editarEntidades","asignarRoles","editarRoles","cerrarExpedicionModulos","expedicionActivaModulo","loadAutorizadosGlobal","autorizadosPromises","childItem","loadAvanceSuperficieExpedida","expedicionPromises","initialObject","supGravedadProgramada","supGravedadExpedida","supGravedadRealizada","supPozoProgramada","supPozoExpedida","supPozoRealizada","supPozoPartProgramada","supPozoPartExpedida","supPozoPartRealizada","reportData","VARIOS","SUBTOTAL","PERENNES","FRUTALES","accumulate","supPozoPartRealizad","filterReportData","option","keys","opcion","okModulo","checkModulo","isRegisterInclude","mergedData","plantillaRegistro","mergeReportData","createNewAutorizadosItem","updateExpedicionItem","modulosCheckboxReducer","unidades","modulosPorUnidad","newValues","newValueKey","newModulosState","ExpedicionTable","rowSpan","RadioButtonGroup","inputName","styles","group","currentValue","button","ButtonGroup","groupStyles","buttonStyles","isOn","on","off","ModulosCheckbox","primeraUnidad","segundaUnidad","terceraUnidad","buttonClasses","4","5","6","14","15","16","7","8","9","92","10","11","12","17","18","19","20","1","2","3","21","22","FL","ReporteExpedicion","reportOptionsValues","handleReportOptionsInputChange","useReducer","getModulos","showPrintButton","ReportesScreen","reportTypeValues","handleReportTipeInputChange","reportType","loadSystemUsers","loadUserRoles","loadUserPrivileges","startLoadSystemUsers","users","setSystemUsers","startSetSystemUserSelected","setSystemUserSelected","startSetUserRoles","setUserRoles","setUserRoleSelected","setPrivilegesToEdit","AddNewUserRoleForm","newRole","handleSaveNewUserRole","deleteUserRole","delete","SelectRoleToEditForm","selectedRole","saveRolePrivileges","UserPrivilegesForm","getOwnPropertyNames","privilegeName","privilege","UserRoleModal","NewUserRoleButton","SystemUserCard","userUid","updateSystemUser","SystemUsersTable","UsersRoleManagement","EntityEditingModule","split","index","newState","slice","useFormArray","handleActualizarEntidades","exist","actualizarEntidades","entitie","maxWidth","loadEntities","entidadesSnap","setEntities","ConfiguracionScreen","modules","modulesChange","module","TestArea","Header","DashboardRoutes","PrivateRoute","isAuthenticated","Component","rest","localStorage","setItem","pathname","props","PublicRoute","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","exat","SicperApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0e2f63d.chunk.js","sourcesContent":["// Tipos de acciones\n\nexport const types = {\n\tlogin: \"[Login] Login\",\n\tentity: \"[Login] Entity\",\n\tlogout: \"[Login] Logout\",\n\tsetPrivilegios: \"[Login] Privilegios\",\n\tsetVariablesGlobales: \"[Login] Set Variables Globales\",\n\n\tuiSetError: \"[UI] Set Error\",\n\tuiRemoveError: \"[UI] Remove Error\",\n\tuiStartLoading: \"[UI] Start Loading\",\n\tuiFinishLoading: \"[UI] Finish Loading\",\n\n\tsetEntities: \"[Configuracion] Set Entities\",\n\n\taltaPermisoOpenPrintPermisoModal: \"[Alta Permisos] Open permiso modal\",\n\taltaPermisoClosePrintPermisoModal: \"[Alta Permisos] Close permiso modal\",\n\n\taltaPermisoOpenCultivosModal: \"[Alta Permisos] Open cultivos modal\",\n\taltaPermisoCloseCultivosModal: \"[Alta Permisos] Close cultivos modal\",\n\tloadCultivos: \"[Alta Permisos] Load cultivos\",\n\tclearCultivos: \"[Alta Permisos] Clear cultivos\",\n\tsetCultivo: \"[Alta Permisos] Set cultivo\",\n\tunsetCultivo: \"[Alta Permisos] unset cultivo\",\n\tsetCuotaCultivo: \"[Alta Permisos] Set Cuota Cultivo\",\n\n\taltaPermisoOpenUsuariosModal: \"[Alta Permisos] Open usuarios modal\",\n\taltaPermisoCloseUsuariosModal: \"[Alta Permisos] Close usuarios modal\",\n\tloadUsuarios: \"[Alta Permisos] Load usuarios\",\n\tclearUsuarios: \"[Alta Permisos] Clear usuarios\",\n\tsetUsuarios: \"[Alta Permisos] Set usuarios\",\n\tunsetUsuarios: \"[Alta Permisos] Unset usuarios\",\n\tsetUsuario: \"[Alta Permisos] Set usuario\",\n\tunsetUsuario: \"[Alta Permisos] Unset usuario\",\n\tsetUpdatingPadron: \"[Padron] Set Updating Padron\",\n\tunsetUpdatingPadron: \"[Padron] Unset Updating Padron\",\n\tsetUpdatingReacomodos: \"[Padron] Set Updating Reacomodos\",\n\tunsetUpdatingReacomodos: \"[Padron] Unset Updating Reacomodos\",\n\n\taltaPermisoOpenProductoresModal: \"[Alta Permisos] Open productores modal\",\n\taltaPermisoCloseProductoresModal: \"[Alta Permisos] Close productores modal\",\n\tloadProductores: \"[Alta Permisos] Load prosuctores\",\n\tclearProductores: \"[Alta Permisos] Clear prosuctores\",\n\tsetProductor: \"[Alta Permisos] Set productor\",\n\tunsetProductor: \"[Alta Permisos] Unset productor\",\n\n\taltaPermisoOpenNuevoProductorModal: \"[Alta Permisos] Open nuevo prouctor modal\",\n\taltaPermisoCloseNuevoProductorModal: \"[Alta Permisos] Close nuevo prouctor modal\",\n\n\taltaPermisosSetFormValues: \"[Alta Permisos] Set form value\",\n\taltaPermisosUnsetFormValues: \"[Alta Permisos] Unset form value\",\n\taltaPermisosSetSubmitData: \"[Alta Permisos] Set onSubmit data\",\n\taltaPermisosUnsetSubmitData: \"[Alta Permisos] unSet onSubmit data\",\n\n\taltaPermisosSetEnEspera: \"[Alta Permisos] Set en espera\",\n\taltaPermisosUnsetEnEspera: \"[Alta Permisos] unSet en espera\",\n\n\taltaPermisosEnableSaveButton: \"[Alta Permisos] Enable save button\",\n\taltaPermisosDisableSaveButton: \"[Alta Permisos] Disable save button\",\n\n\taltaPermisosEnablePrintButton: \"[Alta Permisos] Enable print button\",\n\taltaPermisosDisablePrintButton: \"[Alta Permisos] Disable print button\",\n\n\tpermisosScreenSetPermisos: \"[Permisos Screen] Set permisos\",\n\tpermisosScreenUnsetPermisos: \"[Permisos Screen] Unset permisos\",\n\tpermisosScreenSetPermisoSelected: \"[Permisos Screen] Set permiso selected\",\n\tpermisosScreenUnsetPermisoSelected: \"[Permisos Screen] Unset permiso selected\",\n\tpermisosScreenSetSuperficies: \"[Permisos Screen] Set superficies\",\n\tpermisosScreenUnsetSuperficies: \"[Permisos Screen] Unset superficies\",\n\tpermisosScreenSetPreCancelPermits: \"[Permisos Screen] Set Pre Cancel Permits\",\n\tpermisosScreenUnsetPreCancelPermits: \"[Permisos Screen] Unset Pre Cancel Permits\",\n\tpermisosScreenSetPermitToCancel: \"[Permisos Screen] Set Pre Permit To Cancel\",\n\tpermisosScreenUnsetPermitToCancel: \"[Permisos Screen] Unset Pre Permit To Cancel\",\n\n\tautorizadosScreenSetModulo: \"[Autorizados Screen] Set modulo\",\n\tautorizadosScreenUnsetModulo: \"[Autorizados Screen] Unset modulo\",\n\tautorizadosScreenSetAutorizados: \"[Autorizados Screen] Set autorizados\",\n\tautorizadosScreenUnsetAutorizados: \"[Autorizados Screen] Unset autorizados\",\n\topenAutorizadosModal: \"[Autorizados Screen] Open autorizados modal\",\n\tcloseAutorizadosModal: \"[Autorizados Screen] Close autorizados modal\",\n\tsetAutorizadoSelected: \"[Autorizados Screen] Set autorizado selected\",\n\tunsetAutorizadoSelected: \"[Autorizados Screen] Unset autorizado selected\",\n\tsetSuperficieReferencia: \"[Autorizados Screen] Set superficie referencia\",\n\tunsetSuperficieReferencia: \"[Autorizados Screen] Unset superficie referencia\",\n\tsetFormError: \"[Autorizados Screen] Set Form Error\",\n\tremoveFormError: \"[Autorizados Screen] Unset Form Error\",\n\tsetAutorizadosPorCultivo: \"[Autorizados Screen] Set autorizados por cultivo\",\n\n\tsicperScreenSetAutorizados: \"[Sicper Screen] Set autorizados\",\n\tsicperScreenUnsetAutorizados: \"[Sicper Screen] Unset autorizados\",\n\tsicperScreenSetExpedicion: \"[Sicper Screen] Set expedicion\",\n\tsicperScreenUnsetExpedicion: \"[Sicper Screen] Unset expedicion\",\n\tsicperScreenSetSuperficieNormal: \"[Sicper Screen] Set superficie normal\",\n\tsicperScreenSetSuperficieExtra: \"[Sicper Screen] Set superficie extra\",\n\n\talgodoneroScreenSetPermisos: \"[Algodonero Screen] Set permisos\",\n\talgodoneroScreenUnsetPermisos: \"[Algodonero Screen] Unset permisos\",\n\topenSanidadModal: \"[Algodonero Screen] Open Modal Sanidad\",\n\tcloseSanidadModal: \"[Algodonero Screen] Close Modal Sanidad\",\n\n\tsetDataPrincipalesCultivos: \"[Entidades] Set Data Principales Cultivos\",\n\tunsetDataPrincipalesCultivos: \"[Entidades] Unset Data Principales Cultivos\",\n\tsetPermisos: \"[Entidades] Set permisos\",\n\tunsetPermisos: \"[Entidades] Unset permisos\",\n\tsetCampoOrdenador: \"[Entidades] Set Campo Ordenador\",\n\tunsetCampoOrdenador: \"[Entidades] Unset Campo Ordenador\",\n\topenImprimirReporteModal: \"[Scenes] Open Imprimir Reporte Modal\",\n\tcloseImprimirReporteModal: \"[Scenes] Close Imprimir Reporte Modal\",\n\n\tsetSystemUsers: \"[Entidades] Set System Users\",\n\tsetSystemUserSelected: \"[Entidades] Set System User Selected\",\n\tunsetSystemUserSelected: \"[Entidades] Unset System User Selected\",\n\tsetUserRoles: \"[Entidades] Set Users Roles\",\n\tunsetUserRoles: \"[Entidades] Unset Users Roles\",\n\tsetUserRoleSelected: \"[Entidades] Set User Role Selected\",\n\tunsetUserRoleSelected: \"[Entidades] Unset User Role Selected\",\n\tsetPrivilegesToEdit: \"[Entidades] Set Privileges To Edit\",\n\tunsetPrivilegesToEdit: \"[Entidades] Unset Privileges To Edit\",\n\n\tsetLocalties: \"[Entidades] Set Localties\",\n\tunsetLocalties: \"[Entidades] Unset Localties\",\n\tsetSelectedLocalties: \"[Entidades] Set Selected Localties\",\n\tunsetSelectedLocalties: \"[Entidades] Unset Selected Localties\",\n\tsetLocaltieSelected: \"[Entidades] Set Localtie Selected\",\n\tunsetLocaltieSelected: \"[Entidades] Unset Localtie Selected\",\n\topenLocaltiesModal: \"[Entidades] Open Localties Modal\",\n\tcloseLocaltiesModal: \"[Entidades] Close Localties Modal\",\n\n\topenUserRoleModal: \"[UI] Open User Role Modal\",\n\tcloseUserRoleModal: \"[UI] Close User Role Modal\"\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tloading: false,\n\tmsgError: null\n};\n\nexport const uiReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.uiSetError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: action.payload\n\t\t\t};\n\n\t\tcase types.uiRemoveError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: null\n\t\t\t};\n\n\t\tcase types.uiStartLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t};\n\n\t\tcase types.uiFinishLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false\n\t\t\t};\n\n\t\tcase types.openUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: true\n\t\t\t};\n\n\t\tcase types.closeUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: false\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tenEspera: false,\n\tenableSaveButton: true,\n\tenablePrintButton: false,\n\topenUsuariosModal: false,\n\topenProductoresModal: false,\n\tisOpenNuevoProductorModal: false,\n\topenCultivosModal: false,\n\tisOpenPrintPermisoModal: false,\n\tusuarios: [],\n\tcultivos: [],\n\tproductores: [],\n\tidUsuarioSelected: null,\n\tcuenta: null,\n\tusuario: null,\n\tsupDerecho: null,\n\tlote: null,\n\tlocalidad: null,\n\tmunicipio: null,\n\testado: null,\n\tmodulo: null,\n\tseccion: null,\n\tcanal: null,\n\ttoma: null,\n\tsistema: null,\n\tidProductorSelected: null,\n\tnombreProductor: null,\n\trfcProductor: null,\n\tidCultivoSelected: null,\n\tnombreCultivo: null,\n\tclaveCultivo: null,\n\tsubciclo: null,\n\tcuotaCultivo: null,\n\tsupPrevia: 0,\n\ttipo: null,\n\tciclo: null,\n\tnumeroPermiso: null,\n\tfechaEmicion: null,\n\tfechaLimite: null,\n\tvigencia: null,\n\testadoPermiso: null,\n\tvariedad: \"\",\n\tsupAutorizada: 0,\n\tfuenteCredito: \"\",\n\tlatitud: \"\",\n\tlongitud: \"\",\n\tcultivoAnterior: \"\",\n\tobservaciones: \"\"\n};\n\nexport const altaPermisosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\t//Print Permiso **************************************\n\n\t\tcase types.altaPermisoOpenPrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoClosePrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: false\n\t\t\t};\n\n\t\t//Cultivos **************************************\n\t\tcase types.altaPermisoOpenCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: false\n\t\t\t};\n\n\t\tcase types.loadCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: action.payload\n\t\t\t};\n\n\t\tcase types.clearCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: []\n\t\t\t};\n\n\t\tcase types.setCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: action.payload.id,\n\t\t\t\tnombreCultivo: action.payload.nombre,\n\t\t\t\tclaveCultivo: action.payload.clave,\n\t\t\t\tsubciclo: action.payload.subciclo,\n\t\t\t\tcuotaCultivo: action.payload.costoHectarea\n\t\t\t};\n\n\t\tcase types.setCuotaCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcuotaCultivo: action.payload\n\t\t\t};\n\n\t\tcase types.unsetCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: null,\n\t\t\t\tnombreCultivo: null,\n\t\t\t\tclaveCultivo: null,\n\t\t\t\tsubciclo: null,\n\t\t\t\tcuotaCultivo: null\n\t\t\t};\n\n\t\t//Usuarios **************************************\n\n\t\tcase types.altaPermisoOpenUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: false\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload\n\t\t\t};\n\n\t\tcase types.clearUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: []\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: action.payload.id,\n\t\t\t\tcuenta: `${action.payload.cuenta}.${action.payload.subcta}`,\n\t\t\t\tusuario: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\tsupDerecho: action.payload.supRiego,\n\t\t\t\tlote: action.payload.predio,\n\t\t\t\tlocalidad: action.payload.localidad,\n\t\t\t\tmunicipio: action.payload.municipio,\n\t\t\t\testado: action.payload.estado,\n\t\t\t\tmodulo: action.payload.modulo,\n\t\t\t\tseccion: action.payload.seccion,\n\t\t\t\tcanal: `${action.payload.cp}-${action.payload.lt}-${action.payload.slt}-${action.payload.ra}-${action.payload.sra}-${action.payload.ssra}`,\n\t\t\t\ttoma: action.payload.pControl,\n\t\t\t\tsistema: action.payload.sistRiego,\n\t\t\t\tsupPrevia: action.payload.supPrevia,\n\t\t\t\treacomodo: action.payload.reacomodo\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: null,\n\t\t\t\tcuenta: null,\n\t\t\t\tusuario: null,\n\t\t\t\tsupDerecho: null,\n\t\t\t\tlote: null,\n\t\t\t\tlocalidad: null,\n\t\t\t\tmunicipio: null,\n\t\t\t\testado: null,\n\t\t\t\tmodulo: null,\n\t\t\t\tseccion: null,\n\t\t\t\tcanal: null,\n\t\t\t\ttoma: null,\n\t\t\t\tsistema: null\n\t\t\t};\n\n\t\t//Productores **************************************\n\n\t\tcase types.altaPermisoOpenProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: false\n\t\t\t};\n\n\t\tcase types.loadProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: action.payload\n\t\t\t};\n\n\t\tcase types.clearProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: []\n\t\t\t};\n\n\t\tcase types.setProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: action.payload.id,\n\t\t\t\tnombreProductor: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\trfcProductor: action.payload.rfc,\n\t\t\t\tcurpProductor: action.payload.curp\n\t\t\t};\n\n\t\tcase types.unsetProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: null,\n\t\t\t\tnombreProductor: null,\n\t\t\t\trfcProductor: null\n\t\t\t};\n\n\t\t//Nuevo Productor **************************************\n\n\t\tcase types.altaPermisoOpenNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: true\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: false\n\t\t\t};\n\n\t\t//Set Form *****************************************************\n\n\t\tcase types.altaPermisosSetFormValues:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsupAutorizada: Number(action.payload.supAutorizada),\n\t\t\t\tvariedad: action.payload.variedad,\n\t\t\t\tfuenteCredito: action.payload.fuenteCredito,\n\t\t\t\tlatitud: action.payload.latitud,\n\t\t\t\tlongitud: action.payload.longitud,\n\t\t\t\tcultivoAnterior: action.payload.cultivoAnterior,\n\t\t\t\tobservaciones: action.payload.observaciones\n\t\t\t};\n\n\t\t// Al guardar\n\n\t\tcase types.altaPermisosSetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: action.payload.tipo,\n\t\t\t\tciclo: action.payload.ciclo,\n\t\t\t\tnumeroPermiso: action.payload.numeroPermiso,\n\t\t\t\tfechaEmicion: action.payload.fechaEmicion,\n\t\t\t\tfechaLimite: action.payload.fechaLimite,\n\t\t\t\tvigencia: action.payload.vigencia,\n\t\t\t\testadoPermiso: action.payload.estadoPermiso\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: null,\n\t\t\t\tciclo: null,\n\t\t\t\tnumeroPermiso: null,\n\t\t\t\tfechaEmicion: null,\n\t\t\t\tfechaLimite: null,\n\t\t\t\tvigencia: null\n\t\t\t};\n\n\t\tcase types.altaPermisosSetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: true\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: false\n\t\t\t};\n\n\t\tcase types.altaPermisosEnableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: true\n\t\t\t};\n\n\t\tcase types.altaPermisosDisableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: false\n\t\t\t};\n\n\t\tcase types.altaPermisosEnablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: true\n\t\t\t};\n\n\t\tcase types.altaPermisosDisablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: false\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tsuperficies: null\n};\n\nexport const permisosScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.permisosScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tmodulo: null,\n\topenAutorizadosModal: false,\n\tautorizados: [],\n\tautorizadoSelected: null,\n\tsuperficieReferencia: null,\n\tformError: null\n};\n\nexport const autorizadosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.autorizadosScreenSetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: null\n\t\t\t};\n\n\t\tcase types.setAutorizadosPorCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadosPorCultivo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenSetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: []\n\t\t\t};\n\n\t\tcase types.openAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true\n\t\t\t};\n\n\t\tcase types.closeAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadoSelected: null,\n\t\t\t\topenAutorizadosModal: false\n\t\t\t};\n\n\t\tcase types.setAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true,\n\t\t\t\tautorizadoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: false,\n\t\t\t\tautorizadoSelected: null\n\t\t\t};\n\n\t\tcase types.setSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: null\n\t\t\t};\n\n\t\tcase types.setFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: action.payload\n\t\t\t};\n\n\t\tcase types.removeFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\texpedicion: null,\n\tsuperficie: \"normal\"\n};\n\nexport const sicperReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.sicperScreenSetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: action.payload\n\t\t\t};\n\n\t\tcase types.sicperScreenUnsetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: null\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieNormal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"normal\"\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieExtra:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"extra\"\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tprintSanidadModal: false\n};\n\nexport const algodoneroScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.algodoneroScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.algodoneroScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.openSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: true\n\t\t\t};\n\n\t\tcase types.closeSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: false\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nconst initialState = {\n\treportesScreen: {\n\t\topenImprimirReporteModal: false\n\t},\n\tpadronScreen: {\n\t\tupdatingPadron: false,\n\t\tupdatingReacomodos: false\n\t}\n};\n\nexport const scenesReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.openImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.closeImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport { authReducer } from \"../reducers/authReducer\";\nimport { uiReducer } from \"../reducers/uiReducer\";\nimport { altaPermisosReducer } from \"../reducers/altaPermisosReducer\";\nimport { permisosScreenReducer } from \"../reducers/permisosScreenReducer\";\nimport { autorizadosReducer } from \"../reducers/autorizadosReducer\";\nimport { sicperReducer } from \"../reducers/sicperReducer\";\nimport { algodoneroScreenReducer } from \"../reducers/algodoneroScreenReducer\";\nimport { entidadesReducer } from \"../reducers/entidades/entidadesReducer\";\nimport { scenesReducer } from \"../reducers/scenes/scenesReducer\";\n\nconst composeEnhancers =\n\t(typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst reducers = combineReducers({\n\tauth: authReducer,\n\tui: uiReducer,\n\tscenes: scenesReducer,\n\tentidades: entidadesReducer,\n\tsicperScreen: sicperReducer,\n\tpermisosScreen: permisosScreenReducer,\n\talgodoneroScreen: algodoneroScreenReducer,\n\taltaPermisos: altaPermisosReducer,\n\tautorizadosScreen: autorizadosReducer\n});\n\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\n// const estructuraStore = {\n// \tauth: \"Datos del usuario logueado\",\n// \tui: \"Datos de componentes de la interfaz\",\n// \tscenes: \"Datos de cada una de las pantallas de la app\",\n// \tentidades: \"Datos de entidades del negocio\"\n// };\n","import { types } from \"../types/types\";\n\nexport const authReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.login:\n\t\t\treturn {\n\t\t\t\tuid: action.payload.uid,\n\t\t\t\tname: action.payload.displayName\n\t\t\t};\n\n\t\tcase types.entity:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentidad: action.payload.entidad,\n\t\t\t\timg: action.payload.img,\n\t\t\t\tclaveEntidad: action.payload.claveEntidad,\n\t\t\t\tdotacion: action.payload.dotacion,\n\t\t\t\ttitular: action.payload.titular,\n\t\t\t\tdireccion: action.payload.direccion,\n\t\t\t\trol: action.payload.rol,\n\t\t\t\tmodulo: action.payload.modulo\n\t\t\t};\n\n\t\tcase types.setPrivilegios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegios: action.payload\n\t\t\t};\n\n\t\tcase types.setVariablesGlobales:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvariablesGlobales: action.payload\n\t\t\t};\n\n\t\tcase types.logout:\n\t\t\treturn {};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nexport const entidadesReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.setDataPrincipalesCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprincipalesCultivos: {\n\t\t\t\t\tlabels: action.payload.labels,\n\t\t\t\t\tsuperficiesCultivos: action.payload.superficiesCultivos,\n\t\t\t\t\tnumeroPermisos: action.payload.numeroPermisos\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.setCampoOrdenador:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcampoOrdenador: action.payload\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: false\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: false\n\t\t\t};\n\n\t\tcase types.setUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: false\n\t\t\t};\n\n\t\tcase types.setUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: false\n\t\t\t};\n\n\t\tcase types.setPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: action.payload\n\t\t\t};\n\n\t\tcase types.unsetPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: false\n\t\t\t};\n\n\t\tcase types.setSystemUsers:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUsers: action.payload\n\t\t\t};\n\n\t\tcase types.setSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: null\n\t\t\t};\n\n\t\tcase types.setLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: null\n\t\t\t};\n\n\t\tcase types.setSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: null\n\t\t\t};\n\n\t\tcase types.setLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: null\n\t\t\t};\n\n\t\tcase types.openLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: true\n\t\t\t};\n\n\t\tcase types.closeLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: false\n\t\t\t};\n\n\t\tcase types.setEntities:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentities: action.payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyCPGzYLWjSE-8cCojpCClhkbDZouZVqVVo\",\n\tauthDomain: \"sicper-e1812.firebaseapp.com\",\n\tdatabaseURL: \"https://sicper-e1812.firebaseio.com\",\n\tprojectId: \"sicper-e1812\",\n\tstorageBucket: \"sicper-e1812.appspot.com\",\n\tmessagingSenderId: \"868337651917\",\n\tappId: \"1:868337651917:web:ce83022e99f450f19dd984\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, googleAuthProvider, firebase };\n","import { types } from \"../types/types\";\n\nexport const setError = (err) => ({\n\ttype: types.uiSetError,\n\tpayload: err\n});\n\nexport const removeError = () => ({\n\ttype: types.uiRemoveError\n});\n\nexport const startLoading = () => ({\n\ttype: types.uiStartLoading\n});\n\nexport const finishLoading = () => ({\n\ttype: types.uiFinishLoading\n});\n\nexport const openUserRoleModal = () => ({\n\ttype: types.openUserRoleModal\n});\n\nexport const closeUserRoleModal = () => ({\n\ttype: types.closeUserRoleModal\n});\n","import { db, firebase, googleAuthProvider } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\nimport { finishLoading, startLoading } from \"./ui\";\nimport Swal from \"sweetalert2\";\n\nexport const startLoginEmailPassword = (email, password) => {\n\treturn (dispatch) => {\n\t\tdispatch(startLoading());\n\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\n\t\t\t\tconst { nombre, img, clave, dotacion, titular, direccion } = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(nombre, img, clave, dotacion, titular, direccion, entity.rol, entity.modulo)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tdispatch(finishLoading());\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tdispatch(finishLoading());\n\t\t\t\tSwal.fire(\"Error\", \"Usuoario o contraseña incorrecto.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startRegisterWithEmailPasswordName = (email, password, name, modulo) => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tawait user.updateProfile({ displayName: name });\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t\tawait db.collection(`usuarios`).doc(user.uid).set({\n\t\t\t\t\tclaveEntidad: modulo,\n\t\t\t\t\tmodulo: modulo,\n\t\t\t\t\trol: \"sinAsignar\",\n\t\t\t\t\temail: email,\n\t\t\t\t\tdisplayName: name\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tSwal.fire(\"Error\", \"El usuario ya existe.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startGoogleLogin = () => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithPopup(googleAuthProvider)\n\t\t\t.then(({ user }) => {\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t});\n\t};\n};\n\nexport const login = (uid, displayName) => ({\n\ttype: types.login,\n\tpayload: {\n\t\tuid,\n\t\tdisplayName\n\t}\n});\n\nexport const setEntity = (\n\tentidad,\n\timg,\n\tclaveEntidad,\n\tdotacion,\n\ttitular,\n\tdireccion,\n\trol,\n\tmodulo\n) => ({\n\ttype: types.entity,\n\tpayload: {\n\t\tentidad,\n\t\timg,\n\t\tclaveEntidad,\n\t\tdotacion,\n\t\ttitular,\n\t\tdireccion,\n\t\trol,\n\t\tmodulo\n\t}\n});\n\nexport const startSetVariablesGlobales = () => {\n\treturn async (dispatch) => {\n\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\t};\n};\n\nexport const setVariablesGlobales = (data) => ({\n\ttype: types.setVariablesGlobales,\n\tpayload: data\n});\n\nexport const startLogout = () => {\n\treturn async (dispatch) => {\n\t\tawait firebase.auth().signOut();\n\t\tdispatch(logout());\n\t};\n};\n\nexport const logout = () => ({\n\ttype: types.logout\n});\n\nexport const loadEntity = async (uid) => {\n\tconst entitySnap = await db.collection(`usuarios`).get();\n\n\tlet entity = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.id === uid) {\n\t\t\tentity = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entity;\n};\n\nexport const loadEntityData = async (claveEntidad) => {\n\tconst entitySnap = await db.collection(`entidades`).get();\n\n\tlet entityData = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.data().clave === claveEntidad) {\n\t\t\tentityData = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entityData;\n};\n\nexport const loadPrivilegios = async (rol) => {\n\tconst roles = await db.collection(`roles`).get();\n\n\tlet privilegios = {};\n\n\troles.forEach((snapHijo) => {\n\t\tif (snapHijo.id === rol) {\n\t\t\tprivilegios = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn privilegios;\n};\n\nexport const loadVariablesGlobales = async () => {\n\tconst roles = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn roles.data();\n};\n\nexport const setPrivilegios = (privilegios) => ({\n\ttype: types.setPrivilegios,\n\tpayload: privilegios\n});\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tif (target.type === \"checkbox\") {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.checked\n\t\t\t});\n\t\t} else {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.value\n\t\t\t});\n\t\t}\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Link } from \"react-router-dom\";\nimport { /* startGoogleLogin, */ startLoginEmailPassword } from \"../../actions/auth\";\nimport { useForm } from \"../../hooks/useForm\";\nimport \"./_auth.scss\";\n\nexport const LoginScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { loading } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\n\tconst { email, password } = formValues;\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(startLoginEmailPassword(email, password));\n\t};\n\n\t// const handleGoogleLogin = () => {\n\t// \tdispatch(startGoogleLogin());\n\t// };\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Login</h3>\n\n\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3\" disabled={loading}>\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\n\t\t\t\t{/* <div className=\"auth__social-networks\">\n\t\t\t\t\t<p>Login con redes</p>\n\n\t\t\t\t\t<div className=\"google-btn\" onClick={handleGoogleLogin}>\n\t\t\t\t\t\t<div className=\"google-icon-wrapper\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"google-icon\"\n\t\t\t\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n\t\t\t\t\t\t\t\talt=\"google button\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"btn-text\">\n\t\t\t\t\t\t\t<b>Login con google</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"pt-4\">\n\t\t\t\t\t<Link to=\"/auth/register\" className=\"link\">\n\t\t\t\t\t\tCrear nuevo usuario\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport validator from \"validator\";\nimport { Link } from \"react-router-dom\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startRegisterWithEmailPasswordName } from \"../../actions/auth\";\n\nexport const RegisterScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm();\n\n\tconst { name, email, password, password2, modulo } = formValues;\n\n\tconst decideModulo = (modulo) => {\n\t\tif (modulo === \"9A\") return \"9\";\n\t\tif (modulo === \"9B\") return \"92\";\n\t\treturn modulo;\n\t};\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(startRegisterWithEmailPasswordName(email, password, name, decideModulo(modulo)));\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!modulo) {\n\t\t\tdispatch(setError(\"Seleccione entidad\"));\n\t\t\treturn false;\n\t\t} else if (!name) {\n\t\t\tdispatch(setError(\"Se requiere el nombre\"));\n\t\t\treturn false;\n\t\t} else if (!email) {\n\t\t\tdispatch(setError(\"Se requiere email\"));\n\t\t\treturn false;\n\t\t} else if (!validator.isEmail(email)) {\n\t\t\tdispatch(setError(\"Email no valido\"));\n\t\t\treturn false;\n\t\t} else if (!password) {\n\t\t\tdispatch(setError(\"Se requiere password\"));\n\t\t\treturn false;\n\t\t} else if (password !== password2 || password.length < 6) {\n\t\t\tdispatch(setError(\"Password diferentes o menor de 6 caracteres\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Registro</h3>\n\n\t\t\t<form onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<select\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"modulo\"\n\t\t\t\t\tvalue={modulo}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t>\n\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\tEntidad\n\t\t\t\t\t</option>\n\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t<option value=\"9\">Modulo 9A</option>\n\t\t\t\t\t<option value=\"92\">Modulo 9B</option>\n\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t<option value=\"FL\">Modulo FL</option>\n\t\t\t\t\t<option value=\"SADER\">SADER</option>\n\t\t\t\t\t<option value=\"CNA\">CNA</option>\n\t\t\t\t\t<option value=\"CESVBC\">CESVBC</option>\n\t\t\t\t\t<option value=\"SRL\">SRL</option>\n\t\t\t\t</select>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Confirmar password\"\n\t\t\t\t\tname=\"password2\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\tCrear usuario\n\t\t\t\t</button>\n\n\t\t\t\t<Link to=\"/auth/login\" className=\"link\">\n\t\t\t\t\tYa esta registrado?\n\t\t\t\t</Link>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\n\nexport const AuthRouter = () => {\n\treturn (\n\t\t<div className=\"auth__main\">\n\t\t\t<div className=\"auth__box-container\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/auth/login\" component={LoginScreen} />\n\n\t\t\t\t\t<Route exact path=\"/auth/register\" component={RegisterScreen} />\n\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogout } from \"../../actions/auth\";\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\n\nexport const NavbarComponent = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLogout = () => {\n\t\tdispatch(startLogout());\n\t};\n\n\treturn (\n\t\t<div className=\"fixed-top\">\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n\t\t\t\t<Navbar.Brand href=\"/\">\n\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/cna.png\"\n\t\t\t\t\t\t\theight=\"50\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center\"\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/sader.png\"\n\t\t\t\t\t\t\theight=\"25\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center ml-2\"\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t{privilegios.pantallaInicio && (\n\t\t\t\t\t\t\t<NavLink to=\"/sicper\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tInicio\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPadron && (\n\t\t\t\t\t\t\t<NavLink to=\"/padron\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPadron\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPermisos && (\n\t\t\t\t\t\t\t<NavLink to=\"/permisos\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPermisos\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaTransferencias && (\n\t\t\t\t\t\t\t<NavLink to=\"/transferencias\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTransferencias\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAsignacion && (\n\t\t\t\t\t\t\t<NavLink to=\"/asignacion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAsignacion\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaLabores && (\n\t\t\t\t\t\t\t<NavLink to=\"/labores\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tLabores\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAutorizados && (\n\t\t\t\t\t\t\t<NavLink to=\"/autorizados\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAutorizados\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaReportes && (\n\t\t\t\t\t\t\t<NavLink to=\"/reportes\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tReportes\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaConfiguracion && (\n\t\t\t\t\t\t\t<NavLink to=\"/configuracion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tConfiguracion\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.testArea && (\n\t\t\t\t\t\t\t<NavLink to=\"/test\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTest\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Nav>\n\n\t\t\t\t\t<Button variant=\"outline-secondary btn-sm\" onClick={handleLogout} to=\"/login\">\n\t\t\t\t\t\tSalir\n\t\t\t\t\t</Button>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadNombresCultivos = async () => {\n\tconst cultivosSnap = await db.collection(`cultivos`).orderBy(\"clave\").get();\n\n\tconst cultivos = [];\n\n\tcultivosSnap.forEach((snapHijo) => {\n\t\tcultivos.push({\n\t\t\tclave: snapHijo.data().clave,\n\t\t\tcultivo: snapHijo.data().nombre,\n\t\t\tsubciclo: snapHijo.data().subciclo\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { loadNombresCultivos } from \"./loadNombresCultivos\";\n\nexport const loadAutorizados = async (ciclo, modulo) => {\n\tconst autorizadosSnap = await db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(`clave`)\n\t\t.get();\n\n\tlet autorizados = [];\n\n\tautorizadosSnap.forEach((snapHijo) => {\n\t\tautorizados.push({\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tconst nombresCultivos = await loadNombresCultivos();\n\n\tif (autorizados.length === 0) {\n\t\tnombresCultivos.forEach((cultivo) => {\n\t\t\tautorizados.push({\n\t\t\t\tclave: cultivo.clave,\n\t\t\t\tcultivo: cultivo.cultivo,\n\t\t\t\tsubciclo: cultivo.subciclo,\n\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\tpozoExtraAsignada: 0\n\t\t\t});\n\t\t});\n\t}\n\n\treturn autorizados;\n};\n\nexport const loadAutorizadoPorCultivo = async (ciclo, modulo, clave) => {\n\tconst autorizadosSnap = await db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.where(\"clave\", \"==\", clave)\n\t\t.get();\n\n\tconst autorizados = [];\n\n\tautorizadosSnap.forEach((snapHijo) => {\n\t\tautorizados.push({\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn autorizados[0];\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadExpedicion = async (modulo, ciclo) => {\n\tlet superficies = [];\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\tif (superficies.length === 0) superficies = false;\n\n\treturn superficies;\n};\n","import { loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\nimport { loadExpedicion } from \"../helpers/loadExpedicion\";\n\nexport const startLoadExpedicion = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst expedicion = await loadExpedicion(modulo, ciclo);\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tconst findCultivo = (expedicion, autorizadoId) => {\n\t\t\tif (expedicion) {\n\t\t\t\tconst cultivo = expedicion.find((cultivo) => cultivo.id === autorizadoId);\n\t\t\t\treturn cultivo;\n\t\t\t} else return false;\n\t\t};\n\n\t\tlet superficies = [];\n\n\t\tif (autorizados) {\n\t\t\tautorizados.forEach((cultivoAutorizado) => {\n\t\t\t\tif (cultivoAutorizado.superficieTotal > 0) {\n\t\t\t\t\tconst cultivo = findCultivo(\n\t\t\t\t\t\texpedicion,\n\t\t\t\t\t\t`${cultivoAutorizado.clave}-${cultivoAutorizado.cultivo}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cultivo) {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado, ...cultivo });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado });\n\t\t\t\t\t}\n\n\t\t\t\t\t// if (expedicion) {\n\t\t\t\t\t// \texpedicion.forEach((cultivoExpedido) => {\n\t\t\t\t\t// \t\tif (\n\t\t\t\t\t// \t\t\tcultivoExpedido.id === `${cultivoAutorizado.clave}-${cultivoAutorizado.cultivo}`\n\t\t\t\t\t// \t\t) {\n\t\t\t\t\t// \t\t\tsuperficies.push({ ...cultivoAutorizado, ...cultivoExpedido });\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t});\n\t\t\t\t\t// } else {\n\t\t\t\t\t// \tsuperficies.push({ ...cultivoAutorizado });\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tsuperficies.forEach((cultivo) => {\n\t\t\tif (cultivo.gravedadNormal === undefined) cultivo.gravedadNormal = 0;\n\t\t\tif (cultivo.gravedadExtra === undefined) cultivo.gravedadExtra = 0;\n\t\t\tif (cultivo.pozoNormal === undefined) cultivo.pozoNormal = 0;\n\t\t\tif (cultivo.pozoExtra === undefined) cultivo.pozoExtra = 0;\n\t\t});\n\n\t\tif (superficies.length === 0) {\n\t\t\tsuperficies = [\n\t\t\t\t{\n\t\t\t\t\tclave: \"-\",\n\t\t\t\t\tcultivo: \"Sin expedicion\",\n\t\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\t\tpozoExtraAsignada: 0,\n\t\t\t\t\tgravedadNormal: 0,\n\t\t\t\t\tpozoNormal: 0,\n\t\t\t\t\tgravedadExtra: 0,\n\t\t\t\t\tpozoExtra: 0\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tdispatch(setExpedicion(superficies));\n\t};\n};\n\nexport const setExpedicion = (superficies) => ({\n\ttype: types.sicperScreenSetExpedicion,\n\tpayload: superficies\n});\n\nexport const unsetExpedicion = () => ({\n\ttype: types.sicperScreenUnsetExpedicion\n});\n\nexport const setSuperficieNormal = () => ({\n\ttype: types.sicperScreenSetSuperficieNormal\n});\n\nexport const setSuperficieExtra = () => ({\n\ttype: types.sicperScreenSetSuperficieExtra\n});\n","export const roundToN = (num, n) => {\n\treturn +(Math.round(num + `e+${n}`) + `e-${n}`);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetSuperficieExtra,\n\tsetSuperficieNormal,\n\tstartLoadExpedicion\n} from \"../../actions/sicperScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const ResumenAutorizados = () => {\n\tconst { expedicion, superficie } = useSelector((state) => state.sicperScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: ResumenAutorizados\");\n\t\tdispatch(startLoadExpedicion(modulo, ciclo));\n\t}, [dispatch, modulo, ciclo]);\n\n\tconst setNormal = () => {\n\t\tdispatch(setSuperficieNormal());\n\t};\n\n\tconst setExtra = () => {\n\t\tdispatch(setSuperficieExtra());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t{superficie === \"normal\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{superficie === \"extra\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border border-info rounded p-0 mt-3\">\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-sm table-striped text-secondary\">\n\t\t\t\t\t\t<thead className=\"table-info\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tClave\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Cultivo</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Autorizada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Asignada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Expedida\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Disponible\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t{expedicion && superficie === \"normal\" ? (\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadNormalAutorizada}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoNormalAutorizada}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadNormalAsignada}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoNormalAsignada}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadNormal}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoNormal}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAsignada - cultivo.gravedadNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAsignada - cultivo.pozoNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{expedicion && superficie === \"extra\" ? (\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadExtraAutorizada}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoExtraAutorizada}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadExtraAsignada}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoExtraAsignada}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.gravedadExtra}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{cultivo.pozoExtra}</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAsignada - cultivo.gravedadExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAsignada - cultivo.pozoExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\nimport { useSelector } from \"react-redux\";\nimport { setSuperficiesDataformat } from \"./setSuperficiesDataformat\";\n\nexport const SuperficiesChart = () => {\n\tconst { superficies } = useSelector((state) => state.permisosScreen);\n\n\tlet data = {};\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (superficies !== null) {\n\t\tdata = setSuperficiesDataformat(superficies, \"Superficie por cultivo\");\n\n\t\tsuperficies.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tsuperficies.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>Superficies por cultivo</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Superficie expedida: {totalSuperficie.toFixed(2)} ha</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Permisos expedidos: {totalPermisos}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={220} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export const setSuperficiesDataformat = (dataSend, titulo) => {\n\tconst data = {\n\t\tlabels: dataSend.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSend.superficiesCultivos,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\treturn data;\n};\n","import React from \"react\";\n\nexport const ResumenAutorizados = ({ autorizados, modulo }) => {\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-primary border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>Módulo {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-primary mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUltimosPermisos = async (modulo, ciclo) => {\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.orderBy(\"fechaEmicion\", \"desc\")\n\t\t.limit(20)\n\t\t.get();\n\n\tconst permisos = [];\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermisos = async (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos = [\"nombreCultivo\", \"usuario\", \"cuenta\", \"numeroPermiso\"],\n\testado = \"todos\",\n\ttipo = \"todos\",\n\tsistema = \"todos\",\n\tfechaInicial = new Date(2020, 9, 1),\n\tfechaFinal = new Date(2021, 8, 30)\n) => {\n\tconst permisos = [];\n\tconst permisosCampo = [];\n\n\tconst pad = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`);\n\n\tlet filtros = pad;\n\n\tif (estado !== \"todos\") filtros = filtros.where(\"estadoPermiso\", \"==\", estado);\n\tif (tipo !== \"todos\") filtros = filtros.where(\"tipo\", \"==\", tipo);\n\tif (sistema !== \"todos\") filtros = filtros.where(\"sistema\", \"==\", sistema);\n\n\tcampos.forEach((campo) => {\n\t\tpermisosCampo.push(\n\t\t\tfiltros\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\t});\n\n\tconst permisosResueltos = await Promise.all(permisosCampo);\n\n\tfor (let i = 0; i < permisosResueltos.length; i++) {\n\t\tpermisosResueltos[i].forEach((snapHijo) => {\n\t\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\n\t\t\tif (fecha >= fechaInicial && fecha <= fechaFinal) {\n\t\t\t\tpermisos.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron permisos \",\n\t\t\t\"Se mostrarán los últimos permisos registrados.\",\n\t\t\t\"warning\"\n\t\t);\n\t}\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSuperficiesCultivos = async (modulo, ciclo) => {\n\tlet data = {};\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tconst superficies = [];\n\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst labels = [];\n\t\t\tconst superficiesCultivos = [];\n\t\t\tconst numeroPermisos = [];\n\t\t\tlet contador = 4;\n\t\t\tlet restoSuperficie = 0;\n\t\t\tlet restoPermisos = 0;\n\n\t\t\tsuperficies.forEach((cultivo) => {\n\t\t\t\tif (contador >= 0) {\n\t\t\t\t\tlabels.push(`${cultivo.id} (${cultivo.superficie}ha)`);\n\t\t\t\t\tsuperficiesCultivos.push(cultivo.superficie);\n\t\t\t\t\tnumeroPermisos.push(cultivo.numeroPermisos);\n\t\t\t\t\tcontador--;\n\t\t\t\t} else {\n\t\t\t\t\trestoSuperficie = +cultivo.superficie;\n\t\t\t\t\trestoPermisos = +cultivo.numeroPermisos;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlabels.push(`Otros cultivos (${restoSuperficie}ha)`);\n\t\t\tsuperficiesCultivos.push(restoSuperficie);\n\t\t\tnumeroPermisos.push(restoPermisos);\n\n\t\t\tdata = {\n\t\t\t\tlabels: labels,\n\t\t\t\tsuperficiesCultivos: superficiesCultivos,\n\t\t\t\tnumeroPermisos: numeroPermisos\n\t\t\t};\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn data;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadPreCancelPermits = async (ciclo) => {\n\tconst permisos = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"estadoPermiso\", \"==\", \"En proceso de cancelación\")\n\t\t.where(\"ciclo\", \"==\", ciclo);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadUltimosPermisos } from \"../helpers/loadUltimosPermisos\";\nimport { loadPermisos } from \"../helpers/loadPermisos\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadPreCancelPermits } from \"../helpers/DB/loadPreCancelPermits\";\n\nexport const startLoadPermisos = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadUltimosPermisos(modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (palabra, modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(palabra, modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPreCancelPermits = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPreCancelPermits(ciclo);\n\t\tdispatch(setPreCancelPermits(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo, ciclo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.permisosScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const setPreCancelPermits = (permits) => ({\n\ttype: types.permisosScreenSetPreCancelPermits,\n\tpayload: permits\n});\n\nexport const unsetPreCancelPermits = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const setPermitToCancel = (permiso) => ({\n\ttype: types.permisosScreenSetPermitToCancel,\n\tpayload: permiso.id\n});\n\nexport const unsetPermitToCancel = () => ({\n\ttype: types.permisosScreenUnsetPermitToCancel\n});\n","import { loadAutorizadoPorCultivo, loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\n\nexport const setModulo = (modulo) => ({\n\ttype: types.autorizadosScreenSetModulo,\n\tpayload: modulo\n});\n\nexport const unsetModulo = () => ({\n\ttype: types.autorizadosScreenUnsetModulo\n});\n\nexport const startLoadAutorizados = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tlet superficieReferencia = 0;\n\t\tautorizados.forEach((autorizado) => {\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAsignada;\n\t\t});\n\t\tdispatch(setAutorizados(autorizados));\n\t\tdispatch(setSuperficieReferencia(superficieReferencia));\n\t};\n};\n\nexport const startLoadAutorizadoPorCultivo = (ciclo, modulo, clave) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizadoPorCultivo(ciclo, modulo, clave);\n\t\tdispatch(setAutorizadosPorCultivo(autorizados));\n\t};\n};\n\nexport const updateAutorizados = (autorizados, autorizadoSelected) => {\n\tautorizados.forEach((autorizado) => {\n\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\tautorizado = autorizadoSelected;\n\t\t}\n\t});\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(setAutorizadoSelected(autorizadoSelected));\n\t\tdispatch(setAutorizados(autorizados));\n\t};\n};\n\nexport const setAutorizados = (autorizados) => ({\n\ttype: types.autorizadosScreenSetAutorizados,\n\tpayload: autorizados\n});\n\nexport const setAutorizadosPorCultivo = (autorizados) => ({\n\ttype: types.setAutorizadosPorCultivo,\n\tpayload: autorizados\n});\n\nexport const unsetAutorizados = () => ({\n\ttype: types.autorizadosScreenUnsetAutorizados\n});\n\nexport const openAutorizadosModal = () => ({\n\ttype: types.openAutorizadosModal\n});\n\nexport const closeAutorizadosModal = () => ({\n\ttype: types.closeAutorizadosModal\n});\n\nexport const setAutorizadoSelected = (autorizado) => ({\n\ttype: types.setAutorizadoSelected,\n\tpayload: autorizado\n});\n\nexport const unsetAutorizadoSelected = () => ({\n\ttype: types.unsetAutorizadoSelected\n});\n\nexport const setSuperficieReferencia = (superficieReferencia) => ({\n\ttype: types.setSuperficieReferencia,\n\tpayload: superficieReferencia\n});\n\nexport const unsetSuperficieReferencia = () => ({\n\ttype: types.unsetSuperficieReferencia\n});\n\nexport const setFormError = (formError) => ({\n\ttype: types.setFormError,\n\tpayload: formError\n});\n\nexport const removeFormError = () => ({\n\ttype: types.removeFormError\n});\n","import React, { useEffect } from \"react\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { ResumenAutorizados } from \"../autorizados/ResumenAutorizados\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadSuperficies } from \"../../actions/permisosScreen\";\nimport { startLoadAutorizados } from \"../../actions/autorizadosScreen\";\n\nexport const FichaExpedicion = () => {\n\tconst { autorizados } = useSelector((state) => state.autorizadosScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\t// const { superficies } = useSelector((state) => state.permisosScreen);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: FichaExpedicion\");\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t}, [dispatch, ciclo, modulo]);\n\n\t// if (autorizados.length === 0) {\n\t// \tdispatch(startLoadAutorizados(ciclo, modulo));\n\t// }\n\n\t// if (superficies === null) {\n\t// \tdispatch(startLoadSuperficies(modulo, ciclo));\n\t// }\n\n\treturn (\n\t\t<div className=\"border border-primary rounded detallePermiso text-secondary mt-3\">\n\t\t\t<SuperficiesChart />\n\t\t\t{autorizados.length > 0 && (\n\t\t\t\t<ResumenAutorizados autorizados={autorizados} modulo={modulo}></ResumenAutorizados>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { startSetVariablesGlobales } from \"../../actions/auth\";\n\nexport const NuevoPermisoButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handleSetVariablesGlobales = () => {\n\t\tdispatch(startSetVariablesGlobales());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<Link to=\"/nuevo-permiso\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleSetVariablesGlobales}\n\t\t\t\t>\n\t\t\t\t\t<span>Nuevo Permiso </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</Link>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\nexport const UnassignedPrivilegesMessage = () => {\n\treturn (\n\t\t<div className=\"border border-warning rounded p-4\">\n\t\t\t<h3>¡Aún no tiene privilegios !</h3>\n\t\t\t<p>\n\t\t\t\tPor favor póngase en contacto con el administrador del sistema para que se le asignen\n\t\t\t\tprivilegios de usuario.\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { ResumenAutorizados } from \"../modulos/ResumenAutorizados\";\nimport { FichaExpedicion } from \"../modulos/FichaExpedicion\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { useSelector } from \"react-redux\";\nimport { UnassignedPrivilegesMessage } from \"../cards/UnassignedPrivilegesMessage\";\n\nexport const SicperScreen = () => {\n\tconst { privilegios, rol } = useSelector((state) => state.auth);\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { expedicionActiva } = variablesGlobales;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-5\">\n\t\t\t\t<div className=\"col-sm-8\">{privilegios.consultarAutorizados && <ResumenAutorizados />}</div>\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{expedicionActiva && privilegios.expedirPermisos && <NuevoPermisoButton />}\n\t\t\t\t\t{privilegios.consultarExpedicion && <FichaExpedicion />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5\">\n\t\t\t\t<div className=\"col-sm-6\">{rol === \"sinAsignar\" && <UnassignedPrivilegesMessage />}</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomTable = ({ title, columns, data, setFunction, closeFunction }) => {\n\tconst dispatch = useDispatch();\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tonRowClicked={getRowSelected}\n\t\t/>\n\t);\n};\n","import styled from \"styled-components\";\n\nexport const TextField = styled.input`\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\nexport const usuariosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"SUBCTA\", selector: \"subcta\", sortable: true, width: \"40px\", center: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"140px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"140px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"200px\", sortable: true },\n\t{ name: \"DERECHO(ha)\", selector: \"supRiego\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"LOTE\", selector: \"predio\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"EJIDO\", selector: \"ejido\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"SECCION\", selector: \"seccion\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true }\n];\n\nexport const productoresColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"140px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"140px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"200px\", sortable: true },\n\t{ name: \"CURP\", selector: \"curp\", sortable: true, width: \"180px\", center: true }\n];\n\nexport const cultivosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true, center: true },\n\t{ name: \"SUBCICLO\", selector: \"subciclo\", sortable: true, center: true }\n];\n\nexport const systemUsersColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE ENTIDAD\", selector: \"claveEntidad\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"displayName\", sortable: true },\n\t{ name: \"CORREO\", selector: \"email\", sortable: true },\n\t{ name: \"ROL\", selector: \"rol\", sortable: true }\n];\n\nexport const localtiesColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true },\n\t{ name: \"TIPO\", selector: \"tipo\", sortable: true },\n\t{ name: \"MUNICIPIO\", selector: \"municipio\", sortable: true },\n\t{ name: \"ESTADO\", selector: \"estado\", sortable: true }\n];\n\nexport const permisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"110px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"250px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"250px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"150px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"150px\" },\n\t{ name: \"EMISIÓN\", selector: \"fechaEmicion\", sortable: true, width: \"100px\" },\n\t{ name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"100px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"100px\" }\n];\n\nexport const printPermisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"70px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"60px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"180px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"180px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"100px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"40px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"40px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"80px\" },\n\t{ name: \"EMISIÓN\", selector: \"fechaEmicion\", sortable: true, width: \"70px\" },\n\t{ name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"70px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"70px\" }\n];\n\nexport const autorizadosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"GRAVEDAD NORMAL AUTORIZADA\",\n\t\tselector: \"gravedadNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD NORMAL ASIGNADA\",\n\t\tselector: \"gravedadNormalAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA AUTORIZADA\",\n\t\tselector: \"gravedadExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA ASIGNADA\",\n\t\tselector: \"gravedadExtraAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n\nexport const autorizadosPozoColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n","import { db } from \"../firebase/firebase-config\";\n\n// TODO: Implementar busqueda de usuarios de pozo particular\n\nexport const loadUsuarios = async (usuario, modulo) => {\n\tconst campos = [\"apPaterno\", \"cuenta\"];\n\tconst qryUsuarios = [];\n\tconst usuarios = [];\n\tconst reacomodos = [];\n\tconst qryReacomodos = [];\n\n\tconst padUsuarios = db.collection(`derechos`).where(\"modulo\", \"==\", parseInt(modulo));\n\n\tcampos.forEach((campo) => {\n\t\tqryUsuarios.push(\n\t\t\tpadUsuarios\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryUsuarios.push(padUsuarios.where(campo, \"==\", Number(usuario)).get());\n\t});\n\n\tconst resolvedUsuariosQrys = await Promise.all(qryUsuarios);\n\n\tresolvedUsuariosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tif (snapHijo.data().equipo !== 1) {\n\t\t\t\tusuarios.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\tusuarios.forEach((usuario) => {\n\t\tqryReacomodos.push(db.collection(`reacomodos`).doc(usuario.id).get());\n\t});\n\n\tconst resolvedReacomodosQrys = await Promise.all(qryReacomodos);\n\n\tresolvedReacomodosQrys.forEach((reacomodo) => {\n\t\tif (reacomodo.data()) {\n\t\t\treacomodos.push({\n\t\t\t\tid: reacomodo.id,\n\t\t\t\t...reacomodo.data()\n\t\t\t});\n\t\t}\n\t});\n\n\tusuarios.forEach((usuario, i) => {\n\t\tconst reacomodo = reacomodos.find((reacomodo) => reacomodo.id === usuario.id);\n\t\tif (reacomodo) {\n\t\t\tusuarios[i].reacomodo = reacomodo.reacomodo;\n\t\t}\n\t});\n\n\treturn usuarios;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLocalidad = async (clave) => {\n\tconst localidadSnap = await db.collection(`colonias`).where(\"clave\", \"==\", clave).get();\n\n\tconst localidades = [];\n\n\tlocalidadSnap.forEach((snapHijo) => {\n\t\tlocalidades.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tif (localidades.length === 0) return \"\";\n\telse return localidades[0].nombre;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSuperficiePrevia = async (cuenta, modulo, ciclo) => {\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tconst permisos = [];\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tlet supPrevia = 0;\n\n\tpermisos.forEach((permiso) => {\n\t\tsupPrevia += permiso.supAutorizada;\n\t});\n\n\treturn supPrevia;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserTransfer = async (cuenta, modulo, ciclo) => {\n\tconst transferSnap = await db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"transferencias\")\n\t\t.where(\"cuentaOrigen\", \"==\", cuenta)\n\t\t.where(\"moduloOrigen\", \"==\", modulo)\n\t\t.get();\n\n\tconst transfer = [];\n\n\ttransferSnap.forEach((snapHijo) => {\n\t\ttransfer.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tlet supPrevia = 0;\n\n\ttransfer.forEach((transfer) => {\n\t\tsupPrevia += transfer.superficieTransferida;\n\t});\n\n\treturn supPrevia;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadCiclo = async () => {\n\tconst roles = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn roles.data().cicloActual;\n};\n","import { types } from \"../types/types\";\nimport { loadUsuarios } from \"../helpers/loadUsuarios\";\nimport { loadLocalidad } from \"../helpers/loadLocalidad\";\nimport { loadSuperficiePrevia } from \"../helpers/loadSuperficiePrevia\";\nimport { loadUserTransfer } from \"../helpers/loadUserTransfer\";\nimport { loadCiclo } from \"../helpers/DB/loadCiclo\";\n\nexport const openUsuariosModal = () => ({\n\ttype: types.altaPermisoOpenUsuariosModal\n});\n\nexport const closeUsuariosModal = () => ({\n\ttype: types.altaPermisoCloseUsuariosModal\n});\n\nexport const startLoadUsuarios = (usuario, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst usuarios = await loadUsuarios(usuario, modulo);\n\t\tdispatch(setUsuarios(usuarios));\n\t};\n};\n\nexport const setUsuarios = (usuarios) => ({\n\ttype: types.setUsuarios,\n\tpayload: usuarios\n});\nexport const unsetUsuarios = () => ({\n\ttype: types.unsetUsuarios\n});\n\nexport const startSetUsuarioSelected = (usuario) => {\n\tunsetUsuarioSelected();\n\n\treturn async (dispatch) => {\n\t\tconst ciclo = await loadCiclo();\n\t\tconst localidad = await loadLocalidad(usuario.ejido);\n\t\tconst supPrevia = await loadSuperficiePrevia(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\tusuario.modulo,\n\t\t\tciclo\n\t\t);\n\t\tconst transfers = await loadUserTransfer(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\tusuario.modulo,\n\t\t\tciclo\n\t\t);\n\n\t\tusuario.localidad = localidad;\n\t\tusuario.supPrevia = supPrevia + transfers;\n\t\tdispatch(setUsuarioSelected(usuario));\n\t};\n};\n\nexport const setUsuarioSelected = (usuario) => {\n\tif (usuario.estado === 26) {\n\t\tusuario.estado = \"Sonora\";\n\t}\n\tif (usuario.estado === 2) {\n\t\tusuario.estado = \"Baja California\";\n\t}\n\tif (usuario.municipio === 2) {\n\t\tusuario.municipio = \"Mexicali\";\n\t}\n\tif (usuario.municipio === 55) {\n\t\tusuario.municipio = \"San Luis Rio Colorado\";\n\t}\n\tif (usuario.sistRiego === 1) {\n\t\tusuario.sistRiego = \"Gravedad\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 1) {\n\t\tusuario.sistRiego = \"Pozo Particular\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 2) {\n\t\tusuario.sistRiego = \"Pozo Federal\";\n\t}\n\treturn {\n\t\ttype: types.setUsuario,\n\t\tpayload: usuario\n\t};\n};\n\nexport const unsetUsuarioSelected = () => ({\n\ttype: types.unsetUsuario\n});\n\nexport const setUpdatingPadron = () => ({\n\ttype: types.setUpdatingPadron\n});\n\nexport const unsetUpdatingPadron = () => ({\n\ttype: types.unsetUpdatingPadron\n});\n\nexport const setUpdatingReacomodos = () => ({\n\ttype: types.setUpdatingReacomodos\n});\n\nexport const unsetUpdatingReacomodos = () => ({\n\ttype: types.unsetUpdatingReacomodos\n});\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport {\n\tcloseUsuariosModal,\n\topenUsuariosModal,\n\tstartLoadUsuarios,\n\tunsetUsuarioSelected\n} from \"../../../actions/usuarios\";\n\nexport const UsuarioInput = () => {\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst { idUsuarioSelected, usuario: nombreUsuario } = useSelector((state) => state.altaPermisos);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenUsuariosModal = () => {\n\t\thandleLoadUsuarios();\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(openUsuariosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: UsuarioInput\");\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(closeUsuariosModal());\n\t}, [dispatch]);\n\n\tconst handleLoadUsuarios = () => {\n\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo));\n\t};\n\n\tlet usuarioLabel = \"\";\n\n\tif (idUsuarioSelected) {\n\t\tusuarioLabel = nombreUsuario;\n\t}\n\n\tconst clearUsuarioInput = () => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tformValues.usuario = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tusuario: \"\"\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenUsuariosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tUsuario:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{usuarioLabel} </label>\n\t\t\t\t{idUsuarioSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearUsuarioInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenUsuariosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UsuarioSelectedDetail = () => {\n\tconst { usuarios, idUsuarioSelected, supPrevia } = useSelector((state) => state.altaPermisos);\n\n\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div>Cuenta: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t<div>Usuario: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}</div>\n\t\t\t<div>Colonia/Ejido: {usuario.localidad}</div>\n\t\t\t<div>Lote: {usuario.predio}</div>\n\t\t\t<div>Seccion: {usuario.seccion}</div>\n\t\t\t<div>Sup. Derecho: {usuario.supRiego}</div>\n\t\t\t<div>Sup. Disponible: {usuario.supRiego - supPrevia}</div>\n\t\t\t{usuario.reacomodo && <div className=\"text-info\">Reacomodo: {usuario.reacomodo}</div>}\n\t\t</div>\n\t);\n};\n","import { read, utils } from \"xlsx\";\n\nexport const readExcel = async (file) => {\n\tconst promise = new Promise((resolve, reject) => {\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.readAsArrayBuffer(file);\n\n\t\tfileReader.onload = (e) => {\n\t\t\tconst bufferArray = e.target.result;\n\n\t\t\tconst workBook = read(bufferArray, { type: \"buffer\" });\n\t\t\tconst workSheetName = workBook.SheetNames[0];\n\t\t\tconst workSheet = workBook.Sheets[workSheetName];\n\n\t\t\tconst data = utils.sheet_to_json(workSheet);\n\n\t\t\tresolve(data);\n\t\t};\n\n\t\tfileReader.onerror = (error) => {\n\t\t\treject(error);\n\t\t};\n\t});\n\n\treturn promise;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingPadron, unsetUpdatingPadron } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\n\nexport const updatePadron = (file) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingPadron());\n\t\tconst data = await readExcel(file);\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\tconst definePredio = (grupo, predio) => {\n\t\t\tif (predio) {\n\t\t\t\tif (grupo > 0) {\n\t\t\t\t\treturn `${grupo}${predio}`;\n\t\t\t\t}\n\t\t\t\treturn predio;\n\t\t\t} else return \"?\";\n\t\t};\n\n\t\tif (checkPadron(data)) {\n\t\t\tdata.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tapMaterno: element.APMATERNO !== undefined ? element.APMATERNO : \"?\",\n\t\t\t\t\tapPaterno: element.APPATERNO !== undefined ? element.APPATERNO : \"?\",\n\t\t\t\t\tcp: element.CP !== undefined ? element.CP : \"?\",\n\t\t\t\t\tcuenta: element.CUENTA !== undefined ? element.CUENTA : \"?\",\n\t\t\t\t\tejido: element.EJIDO !== undefined ? element.EJIDO : \"?\",\n\t\t\t\t\tequipo: element.EQUIPO !== undefined ? element.EQUIPO : \"?\",\n\t\t\t\t\testado: element.ESTADO !== undefined ? element.ESTADO : \"?\",\n\t\t\t\t\tfecha: element.FECHA !== undefined ? element.FECHA : \"?\",\n\t\t\t\t\tgrupo: element.GRUPO !== undefined ? element.GRUPO : \"?\",\n\t\t\t\t\tlt: element.LT !== undefined ? element.LT : \"?\",\n\t\t\t\t\tmodulo: element.ZONA !== undefined ? element.ZONA : \"?\",\n\t\t\t\t\tmunicipio: element.MUNICIPIO !== undefined ? element.MUNICIPIO : \"?\",\n\t\t\t\t\tnombre: element.NOMBRE !== undefined ? element.NOMBRE : \"?\",\n\t\t\t\t\tpControl: element.PCONTROL !== undefined ? element.PCONTROL : \"?\",\n\t\t\t\t\tpredio: definePredio(element.GRUPO, element.PREDIO),\n\t\t\t\t\tra: element.RA !== undefined ? element.RA : \"?\",\n\t\t\t\t\treferencia: element.REFERENCIA !== undefined ? element.REFERENCIA : \"?\",\n\t\t\t\t\tseccion: element.SECCION !== undefined ? element.SECCION : \"?\",\n\t\t\t\t\tsistRiego: element.SISTRIEGO !== undefined ? element.SISTRIEGO : \"?\",\n\t\t\t\t\tslt: element.SLT !== undefined ? element.SLT : \"?\",\n\t\t\t\t\tsra: element.SRA !== undefined ? element.SRA : \"?\",\n\t\t\t\t\tssra: element.SSRA !== undefined ? element.SSRA : \"?\",\n\t\t\t\t\tsubcta: element.SUBCTA !== undefined ? element.SUBCTA : \"?\",\n\t\t\t\t\tsupFisica: element.SUPFISICA !== undefined ? element.SUPFISICA : \"?\",\n\t\t\t\t\tsupRiego: element.SUPRIEGO !== undefined ? element.SUPRIEGO : \"?\",\n\t\t\t\t\ttenencia: element.TENENCIA !== undefined ? element.TENENCIA : \"?\",\n\t\t\t\t\tunidad: element.UNIDAD !== undefined ? element.UNIDAD : \"?\",\n\t\t\t\t\tzona: element.ZONA !== undefined ? element.ZONA : \"?\"\n\t\t\t\t};\n\n\t\t\t\tconst ref = db.collection(\"derechos\").doc(`${itemToUpload.cuenta}-${itemToUpload.subcta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se termino de actualizar el padron\");\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Padron actualizado\",\n\t\t\t\t\t\t\"Se actualizo con éxito el padrón de usuarios.\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a un padrón de usuarios válido.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkPadron = (data) => {\n\tconst items = [\"CUENTA\", \"SUBCTA\", \"APPATERNO\", \"UNIDAD\", \"ZONA\", \"EJIDO\", \"SECCION\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\n\nexport const FileInput = ({ actionFunction, title, updating = false, fileExtension }) => {\n\tconst handleInputChange = (e) => {\n\t\tconst file = e.target.files[0];\n\n\t\tconst extension = file.name.match(/\\.[0-9a-z]+$/i);\n\n\t\tif (extension[0] === fileExtension) actionFunction(file);\n\t\telse {\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t`Verifique que el archivo que intenta cargar tenga la extensión \"${fileExtension}\".`,\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex\">\n\t\t\t\t<label htmlFor=\"input\" className=\"align-self-center\">\n\t\t\t\t\t{title}\n\t\t\t\t</label>\n\t\t\t\t{updating && (\n\t\t\t\t\t<div className=\"spinner-border text-primary align-self-center ml-2\" role=\"status\">\n\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tid=\"input\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tclassName=\"form-control-file mt-4\"\n\t\t\t\tonChange={handleInputChange}\n\t\t\t></input>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updatePadron } from \"../../../helpers/DB/updatePadron\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdatePadronModule = () => {\n\tconst { updatingPadron } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdatePadron = (file) => {\n\t\tdispatch(updatePadron(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdatePadron}\n\t\t\ttitle=\"Cargar Padron\"\n\t\t\tupdating={updatingPadron}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingReacomodos, unsetUpdatingReacomodos } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\n\nexport const updateReacomodos = (file) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingReacomodos());\n\t\tconst data = await readExcel(file);\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\tif (checkReacomodos(data)) {\n\t\t\tdata.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tcuenta: element.CTA !== undefined ? element.CTA : \"?\",\n\t\t\t\t\tsubCuenta: element.SC !== undefined ? element.SC : \"?\",\n\t\t\t\t\tllave: element.LLAVE !== undefined ? element.LLAVE : \"?\",\n\t\t\t\t\tmodulo: element.MODULO !== undefined ? element.MODULO : \"?\",\n\t\t\t\t\tclaveEjido: element.CVEEJI !== undefined ? element.CVEEJI : \"?\",\n\t\t\t\t\tejido: element.EJI !== undefined ? element.EJI : \"?\",\n\t\t\t\t\tpredio: element.PRE !== undefined ? element.PRE : \"?\",\n\t\t\t\t\thectareas: element.HAS !== undefined ? element.HAS : \"?\",\n\t\t\t\t\treacomodo: element.RE !== undefined ? element.RE : \"?\",\n\t\t\t\t\tclaveProcedencia: element.CVEPRO !== undefined ? element.CVEPRO : \"?\",\n\t\t\t\t\tejidoProcedencia: element.EJIPRO !== undefined ? element.EJIPRO : \"?\",\n\t\t\t\t\tpredioProcedencia: element.PREPRO !== undefined ? element.PREPRO : \"?\"\n\t\t\t\t};\n\n\t\t\t\tconst ref = db\n\t\t\t\t\t.collection(\"reacomodos\")\n\t\t\t\t\t.doc(`${itemToUpload.cuenta}-${itemToUpload.subCuenta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se terminaron de actualizar los reacomodos\");\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Reacomodos actualizados\",\n\t\t\t\t\t\t\"Se actualizaron con éxito los reacomodos.\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a una tabla de reacomodos válida.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkReacomodos = (data) => {\n\tconst items = [\"CTA\", \"SC\", \"LLAVE\", \"EJI\", \"HAS\", \"RE\", \"CVEPRO\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateReacomodos } from \"../../../helpers/DB/updateReacomodos\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdateReacomodosModule = () => {\n\tconst { updatingReacomodos } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdateReacomodos = (file) => {\n\t\tdispatch(updateReacomodos(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdateReacomodos}\n\t\t\ttitle=\"Cargar Reacomodos\"\n\t\t\tupdating={updatingReacomodos}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport {\n\tstartSetUsuarioSelected,\n\tunsetUsuarios,\n\tunsetUsuarioSelected\n} from \"../../actions/usuarios\";\nimport { UsuarioInput } from \"../permisos/inputsNuevosPermisos/UsuarioInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { UsuarioSelectedDetail } from \"./UsuarioSelectedDetail\";\nimport { UpdatePadronModule } from \"../ui/organisms/UpdatePadronModule\";\nimport { UpdateReacomodosModule } from \"../ui/organisms/UpdateReacomodosModule\";\n\nexport const PadronScreen = () => {\n\tconst { usuarios, usuario } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: PadronScreen\");\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(unsetUsuarios());\n\t}, [dispatch]);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-3 d-flex justify-content-start\">\n\t\t\t\t<UsuarioInput />\n\t\t\t</div>\n\n\t\t\t{usuarios && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-8 mb-3\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4\">{usuario && <UsuarioSelectedDetail />}</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{privilegios.actualizarPadron && (\n\t\t\t\t<div className=\"border border-info rounded p-3 mt-3\">\n\t\t\t\t\t<h3 className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\tActualizar padron de usuarios y reacomodos\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdatePadronModule />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdateReacomodosModule />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { types } from \"../types/types\";\n\nexport const setFormValues = (values) => ({\n\ttype: types.altaPermisosSetFormValues,\n\tpayload: values\n});\n\nexport const setOnSubmitData = (data) => ({\n\ttype: types.altaPermisosSetSubmitData,\n\tpayload: data\n});\n\nexport const unsetOnSubmitData = () => ({\n\ttype: types.altaPermisosUnsetSubmitData\n});\n\nexport const openPrintPermisoModal = () => ({\n\ttype: types.altaPermisoOpenPrintPermisoModal\n});\n\nexport const closePrintPermisoModal = () => ({\n\ttype: types.altaPermisoClosePrintPermisoModal\n});\n\nexport const setEnEspera = () => ({\n\ttype: types.altaPermisosSetEnEspera\n});\n\nexport const unsetEnEspera = () => ({\n\ttype: types.altaPermisosUnsetEnEspera\n});\n\nexport const startEnableSaveButton = () => ({\n\ttype: types.altaPermisosEnableSaveButton\n});\n\nexport const startDisableSaveButton = () => ({\n\ttype: types.altaPermisosDisableSaveButton\n});\n\nexport const startEnablePrintButton = () => ({\n\ttype: types.altaPermisosEnablePrintButton\n});\n\nexport const startDisablePrintButton = () => ({\n\ttype: types.altaPermisosDisablePrintButton\n});\n\nexport const setCuotaCultivo = (cuota) => ({\n\ttype: types.setCuotaCultivo,\n\tpayload: cuota\n});\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadCultivos = async (cultivo) => {\n\tconst cultivosSnap = await db\n\t\t.collection(`cultivos`)\n\t\t.orderBy(\"nombre\")\n\t\t.startAt(cultivo)\n\t\t.endAt(cultivo + \"\\uf8ff\")\n\t\t.get();\n\n\tconst cultivos = [];\n\n\tcultivosSnap.forEach((snapHijo) => {\n\t\tcultivos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { types } from \"../types/types\";\nimport { loadCultivos } from \"../helpers/loadCultivos\";\n\nexport const openCultivosModal = () => ({\n\ttype: types.altaPermisoOpenCultivosModal\n});\n\nexport const closeCultivosModal = () => ({\n\ttype: types.altaPermisoCloseCultivosModal\n});\n\nexport const startLoadCultivos = (cultivo) => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(cultivo);\n\t\tdispatch(setCultivos(cultivos));\n\t};\n};\n\nexport const setCultivos = (cultivos) => ({\n\ttype: types.loadCultivos,\n\tpayload: cultivos\n});\n\nexport const setCultivoSelected = (idCultivo) => ({\n\ttype: types.setCultivo,\n\tpayload: idCultivo\n});\n\nexport const unsetCultivoSelected = () => ({\n\ttype: types.unsetCultivo\n});\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadProductores = async (productor) => {\n\tconst usuariosSnap = await db\n\t\t.collection(`productores`)\n\t\t.orderBy(\"apPaterno\")\n\t\t.startAt(productor)\n\t\t.endAt(productor + \"\\uf8ff\")\n\t\t.get();\n\n\tconst productores = [];\n\n\tusuariosSnap.forEach((snapHijo) => {\n\t\tproductores.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn productores;\n};\n","import { types } from \"../types/types\";\nimport { loadProductores } from \"../helpers/loadProductores\";\n\nexport const openProductoresModal = () => ({\n\ttype: types.altaPermisoOpenProductoresModal\n});\n\nexport const closeProductoresModal = () => ({\n\ttype: types.altaPermisoCloseProductoresModal\n});\n\nexport const startLoadProductores = (productor) => {\n\treturn async (dispatch) => {\n\t\tconst productores = await loadProductores(productor);\n\t\tdispatch(setProductores(productores));\n\t};\n};\n\nexport const setProductores = (productores) => ({\n\ttype: types.loadProductores,\n\tpayload: productores\n});\n\nexport const setProductorSelected = (idProductor) => ({\n\ttype: types.setProductor,\n\tpayload: idProductor\n});\n\nexport const unsetProductorSelected = () => ({\n\ttype: types.unsetProductor\n});\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nexport const savePermiso = async (allData) => {\n\tconst data = {\n\t\tidUsuarioSelected: allData.idUsuarioSelected,\n\t\tcuenta: allData.cuenta,\n\t\tusuario: allData.usuario,\n\t\tsupDerecho: allData.supDerecho,\n\t\tlote: allData.lote,\n\t\t// TODO: Poner nombre de localidad antes de guardar\n\t\tlocalidad: allData.localidad,\n\t\tmunicipio: allData.municipio,\n\t\testado: allData.estado,\n\t\tmodulo: allData.modulo,\n\t\tseccion: allData.seccion,\n\t\tcanal: allData.canal,\n\t\ttoma: allData.toma,\n\t\tsistema: allData.sistema,\n\t\tidProductorSelected: allData.idProductorSelected,\n\t\tnombreProductor: allData.nombreProductor,\n\t\trfcProductor: allData.rfcProductor,\n\t\tcurpProductor: allData.curpProductor ? allData.curpProductor : \"\",\n\t\tidCultivoSelected: allData.idCultivoSelected,\n\t\tnombreCultivo: allData.nombreCultivo,\n\t\tclaveCultivo: allData.claveCultivo,\n\t\tsubciclo: allData.subciclo,\n\t\tcuotaCultivo: allData.cuotaCultivo,\n\t\tsupPrevia: allData.supPrevia,\n\t\ttipo: allData.tipo,\n\t\tciclo: allData.ciclo,\n\t\tnumeroPermiso: allData.numeroPermiso,\n\t\tfechaEmicion: moment(allData.fechaEmicion).toDate(),\n\t\tfechaLimite: moment(allData.fechaLimite).toDate(),\n\t\tvigencia: moment(allData.vigencia).toDate(),\n\t\tvariedad: allData.variedad,\n\t\tsupAutorizada: allData.supAutorizada,\n\t\tfuenteCredito: allData.fuenteCredito,\n\t\tlatitud: allData.latitud,\n\t\tlongitud: allData.longitud,\n\t\tcultivoAnterior: allData.cultivoAnterior,\n\t\tobservaciones: allData.observaciones,\n\t\tuid: allData.uid,\n\t\tname: allData.name,\n\t\tdotacion: allData.dotacion,\n\t\ttitular: allData.titular,\n\t\ttransferencia: allData.transferencia,\n\t\testadoPermiso: allData.estadoPermiso,\n\t\treacomodo: allData.reacomodo ? allData.reacomodo : \"\",\n\t\tdireccion: allData.direccion\n\t};\n\n\tif (data.nombreCultivo === \"ALGODONERO\") {\n\t\tdata.tecnico = \"sinAsignar\";\n\t\tdata.desfoliado = false;\n\t\tdata.cosechado = false;\n\t\tdata.desvarado = false;\n\t\tdata.disqueado = false;\n\t\tdata.desarraigado = false;\n\t\tdata.superficieMapeada = 0;\n\t\tdata.pagado = false;\n\t\tdata.constanciaFitosanitaria = false;\n\t}\n\n\tconst permisosPorCultivoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.doc(`${data.claveCultivo}-${data.nombreCultivo}`);\n\n\tconst permisoRef = await db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(data.numeroPermiso);\n\n\tconst isSave = await permisoRef\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"El permiso ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir un permiso ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpermisoRef.set(data).then(() => {\n\t\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t\t.doc(data.ciclo)\n\t\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t\t.doc(`Modulo-${data.modulo}`)\n\t\t\t\t\t\t.update({\n\t\t\t\t\t\t\tnumeroPermisosModulo: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t});\n\n\t\t\t\t\tpermisosPorCultivoRef\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then((doc) => {\n\t\t\t\t\t\t\tif (doc.exists) {\n\t\t\t\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\t\t\t\tpermisosPorCultivoRef.set({\n\t\t\t\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\tconsole.log(\"Error al obtener permisos por cultivo\", e);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Permiso Guardado\",\n\t\t\t\t\t\t\"Se registró con éxito el nuevo permiso de riego.\",\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\"Error al guardar permiso\", e);\n\t\t\tSwal.fire(\"Error\", `Verifique su conexión: ${e.message}`, \"error\");\n\t\t});\n\n\treturn isSave;\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tclosePrintPermisoModal,\n\tstartDisableSaveButton,\n\tunsetOnSubmitData,\n\tstartEnablePrintButton,\n\tsetEnEspera,\n\tunsetEnEspera,\n\tstartEnableSaveButton,\n\tstartDisablePrintButton\n} from \"../../actions/altaPermisos\";\nimport { unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetProductorSelected } from \"../../actions/productores\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\nimport { savePermiso } from \"../../helpers/savePermiso\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nconst customStyles = {\n\tcontent: {\n\t\twidth: \"1125px\",\n\t\theight: \"1500px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nexport const PrintPermisoModal = ({ data, isNew }) => {\n\tconst { openPrintPermisoModal, enableSaveButton, enablePrintButton, enEspera } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closePrintPermisoModal());\n\t\tdispatch(unsetOnSubmitData());\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(startEnableSaveButton());\n\t\tdispatch(startDisablePrintButton());\n\t\tdispatch(unsetEnEspera());\n\t};\n\n\tconst handleSavePermiso = async () => {\n\t\tdispatch(startDisableSaveButton());\n\t\tdispatch(setEnEspera());\n\t\tif (await savePermiso(data)) {\n\t\t\tdispatch(unsetEnEspera());\n\t\t\tdispatch(startEnablePrintButton());\n\t\t}\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst toUpper = (string) => {\n\t\tlet str = \"\";\n\t\tif (string) str = string;\n\t\treturn str.toUpperCase();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openPrintPermisoModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModal pl-5 pr-5\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t{/* Marca de agua ***************************************************************** */}\n\n\t\t\t{data.estadoPermiso === \"activo\" ? (\n\t\t\t\t<></>\n\t\t\t) : (\n\t\t\t\t<div className=\"watermark rotar\">{data.estadoPermiso}</div>\n\t\t\t)}\n\n\t\t\t{/* Header ************************************************************************ */}\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-2 d-flex flex-column justify-content-center\">\n\t\t\t\t\t{/* <div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo SADER\" style={{ maxHeight: 35 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3\">\n\t\t\t\t\t\t<img src={\"./logos/srl.png\"} alt=\"Logo CRL\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">DISTRITO DE RIEGO RÍO COLORADO</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">S DE R.L. DE I.P. DE C.V.</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border rounded d-flex justify-content-left mt-4 w-200\">Folio: </div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-8 d-flex flex-column justify-content-center\">\n\t\t\t\t\t<h1 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>PERMISO ÚNICO DE SIEMBRA</b>\n\t\t\t\t\t</h1>\n\t\t\t\t\t<h3 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>DISTRITO DE RIEGO 014 RÍO COLORADO</b>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h2 className=\"d-flex justify-content-center pt-4\">\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t<b>Ciclo Agrícola {data.ciclo}</b>{\" \"}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<h3 className=\"d-flex justify-content-center\">{data.direccion}</h3>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-2 d-flex flex-column justify-content-center\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t{/* <img\n\t\t\t\t\t\t\tsrc={\"./logos/cna.png\"}\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 50 }}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border rounded d-flex justify-content-center mt-4\">\n\t\t\t\t\t\tFolio: {data.numeroPermiso}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-4\">\n\t\t\t\t\t\t{moment(data.fechaEmicion).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos del usuario ******************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center border rounded\">\n\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS DEL USUARIO</div>\n\n\t\t\t\t<div className=\"d-flex justify-content-center border-top p-1\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thectáreas del lote: <b>{data.lote}</b> en la colonia/ejido <b>{data.localidad}</b>,{\" \"}\n\t\t\t\t\t\t<b>{data.municipio}</b>, <b>{data.estado}</b>. Módulo <b>{data.modulo}</b>, sección{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.<br />\n\t\t\t\t\t\t{data.reacomodo && <b> Reacomodo: {data.reacomodo}</b>}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Parrafo legal ********************************************************************** */}\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center\">\n\t\t\t\t<p>\n\t\t\t\t\tCon base en el Acuerdo Nacional de Colaboración entre la Secretaría de Agricultura,\n\t\t\t\t\tGanadería, Desarrollo Rural, Pesca y Alimentación y el Acuerdo de Concertación entre la\n\t\t\t\t\tSAGARPA, CONAGUA, Distrito de Riego Río Colorado y la Sociedad de Responsabilidad Limitada\n\t\t\t\t\tcon el objetivo de regular en forma ordenada la expedición de Permisos Únicos de Siembra\n\t\t\t\t\tcon Derechos de Agua, y con fundamento en los artículos 66, 67, 68, 69 y 69 Bis de la Ley\n\t\t\t\t\tde Aguas Nacionales; Reglamento de la Ley de Sanidad Fitopecuaria de los Estados Unidos\n\t\t\t\t\tMexicanos, en materia de sanidad vegetal, Normas Mexicanas, NOM-026-FITO-1995, que\n\t\t\t\t\testablece el control de plagas de algodonero, NOM-001-FITO-2001, para el manejo y\n\t\t\t\t\teliminación de focos de infección de plagas, mediante el reordenamiento de fechas de\n\t\t\t\t\tsiembra y destrucción de residuos. Se otorga el Permiso Único de Siembra para que\n\t\t\t\t\testablezca exclusivamente el cultivo y superficie que se indica, apercibiendose que se\n\t\t\t\t\tpuede suspender el servicio de riego si se siembra superficie adicional o cultivo\n\t\t\t\t\tdiferente al autorizado en este permiso.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Detalle de cultivo y superficie ***************************************************** */}\n\n\t\t\t<div className=\"row m-3 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DETALLES DEL CULTIVO</div>\n\t\t\t\t\t<div className=\"border-top p-1\">\n\t\t\t\t\t\tTipo de permiso: <b>{toUpper(data.tipo)}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreCultivo} (Clave: {data.claveCultivo})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSubciclo: <b>{data.subciclo}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSuperficie autorizada: <b>{data.supAutorizada} ha</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFecha límite de siembra: <b>{moment(data.fechaLimite).format(\"DD/MM/YYYY\")}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column border rounded\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">SUPERFICIE Y DOTACIÓN VOLUMÉTRICA</div>\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Descripción</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Derecho de riego</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Utilizada Previamente</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Autorizada en este permiso</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Disponible</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Hectáreas</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supDerecho}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supPrevia}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>{data.supAutorizada}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho - data.supPrevia - data.supAutorizada, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>l.p.s./24 hrs/hr Parcela</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho * data.dotacion, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supPrevia * data.dotacion, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supAutorizada * data.dotacion, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t(data.supDerecho - data.supPrevia - data.supAutorizada) * data.dotacion,\n\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos complementarios  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS COMPLEMENTARIOS</div>\n\t\t\t\t\t<div className=\"border-top p-1\">\n\t\t\t\t\t\tCultivo Anterior: <b>{data.cultivoAnterior}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFuente de crédito: <b>{data.fuenteCredito}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tVariedad: <b>{data.variedad}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreProductor} ({data.curpProductor})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column border rounded\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">OBSERVACIONES</div>\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion p-1\">\n\t\t\t\t\t\t<p>{data.observaciones}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Transferencia  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center border rounded\">\n\t\t\t\t<div className=\"d-flex justify-content-center \">TRANSFERENCIA</div>\n\n\t\t\t\t<div className=\"d-flex border-top p-1\">{data.transferencia}</div>\n\t\t\t</div>\n\n\t\t\t{/* Firmas  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 \">\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top firma d-flex justify-content-center\">Módulo</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.titular}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">PRESIDENTE</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top firma d-flex justify-content-center\">Sanidad Vegetal</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top firma d-flex justify-content-center\">FIRMA DEL PRODUCTOR</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.usuario}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">Acepto de conformidad</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Advertencias  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3\">\n\t\t\t\t<p>\n\t\t\t\t\t<b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<u>\n\t\t\t\t\t\t\tADVERTENCIAS: (1) Es responsabilidad del usuario de este permiso, disponer de la\n\t\t\t\t\t\t\ttotalidad del volumen adicional requerido por el cultivo a establecer. (2) Para los\n\t\t\t\t\t\t\tsistemas de Gravedad y Pozo Federal un derecho de riego de 20 ha. alcanza para regar\n\t\t\t\t\t\t\tuna superficie sembrada para el cultivo de Trigo = 20ha., Algodón = 15ha., Alfalfa\n\t\t\t\t\t\t\t13ha., Esparrago = 16ha., y Sorgo forrajero temprano = 18ha.\n\t\t\t\t\t\t</u>\n\t\t\t\t\t</b>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Encavezado sanidad  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-between border-top\">\n\t\t\t\t<div className=\"border rounded mt-2 p-2\">Folio: {data.numeroPermiso}</div>\n\t\t\t\t<div className=\"border rounded mt-2 p-2\">\n\t\t\t\t\tBueno por: $ {roundToN(data.cuotaCultivo * data.supAutorizada, 3)} pesos M.N.\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Resivo Sanidad  ************************************************************* */}\n\n\t\t\t<div className=\"roe m-3\">\n\t\t\t\t<u>\n\t\t\t\t\tRecibimos de El/la C.{\" \"}\n\t\t\t\t\t<b>\n\t\t\t\t\t\t{data.usuario} La cantidad de {roundToN(data.cuotaCultivo * data.supAutorizada, 3)}{\" \"}\n\t\t\t\t\t\tpesos M.N.\n\t\t\t\t\t</b>{\" \"}\n\t\t\t\t\tPor concepto de aportación a las campañas Fitosanitarias, para el sostenimiento del comité\n\t\t\t\t\tEstatal de Sanidad Vegetal.\n\t\t\t\t</u>\n\t\t\t</div>\n\n\t\t\t{/* Datos usuario sanidad  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3\">\n\t\t\t\t<div className=\"col-3 d-flex flex-column\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">COMITÉ ESTATAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">SANIDAD VEGETAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">BAJA CALIFORNIA</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-9 d-flex flex-column border rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center border-bottom\">DATOS DEL USUARIO</div>\n\n\t\t\t\t\t<p className=\"m-2\">\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thectáreas del lote: <b>{data.lote}</b> en la colonia <b>{data.localidad}</b>,{\" \"}\n\t\t\t\t\t\t<b>{data.municipio}</b>, <b>{data.estado}</b>. Módulo <b>{data.modulo}</b>, sección{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Logo sanidad  y botones************************************************************* */}\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 d-flex justify-content-center align-items-center pt-2\">\n\t\t\t\t\t{enableSaveButton ? (\n\t\t\t\t\t\tisNew ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={handleSavePermiso}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enEspera ? (\n\t\t\t\t\t\t<div className=\"spinner-border text-primary\" role=\"status\">\n\t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enablePrintButton ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startLoadPreCancelPermits, unsetPermitToCancel } from \"../../actions/permisosScreen\";\nimport { cancelPermit } from \"../../helpers/DB/cancelPermit\";\nimport { decrementPermisosExpedidos } from \"../../helpers/DB/decrementPermisosExpedidos\";\nimport { decrementPermisosPorCultivo } from \"../../helpers/DB/decrementPermisosPorCultivo\";\n\nexport const PermitToCancelCard = () => {\n\tconst { preCancelPermits, permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\n\tconst permit = preCancelPermits.find((perm) => perm.id === permitToCancelSelected);\n\tconst {\n\t\tnumeroPermiso,\n\t\tmotivoCancelacion,\n\t\tmodulo,\n\t\tclaveCultivo,\n\t\tnombreCultivo,\n\t\tsistema,\n\t\ttipo,\n\t\tsupAutorizada\n\t} = permit;\n\n\tconst elements = {\n\t\tMODULO: permit.modulo,\n\t\tCUENTA: permit.cuenta,\n\t\tUSUARIO: permit.usuario,\n\t\tCULTIVO: permit.nombreCultivo,\n\t\t\"SUPERFICIE (ha)\": permit.supAutorizada\n\t};\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de cancelar el permiso ${numeroPermiso}, ¿Realmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tcancelPermit(permitToCancelSelected, modulo, ciclo, new Date());\n\t\t\t\tdecrementPermisosPorCultivo(\n\t\t\t\t\tciclo,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tclaveCultivo,\n\t\t\t\t\tnombreCultivo,\n\t\t\t\t\tsistema,\n\t\t\t\t\ttipo,\n\t\t\t\t\tsupAutorizada\n\t\t\t\t);\n\t\t\t\tdecrementPermisosExpedidos(ciclo, modulo, supAutorizada);\n\t\t\t\tdispatch(startLoadPreCancelPermits(ciclo));\n\t\t\t\tdispatch(unsetPermitToCancel());\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"Permiso cancelado\",\n\t\t\t\t\t`Se canceló con exito el permiso ${numeroPermiso}`,\n\t\t\t\t\t\"success\"\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>{numeroPermiso}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"m-3\">\n\t\t\t\t<div className=\"row p-1 pl-2 text-warning\">\n\t\t\t\t\t<div className=\"col-4\">MOTIVO: </div>\n\t\t\t\t\t<div className=\"col-8\">{motivoCancelacion}</div>\n\t\t\t\t</div>\n\n\t\t\t\t{Object.entries(elements).map((element) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"row p-1 pl-2\" key={element[0]}>\n\t\t\t\t\t\t\t<div className=\"col-4\">{element[0]}: </div>\n\t\t\t\t\t\t\t<div className=\"col-8\">{element[1]}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t<div className=\"mb-3 d-flex justify-content-center\">\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger\" onClick={cancelarPermiso}>\n\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const cancelPermit = (permiso, modulo, ciclo, fecha) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update({ estadoPermiso: \"Cancelado\", fechaCancelacion: fecha });\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nexport const decrementPermisosPorCultivo = (\n\tciclo,\n\tmodulo,\n\tclaveCultivo,\n\tnombreCultivo,\n\tsistema,\n\ttipo,\n\tsupAutorizada\n) => {\n\tconst permisosPorCultivoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.doc(`${claveCultivo}-${nombreCultivo}`);\n\n\tswitch (sistema) {\n\t\tcase \"Gravedad\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"Pozo Federal\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"Pozo Particular\":\n\t\t\tif (tipo === \"normal\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tipo === \"extra\") {\n\t\t\t\tpermisosPorCultivoRef.update({\n\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\tbreak;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nexport const decrementPermisosExpedidos = (ciclo, modulo, supAutorizada) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.update({\n\t\t\tnumeroPermisosModulo: firebase.firestore.FieldValue.increment(-1),\n\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { setPermitToCancel, startLoadPreCancelPermits } from \"../../actions/permisosScreen\";\nimport { permisosColumns } from \"./configTables\";\nimport { CustomTable } from \"./CustomTable\";\n\nexport const PermitsCancelationTable = () => {\n\tconst { preCancelPermits } = useSelector((state) => state.permisosScreen);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tif (!preCancelPermits) {\n\t\tdispatch(startLoadPreCancelPermits(ciclo));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (preCancelPermits) {\n\t\tpreCancelPermits.forEach((permiso) => {\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t\t});\n\t\t});\n\t}\n\n\treturn (\n\t\t<CustomTable\n\t\t\ttitle=\"Permisos en proceso de cancelación\"\n\t\t\tcolumns={permisosColumns}\n\t\t\tdata={permisosFormateados}\n\t\t\tsetFunction={setPermitToCancel}\n\t\t></CustomTable>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { PermitToCancelCard } from \"../../cards/PermitToCancelCard\";\nimport { PermitsCancelationTable } from \"../../tables/PermitsCancelationTable\";\n\nexport const PermitsCancellationModule = () => {\n\tconst { permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t<PermitsCancelationTable />\n\t\t\t</div>\n\t\t\t<div className=\"col-sm-4\">{permitToCancelSelected && <PermitToCancelCard />}</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\n\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { permisosColumns } from \"../tables/configTables\";\nimport {\n\tstartLoadPermisos,\n\tsetPermisoSelected,\n\tstartLoadPermisosSearch,\n\tstartLoadSuperficies\n} from \"../../actions/permisosScreen\";\nimport { openPrintPermisoModal } from \"../../actions/altaPermisos\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { setPermisoInCancelProces } from \"../../helpers/setPermisoInCancelProces\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { PermitsCancellationModule } from \"../ui/organisms/PermitsCancellationModule\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const PermisosScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected } = useSelector((state) => state.permisosScreen);\n\tconst { modulo, privilegios } = useSelector((state) => state.auth);\n\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo, expedicionActiva } = variablesGlobales;\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: PermisosScreen\");\n\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t}, [dispatch, modulo, ciclo]);\n\n\t// if (permisos.length === 0) {\n\t// \tdispatch(startLoadPermisos(modulo, ciclo));\n\t// }\n\n\t// if (superficies === null) {\n\t// \tdispatch(startLoadSuperficies(modulo, ciclo));\n\t// }\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(startLoadPermisosSearch(palabra, modulo, ciclo));\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese número de permiso, número de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet permisosFormateados = [];\n\n\tpermisos.forEach((permiso) => {\n\t\tpermisosFormateados.push({\n\t\t\t...permiso,\n\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t});\n\t});\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tlet dataPermisoImprecion = {};\n\n\tif (dataPermiso !== undefined) {\n\t\tdataPermisoImprecion = {\n\t\t\t...dataPermiso,\n\t\t\tfechaEmicion: dataPermiso.fechaEmicion.toDate(),\n\t\t\tfechaLimite: dataPermiso.fechaLimite.toDate(),\n\t\t\tvigencia: dataPermiso.vigencia.toDate()\n\t\t};\n\t}\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\tinput: \"textarea\",\n\t\t\tinputPlaceholder: \"Indique la razón por la que desea cancelar el permiso\",\n\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de cancelar el permiso ${dataPermiso.numeroPermiso}, ¿Realmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(({ isConfirmed, value: motivo }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tif (motivo.length > 0) {\n\t\t\t\t\tsetPermisoInCancelProces(permisoSelected, modulo, ciclo, motivo);\n\t\t\t\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Solicitud recibida\",\n\t\t\t\t\t\t`Se inició el proceso de cancelación para el permiso ${dataPermiso.numeroPermiso}`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire(\"Error\", `Indique la razón por la que desea cancelar el permiso`, \"warning\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-4 p-2\">\n\t\t\t\t\t\t\t{expedicionActiva && privilegios.expedirPermisos && <NuevoPermisoButton />}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-8 d-inline-flex p-2 pr-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Número de permiso, número de cuenta o apellido paterno\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={permisosColumns}\n\t\t\t\t\t\tdata={permisosFormateados}\n\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t></CustomTable>\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t\t\t\t<h5>{dataPermiso.numeroPermiso}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.usuario}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">PRODUCTOR:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreProductor}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CULTIVO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreCultivo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUBCICLO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.subciclo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUPERFICIE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supAutorizada} ha</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">DOTACION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{roundToN(dataPermiso.dotacion * dataPermiso.supAutorizada, 3)} lts\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SISTEMA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.sistema}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.localidad}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SECCION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.seccion}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">EXPEDICION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">FECHA LIMITE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">VIGENCIA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.vigencia.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">ESTADO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.estadoPermiso}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t\t\t\t<div className=\"col-6 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleOpenPrintPermisoModal}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-6 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t{dataPermiso.estadoPermiso === \"activo\" && privilegios.solicitarCancelarPermisos && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-danger\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={cancelarPermiso}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<SuperficiesChart />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{privilegios.cancelarPermisos && <PermitsCancellationModule />}\n\n\t\t\t<PrintPermisoModal data={dataPermisoImprecion} isNew={false} />\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const setPermisoInCancelProces = (permiso, modulo, ciclo, motivo) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update({ estadoPermiso: \"En proceso de cancelación\", motivoCancelacion: motivo });\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeCultivosModal, setCultivoSelected } from \"../../actions/cultivos\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { cultivosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const CultivoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openCultivosModal, cultivos } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(cultivos);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeCultivosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openCultivosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron cultivos\" : \"Cultivos\"}\n\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setCultivoSelected}\n\t\t\t\tcloseFunction={closeCultivosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUsuariosModal, startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UsuarioModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openUsuariosModal, usuarios } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(usuarios);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUsuariosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openUsuariosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t{/* TODO: Poner el nobre de la localidad en lugar de la clave */}\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\tcloseFunction={closeUsuariosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeProductoresModal, setProductorSelected } from \"../../actions/productores\";\nimport { openNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { productoresColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const ProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openProductoresModal, productores } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(productores);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t};\n\n\tconst changeProductorModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t\tdispatch(openNuevoProductorModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openProductoresModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron productores\" : \"Productores\"}\n\t\t\t\tcolumns={productoresColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setProductorSelected}\n\t\t\t\tcloseFunction={closeProductoresModal}\n\t\t\t></CustomTable>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={changeProductorModal}>\n\t\t\t\t\t<span>Registrar nuevo productor </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import { types } from \"../types/types\";\nimport { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const openNuevoProductorModal = () => ({\n\ttype: types.altaPermisoOpenNuevoProductorModal\n});\n\nexport const closeNuevoProductorModal = () => ({\n\ttype: types.altaPermisoCloseNuevoProductorModal\n});\n\n// TODO: Comprobar que el rfc no exista\nexport const startSaveProductor = (productor) => {\n\treturn () => {\n\t\tdb.collection(\"productores\")\n\t\t\t.add(productor)\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Productor registrado\");\n\t\t\t\tSwal.fire(\"Productor registrado\", \"Se registraron con éxito los cambios.\", \"success\");\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tSwal.fire(\"Error\", e, \"error\");\n\t\t\t});\n\t};\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startSaveProductor } from \"../../actions/nuevoProductor\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const NuevoProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenNuevoProductorModal } = useSelector((state) => state.altaPermisos);\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeNuevoProductorModal());\n\t\tdispatch(removeError());\n\t};\n\n\tconst [formValues, handleInputChange] = useForm();\n\n\tconst {\n\t\tapPaterno = \"\",\n\t\tdireccion = \"\",\n\t\tapMaterno = \"\",\n\t\testado = \"\",\n\t\tnombre = \"\",\n\t\tmunicipio = \"\",\n\t\trfc = \"\",\n\t\tcp = \"\",\n\t\tgenero = \"\",\n\t\ttelefono = \"\",\n\t\tcurp = \"\"\n\t} = formValues;\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(\n\t\t\t\tstartSaveProductor({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tapPaterno: apPaterno.toUpperCase(),\n\t\t\t\t\tapMaterno: apMaterno.toUpperCase(),\n\t\t\t\t\tnombre: nombre.toUpperCase(),\n\t\t\t\t\tdireccion: direccion.toUpperCase(),\n\t\t\t\t\testado: estado.toUpperCase(),\n\t\t\t\t\tmunicipio: municipio.toUpperCase(),\n\t\t\t\t\trfc: rfc.toUpperCase(),\n\t\t\t\t\tcurp: curp.toUpperCase(),\n\t\t\t\t\ttelefono: telefono.replace(/ /g, \"\")\n\t\t\t\t})\n\t\t\t);\n\t\t\tcloseModal();\n\t\t\t// TODO: Seleccionar el nuebo productor recien guardado\n\t\t\t// TODO: Enviar mensaje de confirmacion para nuevo productor\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (apPaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido paterno\"));\n\t\t\treturn false;\n\t\t} else if (direccion.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere direccion\"));\n\t\t\treturn false;\n\t\t} else if (apMaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido materno\"));\n\t\t\treturn false;\n\t\t} else if (estado.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere estado\"));\n\t\t\treturn false;\n\t\t} else if (nombre.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre\"));\n\t\t\treturn false;\n\t\t} else if (municipio.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere municipio\"));\n\t\t\treturn false;\n\t\t} else if (rfc.trim().length < 12) {\n\t\t\tdispatch(setError(\"RFC no valido\"));\n\t\t\treturn false;\n\t\t} else if (curp.trim().length < 18) {\n\t\t\tdispatch(setError(\"CURP no valido\"));\n\t\t\treturn false;\n\t\t} else if (cp.trim().length < 5) {\n\t\t\tdispatch(setError(\"Codigo postal no valido\"));\n\t\t\treturn false;\n\t\t} else if (!genero) {\n\t\t\tdispatch(setError(\"Se requiere genero\"));\n\t\t\treturn false;\n\t\t} else if (telefono.replace(/ /g, \"\").length < 10) {\n\t\t\tdispatch(setError(\"Telefono no valido\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenNuevoProductorModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo productor</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Paterno\"\n\t\t\t\t\t\t\tname=\"apPaterno\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Direccion\"\n\t\t\t\t\t\t\tname=\"direccion\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Materno\"\n\t\t\t\t\t\t\tname=\"apMaterno\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Estado\"\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Nombre\"\n\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Municipio\"\n\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CURP\"\n\t\t\t\t\t\t\tname=\"curp\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CP\"\n\t\t\t\t\t\t\tname=\"cp\"\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* RFC\"\n\t\t\t\t\t\t\tname=\"rfc\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Telefono\"\n\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"masculino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MASCULINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"masculino\"> Masculino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"FEMENINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Femenino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MORAL\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Persona Moral</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport { useForm } from \"../../../hooks/useForm\";\nimport {\n\tcloseCultivosModal,\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\n\nexport const CultivoInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: CultivoInput\");\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(closeCultivosModal());\n\t}, [dispatch]);\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase()));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tformValues.cultivo = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tcultivo: \"\"\n\t});\n\n\tconst { cultivo } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\t\t\t\t{idCultivoSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Cultivo\"\n\t\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseProductoresModal,\n\topenProductoresModal,\n\tstartLoadProductores,\n\tunsetProductorSelected\n} from \"../../../actions/productores\";\n\nexport const ProductorInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Effect: ProductorInput\");\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(closeProductoresModal());\n\t}, [dispatch]);\n\n\tconst handleOpenProductoresModal = () => {\n\t\thandleLoadProductores();\n\t\tif (productor.length > 0) {\n\t\t\tdispatch(openProductoresModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno del productor\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadProductores = () => {\n\t\tdispatch(startLoadProductores(productor.toUpperCase()));\n\t};\n\n\tconst { idProductorSelected, nombreProductor } = useSelector((state) => state.altaPermisos);\n\n\tlet productorLabel = \"\";\n\n\tif (idProductorSelected) {\n\t\tproductorLabel = nombreProductor;\n\t}\n\n\tconst clearProductorInput = () => {\n\t\tdispatch(unsetProductorSelected());\n\t\tformValues.productor = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tproductor: \"\"\n\t});\n\n\tconst { productor } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenProductoresModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{productorLabel} </label>\n\t\t\t\t{idProductorSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\t\tname=\"productor\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={productor}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearProductorInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenProductoresModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UsuarioSelected = () => {\n\tconst { usuarios, idUsuarioSelected, supPrevia } = useSelector((state) => state.altaPermisos);\n\n\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">Cuenta: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t\t<div className=\"col-sm-3\">Colonia/Ejido: {usuario.localidad}</div>\n\t\t\t\t<div className=\"col-sm-3\">Sup. Derecho: {usuario.supRiego}</div>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\tUsuario: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Lote: {usuario.predio}</div>\n\t\t\t\t{usuario.supRiego - supPrevia === 0 ? (\n\t\t\t\t\t<div className=\"col-sm-3 text-danger\">\n\t\t\t\t\t\tSup. Disponible: {usuario.supRiego - supPrevia}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Disponible: {usuario.supRiego - supPrevia}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t{usuario.reacomodo && <div className=\"text-info\">Reacomodo: {usuario.reacomodo}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Seccion: {usuario.seccion}</div>\n\t\t\t\t<div className=\"col-sm-3\">Sistema: {usuario.sistRiego}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const ProductorSelected = () => {\n\tconst { productores, idProductorSelected } = useSelector((state) => state.altaPermisos);\n\n\tlet rfc = \"\";\n\tlet productor = \"\";\n\tlet curp = \"\";\n\n\tproductores.forEach((element) => {\n\t\tif (element.id === idProductorSelected) {\n\t\t\trfc = element.rfc;\n\t\t\tcurp = element.curp;\n\t\t\tproductor = `${element.apPaterno} ${element.apMaterno} ${element.nombre}`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-5\">Productor: {productor}</div>\n\t\t\t\t<div className=\"col-sm-4\">CURP: {curp}</div>\n\t\t\t\t<div className=\"col-sm-3\">RFC: {rfc}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadContador = async (modulo, ciclo) => {\n\tlet contador = 0;\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tcontador = doc.data().numeroPermisosModulo;\n\t\t\t} else {\n\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.set({ numeroPermisosModulo: 0 });\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn contador;\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { CultivoModal } from \"../modals/CultivoModal\";\nimport { UsuarioModal } from \"../modals/UsuarioModal\";\nimport { ProductorModal } from \"../modals/ProductorModal\";\nimport { NuevoProductorModal } from \"../modals/NuevoProductorModal\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { CultivoInput } from \"./inputsNuevosPermisos/CultivoInput\";\nimport { UsuarioInput } from \"./inputsNuevosPermisos/UsuarioInput\";\nimport { ProductorInput } from \"./inputsNuevosPermisos/ProductorInput\";\nimport { UsuarioSelected } from \"./inputsNuevosPermisos/UsuarioSelected\";\nimport { ProductorSelected } from \"./inputsNuevosPermisos/ProductorSelected\";\nimport {\n\tsetFormValues,\n\tsetOnSubmitData,\n\topenPrintPermisoModal,\n\tsetCuotaCultivo\n} from \"../../actions/altaPermisos\";\nimport { loadContador } from \"../../helpers/loadContador\";\nimport { removeError, setError } from \"../../actions/ui\";\n\nimport { startLoadAutorizadoPorCultivo } from \"../../actions/autorizadosScreen\";\n\nexport const NuevoPermisoScreen = () => {\n\tconst { idUsuarioSelected, idProductorSelected, subciclo, nombreCultivo } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tconst altaPermisos = useSelector((state) => state.altaPermisos);\n\tconst auth = useSelector((state) => state.auth);\n\tconst { variablesGlobales } = auth;\n\tconst { cicloActual: ciclo, expedicionActiva } = variablesGlobales;\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { autorizadosPorCultivo } = useSelector((state) => state.autorizadosScreen);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tvariedad: \"\",\n\t\tsupAutorizada: 0,\n\t\tfuenteCredito: \"\",\n\t\tlatitud: \"\",\n\t\tlongitud: \"\",\n\t\tobservaciones: \"\",\n\t\tcultivoAnterior: \"\",\n\t\ttransferencia: \"\",\n\t\tcuotaSanidad: true\n\t});\n\n\tconst {\n\t\tvariedad,\n\t\tsupAutorizada,\n\t\tfuenteCredito,\n\t\tobservaciones,\n\t\tcultivoAnterior,\n\t\ttransferencia,\n\t\tcuotaSanidad\n\t} = formValues;\n\n\tconst permisoData = {\n\t\t...formValues,\n\t\t...altaPermisos,\n\t\t...auth\n\t};\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadAutorizadoPorCultivo(ciclo, auth.modulo, altaPermisos.claveCultivo));\n\t}, [ciclo, dispatch, auth.modulo, altaPermisos.claveCultivo]);\n\n\tuseEffect(() => {\n\t\tconst cultivoSelected = altaPermisos.cultivos.find(\n\t\t\t(cultivo) => cultivo.id === altaPermisos.idCultivoSelected\n\t\t);\n\n\t\tconst defineCuota = () => {\n\t\t\tif (!cuotaSanidad) return 0;\n\t\t\tif (altaPermisos.idCultivoSelected) return cultivoSelected.costoHectarea;\n\t\t};\n\n\t\tdispatch(setCuotaCultivo(defineCuota()));\n\t}, [\n\t\tciclo,\n\t\tdispatch,\n\t\taltaPermisos.cuotaCultivo,\n\t\tcuotaSanidad,\n\t\taltaPermisos.cultivos,\n\t\taltaPermisos.idCultivoSelected\n\t]);\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst onSendForm = async (e) => {\n\t\tif (await isFormValid()) {\n\t\t\te.preventDefault();\n\t\t\tdispatch(setFormValues(formValues));\n\t\t\tdispatch(setOnSubmitData(await getOnSubmitData()));\n\t\t\thandleOpenPrintPermisoModal();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!expedicionActiva) {\n\t\t\tdispatch(setError(\"Expedición cerrada! Por el momento no es posible expedir permisos.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.usuario) {\n\t\t\tdispatch(setError(\"El campo usuario es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreProductor) {\n\t\t\tdispatch(setError(\"El campo productor es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreCultivo) {\n\t\t\tdispatch(setError(\"El campo cultivo es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (supAutorizada <= 0) {\n\t\t\tdispatch(setError(\"Ingrese la superficie que será autorizada en este permiso.\"));\n\t\t\treturn false;\n\t\t} else if (altaPermisos.supDerecho - altaPermisos.supPrevia < supAutorizada) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"La superficie excede la superficie disponible de la cuenta seleccionada.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (!fuenteCredito) {\n\t\t\tdispatch(setError(\"Especifique la fuente de crédito.\"));\n\t\t\treturn false;\n\t\t} else if (!cultivoAnterior) {\n\t\t\tdispatch(setError(\"Especifique el cultivo anterior.\"));\n\t\t\treturn false;\n\t\t} else if (\n\t\t\tautorizadosPorCultivo === undefined ||\n\t\t\tdefineTipoPermiso(autorizadosPorCultivo) === \"Superficie no disponible\"\n\t\t) {\n\t\t\tdispatch(setError(\"Superficie no disponible.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\t\treturn true;\n\t};\n\n\tconst getOnSubmitData = async () => {\n\t\tconst data = {\n\t\t\ttipo: defineTipoPermiso(autorizadosPorCultivo),\n\t\t\tciclo,\n\t\t\tnumeroPermiso: await defineNumeroPermiso(),\n\t\t\tfechaEmicion: moment(),\n\t\t\t// TODO: Verificar la fecha limite de siembra\n\t\t\tfechaLimite: moment().add(10, \"days\"),\n\t\t\tvigencia: defineVigencia(subciclo),\n\t\t\testadoPermiso: await defineEstadoPermiso(nombreCultivo)\n\t\t};\n\n\t\treturn data;\n\t};\n\n\t// TODO: Probar defineTipoPermiso (es necesario conciderar el acumulado de lo expedido para cada cultivo)\n\tconst defineTipoPermiso = ({\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAsignada\n\t}) => {\n\t\tswitch (altaPermisos.sistema) {\n\t\t\tcase \"Gravedad\":\n\t\t\t\tif (gravedadNormalAsignada >= supAutorizada) return \"normal\";\n\t\t\t\tif (gravedadExtraAsignada >= supAutorizada) return \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tcase \"Pozo Federal\":\n\t\t\t\tif (pozoNormalAsignada >= supAutorizada) return \"normal\";\n\t\t\t\tif (pozoExtraAsignada >= supAutorizada) return \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tdefault:\n\t\t\t\treturn \"Superficie no disponible\";\n\t\t}\n\t};\n\n\tconst defineNumeroPermiso = async () => {\n\t\tconst permiso = `MOD${auth.modulo}-${fill((await loadContador(auth.modulo, ciclo)) + 1, 3)}`;\n\t\treturn permiso;\n\t};\n\n\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\n\tconst defineVigencia = (subciclo) => {\n\t\t// TODO: Determinar la vigencia segun subciclo y fecha de emicion\n\t\tlet vigencia = null;\n\t\tif (subciclo) {\n\t\t\tswitch (subciclo) {\n\t\t\t\tcase \"PRIMAVERA-VERANO\":\n\t\t\t\t\tvigencia = moment(\"09/30/2021\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"OTOÑO-INVIERNO\":\n\t\t\t\t\tvigencia = moment(\"05/31/2021\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENNES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2021\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2021\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvigencia = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn vigencia;\n\t};\n\n\tconst defineEstadoPermiso = async (cultivo) => {\n\t\tlet estado = \"\";\n\n\t\tif (cultivo === \"ALGODONERO\") estado = \"pendiente\";\n\t\telse estado = \"activo\";\n\n\t\treturn estado;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Alta de permiso unico de siembra</h1>\n\t\t\t</div>\n\n\t\t\t{/* TODO: indicar cuando un campo es incorrecto directamente en los inputs */}\n\t\t\t{/* TODO: Cambiar el flujo de los tab para que no se seleccionen las lupas */}\n\t\t\t{/* TODO: Checkbox para transferencia interna */}\n\t\t\t<form className=\"container pb-4\">\n\t\t\t\t{/* TODO: Poner el mensaje de error en un lugar mas visible */}\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t{idUsuarioSelected ? <UsuarioSelected /> : <></>}\n\t\t\t\t{idProductorSelected ? <ProductorSelected /> : <></>}\n\n\t\t\t\t<div className=\"row text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<UsuarioInput />\n\t\t\t\t\t<ProductorInput />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<CultivoInput />\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tVariedad:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"variedad\"\n\t\t\t\t\t\t\t\t\tname=\"variedad\"\n\t\t\t\t\t\t\t\t\tvalue={variedad}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tSuperficie:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"superficie\"\n\t\t\t\t\t\t\t\t\tname=\"supAutorizada\"\n\t\t\t\t\t\t\t\t\tvalue={supAutorizada}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tFuente de credito:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"fuente de credito\"\n\t\t\t\t\t\t\t\t\tname=\"fuenteCredito\"\n\t\t\t\t\t\t\t\t\tvalue={fuenteCredito}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tCultivo anterior:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cultivo anterior\"\n\t\t\t\t\t\t\t\t\tname=\"cultivoAnterior\"\n\t\t\t\t\t\t\t\t\tvalue={cultivoAnterior}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">Transferencia interna:</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cuenta destino\"\n\t\t\t\t\t\t\t\t\tname=\"transferencia\"\n\t\t\t\t\t\t\t\t\tvalue={transferencia}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group row p-3\">\n\t\t\t\t\t\t\t<label className=\"mr-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\tid=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tname=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tvalue={cuotaSanidad}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tchecked={cuotaSanidad}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cuotaSanidad\">\n\t\t\t\t\t\t\t\t\tCobrar cuota de sanidad vegetal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Observaciones\"\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\tname=\"observaciones\"\n\t\t\t\t\t\tvalue={observaciones}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tInformación adicional\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"row d-flex justify-content-center pt-5\"\n\t\t\t\t\t// onClick={handleOpenPrintPermisoModal}\n\t\t\t\t>\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary\" onClick={onSendForm}>\n\t\t\t\t\t\t<i className=\"far fa-file\"></i>\n\t\t\t\t\t\t<span> Revisar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<CultivoModal />\n\t\t\t<UsuarioModal />\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<PrintPermisoModal data={permisoData} isNew={true} />\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UserCard = () => {\n\tconst { usuario } = useSelector((state) => state.entidades);\n\n\tif (usuario) {\n\t\tconst cuenta = `${usuario.cuenta}.${usuario.subcta}`;\n\t\tconst localidad = usuario.localidad;\n\t\tconst derecho = usuario.supRiego;\n\t\tconst lote = usuario.predio;\n\t\tconst derechoDisponible = derecho - usuario.supPrevia;\n\t\tconst nombreUsuario = `${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`;\n\t\tconst seccion = usuario.seccion;\n\n\t\treturn (\n\t\t\t<div className=\"row border border-info rounded m-1\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"row border-bottom border-info p-2\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t\t<h3>Cuenta: {cuenta}</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex flex-column p-4\">\n\t\t\t\t\t\t\t<div>Usuario: {nombreUsuario}</div>\n\t\t\t\t\t\t\t<div>Lote: {lote}</div>\n\t\t\t\t\t\t\t<div>Colonia/Ejido: {localidad}</div>\n\t\t\t\t\t\t\t<div>Seccion: {seccion}</div>\n\t\t\t\t\t\t\t<div>Sup. Derecho: {derecho}</div>\n\t\t\t\t\t\t\t<div>Sup. Disponible: {derechoDisponible}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n// import { useForm } from \"../../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenProductoresModal,\n\tstartLoadProductores,\n\tunsetProductorSelected\n} from \"../../../actions/productores\";\n\nexport const ProductorInput2 = ({ productor, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenProductoresModal = () => {\n\t\thandleLoadProductores();\n\t\tif (productor.length > 0) {\n\t\t\tdispatch(openProductoresModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno del productor\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadProductores = () => {\n\t\tdispatch(startLoadProductores(productor.toUpperCase()));\n\t};\n\n\tconst { idProductorSelected, nombreProductor } = useSelector((state) => state.altaPermisos);\n\n\tlet productorLabel = \"\";\n\n\tif (idProductorSelected) {\n\t\tproductorLabel = nombreProductor;\n\t}\n\n\tconst clearProductorInput = () => {\n\t\tdispatch(unsetProductorSelected());\n\t\t// formValues.productor = \"\";\n\t};\n\n\t// const [formValues, handleInputChange] = useForm({\n\t// \tproductor: \"\"\n\t// });\n\n\t// const { productor } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenProductoresModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group d-flex flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tProductor:\n\t\t\t</label>\n\n\t\t\t{idProductorSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label>{productorLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearProductorInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\tname=\"productor\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={productor}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenProductoresModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\n\nexport const CultivoInput2 = ({ cultivo, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase()));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tcultivo = \"\";\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tCultivo:\n\t\t\t</label>\n\n\t\t\t{idCultivoSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Cultivo\"\n\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLocaltiesFromUnassignedPermits = async () => {\n\tconst permisosSnap = db.collectionGroup(\"permisos\").where(\"tecnico\", \"==\", \"sinAsignar\");\n\tconst localties = [];\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tif (!localties.includes(doc.data().localidad)) {\n\t\t\t\tlocalties.push(doc.data().localidad);\n\t\t\t}\n\t\t});\n\t});\n\n\treturn localties;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLocaltiesGroup = async (localties) => {\n\tlet localtiesGroup = [];\n\tconst localtiesData = [];\n\tconst dataPromises = [];\n\n\tconst pushOnLocaltiesData = (localtiesForLoad) => {\n\t\tdataPromises.push(db.collection(`colonias`).where(\"nombre\", \"in\", localtiesForLoad).get());\n\t};\n\n\tlocalties.forEach((location, i) => {\n\t\tlocaltiesGroup.push(location);\n\t\tif (localtiesGroup.length === 10) {\n\t\t\tpushOnLocaltiesData(localtiesGroup);\n\t\t\tlocaltiesGroup.splice(0, localtiesGroup.length);\n\t\t\ti = 0;\n\t\t}\n\t});\n\n\tif (localtiesGroup.length > 0) pushOnLocaltiesData(localtiesGroup);\n\n\tconst promisesResults = await Promise.all(dataPromises);\n\n\tpromisesResults.forEach((promise) => {\n\t\tpromise.forEach((snapHijo) => {\n\t\t\tlocaltiesData.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn localtiesData;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const assignTechnician = async (ciclo, modulo, localties, tecnico) => {\n\tlet localtiesGroup = [];\n\tconst dataPromises = [];\n\n\tconst pushOnPermitsData = (localtiesForLoad) => {\n\t\tdataPromises.push(\n\t\t\tdb\n\t\t\t\t.collection(`permisos`)\n\t\t\t\t.doc(ciclo)\n\t\t\t\t.collection(\"modulos\")\n\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t.collection(`permisos`)\n\t\t\t\t.where(\"localidad\", \"in\", localtiesForLoad)\n\t\t\t\t.where(\"tecnico\", \"==\", \"sinAsignar\")\n\t\t\t\t.get()\n\t\t);\n\t};\n\n\tlocalties.forEach((location, i) => {\n\t\tlocaltiesGroup.push(location);\n\t\tif (localtiesGroup.length === 10) {\n\t\t\tpushOnPermitsData(localtiesGroup);\n\t\t\tlocaltiesGroup.splice(0, localtiesGroup.length);\n\t\t\ti = 0;\n\t\t}\n\t});\n\n\tif (localtiesGroup.length > 0) pushOnPermitsData(localtiesGroup);\n\n\tawait Promise.all(dataPromises).then((promisesResults) => {\n\t\tpromisesResults.forEach((promise) => {\n\t\t\tpromise.forEach((snapHijo) => {\n\t\t\t\tdb.runTransaction(async (transaction) => {\n\t\t\t\t\treturn transaction.get(snapHijo.ref).then((permiso) => {\n\t\t\t\t\t\tif (!permiso.exists) {\n\t\t\t\t\t\t\tconsole.log(\"Document does not exist!\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttransaction.update(snapHijo.ref, { tecnico: tecnico });\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Transaction successfully committed!\");\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(\"Transaction failed: \", error);\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tSwal.fire(\n\t\t\t\t\"Técnico asignado\",\n\t\t\t\t\"El técnico se asignó con éxito en las localidades seleccionadas.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\t\t});\n\t});\n};\n\n// export const assignTechnician = async (ciclo, modulo, localties, tecnico) => {\n// \tdb.collection(`permisos`)\n// \t\t.doc(ciclo)\n// \t\t.collection(\"modulos\")\n// \t\t.doc(`Modulo-${modulo}`)\n// \t\t.collection(`permisos`)\n// \t\t.where(\"localidad\", \"in\", localties)\n// \t\t.where(\"tecnico\", \"==\", \"sinAsignar\")\n// \t\t.get()\n// \t\t.then((permits) => {\n// \t\t\tpermits.forEach((permit) => {\n// \t\t\t\tconsole.log(permit.ref);\n// \t\t\t\tdb.runTransaction(async (transaction) => {\n// \t\t\t\t\treturn transaction.get(permit.ref).then((permiso) => {\n// \t\t\t\t\t\tif (!permiso.exists) {\n// \t\t\t\t\t\t\tconsole.log(\"Document does not exist!\");\n// \t\t\t\t\t\t}\n\n// \t\t\t\t\t\ttransaction.update(permit.ref, { tecnico: tecnico });\n// \t\t\t\t\t});\n// \t\t\t\t})\n// \t\t\t\t\t.then(() => {\n// \t\t\t\t\t\tconsole.log(\"Transaction successfully committed!\");\n// \t\t\t\t\t\treturn true;\n// \t\t\t\t\t})\n// \t\t\t\t\t.catch((error) => {\n// \t\t\t\t\t\tconsole.log(\"Transaction failed: \", error);\n// \t\t\t\t\t});\n// \t\t\t});\n\n// \t\t\tSwal.fire(\n// \t\t\t\t\"Técnico asignado\",\n// \t\t\t\t\"El técnico se asignó con éxito en las localidades seleccionadas.\",\n// \t\t\t\t\"success\"\n// \t\t\t);\n// \t\t});\n// };\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadLocalties = async (localtie) => {\n\tconst localtiesSnap = await db\n\t\t.collection(`colonias`)\n\t\t.orderBy(\"nombre\")\n\t\t.startAt(localtie)\n\t\t.endAt(localtie + \"\\uf8ff\")\n\t\t.get();\n\n\tconst localties = [];\n\n\tlocaltiesSnap.forEach((snapHijo) => {\n\t\tlocalties.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn localties;\n};\n","import { types } from \"../../types/types\";\nimport { loadLocaltiesFromUnassignedPermits } from \"../../helpers/loadLocaltiesFromUnassignedPermits\";\nimport { loadLocaltiesGroup } from \"../../helpers/loadLocaltiesGroup\";\nimport { assignTechnician } from \"../../helpers/assignTechnician\";\nimport { loadLocalties } from \"../../helpers/DB/loadLocalties\";\n\nexport const startLoadLocaltiesFromUnassignedPermits = () => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocaltiesFromUnassignedPermits();\n\t\tconst localtiesData = await loadLocaltiesGroup(localties);\n\t\tdispatch(setLocalties(localtiesData));\n\t};\n};\n\nexport const startAssignTechnician = (ciclo, modulo, localtiesNames, uid) => {\n\tassignTechnician(ciclo, modulo, localtiesNames, uid);\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(startLoadLocaltiesFromUnassignedPermits());\n\t\tdispatch(unsetLocalties());\n\t\tdispatch(unsetSelectedLocalties());\n\t};\n};\n\nexport const startLoadLocalties = (localtie) => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocalties(localtie);\n\t\tdispatch(setLocalties(localties));\n\t};\n};\n\nexport const setLocalties = (localties) => ({\n\ttype: types.setLocalties,\n\tpayload: localties\n});\n\nexport const unsetLocalties = () => ({\n\ttype: types.unsetLocalties\n});\n\nexport const setSelectedLocalties = (localties) => ({\n\ttype: types.setSelectedLocalties,\n\tpayload: localties\n});\n\nexport const unsetSelectedLocalties = () => ({\n\ttype: types.unsetSelectedLocalties\n});\n\nexport const setLocaltieSelected = (localtie) => ({\n\ttype: types.setLocaltieSelected,\n\tpayload: localtie\n});\n\nexport const unsetLocaltieSelected = () => ({\n\ttype: types.unsetLocaltieSelected\n});\n\nexport const openLocaltiesModal = () => ({\n\ttype: types.openLocaltiesModal\n});\n\nexport const closeLocaltiesModal = () => ({\n\ttype: types.closeLocaltiesModal\n});\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\n// import { useForm } from \"../../../hooks/useForm\";\nimport {\n\topenLocaltiesModal,\n\tstartLoadLocalties,\n\tunsetLocaltieSelected\n} from \"../../../actions/entidades/localidades\";\n\nexport const LocalidadInput = ({ localtie, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenLocaltiesModal = () => {\n\t\thandleLoadLocalties();\n\t\tif (localtie.length > 0) {\n\t\t\tdispatch(openLocaltiesModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre de la localidad\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadLocalties = () => {\n\t\tdispatch(startLoadLocalties(localtie.toUpperCase()));\n\t};\n\n\tconst { localtieSelected } = useSelector((state) => state.entidades);\n\n\tlet localtieLabel = \"\";\n\tlet idLocaltieSelected = \"\";\n\n\tif (localtieSelected) {\n\t\tlocaltieLabel = localtieSelected.nombre;\n\t\tidLocaltieSelected = localtieSelected.id;\n\t}\n\n\tconst clearLocaltieInput = () => {\n\t\tdispatch(unsetLocaltieSelected());\n\t\t// formValues.localtie = \"\";\n\t};\n\n\t// const [formValues, handleInputChange] = useForm({\n\t// \tlocaltie: \"\"\n\t// });\n\n\t// const { localtie } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenLocaltiesModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group d-flex flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tLocalidad destino:\n\t\t\t</label>\n\n\t\t\t{idLocaltieSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label>{localtieLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearLocaltieInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control d-flex\"\n\t\t\t\t\t\tplaceholder=\"Localidad\"\n\t\t\t\t\t\tname=\"localtie\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={localtie}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenLocaltiesModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { saveTransfer } from \"../../helpers/saveTransfer\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { ProductorInput2 } from \"../permisos/inputsNuevosPermisos/ProductorInput2\";\nimport { CultivoInput2 } from \"../permisos/inputsNuevosPermisos/CultivoInput2\";\nimport { LocalidadInput } from \"../permisos/inputsNuevosPermisos/LocalidadInput\";\nimport { unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetProductorSelected } from \"../../actions/productores\";\nimport { unsetLocaltieSelected } from \"../../actions/entidades/localidades\";\n\nexport const TransferForm = () => {\n\tconst { usuario, localtieSelected } = useSelector((state) => state.entidades);\n\tconst { nombreProductor, rfcProductor, nombreCultivo, claveCultivo } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\n\tconst [\n\t\t{ superficieTransferida, loteDestino, moduloDestino, cultivo, productor, localtie },\n\t\thandleInputChange,\n\t\treset\n\t] = useForm({\n\t\tsuperficieTransferida: 0,\n\t\tloteDestino: \"\",\n\t\tmoduloDestino: \"\",\n\t\tcultivo: \"\",\n\t\tproductor: \"\",\n\t\tlocaltie: \"\"\n\t});\n\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tlet superficieDisponible;\n\n\tif (usuario) {\n\t\tsuperficieDisponible = usuario.supRiego - usuario.supPrevia;\n\t}\n\n\tconst dispatch = useDispatch();\n\n\tconst isFormValid = () => {\n\t\tif (parseInt(superficieTransferida) <= 0) {\n\t\t\tdispatch(setError(\"Indique superficie a transferir\"));\n\t\t\treturn false;\n\t\t} else if (parseInt(superficieTransferida) > superficieDisponible) {\n\t\t\tdispatch(setError(\"La superficie a transferir excede a la superficie disponible\"));\n\t\t\treturn false;\n\t\t} else if (moduloDestino.trim().length === 0) {\n\t\t\t// TODO: Verificar que exista el modulo\n\t\t\tdispatch(setError(\"Indique el módulo destino\"));\n\t\t\treturn false;\n\t\t} else if (loteDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique el lote en el que se aplicará la transferencia\"));\n\t\t\treturn false;\n\t\t} else if (rfcProductor === null) {\n\t\t\tdispatch(setError(\"Indique Productor\"));\n\t\t\treturn false;\n\t\t} else if (nombreCultivo === null) {\n\t\t\tdispatch(setError(\"Indique Cultivo\"));\n\t\t\treturn false;\n\t\t} else if (localtieSelected === null) {\n\t\t\tdispatch(setError(\"Indique la localidad destino\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst startSaveTransfer = (e) => {\n\t\te.preventDefault();\n\t\tif (isFormValid()) {\n\t\t\tconst transfer = {\n\t\t\t\tsuperficieTransferida: parseInt(superficieTransferida),\n\t\t\t\tloteDestino,\n\t\t\t\tlocalidadDestino: localtieSelected.nombre,\n\t\t\t\tclavelocalidadDestino: localtieSelected.clave,\n\t\t\t\tmoduloDestino,\n\t\t\t\tcuentaOrigen: `${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t\tusuario: `${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`,\n\t\t\t\tloteOrigen: usuario.predio,\n\t\t\t\tlocalidadOrigen: usuario.ejido,\n\t\t\t\tmoduloOrigen: usuario.modulo,\n\t\t\t\tnombreProductor,\n\t\t\t\trfcProductor,\n\t\t\t\tnombreCultivo,\n\t\t\t\tclaveCultivo,\n\t\t\t\tfecha: new Date()\n\t\t\t};\n\t\t\tsaveTransfer(transfer, ciclo);\n\t\t\tdispatch(startSetUsuarioSelected(usuario));\n\t\t\treset();\n\t\t\tdispatch(unsetCultivoSelected());\n\t\t\tdispatch(unsetProductorSelected());\n\t\t\tdispatch(unsetLocaltieSelected());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartSaveTransfer(event);\n\t\t}\n\t};\n\n\tif (usuario) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"row border border-info rounded mt-4 m-1\">\n\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center border-bottom border-info p-2\">\n\t\t\t\t\t\t<h3>Transferencia</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-12 d-flex flex-column p-3\">\n\t\t\t\t\t\t<div className=\"row d-flex p-3 text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t\t\t{/* TODO: resaltar mensaje de error */}\n\t\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tSuperficie a transferir (ha):\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"0 ha\"\n\t\t\t\t\t\t\t\tname=\"superficieTransferida\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={superficieTransferida}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t\t<CultivoInput2 cultivo={cultivo} handleInputChange={handleInputChange} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t\t<ProductorInput2 productor={productor} handleInputChange={handleInputChange} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tModulo destino:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"moduloDestino\"\n\t\t\t\t\t\t\t\tvalue={moduloDestino}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\tModulo\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t\t\t\t<option value=\"9\">Modulo 9A</option>\n\t\t\t\t\t\t\t\t<option value=\"92\">Modulo 9B</option>\n\t\t\t\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t\t\t\t<option value=\"23\">Modulo FL</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t\t<LocalidadInput localtie={localtie} handleInputChange={handleInputChange} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tLote destino:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Lote\"\n\t\t\t\t\t\t\t\tname=\"loteDestino\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={loteDestino}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary flex-fill\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={startSaveTransfer}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>Guardar </span>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveTransfer = (transfer, ciclo) => {\n\tdb.collection(\"transferencias\")\n\t\t.doc(ciclo)\n\t\t.collection(\"transferencias\")\n\t\t.add(transfer)\n\t\t.then(() => {\n\t\t\tSwal.fire(\n\t\t\t\t\"Transferencia Guardada\",\n\t\t\t\t\"Se registró con éxito la nueva transferencia.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t\tSwal.fire(\"Error\", e, \"error\");\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { startLoadUsuarios } from \"../../actions/usuarios\";\n\nexport const UsuariosInput = () => {\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLoadUsuarios = () => {\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo));\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tusuario: \"\"\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleLoadUsuarios();\n\t\t}\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row form-group d-flex align-items-baseline pt-3\">\n\t\t\t\t<label className=\"col-sm-3\">Usuario: </label>\n\t\t\t\t<div className=\"col-sm-9 d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleLoadUsuarios}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\n\nexport const UsuariosTable = () => {\n\tconst { usuarios } = useSelector((state) => state.entidades);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeLocaltiesModal, setLocaltieSelected } from \"../../actions/entidades/localidades\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { localtiesColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const LocalidadesModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openLocaltiesModal, localties } = useSelector((state) => state.entidades);\n\tlet data = [];\n\n\tif (localties) {\n\t\tdata = Object.values(localties);\n\t}\n\n\tconst closeModal = () => {\n\t\tdispatch(closeLocaltiesModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openLocaltiesModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron localidades\" : \"Localidades\"}\n\t\t\t\tcolumns={localtiesColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setLocaltieSelected}\n\t\t\t\tcloseFunction={closeLocaltiesModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { UserCard } from \"../components/cards/UserCard\";\nimport { TransferForm } from \"../components/forms/TransferForm\";\nimport { UsuariosInput } from \"../components/inputs/UsuariosInput\";\nimport { NuevoProductorModal } from \"../components/modals/NuevoProductorModal\";\nimport { ProductorModal } from \"../components/modals/ProductorModal\";\nimport { CultivoModal } from \"../components/modals/CultivoModal\";\nimport { UsuariosTable } from \"../components/tables/UsuariosTable\";\nimport { LocalidadesModal } from \"../components/modals/LocalidadesModal\";\n\nexport const TransferenciasScreen = () => {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<UsuariosInput />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<UsuariosTable />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<UserCard />\n\t\t\t\t\t<TransferForm />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<CultivoModal />\n\t\t\t<LocalidadesModal />\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startAssignTechnician } from \"../../actions/entidades/localidades\";\n\nexport const AssignTechnicianButton = () => {\n\tconst { selectedLocalties } = useSelector((state) => state.entidades);\n\tconst { uid, modulo } = useSelector((state) => state.auth);\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tconst localtiesNames = [];\n\n\tif (selectedLocalties) {\n\t\tselectedLocalties.forEach((location) => {\n\t\t\tlocaltiesNames.push(location.nombre);\n\t\t});\n\t}\n\n\tconst handleAssingTechnician = () => {\n\t\tdispatch(startAssignTechnician(ciclo, modulo, localtiesNames, uid));\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handleAssingTechnician}>\n\t\t\t\t<span>Asignar técnico </span>\n\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomSelectableTable = ({\n\ttitle,\n\tcolumns,\n\tdata,\n\tsetSelectedRowsFunction,\n\tcontextMessage\n}) => {\n\tconst dispatch = useDispatch();\n\n\tconst setSelectedRows = (rows) => {\n\t\tdispatch(setSelectedRowsFunction(rows.selectedRows));\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tselectableRows={true}\n\t\t\tonSelectedRowsChange={setSelectedRows}\n\t\t\tcontextMessage={contextMessage}\n\t\t/>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetSelectedLocalties,\n\tstartLoadLocaltiesFromUnassignedPermits\n} from \"../../actions/entidades/localidades\";\nimport { CustomSelectableTable } from \"../tables/CustomSelectableTable\";\nimport { localtiesColumns } from \"./configTables\";\n\nexport const SelectableLocaltiesTable = () => {\n\tconst { localties } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\n\tif (!localties) {\n\t\tdispatch(startLoadLocaltiesFromUnassignedPermits());\n\t}\n\n\tconst contextMessage = { singular: \"localidad\", plural: \"localidades\", message: \"para asignar\" };\n\n\tif (localties) {\n\t\treturn (\n\t\t\t<CustomSelectableTable\n\t\t\t\ttitle={\"Localidades disponibles\"}\n\t\t\t\tcolumns={localtiesColumns}\n\t\t\t\tdata={localties}\n\t\t\t\tsetSelectedRowsFunction={setSelectedLocalties}\n\t\t\t\tcontextMessage={contextMessage}\n\t\t\t/>\n\t\t);\n\t} else return <></>;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { AssignTechnicianButton } from \"../components/buttons/AssignTechnicianButton\";\nimport { SelectableLocaltiesTable } from \"../components/tables/SelectableLocaltiesTable\";\n\nexport const AsignacionScreen = () => {\n\tconst { selectedLocalties } = useSelector((state) => state.entidades);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-center p-4\">\n\t\t\t\t<h1>Asignación de técnico</h1>\n\t\t\t</div>\n\t\t\t{selectedLocalties && selectedLocalties.length > 0 ? <AssignTechnicianButton /> : <></>}\n\t\t\t<div className=\"row pt-3\">\n\t\t\t\t<SelectableLocaltiesTable />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadPermisosAlgodonero = async () => {\n\tconst permisos = [];\n\n\tconst permisosSnap = db.collectionGroup(\"permisos\").where(\"nombreCultivo\", \"==\", \"ALGODONERO\");\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSearchPermisosAlgodonero = async (palabra) => {\n\tconst permisos = [];\n\n\tconst permisosNombre = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"nombreCultivo\", \"==\", \"ALGODONERO\")\n\t\t.orderBy(\"usuario\")\n\t\t.startAt(palabra.toUpperCase())\n\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\n\tawait permisosNombre.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst permisosCuenta = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"nombreCultivo\", \"==\", \"ALGODONERO\")\n\t\t.orderBy(\"cuenta\")\n\t\t.startAt(palabra.toUpperCase())\n\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\n\tawait permisosCuenta.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst permisosPermiso = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"nombreCultivo\", \"==\", \"ALGODONERO\")\n\t\t.orderBy(\"numeroPermiso\")\n\t\t.startAt(palabra.toUpperCase())\n\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\n\tawait permisosPermiso.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadPermisosAlgodonero } from \"../helpers/loadPermisosAlgodonero\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadSearchPermisosAlgodonero } from \"../helpers/loadSearchPermisosAlgodonero\";\n\nexport const startLoadPermisos = () => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisosAlgodonero();\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (palabra) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadSearchPermisosAlgodonero(palabra);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.algodoneroScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.algodoneroScreenUnsetPermisos\n});\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const openSanidadModal = () => ({\n\ttype: types.openSanidadModal\n});\n\nexport const closeSanidadModal = () => ({\n\ttype: types.closeSanidadModal\n});\n","import { db } from \"../firebase/firebase-config\";\n\nexport const updatePermisoAlgodonero = (permiso, modulo, ciclo, objeto) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update(objeto);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startLoadPermisos, openSanidadModal } from \"../../actions/algodoneroScreen\";\nimport { updatePermisoAlgodonero } from \"../../helpers/updatePermisoAlgodonero\";\n\nexport const CheckSanidad = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { permisos, permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\n\tlet dataPermiso;\n\n\tconst cuotaSanidad = 20;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst setUnset = (objeto, e) => {\n\t\te.preventDefault();\n\t\tupdatePermisoAlgodonero(permisoSelected, dataPermiso.modulo, ciclo, objeto);\n\t\tdispatch(startLoadPermisos());\n\t};\n\n\tconst addSuperficieMapeada = (superficieActual) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Actualizar superficie mapeada\",\n\t\t\tinput: \"number\",\n\t\t\tinputPlaceholder: superficieActual,\n\t\t\tinputAttributes: {\n\t\t\t\tautocapitalize: \"off\"\n\t\t\t},\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tupdatePermisoAlgodonero(permisoSelected, dataPermiso.modulo, ciclo, {\n\t\t\t\t\tsuperficieMapeada: result.value\n\t\t\t\t});\n\t\t\t\tdispatch(startLoadPermisos());\n\t\t\t\tSwal.fire(\"OK\", `Se actualiso la superficie mapeada`, \"success\");\n\t\t\t}\n\t\t});\n\t};\n\n\tconst formatter = new Intl.NumberFormat(\"es-MX\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"MXN\"\n\t\t// minimumFractionDigits: 0\n\t});\n\n\tconst handleOpenSanidadModal = () => {\n\t\tdispatch(openSanidadModal());\n\t};\n\n\t// TODO: Asignar folio de constancia fitosanitaria al expedir permiso de algodon\n\n\treturn (\n\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t<h5>{dataPermiso.numeroPermiso}</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.usuario}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">PRODUCTOR:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreProductor}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">SUPERFICIE:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supAutorizada} ha</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.localidad}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">SECCION:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.seccion}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">DESFOLIADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.desfoliado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desfoliado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desfoliado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">COSECHADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.cosechado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ cosechado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : dataPermiso.desfoliado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ cosechado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-secondary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t// onClick={setError}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">DESVARADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.desvarado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desvarado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : dataPermiso.cosechado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desvarado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-secondary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t// onClick={setError}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">DISQUEADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.disqueado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ disqueado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : dataPermiso.desvarado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ disqueado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-secondary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t// onClick={setError}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">DESARRAIGADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.desarraigado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desarraigado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : dataPermiso.disqueado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ desarraigado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-secondary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t// onClick={setError}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{dataPermiso.desarraigado ? (\n\t\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-6 \">SUPERFICIE MAPEADA:</div>\n\t\t\t\t\t\t<div className=\"col-3\">{dataPermiso.superficieMapeada} Ha</div>\n\t\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addSuperficieMapeada(dataPermiso.superficieMapeada)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MONTO A PAGAR:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{formatter.format(dataPermiso.supAutorizada * cuotaSanidad)} MN\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-4\">PAGADO:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{dataPermiso.pagado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ pagado: false }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : dataPermiso.desarraigado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-success btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={(e) => setUnset({ pagado: true }, e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-secondary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t// onClick={setError}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t<div className=\"col-6 d-flex justify-content-center\">\n\t\t\t\t\t\t{dataPermiso.pagado ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success\"\n\t\t\t\t\t\t\t\tonClick={handleOpenSanidadModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { closeSanidadModal } from \"../../actions/algodoneroScreen\";\n\nexport const PrintSanidadModal = ({ data }) => {\n\tconst { printSanidadModal } = useSelector((state) => state.algodoneroScreen);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closeSanidadModal());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={printSanidadModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tSECRETARIA DE AGRICULTURA Y DESARROLLO RURAL <br />\n\t\t\t\t\t\tDISTRITO DE DESARROLLO RURAL 002, RIO COLORADO <br />\n\t\t\t\t\t\tCOMITÉ ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 80 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h4>\n\t\t\t\t\t<b>CONSTANCIA DE EJECUCIÓN DE LABORES FITOSANITARIAS</b>\n\t\t\t\t</h4>\n\t\t\t</div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h5>\n\t\t\t\t\t<b>ALGODONERO CICLO P-V {data.ciclo}</b>\n\t\t\t\t</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5 text-justify\">\n\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPOR LA PRESENTE HACEMOS CONSTAR QUE EL C. {data.nombreProductor}, PRODUCTOR DEL LOTE NO.\n\t\t\t\t\t\t{data.lote} DEL EJIDO/COLONIA {data.localidad}, CON SUPERFICIE SEMBRADA DE:\n\t\t\t\t\t\t{data.supAutorizada} HA; REALIZÓ LAS LABORES FITOSANITARIAS EN UNA SUPERFICIE DESVARADA\n\t\t\t\t\t\tDE: {data.supAutorizada} HA; SUPERFICIE DISQUEADA DE: {data.supAutorizada} HA;\n\t\t\t\t\t\tSUPERFICIE BARBECHADA DE: {data.supAutorizada} HA; SUPERFICIE CON DESARRAIGO TOTAL DE:\n\t\t\t\t\t\t{data.supAutorizada} HA.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tDANDO ASÍ CUMPLIMIENTO A LO ESTABLECIDO EN LA LEY FEDERAL DE SANIDAD VEGETAL, LA NORMA\n\t\t\t\t\t\tOFICIAL MEXICANA: NOM-026-SAG/FITO-2014 POR LA QUE SE ESTABLECE EL CONTROL DE PLAGAS\n\t\t\t\t\t\tREGLAMENTADAS DEL ALGODONERO Y LA NOM-081-FITO-2001-MANEJO Y ELIMINACIÓN DE FOCOS DE\n\t\t\t\t\t\tINFESTACIÓN DE PLAGAS, MEDIANTE EL ESTABLECIMIENTO O REORDENAMIENTO DE FECHAS DE\n\t\t\t\t\t\tSIEMBRA, COSECHA Y DESTRUCCIÓN DE RESIDUOS.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>SIRVA EL PRESENTE DOCUMENTO PARA LA LIBERACIÓN DE CARTA DE GARANTÍA EMITIDA.</p>\n\n\t\t\t\t\t<p>PROPIETARIO: {data.usuario}</p>\n\n\t\t\t\t\t<div className=\" d-flex justify-content-end pt-5\">\n\t\t\t\t\t\t<p>MEXICALI, B.C., dia DE mes De anio</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pt-5 d-flex \">\n\t\t\t\t<div className=\"col-4 d-flex flex-column \">\n\t\t\t\t\t<p className=\"pb-5 text-center\">NOMBRE Y FIRMA</p>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>TÉCNICO FITOSANITARIO DEL CESVBC</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>SELLO DE CESVBC</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>SELLO DE CADER</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row p-5\">\n\t\t\t\tC.c.p. -DISTRITO DE DESARROLLO RURAL 002-RIO COLORADO <br />\n\t\t\t\tC.c.p. -ARCHIVO\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\tonClick={imprimir}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\nimport { CustomTable } from \"../components/tables/CustomTable\";\nimport { permisosColumns } from \"../components/tables/configTables\";\nimport {\n\tstartLoadPermisos,\n\tsetPermisoSelected,\n\tstartLoadPermisosSearch\n} from \"../actions/algodoneroScreen\";\nimport { useForm } from \"../hooks/useForm\";\nimport { CheckSanidad } from \"../components/modulos/CheckSanidad\";\nimport { PrintSanidadModal } from \"../components/modals/PrintSanidadModal\";\n\nexport const LaboresScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\n\tif (permisos.length === 0) {\n\t\tdispatch(startLoadPermisos());\n\t}\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(startLoadPermisosSearch(palabra));\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese número de permiso, número de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet permisosFormateados = [];\n\n\tpermisos.forEach((permiso) => {\n\t\tpermisosFormateados.push({\n\t\t\t...permiso,\n\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t});\n\t});\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-4 d-inline-flex p-3 \">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Número de permiso, número de cuenta o apellido paterno\"\n\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={permisosColumns}\n\t\t\t\t\t\tdata={permisosFormateados}\n\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t></CustomTable>\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? <CheckSanidad /> : <></>}\n\t\t\t</div>\n\t\t\t{dataPermiso !== undefined ? (\n\t\t\t\t<PrintSanidadModal data={dataPermiso}></PrintSanidadModal>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tsubciclo: autorizadoSelected.subciclo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tsubciclo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tsubciclo: subciclo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"gravedad Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosPozoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\n\nexport const ResumenAutorizadosPozo = ({ autorizados, modulo }) => {\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5> {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-info mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetAutorizadoSelected,\n\tsetModulo,\n\tstartLoadAutorizados\n} from \"../../actions/autorizadosScreen\";\nimport { sabeAutorizados } from \"../../helpers/sabeAutorizados\";\nimport { AutorizadosModal } from \"../modals/AutorizadosModal\";\nimport { AutorizadosPozoModal } from \"../modals/AutorizadosPozoModal\";\nimport { autorizadosColumns, autorizadosPozoColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { ResumenAutorizados } from \"./ResumenAutorizados\";\nimport { ResumenAutorizadosPozo } from \"./ResumenAutorizadosPozo\";\n\nexport const AutorizadosScreen = () => {\n\tconst modulos = [\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t4,\n\t\t5,\n\t\t6,\n\t\t7,\n\t\t8,\n\t\t9,\n\t\t92,\n\t\t10,\n\t\t11,\n\t\t12,\n\t\t14,\n\t\t15,\n\t\t16,\n\t\t17,\n\t\t18,\n\t\t19,\n\t\t20,\n\t\t21,\n\t\t22,\n\t\t\"FL\",\n\t\t\"Pozo Particular\"\n\t];\n\n\tconst dispatch = useDispatch();\n\n\tconst { modulo, autorizados, autorizadoSelected, superficieReferencia } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\tlet superficieTotal = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\n\t\tsuperficieTotal =\n\t\t\ttotalGravedadNormalAutorizada +\n\t\t\ttotalGravedadNormalAsignada +\n\t\t\ttotalGravedadExtraAutorizada +\n\t\t\ttotalGravedadExtraAsignada +\n\t\t\ttotalPozoNormalAutorizada +\n\t\t\ttotalPozoNormalAsignada +\n\t\t\ttotalPozoExtraAutorizada +\n\t\t\ttotalPozoExtraAsignada;\n\t}\n\n\tconst setModuloToEdit = (moduloToEdit) => {\n\t\tdispatch(setModulo(moduloToEdit));\n\t\tdispatch(startLoadAutorizados(ciclo, moduloToEdit));\n\t};\n\n\tconst handleSaveAutorizados = () => {\n\t\tsabeAutorizados(ciclo, modulo, autorizados);\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-3 .autorizadosModal\">\n\t\t\t\t<div className=\"col-sm-8 \">\n\t\t\t\t\t{modulos.map((moduloIndex) => {\n\t\t\t\t\t\tif (modulo === moduloIndex) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row \">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t{modulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\tcolumns={autorizadosPozoColumns}\n\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\tcolumns={autorizadosColumns}\n\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{modulo ? (\n\t\t\t\t\t<div className=\"col-sm-4 pl-3 mt-3\">\n\t\t\t\t\t\t<div className=\"d-flex flex-column border rounded border-info\">\n\t\t\t\t\t\t\t{autorizados.length > 0 ? (\n\t\t\t\t\t\t\t\tmodulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t\t\t\t<ResumenAutorizadosPozo\n\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t></ResumenAutorizadosPozo>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ResumenAutorizados\n\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t></ResumenAutorizados>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{superficieReferencia === superficieTotal ? (\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2  d-flex flex-column\">\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-5 text-warning\">\n\t\t\t\t\t\t\t\t\t\t! Hay modificaciones sin guardar !\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-4 pb-4\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleSaveAutorizados}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<span> Guardar Cambios</span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{autorizadoSelected ? (\n\t\t\t\tmodulo === \"Pozo Particular\" ? (\n\t\t\t\t\t<AutorizadosPozoModal />\n\t\t\t\t) : (\n\t\t\t\t\t<AutorizadosModal />\n\t\t\t\t)\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nconst decideEstado = (modulo) => {\n\tif (modulo === 1 || modulo === 2 || modulo === 3) return \"Sonora\";\n\telse return \"Baja California\";\n};\n\nexport const sabeAutorizados = (ciclo, modulo, autorizados) => {\n\tautorizados.forEach((autorizado) => {\n\t\tconst totalNormal = autorizado.gravedadNormalAutorizada + autorizado.pozoNormalAutorizada;\n\t\tconst totalExtra = autorizado.gravedadExtraAutorizada + autorizado.pozoExtraAutorizada;\n\t\tconst totalCultivo = totalNormal + totalExtra;\n\t\tconst estado = decideEstado(modulo);\n\n\t\tdb.collection(\"autorizados\")\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`autorizados`)\n\t\t\t.doc(`${autorizado.clave}-${autorizado.cultivo}`)\n\t\t\t.set({\n\t\t\t\testado,\n\t\t\t\tmodulo,\n\t\t\t\tclave: autorizado.clave,\n\t\t\t\tcultivo: autorizado.cultivo,\n\t\t\t\tsubciclo: autorizado.subciclo,\n\t\t\t\tsuperficieNormal: totalNormal,\n\t\t\t\tsuperficieExtra: totalExtra,\n\t\t\t\tsuperficieTotal: totalCultivo,\n\t\t\t\tgravedadNormalAutorizada: autorizado.gravedadNormalAutorizada,\n\t\t\t\tgravedadNormalAsignada: autorizado.gravedadNormalAsignada,\n\t\t\t\tgravedadExtraAutorizada: autorizado.gravedadExtraAutorizada,\n\t\t\t\tgravedadExtraAsignada: autorizado.gravedadExtraAsignada,\n\t\t\t\tpozoNormalAutorizada: autorizado.pozoNormalAutorizada,\n\t\t\t\tpozoNormalAsignada: autorizado.pozoNormalAsignada,\n\t\t\t\tpozoExtraAutorizada: autorizado.pozoExtraAutorizada,\n\t\t\t\tpozoExtraAsignada: autorizado.pozoExtraAsignada\n\t\t\t})\n\t\t\t.then(function () {\n\t\t\t\tconsole.log(\"Document successfully written!\");\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\t});\n\t});\n\t// TODO: Hacer que se dispare la alerta hasta que se terminen de guardar los autorizados\n\tSwal.fire(\"Autorizados Guardados\", \"Se registraron con éxito los cambios.\", \"success\");\n\treturn true;\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\n\nexport const CustomGraficoHorizontal = ({\n\ttitulo,\n\tsubtitulo1,\n\tsubtitulo2,\n\tetiquetas,\n\tdataSet,\n\tancho\n}) => {\n\tconst data = {\n\t\tlabels: etiquetas,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSet,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 0.2)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 0.2)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 0.2)\",\n\t\t\t\t\t\"rgba(150, 50, 150,0.21)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 1)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 1)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 1)\",\n\t\t\t\t\t\"rgba(150, 50, 150, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>{titulo}</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo1}</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo2}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={ancho} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ordenarDataParaGrafico } from \"../../helpers/ordenarDataParaGrafico\";\nimport { CustomGraficoHorizontal } from \"./CustomGraficoHorizontal\";\n\nexport const GraficoPrincipalesCultivos = () => {\n\tconst { permisos, campoOrdenador } = useSelector((state) => state.entidades);\n\n\tconst completaTitulo = (campo) => {\n\t\tswitch (campo) {\n\t\t\tcase \"nombreCultivo\":\n\t\t\t\treturn \"cultivo\";\n\n\t\t\tcase \"usuario\":\n\t\t\t\treturn \"usuario\";\n\n\t\t\tcase \"nombreProductor\":\n\t\t\t\treturn \"productor\";\n\n\t\t\tcase \"localidad\":\n\t\t\t\treturn \"localidad\";\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlet data = [];\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (permisos) {\n\t\tdata = ordenarDataParaGrafico(permisos, campoOrdenador);\n\n\t\tdata.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tdata.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst subtitulo1 = `Superficie incluida: ${totalSuperficie} ha`;\n\tconst subtitulo2 = `Permisos incluidos: ${totalPermisos}`;\n\n\treturn (\n\t\t<div>\n\t\t\t{data ? (\n\t\t\t\t<CustomGraficoHorizontal\n\t\t\t\t\ttitulo={`Superficies por ${completaTitulo(campoOrdenador)}`}\n\t\t\t\t\tsubtitulo1={subtitulo1}\n\t\t\t\t\tsubtitulo2={subtitulo2}\n\t\t\t\t\tetiquetas={data.labels}\n\t\t\t\t\tdataSet={data.superficiesCultivos}\n\t\t\t\t\tancho={220}\n\t\t\t\t></CustomGraficoHorizontal>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","export const ordenarDataParaGrafico = (data, campo) => {\n\tconst dataCondensada = {};\n\n\tdata.forEach((element) => {\n\t\tconst key = element[campo];\n\n\t\tif (dataCondensada[key]) {\n\t\t\tdataCondensada[key].superficie += element.supAutorizada;\n\t\t\tdataCondensada[key].numeroPermisos++;\n\t\t} else {\n\t\t\tdataCondensada[key] = {\n\t\t\t\tlabel: key,\n\t\t\t\tsuperficie: element.supAutorizada,\n\t\t\t\tnumeroPermisos: 1\n\t\t\t};\n\t\t}\n\t});\n\n\tconst arrayDataCondensada = Object.values(dataCondensada);\n\n\tarrayDataCondensada.sort((a, b) => {\n\t\tif (a.superficie < b.superficie) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a.superficie > b.superficie) {\n\t\t\treturn -1;\n\t\t}\n\n\t\treturn 0;\n\t});\n\n\tconst labels = [];\n\tconst superficiesCultivos = [];\n\tconst numeroPermisos = [];\n\n\tlet noBarrasGrafico = 8;\n\tlet restoSuperficie = 0;\n\tlet restoPermisos = 0;\n\n\tarrayDataCondensada.forEach((campo) => {\n\t\tif (noBarrasGrafico >= 0) {\n\t\t\tlabels.push(`${campo.label} (${campo.superficie}ha)`);\n\t\t\tsuperficiesCultivos.push(campo.superficie);\n\t\t\tnumeroPermisos.push(campo.numeroPermisos);\n\t\t\tnoBarrasGrafico--;\n\t\t} else {\n\t\t\trestoSuperficie += campo.superficie;\n\t\t\trestoPermisos += campo.numeroPermisos;\n\t\t}\n\t});\n\n\tlabels.push(`Otros ${campo} (${restoSuperficie}ha)`);\n\tsuperficiesCultivos.push(restoSuperficie);\n\tnumeroPermisos.push(restoPermisos);\n\n\tconst dataFormateada = {\n\t\tlabels: labels,\n\t\tsuperficiesCultivos: superficiesCultivos,\n\t\tnumeroPermisos: numeroPermisos\n\t};\n\n\treturn dataFormateada;\n};\n","import { types } from \"../../types/types\";\nimport { loadPermisos } from \"../../helpers/loadPermisos\";\n\nexport const startLoadPermisos = (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos,\n\tactivosCancelados,\n\ttipoSuperficie,\n\tsistema,\n\tfechaInicial,\n\tfechaFinal\n) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(\n\t\t\tpalabra,\n\t\t\tmodulo,\n\t\t\tciclo,\n\t\t\tcampos,\n\t\t\tactivosCancelados,\n\t\t\ttipoSuperficie,\n\t\t\tsistema,\n\t\t\tfechaInicial,\n\t\t\tfechaFinal\n\t\t);\n\t\tdispatch(setPermisos(permisos));\n\t\tdispatch(setCampoOrdenador(campos[0]));\n\t};\n};\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.setPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.unsetPermisos\n});\n\nexport const setCampoOrdenador = (campo) => ({\n\ttype: types.setCampoOrdenador,\n\tpayload: campo\n});\n\nexport const unsetCampoOrdenador = () => ({\n\ttype: types.unsetCampoOrdenador\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport DateTimePicker from \"react-datetime-picker\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\n\nexport const FormPermisosInformes = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra, campo, activosCancelados, tipoSuperficie, sistema } = formValues;\n\n\t// TODO: obtener fecha inicial y final del ciclo vigente\n\tconst [fechaInicial, onChangeFechaInicial] = useState(new Date(2020, 9, 1));\n\tconst [fechaFinal, onChangeFechaFinal] = useState(new Date(2021, 8, 30));\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst buscarPermisos = () => {\n\t\tif (campo) {\n\t\t\tdispatch(\n\t\t\t\tstartLoadPermisos(\n\t\t\t\t\tpalabra,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tciclo,\n\t\t\t\t\t[campo],\n\t\t\t\t\tactivosCancelados,\n\t\t\t\t\ttipoSuperficie,\n\t\t\t\t\tsistema,\n\t\t\t\t\tfechaInicial,\n\t\t\t\t\tfechaFinal\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Seleccione un campo.\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tconst imprimirInforme = () => {\n\t\twindow.print();\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-12 d-inline-flex p-0\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"parametro de busqueda\"\n\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\tvalue={campo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">-</option>\n\t\t\t\t\t\t\t<option value=\"nombreCultivo\">Cultivo</option>\n\t\t\t\t\t\t\t<option value=\"usuario\">Usuario</option>\n\t\t\t\t\t\t\t<option value=\"nombreProductor\">Productor</option>\n\t\t\t\t\t\t\t<option value=\"localidad\">Localidad</option>\n\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-2 no-printme\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between pt-2\">\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>ESTADO DE LOS PERMISOS</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"todos\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t\tTodos los permisos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"activos\"\n\t\t\t\t\t\t\t\t\tvalue=\"activo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"activos\">\n\t\t\t\t\t\t\t\t\tPermisos activos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"cancelados\"\n\t\t\t\t\t\t\t\t\tvalue=\"cancelado\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cancelados\">\n\t\t\t\t\t\t\t\t\tPermisos cancelados\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"En proceso de cancelación\"\n\t\t\t\t\t\t\t\t\tvalue=\"En proceso de cancelación\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"En proceso de cancelación\">\n\t\t\t\t\t\t\t\t\tEn proceso de cancelación\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>TIPO DE EXPEDICIÓN</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"toda\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"toda\">\n\t\t\t\t\t\t\t\t\tToda la superficie\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieNormal\"\n\t\t\t\t\t\t\t\t\tvalue=\"normal\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieNormal\">\n\t\t\t\t\t\t\t\t\tSuperficie normal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieExtra\"\n\t\t\t\t\t\t\t\t\tvalue=\"extra\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieExtra\">\n\t\t\t\t\t\t\t\t\tSuperficie extra\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-3 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>SISTEMA DE RIEGO</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedadPozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedadPozo\">\n\t\t\t\t\t\t\t\t\tGravedad y pozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedad\"\n\t\t\t\t\t\t\t\t\tvalue=\"Gravedad\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedad\">\n\t\t\t\t\t\t\t\t\tGravedad\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"pozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"Pozo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"pozo\">\n\t\t\t\t\t\t\t\t\tPozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between border rounded mt-2\">\n\t\t\t\t\t<div className=\"col-sm-12 p-2\">\n\t\t\t\t\t\t<p>RANGO DE EXPEDICIÓN</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-5  pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha inicial</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\tonChange={onChangeFechaInicial}\n\t\t\t\t\t\t\t\tvalue={fechaInicial}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-5 pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha final</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\tonChange={onChangeFechaFinal}\n\t\t\t\t\t\t\t\tvalue={fechaFinal}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row d-flex pt-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary flex-fill no-printme\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={imprimirInforme}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Imprimir informe </span>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomPrintTable = ({ title, data, columns, setFunction, closeFunction }) => {\n\tconst dispatch = useDispatch();\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\t};\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: \"5px\", // override the cell padding for head cells\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t},\n\n\t\theadRow: {\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: \"lightgray\"\n\t\t\t}\n\t\t},\n\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tfontSize: \"10px\",\n\t\t\t\tpaddingLeft: \"5px\", // override the cell padding for data cells\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"table table-responsive table-striped\">\n\t\t\t<Datatable\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={data}\n\t\t\t\ttitle={title}\n\t\t\t\thighlightOnHover={true}\n\t\t\t\tstriped={true}\n\t\t\t\tpointerOnHover={true}\n\t\t\t\tdense={true}\n\t\t\t\tonRowClicked={getRowSelected}\n\t\t\t\tcustomStyles={customStyles}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { CustomPrintTable } from \"./CustomPrintTable\";\nimport { permisosColumns, printPermisosColumns } from \"./configTables\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\n\nexport const PermisosTable = () => {\n\tconst { permisos } = useSelector((state) => state.entidades);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconsole.log(permisosColumns);\n\n\tif (!permisos) {\n\t\tdispatch(startLoadPermisos(\"\", modulo, ciclo, [\"nombreCultivo\"]));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (permisos) {\n\t\tpermisos.forEach((permiso) => {\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t\t});\n\t\t});\n\t}\n\n\tconst titulo = \"\";\n\n\treturn (\n\t\t<div>\n\t\t\t<CustomPrintTable\n\t\t\t\ttitle={titulo}\n\t\t\t\tcolumns={printPermisosColumns}\n\t\t\t\tdata={permisosFormateados}\n\t\t\t></CustomPrintTable>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { GraficoPrincipalesCultivos } from \"../charts/GraficoPrincipalesCultivos\";\nimport { FormPermisosInformes } from \"../forms/FormPermisosInformes\";\nimport { PermisosTable } from \"../tables/PermisosTable\";\n\nexport const ModuloInformesPermisos = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reporte de permisos</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row p-3 d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-sm-9\">\n\t\t\t\t\t<FormPermisosInformes />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t<GraficoPrincipalesCultivos />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t<PermisosTable />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export const modulosPorUnidad = {\n\tprimeraUnidad: { 4: false, 5: false, 6: false, 14: false, 15: false, 16: false },\n\tsegundaUnidad: {\n\t\t7: false,\n\t\t8: false,\n\t\t9: false,\n\t\t92: false,\n\t\t10: false,\n\t\t11: false,\n\t\t12: false,\n\t\t17: false,\n\t\t18: false,\n\t\t19: false,\n\t\t20: false\n\t},\n\tterceraUnidad: { 1: false, 2: false, 3: false, 21: false, 22: false, FL: false }\n};\n\nexport const modulosPorEstado = {\n\tbc: [\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"92\",\n\t\t\"10\",\n\t\t\"11\",\n\t\t\"12\",\n\t\t\"14\",\n\t\t\"15\",\n\t\t\"16\",\n\t\t\"17\",\n\t\t\"18\",\n\t\t\"19\",\n\t\t\"20\",\n\t\t\"21\",\n\t\t\"22\",\n\t\t\"FL\"\n\t],\n\tsonora: [\"1\", \"2\", \"3\"]\n};\n\nexport const cultivosPrincipales = {\n\t\"OTOÑO-INVIERNO\": {\n\t\t\"3-TRIGO\": {},\n\t\t\"8-AVENA\": {},\n\t\t\"2-CEBADA\": {},\n\t\t\"4-RYE-GRASS\": {},\n\t\t\"12-CEBOLLIN O-I\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t},\n\tPERENNES: {\n\t\t\"50-ALFALFA\": {},\n\t\t\"52-ESPARRAGO\": {},\n\t\t\"53-VID\": {},\n\t\tFRUTALES: {},\n\t\t\"117-ZACATE BERMUDA\": {},\n\t\t\"60-PALMA DATILERA\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t},\n\t\"PRIMAVERA-VERANO\": {\n\t\t\"80-ALGODONERO\": {},\n\t\t\"81-SORGO GRANO TEMP.(SUDAN)\": {},\n\t\t\"82-SORGO GRANO TARDIO\": {},\n\t\t\"83-SORGO FORRAJERO TEMP.(SUDAN)\": {},\n\t\t\"84-SORGO FORRAJERO TARDIO\": {},\n\t\t\"87-MAIZ BLANCO TEMPRANO\": {},\n\t\t\"88-MAIZ BLANCO TARDIO\": {},\n\t\t\"12.1-CEBOLLIN P-V\": {},\n\t\t\"12.2-CEBOLLIN TARDIO\": {},\n\t\tVARIOS: {},\n\t\tSUBTOTAL: {}\n\t}\n};\n\nexport const modulos = [\n\t1,\n\t2,\n\t3,\n\t4,\n\t5,\n\t6,\n\t7,\n\t8,\n\t9,\n\t92,\n\t10,\n\t11,\n\t12,\n\t14,\n\t15,\n\t16,\n\t17,\n\t18,\n\t19,\n\t20,\n\t21,\n\t22,\n\t\"FL\",\n\t\"Pozo Particular\"\n];\n\nexport const privileges = {\n\t//Ui\n\taccesoGlobal: false,\n\n\t//Pantallas\n\tpantallaInicio: false,\n\tpantallaPadron: false,\n\tpantallaPermisos: false,\n\tpantallaTransferencias: false,\n\tpantallaAsignacion: false,\n\tpantallaLabores: false,\n\tpantallaAutorizados: false,\n\tpantallaReportes: false,\n\tpantallaConfiguracion: false,\n\ttestArea: false,\n\n\t//Padron\n\tactualizarPadron: false,\n\n\t//Permisos\n\texpedirPermisos: false,\n\tconsultarPermisos: false,\n\tsolicitarCancelarPermisos: false,\n\tcancelarPermisos: false,\n\tconsultarExpedicion: false,\n\n\t//Autorizados\n\tconsultarAutorizados: false,\n\n\t//Transferencias\n\tsolicitarTransferencias: false,\n\n\t//Labores\n\tasignarTécnico: false,\n\tconsultarLabores: false,\n\tregistrarLabores: false,\n\tpagarLabores: false,\n\timprimirLabores: false,\n\n\t//Configuracion\n\teditarEntidades: false,\n\tasignarRoles: false,\n\teditarRoles: false,\n\tcerrarExpedicionModulos: false,\n\tvariablesGlobales: false\n};\n\nexport const entidades = [\n\t{\n\t\tclave: \"dev\",\n\t\tdotacion: 117,\n\t\ttitular: \"dev\",\n\t\tdireccion: \"\",\n\t\tnombre: \"Desarrollo\",\n\t\timg: \"dev.png\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"CNA\",\n\t\tdotacion: 117,\n\t\tnombre: \"Comisión Nacional del Agua\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cna.png\"\n\t},\n\t{\n\t\tclave: \"SADER\",\n\t\tdotacion: 117,\n\t\tnombre: \"Secretaría de Agricultura y Desarrollo Rural\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"sader.png\"\n\t},\n\t{\n\t\tclave: \"CESVBC\",\n\t\tdotacion: 117,\n\t\tnombre: \"Comité Estatal de Sanidad Vegetal de Baja California\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cesvbc.webp\"\n\t},\n\t{\n\t\tclave: \"SRL\",\n\t\tdotacion: 117,\n\t\tnombre: \"Distrito de Riego 014, Río Colorado S. de R.L.\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\"\n\t},\n\t{\n\t\tclave: \"1\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 1\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m1.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"2\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 2\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m2.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"3\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 3\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m3.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"4\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 4\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m4.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"5\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 5\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m5.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"6\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 6\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m6.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"7\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 7\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m7.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"8\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 8\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m8.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"9\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 9A\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9a.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"92\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 9B\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9b.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"10\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 10\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m10.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"11\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 11\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m11.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"12\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 12\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m12.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"14\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 14\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m14.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"15\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 15\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m15.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"16\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 16\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m16.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"17\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 17\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m17.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"18\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 18\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m18.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"19\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 19\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"Carretera a San Felipe Km 1.5 S/N, Col. Xochimilco C.P. 21380. Mexicali B.C.\",\n\t\timg: \"m19.png\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"20\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 20\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m20.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"21\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 21\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m21.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"22\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 22\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m22.jpg\",\n\t\texpedicionActivaModulo: true\n\t},\n\t{\n\t\tclave: \"23\",\n\t\tdotacion: 117,\n\t\tnombre: \"Usuarios del módulo No. 23\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\",\n\t\texpedicionActivaModulo: true\n\t}\n];\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadAutorizados = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAutorizadosGlobal = async (ciclo) => {\n\tlet autorizados = [];\n\n\tconst autorizadosPromises = modulos.map((modulo) => {\n\t\treturn loadAutorizados(modulo, ciclo);\n\t});\n\n\tconst data = await Promise.all(autorizadosPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\tautorizados.push({\n\t\t\t\tid: childItem.id,\n\t\t\t\t...childItem.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (autorizados.length === 0) autorizados = false;\n\n\treturn autorizados;\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadExpedicion = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAvanceSuperficieExpedida = async (ciclo) => {\n\tlet expedicion = [];\n\n\tconst expedicionPromises = modulos.map((modulo) => {\n\t\treturn loadExpedicion(modulo, ciclo);\n\t});\n\n\tconst data = await Promise.all(expedicionPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\texpedicion.push({\n\t\t\t\tid: childItem.id,\n\t\t\t\t...childItem.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (expedicion.length === 0) expedicion = false;\n\n\treturn expedicion;\n};\n","import { cultivosPrincipales as cultivos } from \"../consts\";\n\nconst initialObject = {\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\nconst reportData = { ...cultivos };\n\nconst accumulate = (\n\tref,\n\tsupGravedadProgramada,\n\tsupGravedadExpedida,\n\tsupGravedadRealizada,\n\tsupPozoProgramada,\n\tsupPozoExpedida,\n\tsupPozoRealizada,\n\tsupPozoPartProgramada,\n\tsupPozoPartExpedida,\n\tsupPozoPartRealizad\n) => {\n\tref.supGravedadProgramada = ref.supGravedadProgramada + supGravedadProgramada;\n\tref.supGravedadExpedida = ref.supGravedadExpedida + supGravedadExpedida;\n\tref.supGravedadRealizada = ref.supGravedadRealizada + supGravedadRealizada;\n\tref.supPozoProgramada = ref.supPozoProgramada + supPozoProgramada;\n\tref.supPozoExpedida = ref.supPozoExpedida + supPozoExpedida;\n\tref.supPozoRealizada = ref.supPozoRealizada + supPozoRealizada;\n\tref.supPozoPartProgramada = ref.supPozoPartProgramada + supPozoPartProgramada;\n\tref.supPozoPartExpedida = ref.supPozoPartExpedida + supPozoPartExpedida;\n\tref.supPozoPartRealizad = ref.supPozoPartRealizad + supPozoPartRealizad;\n};\n\nconst checkModulo = (modulos, modulo) => {\n\tlet isOk = false;\n\n\tif (modulos.length > 0) {\n\t\tmodulos.forEach((okModulo) => {\n\t\t\tif (modulo.toString() === okModulo) isOk = true;\n\t\t});\n\t} else isOk = true;\n\n\treturn isOk;\n};\n\nconst isRegisterInclude = (opcion, modulos, modulo, estado) => {\n\tswitch (opcion) {\n\t\tcase \"modulos\":\n\t\t\treturn checkModulo(modulos, modulo);\n\n\t\tcase \"Baja California\":\n\t\tcase \"Sonora\":\n\t\t\tif (opcion === estado) {\n\t\t\t\treturn true;\n\t\t\t} else return false;\n\n\t\tcase \"global\":\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nexport const filterReportData = (data, option, modulos) => {\n\tObject.keys(reportData).forEach((subciclo) => {\n\t\tObject.keys(reportData[subciclo]).forEach((cultivo) => {\n\t\t\treportData[subciclo][cultivo] = { ...initialObject };\n\t\t});\n\t});\n\n\tObject.values(data).forEach(\n\t\t({\n\t\t\tsubciclo,\n\t\t\tcultivo,\n\t\t\tmodulo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada,\n\t\t\tsupGravedadExpedida,\n\t\t\tsupGravedadRealizada,\n\t\t\tsupPozoProgramada,\n\t\t\tsupPozoExpedida,\n\t\t\tsupPozoRealizada,\n\t\t\tsupPozoPartProgramada,\n\t\t\tsupPozoPartExpedida,\n\t\t\tsupPozoPartRealizad\n\t\t}) => {\n\t\t\tif (isRegisterInclude(option, modulos, modulo, estado)) {\n\t\t\t\tif (reportData[subciclo][cultivo]) {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo][cultivo],\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizad\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizad\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].VARIOS,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizad\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizad\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\treturn reportData;\n};\n","const mergedData = {};\n\nconst plantillaRegistro = {\n\tcultivo: \"\",\n\tmodulo: \"\",\n\tsubciclo: \"\",\n\testado: \"\",\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\n\nconst updateExpedicionItem = ({\n\tid,\n\tmodulo,\n\tgravedadNormal = 0,\n\tgravedadExtra = 0,\n\tpozoNormal = 0,\n\tpozoExtra = 0,\n\tpozoParticularNormal = 0,\n\tpozoParticularExtra = 0\n}) => {\n\tmergedData[`${id}-${modulo}`] = {\n\t\t...mergedData[`${id}-${modulo}`],\n\t\tsupGravedadExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supGravedadExpedida + gravedadNormal + gravedadExtra,\n\t\tsupPozoExpedida: mergedData[`${id}-${modulo}`].supPozoExpedida + pozoNormal + pozoExtra,\n\t\tsupPozoPartExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supPozoPartExpedida + pozoParticularNormal + pozoParticularExtra\n\t};\n};\n\nconst createNewAutorizadosItem = ({\n\tid,\n\tmodulo,\n\tsubciclo,\n\testado = \"\",\n\tgravedadExtraAutorizada = 0,\n\tgravedadNormalAutorizada = 0,\n\tpozoExtraAutorizada = 0,\n\tpozoNormalAutorizada = 0\n}) => {\n\tif (subciclo === \"PERENES\") subciclo = \"PERENNES\";\n\tmergedData[`${id}-${modulo}`] = {\n\t\t...plantillaRegistro,\n\t\tcultivo: id,\n\t\tmodulo,\n\t\tsubciclo,\n\t\testado,\n\t\tsupGravedadProgramada: gravedadNormalAutorizada + gravedadExtraAutorizada,\n\t\tsupPozoProgramada: pozoNormalAutorizada + pozoExtraAutorizada\n\t};\n};\n\nexport const mergeReportData = (autorizados, expedicion) => {\n\tautorizados.forEach((item) => {\n\t\tcreateNewAutorizadosItem(item);\n\t});\n\n\texpedicion.forEach((item) => {\n\t\tmergedData[`${item.id}-${item.modulo}`] && updateExpedicionItem(item);\n\t});\n\n\treturn mergedData;\n};\n","export const modulosCheckboxReducer = (state, action) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase \"setUnidad\":\n\t\t\tif (unidades[payload]) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...unidades,\n\t\t\t\t\t\t[payload]: false\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst newValues = {};\n\t\t\t\tObject.keys(unidades).forEach((newValueKey) => {\n\t\t\t\t\tnewValues[newValueKey] = false;\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...newValues,\n\t\t\t\t\t\t[payload]: true\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase \"changeModulo\":\n\t\t\tconst { unidad, modulo } = payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: {\n\t\t\t\t\t...modulosPorUnidad,\n\t\t\t\t\t[unidad]: {\n\t\t\t\t\t\t...modulosPorUnidad[unidad],\n\t\t\t\t\t\t[modulo]: !modulosPorUnidad[unidad][modulo]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase \"changeGroup\":\n\t\t\tconst newModulosState = { ...modulosPorUnidad };\n\t\t\tObject.keys(state.unidades).forEach((unidad) => {\n\t\t\t\tObject.keys(state.modulosPorUnidad[unidad]).forEach((modulo) => {\n\t\t\t\t\tnewModulosState[unidad][modulo] = state.unidades[unidad];\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: newModulosState\n\t\t\t};\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n","import React from \"react\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const ExpedicionTable = ({ data }) => {\n\treturn (\n\t\t<div className=\"table-responsive-sm\">\n\t\t\t<table className=\"table table-sm table-bordered font12\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" rowSpan=\"2\">\n\t\t\t\t\t\t\tCULTIVO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. GRAVEDAD (ha)\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO FEDERAL (ha)\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO PARTICULAR (ha)\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. TOTAL (ha)\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tOTOÑO - INVIERNO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"OTOÑO-INVIERNO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"OTOÑO-INVIERNO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPERENNES\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PERENNES\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PERENNES\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPRIMAVERA-VERANO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PRIMAVERA-VERANO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PRIMAVERA-VERANO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const RadioButtonGroup = ({ inputName, options, formValues, setFunction, styles }) => {\n\tconst isActive = (currentValue) => currentValue === formValues[inputName] && \"active\";\n\n\treturn (\n\t\t<div className={styles.group}>\n\t\t\t{options.map(({ id, label }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<label key={id} className={`${styles.button} ${isActive(id)}`}>\n\t\t\t\t\t\t<input type=\"radio\" name={inputName} id={id} value={id} onChange={setFunction} />\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nRadioButtonGroup.propTypes = {\n\tinputName: PropTypes.string.isRequired,\n\toptions: PropTypes.array.isRequired,\n\tformValues: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tstyles: PropTypes.object\n};\n\n// options example\n// const options = [\n// \t{\n// \t\tid: \"id0\",\n// \t\tlabel: \"Label 0\"\n// \t},\n// \t{\n// \t\tid: \"id1\",\n// \t\tlabel: \"Label 1\"\n// \t}\n// ];\n\n// styles example\n// const styles = {\n// \tgroup: \"btn-group btn-group-toggle\",\n// \tbutton: \"btn btn-primary\"\n// }\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ButtonGroup = ({ options, setFunction, groupStyles, buttonStyles }) => {\n\tconst defineButtonStile = (isOn) => {\n\t\treturn isOn ? buttonStyles.on : buttonStyles.off;\n\t};\n\n\treturn (\n\t\t<div className={groupStyles}>\n\t\t\t{Object.entries(options).map((option) => {\n\t\t\t\tconst handleSetFunction = () => {\n\t\t\t\t\tsetFunction(option[0]);\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={defineButtonStile(option[1])}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tkey={option[0]}\n\t\t\t\t\t\tonClick={handleSetFunction}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{option[0]}</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nButtonGroup.propTypes = {\n\toptions: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tgroupStyles: PropTypes.string,\n\tbuttonStyles: PropTypes.object\n};\n\n// options example\n// const options = {\n// \toptionA: false,\n// \toptionB: false,\n// \toptionC: false\n// };\n\n// buttonStyles example\n// const buttonClasses = {\n// \ton: \"btn btn-primary\",\n// \toff: \"btn btn-outline-primary\"\n// };\n","import React from \"react\";\nimport { ButtonGroup } from \"../molecules/ButtonGroup\";\n\nexport const ModulosCheckbox = ({ state, dispatch }) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad } = modulosPorUnidad;\n\n\tconst buttonClasses = {\n\t\ton: \"btn btn-primary\",\n\t\toff: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center mt-5\">\n\t\t\t\t<ButtonGroup\n\t\t\t\t\toptions={unidades}\n\t\t\t\t\tsetFunction={(unidad) => {\n\t\t\t\t\t\tdispatch({ type: \"setUnidad\", payload: unidad });\n\t\t\t\t\t}}\n\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-around\">\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={primeraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"primeraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={segundaUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"segundaUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={terceraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"terceraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React, { useEffect, useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { modulosPorUnidad } from \"../../../helpers/consts\";\nimport { loadAutorizadosGlobal } from \"../../../helpers/DB/loadAutorizadosGlobal\";\nimport { loadAvanceSuperficieExpedida } from \"../../../helpers/DB/loadAvanceSuperficieExpedida\";\nimport { filterReportData } from \"../../../helpers/functions/filterReportData\";\nimport { mergeReportData } from \"../../../helpers/functions/mergeReportData\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { modulosCheckboxReducer } from \"../../../reducers/modulosCheckboxReducer\";\nimport { ExpedicionTable } from \"../molecules/ExpedicionTable\";\nimport { RadioButtonGroup } from \"../molecules/RadioButtonGroup\";\nimport { ModulosCheckbox } from \"./ModulosCkeckbox\";\n\nlet expedicion = [];\nlet autorizados = [];\n\nconst unidades = {\n\tprimeraUnidad: false,\n\tsegundaUnidad: false,\n\tterceraUnidad: false\n};\n\nconst initialState = { unidades, modulosPorUnidad };\n\nexport const ReporteExpedicion = () => {\n\tconst { privilegios, modulo } = useSelector((state) => state.auth);\n\n\tconst [reportOptionsValues, handleReportOptionsInputChange] = useForm();\n\n\tconst [state, dispatch] = useReducer(modulosCheckboxReducer, initialState);\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad } = modulosPorUnidad;\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst reportOptions = [\n\t\t{\n\t\t\tid: \"global\",\n\t\t\tlabel: \"Global\"\n\t\t},\n\t\t{\n\t\t\tid: \"Baja California\",\n\t\t\tlabel: \"Baja California\"\n\t\t},\n\t\t{\n\t\t\tid: \"Sonora\",\n\t\t\tlabel: \"Sonora\"\n\t\t},\n\t\t{\n\t\t\tid: \"modulos\",\n\t\t\tlabel: \"Modulos\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\tconst loadAutorizados = async () => {\n\t\tautorizados = await loadAutorizadosGlobal(ciclo);\n\t};\n\n\tconst loadExpedicion = async () => {\n\t\texpedicion = await loadAvanceSuperficieExpedida(ciclo);\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: \"changeGroup\"\n\t\t});\n\t}, [unidades]);\n\n\tuseEffect(() => {\n\t\tloadExpedicion();\n\t\tloadAutorizados();\n\t});\n\n\tconst getModulos = () => {\n\t\tconst modulos = [];\n\t\tObject.keys(primeraUnidad).forEach((modulo) => {\n\t\t\tprimeraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(segundaUnidad).forEach((modulo) => {\n\t\t\tsegundaUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(terceraUnidad).forEach((modulo) => {\n\t\t\tterceraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\treturn modulos;\n\t};\n\n\tconst showPrintButton = () => {\n\t\tswitch (reportOptionsValues.opcion) {\n\t\t\tcase \"global\":\n\t\t\tcase \"Baja California\":\n\t\t\tcase \"Sonora\":\n\t\t\t\treturn true;\n\n\t\t\tcase \"modulos\":\n\t\t\t\tif (getModulos().length > 0) return true;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reporte Expedición</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t{privilegios.accesoGlobal && (\n\t\t\t\t\t<RadioButtonGroup\n\t\t\t\t\t\tinputName={\"opcion\"}\n\t\t\t\t\t\toptions={reportOptions}\n\t\t\t\t\t\tformValues={reportOptionsValues}\n\t\t\t\t\t\tsetFunction={handleReportOptionsInputChange}\n\t\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{reportOptionsValues.opcion === \"modulos\" && (\n\t\t\t\t<ModulosCheckbox state={state} dispatch={dispatch} />\n\t\t\t)}\n\n\t\t\t{((privilegios.accesoGlobal && reportOptionsValues.opcion === \"global\") ||\n\t\t\t\treportOptionsValues.opcion === \"Baja California\" ||\n\t\t\t\treportOptionsValues.opcion === \"Sonora\") && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{privilegios.accesoGlobal &&\n\t\t\t\treportOptionsValues.opcion === \"modulos\" &&\n\t\t\t\tgetModulos().length > 0 && (\n\t\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t\tgetModulos()\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t{!privilegios.accesoGlobal && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t[modulo]\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{showPrintButton() && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\tonClick={() => window.print()}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { ModuloInformesPermisos } from \"../components/modulos/ModuloInformesPermisos\";\nimport { useSelector } from \"react-redux\";\nimport { ReporteExpedicion } from \"../components/ui/organisms/ReporteExpedicion\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\n\nexport const ReportesScreen = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"expedicion\",\n\t\t\tlabel: \"expedicion\"\n\t\t},\n\t\t{\n\t\t\tid: \"permisos\",\n\t\t\tlabel: \"permisos\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div className={\"mt-5\"}>\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"expedicion\" && privilegios.consultarExpedicion && (\n\t\t\t\t\t<ReporteExpedicion />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"permisos\" && privilegios.consultarPermisos && (\n\t\t\t\t\t<ModuloInformesPermisos />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"pb-5\"></div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSystemUsers = async (entidad) => {\n\tconst usuarios = [];\n\n\tif (entidad === \"dev\") {\n\t\tconst usuariosSnap = await db.collection(`usuarios`).orderBy(\"claveEntidad\").get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CNA\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"!=\", \"CESVBC\")\n\t\t\t.orderBy(\"claveEntidad\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CESVBC\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"==\", \"CESVBC\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\treturn usuarios;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserRoles = async () => {\n\tconst roles = [];\n\n\tconst rolesSnap = await db.collection(`roles`).get();\n\n\trolesSnap.forEach((snapHijo) => {\n\t\troles.push(snapHijo.id);\n\t});\n\n\treturn roles;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserPrivileges = async (role) => {\n\tconst privileges = await db.collection(`roles`).doc(role).get();\n\n\treturn privileges.data();\n};\n","import { types } from \"../../types/types\";\nimport { loadSystemUsers } from \"../../helpers/loadSystemUsers\";\nimport { removeError } from \"../../actions/ui\";\nimport { loadUserRoles } from \"../../helpers/loadUserRoles\";\nimport { loadUserPrivileges } from \"../../helpers/loadUserPrivileges\";\n\nexport const startLoadSystemUsers = (entidad) => {\n\treturn async (dispatch) => {\n\t\tconst users = await loadSystemUsers(entidad);\n\t\tdispatch(setSystemUsers(users));\n\t};\n};\n\nexport const setSystemUsers = (users) => ({\n\ttype: types.setSystemUsers,\n\tpayload: users\n});\n\nexport const setSystemUserSelected = (user) => ({\n\ttype: types.setSystemUserSelected,\n\tpayload: user\n});\n\nexport const unsetSystemUserSelected = () => ({\n\ttype: types.unsetSystemUserSelected\n});\n\nexport const startSetSystemUserSelected = (user) => {\n\treturn (dispatch) => {\n\t\tdispatch(removeError());\n\t\tdispatch(setSystemUserSelected(user));\n\t};\n};\n\nexport const startSetUserRoles = () => {\n\treturn async (dispatch) => {\n\t\t// dispatch(unsetUserRoles());\n\t\tconst roles = await loadUserRoles();\n\t\tdispatch(setUserRoles(roles));\n\t};\n};\n\nexport const setUserRoles = (roles) => ({\n\ttype: types.setUserRoles,\n\tpayload: roles\n});\n\nexport const unsetUserRoles = () => ({\n\ttype: types.unsetUserRoles\n});\n\nexport const setUserRoleSelected = (role) => ({\n\ttype: types.setUserRoleSelected,\n\tpayload: role\n});\n\nexport const unsetUserRoleSelected = () => ({\n\ttype: types.unsetUserRoleSelected\n});\n\nexport const setPrivilegesToEdit = (privileges) => ({\n\ttype: types.setPrivilegesToEdit,\n\tpayload: privileges\n});\n\nexport const unsetPrivilegesToEdit = () => ({\n\ttype: types.unsetPrivilegesToEdit\n});\n\nexport const startSetPrivilegesToEdit = (role) => {\n\treturn async (dispatch) => {\n\t\tconst privileges = await loadUserPrivileges(role);\n\n\t\tdispatch(setUserRoleSelected(role));\n\t\tdispatch(unsetPrivilegesToEdit());\n\t\tdispatch(setPrivilegesToEdit(privileges));\n\t};\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { startSetUserRoles } from \"../../actions/entidades/sistemUsers\";\nimport { saveNewUserRole } from \"../../helpers/saveNewUserRole\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const AddNewUserRoleForm = () => {\n\tconst [formValues, handleInputChange] = useForm({\n\t\tnewRole: \"\"\n\t});\n\n\tconst { newRole } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSaveNewUserRole = () => {\n\t\tif (newRole.length > 0) {\n\t\t\tsaveNewUserRole(newRole);\n\t\t\tdispatch(startSetUserRoles());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSaveNewUserRole();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t<label>Crear nuevo rol:</label>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Nuevo Rol\"\n\t\t\t\t\tname=\"newRole\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={newRole}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handleSaveNewUserRole}>\n\t\t\t\t\t<span>Agregar </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const saveNewUserRole = (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.set({})\n\t\t.then(() => {\n\t\t\tconsole.log(`Se guardo rol -> ${role}`);\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t});\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const deleteUserRole = async (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.delete()\n\t\t.then(() => {\n\t\t\tconsole.log(`Rol de usuario borrado (${role})`);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error removing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetUserRoles,\n\tstartSetPrivilegesToEdit,\n\tunsetUserRoles,\n\tunsetUserRoleSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { deleteUserRole } from \"../../helpers/deleteUserRole\";\n\nexport const SelectRoleToEditForm = () => {\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { selectedRole } = formValues;\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tif (userRoles) {\n\t\tconst handleSelectRoleToEdit = (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (selectedRole) {\n\t\t\t\tdispatch(startSetPrivilegesToEdit(selectedRole));\n\t\t\t}\n\t\t};\n\n\t\tconst startDeleteUserRole = () => {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Atención!!\",\n\t\t\t\ttext: `Esta apunto de borrar el rol de usuario ${selectedRole}, ¿Realmente desea borrarlo?`,\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\t\tcancelButtonColor: \"#d33\",\n\t\t\t\tconfirmButtonText: \"Si\",\n\t\t\t\tcancelButtonText: \"No\"\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tdeleteUserRole(selectedRole);\n\t\t\t\t\tdispatch(unsetUserRoles());\n\t\t\t\t\tdispatch(unsetUserRoleSelected());\n\t\t\t\t\tdispatch(startSetUserRoles());\n\t\t\t\t\tSwal.fire(`Rol: ${selectedRole}`, \"Se borro el rol con éxito !\", \"success\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-3\">Gestionar rol:</div>\n\n\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t<select\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"selectedRole\"\n\t\t\t\t\t\tvalue={selectedRole}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex\">\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={handleSelectRoleToEdit} className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t\t<span>Editar Rol </span>\n\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={startDeleteUserRole} className=\" btn btn-outline-danger ml-4\">\n\t\t\t\t\t\t\t<span>Borrar</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveRolePrivileges = async (role, privileges) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.set(privileges)\n\t\t.then(() => {\n\t\t\tSwal.fire(`Rol: ${role}`, \"Se actualizaron los privilegios con éxito !\", \"success\");\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { privileges } from \"../../helpers/consts\";\nimport { saveRolePrivileges } from \"../../helpers/saveRolePrivileges\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const UserPrivilegesForm = () => {\n\tconst { userRoleSelected, privilegesToEdit } = useSelector((state) => state.entidades);\n\n\tObject.getOwnPropertyNames(privilegesToEdit).map((privilegeName) => {\n\t\tprivileges[privilegeName] = privilegesToEdit[privilegeName];\n\t\treturn true;\n\t});\n\n\tconst [formValues, handleInputChange] = useForm(privileges);\n\n\tconst startSaveRolePrivileges = (e) => {\n\t\te.preventDefault();\n\n\t\tsaveRolePrivileges(userRoleSelected, formValues);\n\t};\n\n\treturn (\n\t\t<form onSubmit={startSaveRolePrivileges} className=\"border rounded p-4\">\n\t\t\t<div className=\"row d-flex\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\tPRIVILEGIOS PARA EL ROL:{\"  \"}\n\t\t\t\t\t<span className=\"text-success font-weight-bold\">{userRoleSelected}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<button type=\"submit\" className=\" btn btn-outline-primary\">\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"form-check d-flex flex-wrap\">\n\t\t\t\t{Object.getOwnPropertyNames(privileges).map((privilege) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={privilege} className=\"w-25 p-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname={privilege}\n\t\t\t\t\t\t\t\tid={privilege}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={formValues[privilege]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t{privilege}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUserRoleModal } from \"../../actions/ui\";\nimport { AddNewUserRoleForm } from \"../forms/AddNewUserRoleForm\";\nimport { SelectRoleToEditForm } from \"../forms/SelectRoleToEditForm\";\nimport { UserPrivilegesForm } from \"../forms/UserPrivilegesForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UserRoleModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenUserRoleModal } = useSelector((state) => state.ui);\n\tconst { privilegesToEdit, userRoleSelected } = useSelector((state) => state.entidades);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUserRoleModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenUserRoleModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<AddNewUserRoleForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<SelectRoleToEditForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t{privilegesToEdit && userRoleSelected ? <UserPrivilegesForm /> : <></>}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openUserRoleModal } from \"../../actions/ui\";\n\nexport const NewUserRoleButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handOpenUserRoleModal = () => {\n\t\tdispatch(openUserRoleModal());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handOpenUserRoleModal}>\n\t\t\t\t<span>Gestionar Roles </span>\n\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\n\nimport { removeError, setError } from \"../../actions/ui\";\nimport { updateSystemUser } from \"../../helpers/updateSystemUser\";\nimport {\n\tstartLoadSystemUsers,\n\tstartSetUserRoles,\n\tunsetSystemUserSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { NewUserRoleButton } from \"../buttons/NewUserRoleButton\";\n\nexport const SystemUserCard = () => {\n\tconst { systemUserSelected: user } = useSelector((state) => state.entidades);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { claveEntidad, privilegios } = useSelector((state) => state.auth);\n\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { rol } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tconst handleSetUserRole = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tupdateSystemUser(user.id, rol);\n\t\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t\t\tdispatch(unsetSystemUserSelected());\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!rol) {\n\t\t\tdispatch(setError(\"Seleccione un rol de usuario\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tif (user) {\n\t\treturn (\n\t\t\t<div className=\"row border border-info rounded m-1\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"row border-bottom border-info p-2\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t\t<h5>Cuenta: {user.email}</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex flex-column p-4\">\n\t\t\t\t\t\t\t<div>Usuario: {user.displayName}</div>\n\t\t\t\t\t\t\t<div>Clave Entidad: {user.claveEntidad}</div>\n\t\t\t\t\t\t\t{user.rol === \"sinAsignar\" ? (\n\t\t\t\t\t\t\t\t<div className=\"text-warning\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-success\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<form onSubmit={handleSetUserRole} className=\"form-group pt-3\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"rol\"\n\t\t\t\t\t\t\t\t\tvalue={rol}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t<option value=\"sinAsignar\">Sin Asignar</option>\n\t\t\t\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\t\t\t\t\tAsignar Rol\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t{privilegios.editarRoles ? <NewUserRoleButton /> : <></>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateSystemUser = (userUid, rol) => {\n\tdb.collection(`usuarios`)\n\t\t.doc(userUid)\n\t\t.update({ rol: rol })\n\t\t.then(() => {\n\t\t\tSwal.fire(\"Usuario habilitado\", `Se asignó correctamente el rol de usuario`, \"success\");\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t\tSwal.fire(\"Error\", e, \"error\");\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetSystemUserSelected,\n\tstartLoadSystemUsers\n} from \"../../actions/entidades/sistemUsers\";\nimport { systemUsersColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\n\nexport const SystemUsersTable = () => {\n\tconst { systemUsers } = useSelector((state) => state.entidades);\n\tconst { claveEntidad } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tlet data = [];\n\n\tif (!systemUsers) {\n\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t}\n\n\tif (systemUsers) {\n\t\tdata = Object.values(systemUsers);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={systemUsersColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetSystemUserSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport { SystemUserCard } from \"../cards/SystemUserCard\";\nimport { SystemUsersTable } from \"../tables/SystemUsersTable\";\n\nexport const UsersRoleManagement = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"\">\n\t\t\t\t<h3>Gestión de roles de usuarios</h3>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<SystemUsersTable />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<SystemUserCard />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { actualizarEntidades } from \"../../helpers/DB/actualizarEntidades\";\nimport { useFormArray } from \"../../hooks/useFormArray\";\n\nexport const EntityEditingModule = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst [formValues, handleInputChange] = useFormArray(entities);\n\tconst handleActualizarEntidades = () => {\n\t\tactualizarEntidades(formValues);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<h3>Edición de entidades</h3>\n\t\t\t</div>\n\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"row mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<form>\n\t\t\t\t{entities.map((entitie, i) => {\n\t\t\t\t\tif (entitie.clave !== \"dev\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={entitie.clave} className=\"d-flex flex-column mb-5\">\n\t\t\t\t\t\t\t\t<h5>{entitie.nombre}</h5>\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3 h-100 d-flex justify-content-center align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={`./logos/${entitie.img}`}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxHeight: 70, maxWidth: 100 }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-8 mt-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-titular`}>\n\t\t\t\t\t\t\t\t\t\t\t\tTitular:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formValues[i].titular}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-direccion`}>\n\t\t\t\t\t\t\t\t\t\t\t\tDireccion:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].direccion}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{privilegios.cerrarExpedicionModulos &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SADER\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CNA\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SRL\" &&\n\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CESVBC\" && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\tExpedición:\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActiva\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCerrada\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else return <div key={entitie.clave}></div>;\n\t\t\t\t})}\n\t\t\t</form>\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { useState } from \"react\";\n\nexport const useFormArray = (initialState = []) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst keys = target.name.split(\"-\");\n\t\tconst index = keys[0];\n\t\tconst name = keys[1];\n\t\tconst newState = values.slice();\n\n\t\tif (target.type === \"button\") {\n\t\t\tnewState[index][name] = !newState[index][name];\n\t\t} else {\n\t\t\tnewState[index][name] = target.value;\n\t\t}\n\t\tsetValues(newState);\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport \"firebase/firestore\";\nimport { entidades } from \"../consts\";\n\nexport const actualizarEntidades = (data = entidades) => {\n\tconst ref = db.collection(\"entidades\");\n\n\tdata.forEach((entidad) => {\n\t\tref\n\t\t\t.doc(entidad.clave)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tif (doc.exist) {\n\t\t\t\t\tref.doc(entidad.clave).update(entidad);\n\t\t\t\t\tconsole.log(`Se actualizo entidad (${entidad.clave})`);\n\t\t\t\t} else {\n\t\t\t\t\tref.doc(entidad.clave).set(entidad);\n\t\t\t\t\tconsole.log(`Se agrego entidad (${entidad.clave})`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(`Error al actualizar entidad (${entidad.clave})`, e);\n\t\t\t});\n\t});\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadEntities = async () => {\n\tconst entidadesSnap = await db.collection(`entidades`).orderBy(\"nombre\").get();\n\n\tconst entities = [];\n\n\tentidadesSnap.forEach((snapHijo) => {\n\t\tentities.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn entities;\n};\n","import { loadEntities } from \"../../helpers/DB/loadEntities\";\nimport { types } from \"../../types/types\";\n\nexport const startLoadEntities = () => {\n\treturn async (dispatch) => {\n\t\tconst entities = await loadEntities();\n\t\tdispatch(setEntities(entities));\n\t};\n};\n\nexport const setEntities = (entities) => ({\n\ttype: types.setEntities,\n\tpayload: entities\n});\n","import React from \"react\";\nimport { UserRoleModal } from \"../components/modals/UserRoleModal\";\nimport { UsersRoleManagement } from \"../components/modulos/UsersRoleManagement\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { EntityEditingModule } from \"../components/modulos/EntityEditingModule\";\nimport { startLoadEntities } from \"../actions/entidades/entities\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\n\nexport const ConfiguracionScreen = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { entities } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\n\tif (!entities) {\n\t\tdispatch(startLoadEntities());\n\t}\n\n\tconst [modules, modulesChange] = useForm();\n\n\tconst modulesNames = [\n\t\t{\n\t\t\tid: \"usuarios\",\n\t\t\tlabel: \"usuarios\"\n\t\t},\n\t\t{\n\t\t\tid: \"entidades\",\n\t\t\tlabel: \"entidades\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-4\">\n\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center\">\n\t\t\t\t\t<h1>Configuracion</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center pt-4\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"module\"}\n\t\t\t\t\toptions={modulesNames}\n\t\t\t\t\tformValues={modules}\n\t\t\t\t\tsetFunction={modulesChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"usuarios\" && privilegios.asignarRoles && <UsersRoleManagement />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"entidades\" && privilegios.editarEntidades && <EntityEditingModule />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<UserRoleModal />\n\t\t</>\n\t);\n};\n","import React from \"react\";\n\nexport const TestArea = () => {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center pt-5\">\n\t\t\t\t<h1>TestArea</h1>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const Header = () => {\n\tconst { name, entidad, img } = useSelector((state) => state.auth);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-between header\">\n\t\t\t\t<div className=\"col-sm-2 text-center \">\n\t\t\t\t\t<div className=\"border rounded h-100 d-flex justify-content-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\tsrc={`./logos/${img}`}\n\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 100 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t<div className=\"card border\">\n\t\t\t\t\t\t<div className=\"card-header\">{`${entidad} - Operador: ${name}`}</div>\n\t\t\t\t\t\t<div className=\"card-body text-dark\">\n\t\t\t\t\t\t\t<h5 className=\"card-title\">Plataforma digital</h5>\n\t\t\t\t\t\t\t<p className=\"card-text\">Distrito de riego 014 Rio Colorado</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Header;\n","import React from \"react\";\nimport { NavbarComponent } from \"../components/ui/NavbarComponent\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { SicperScreen } from \"../components/sicper/SicperScreen\";\nimport { PadronScreen } from \"../components/padron/PadronScreen\";\nimport { PermisosScreen } from \"../components/permisos/PermisosScreen\";\nimport { NuevoPermisoScreen } from \"../components/permisos/NuevoPermisoScreen\";\nimport { TransferenciasScreen } from \"../scenes/TransferenciasScreen\";\nimport { AsignacionScreen } from \"../scenes/AsignacionScreen\";\nimport { LaboresScreen } from \"../scenes/LaboresScreen\";\nimport { AutorizadosScreen } from \"../components/autorizados/AutorizadosScreen\";\nimport { ReportesScreen } from \"../scenes/ReportesScreen\";\nimport { ConfiguracionScreen } from \"../scenes/ConfiguracionScreen\";\nimport { TestArea } from \"../components/templates/TestArea\";\nimport Header from \"../components/ui/Header\";\n\nexport const DashboardRoutes = () => {\n\treturn (\n\t\t<div className=\"container-fluid pr-4\">\n\t\t\t<NavbarComponent />\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/sicper\" component={SicperScreen} />\n\t\t\t\t<Route exact path=\"/padron\" component={PadronScreen} />\n\t\t\t\t<Route exact path=\"/permisos\" component={PermisosScreen} />\n\t\t\t\t<Route exact path=\"/nuevo-permiso\" component={NuevoPermisoScreen} />\n\t\t\t\t<Route exact path=\"/transferencias\" component={TransferenciasScreen} />\n\t\t\t\t<Route exact path=\"/asignacion\" component={AsignacionScreen} />\n\t\t\t\t<Route exact path=\"/labores\" component={LaboresScreen} />\n\t\t\t\t<Route exact path=\"/autorizados\" component={AutorizadosScreen} />\n\t\t\t\t<Route exact path=\"/reportes\" component={ReportesScreen} />\n\t\t\t\t<Route exact path=\"/configuracion\" component={ConfiguracionScreen} />\n\t\t\t\t<Route exact path=\"/test\" component={TestArea} />\n\n\t\t\t\t<Redirect to=\"/sicper\" />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\tlocalStorage.setItem(\"lastPath\", rest.location.pathname);\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nPrivateRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PublicRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) => (isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />)}\n\t\t/>\n\t);\n};\n\nPublicRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { AuthRouter } from \"./AuthRouter\";\nimport { DashboardRoutes } from \"./DashboardRoutes\";\nimport { firebase } from \"../firebase/firebase-config\";\nimport { useDispatch } from \"react-redux\";\nimport {\n\tloadEntity,\n\tloadEntityData,\n\tloadPrivilegios,\n\tloadVariablesGlobales,\n\tlogin,\n\tsetEntity,\n\tsetPrivilegios,\n\tsetVariablesGlobales\n} from \"../actions/auth\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\n\nexport const AppRouter = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [checking, setChecking] = useState(true);\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(async (user) => {\n\t\t\tif (user?.uid) {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\t\t\t\tconst { nombre, img, clave, dotacion, titular, direccion } = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(nombre, img, clave, dotacion, titular, direccion, entity.rol, entity.modulo)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tsetIsLoggedIn(true);\n\t\t\t} else {\n\t\t\t\tsetIsLoggedIn(false);\n\t\t\t\t// dispatch(logout());\n\t\t\t}\n\t\t\tsetChecking(false);\n\t\t});\n\t}, [dispatch, setChecking, setIsLoggedIn]);\n\n\tif (checking) {\n\t\treturn (\n\t\t\t<div className=\"container pt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"spinner-border text-primary\" role=\"status\">\n\t\t\t\t\t<span className=\"sr-only\">Cargando...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PublicRoute path=\"/auth\" component={AuthRouter} isAuthenticated={isLoggedIn} />\n\t\t\t\t\t<PrivateRoute exat isAuthenticated={isLoggedIn} path=\"/\" component={DashboardRoutes} />\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./store/store\";\nimport { AppRouter } from \"./routers/AppRouter\";\n\nexport const SicperApp = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppRouter />\n\t\t\t</Provider>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SicperApp } from \"./SicperApp\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\n\nReactDOM.render(<SicperApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}