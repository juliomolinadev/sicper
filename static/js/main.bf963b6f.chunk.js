(this.webpackJsonpsicper=this.webpackJsonpsicper||[]).push([[0],{119:function(e,a,t){e.exports=t(314)},133:function(e,a,t){},313:function(e,a,t){},314:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(24),c=t.n(o),l=t(4),i=t(32),s=t(109),u=t(1),m="[Login] Login",d="[Login] Entity",p="[Login] Logout",E="[UI] Set Error",f="[UI] Remove Error",v="[UI] Start Loading",b="[UI] Finish Loading",N="[Alta Permisos] Open permiso modal",g="[Alta Permisos] Close permiso modal",h="[Alta Permisos] Open cultivos modal",x="[Alta Permisos] Close cultivos modal",A="[Alta Permisos] Load cultivos",y="[Alta Permisos] Clear cultivos",O="[Alta Permisos] Set cultivo",j="[Alta Permisos] unset cultivo",z="[Alta Permisos] Open usuarios modal",C="[Alta Permisos] Close usuarios modal",w="[Alta Permisos] Load usuarios",P="[Alta Permisos] Clear usuarios",S="[Alta Permisos] Set usuario",D="[Alta Permisos] Unset usuario",M="[Alta Permisos] Open productores modal",F="[Alta Permisos] Close productores modal",k="[Alta Permisos] Load prosuctores",R="[Alta Permisos] Clear prosuctores",U="[Alta Permisos] Set productor",I="[Alta Permisos] Unset productor",L="[Alta Permisos] Open nuevo prouctor modal",T="[Alta Permisos] Close nuevo prouctor modal",V="[Alta Permisos] Set form value",Y="[Alta Permisos] Set onSubmit data",G="[Alta Permisos] unSet onSubmit data",B="[Alta Permisos] Set en espera",_="[Alta Permisos] unSet en espera",q="[Alta Permisos] Enable save button",K="[Alta Permisos] Disable save button",H="[Alta Permisos] Enable print button",Z="[Alta Permisos] Disable print button",X="[Permisos Screen] Set permisos",W="[Permisos Screen] Unset permisos",J="[Permisos Screen] Set permiso selected",$="[Permisos Screen] Unset permiso selected",Q="[Permisos Screen] Set superficies",ee="[Permisos Screen] Unset superficies",ae="[Autorizados Screen] Set modulo",te="[Autorizados Screen] Unset modulo",re="[Autorizados Screen] Set autorizados",ne="[Autorizados Screen] Unset autorizados",oe="[Autorizados Screen] Open autorizados modal",ce="[Autorizados Screen] Close autorizados modal",le="[Autorizados Screen] Set autorizado selected",ie="[Autorizados Screen] Unset autorizado selected",se="[Autorizados Screen] Set superficie referencia",ue="[Autorizados Screen] Unset superficie referencia",me="[Autorizados Screen] Set Form Error",de="[Autorizados Screen] Unset Form Error",pe="[Sicper Screen] Set expedicion",Ee="[Sicper Screen] Unset expedicion",fe="[Sicper Screen] Set superficie normal",ve="[Sicper Screen] Set superficie extra",be="[Algodonero Screen] Set permisos",Ne="[Algodonero Screen] Unset permisos",ge={loading:!1,msgError:null},he={enEspera:!1,enableSaveButton:!0,enablePrintButton:!1,openUsuariosModal:!1,openProductoresModal:!1,isOpenNuevoProductorModal:!1,openCultivosModal:!1,isOpenPrintPermisoModal:!1,usuarios:[],cultivos:[],productores:[],idUsuarioSelected:null,cuenta:null,usuario:null,supDerecho:null,lote:null,localidad:null,municipio:null,estado:null,modulo:null,seccion:null,canal:null,toma:null,sistema:null,idProductorSelected:null,nombreProductor:null,rfcProductor:null,idCultivoSelected:null,nombreCultivo:null,claveCultivo:null,subciclo:null,cuotaCultivo:null,supPrevia:0,tipo:null,ciclo:null,numeroPermiso:null,fechaEmicion:null,fechaLimite:null,vigencia:null,estadoPermiso:null,variedad:"",supAutorizada:0,fuenteCredito:"",latitud:"",longitud:"",cultivoAnterior:"",observaciones:""},xe={permisos:[],permisoSelected:null,superficies:null},Ae={modulo:null,openAutorizadosModal:!1,autorizados:[],autorizadoSelected:null,superficieReferencia:null,formError:null},ye={expedicion:null,superficie:"normal"},Oe={permisos:[],permisoSelected:null},je="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ze=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return{uid:a.payload.uid,name:a.payload.displayName};case d:return Object(u.a)(Object(u.a)({},e),{},{entidad:a.payload.entidad,img:a.payload.img,claveEntidad:a.payload.claveEntidad,dotacion:a.payload.dotacion,titular:a.payload.titular});case p:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(u.a)(Object(u.a)({},e),{},{msgError:a.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{msgError:null});case v:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case b:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},sicperScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case pe:return Object(u.a)(Object(u.a)({},e),{},{expedicion:a.payload});case Ee:return Object(u.a)(Object(u.a)({},e),{},{expedicion:null});case fe:return Object(u.a)(Object(u.a)({},e),{},{superficie:"normal"});case ve:return Object(u.a)(Object(u.a)({},e),{},{superficie:"extra"});default:return e}},permisosScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return Object(u.a)(Object(u.a)({},e),{},{permisos:a.payload});case W:return Object(u.a)(Object(u.a)({},e),{},{permisos:[]});case J:return Object(u.a)(Object(u.a)({},e),{},{permisoSelected:a.payload});case $:return Object(u.a)(Object(u.a)({},e),{},{permisoSelected:null});case Q:return Object(u.a)(Object(u.a)({},e),{},{superficies:a.payload});case ee:return Object(u.a)(Object(u.a)({},e),{},{superficies:null});default:return e}},algodoneroScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case be:return Object(u.a)(Object(u.a)({},e),{},{permisos:a.payload});case Ne:return Object(u.a)(Object(u.a)({},e),{},{permisos:[]});case J:return Object(u.a)(Object(u.a)({},e),{},{permisoSelected:a.payload});case $:return Object(u.a)(Object(u.a)({},e),{},{permisoSelected:null});default:return e}},altaPermisos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return Object(u.a)(Object(u.a)({},e),{},{openPrintPermisoModal:!0});case g:return Object(u.a)(Object(u.a)({},e),{},{openPrintPermisoModal:!1});case h:return Object(u.a)(Object(u.a)({},e),{},{openCultivosModal:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{openCultivosModal:!1});case A:return Object(u.a)(Object(u.a)({},e),{},{cultivos:a.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{cultivos:[]});case O:return Object(u.a)(Object(u.a)({},e),{},{idCultivoSelected:a.payload.id,nombreCultivo:a.payload.nombre,claveCultivo:a.payload.clave,subciclo:a.payload.subciclo,cuotaCultivo:a.payload.costoHectarea});case j:return Object(u.a)(Object(u.a)({},e),{},{idCultivoSelected:null,nombreCultivo:null,claveCultivo:null,subciclo:null,cuotaCultivo:null});case z:return Object(u.a)(Object(u.a)({},e),{},{openUsuariosModal:!0});case C:return Object(u.a)(Object(u.a)({},e),{},{openUsuariosModal:!1});case w:return Object(u.a)(Object(u.a)({},e),{},{usuarios:a.payload});case P:return Object(u.a)(Object(u.a)({},e),{},{usuarios:[]});case S:return Object(u.a)(Object(u.a)({},e),{},{idUsuarioSelected:a.payload.id,cuenta:"".concat(a.payload.cuenta,".").concat(a.payload.subcta),usuario:"".concat(a.payload.apPaterno," ").concat(a.payload.apMaterno," ").concat(a.payload.nombre),supDerecho:a.payload.supRiego,lote:a.payload.predio,localidad:a.payload.ejido,municipio:a.payload.municipio,estado:a.payload.estado,modulo:a.payload.modulo,seccion:a.payload.seccion,canal:"".concat(a.payload.cp,"-").concat(a.payload.lt,"-").concat(a.payload.slt,"-").concat(a.payload.ra,"-").concat(a.payload.sra,"-").concat(a.payload.ssra),toma:a.payload.pControl,sistema:a.payload.sistRiego,supPrevia:a.payload.supPrevia});case D:return Object(u.a)(Object(u.a)({},e),{},{idUsuarioSelected:null,cuenta:null,usuario:null,supDerecho:null,lote:null,localidad:null,municipio:null,estado:null,modulo:null,seccion:null,canal:null,toma:null,sistema:null});case M:return Object(u.a)(Object(u.a)({},e),{},{openProductoresModal:!0});case F:return Object(u.a)(Object(u.a)({},e),{},{openProductoresModal:!1});case k:return Object(u.a)(Object(u.a)({},e),{},{productores:a.payload});case R:return Object(u.a)(Object(u.a)({},e),{},{productores:[]});case U:return Object(u.a)(Object(u.a)({},e),{},{idProductorSelected:a.payload.id,nombreProductor:"".concat(a.payload.apPaterno," ").concat(a.payload.apMaterno," ").concat(a.payload.nombre),rfcProductor:a.payload.rfc});case I:return Object(u.a)(Object(u.a)({},e),{},{idProductorSelected:null,nombreProductor:null,rfcProductor:null});case L:return Object(u.a)(Object(u.a)({},e),{},{isOpenNuevoProductorModal:!0});case T:return Object(u.a)(Object(u.a)({},e),{},{isOpenNuevoProductorModal:!1});case V:return Object(u.a)(Object(u.a)({},e),{},{supAutorizada:Number(a.payload.supAutorizada),variedad:a.payload.variedad,fuenteCredito:a.payload.fuenteCredito,latitud:a.payload.latitud,longitud:a.payload.longitud,cultivoAnterior:a.payload.cultivoAnterior,observaciones:a.payload.observaciones});case Y:return Object(u.a)(Object(u.a)({},e),{},{tipo:a.payload.tipo,ciclo:a.payload.ciclo,numeroPermiso:a.payload.numeroPermiso,fechaEmicion:a.payload.fechaEmicion,fechaLimite:a.payload.fechaLimite,vigencia:a.payload.vigencia,estadoPermiso:a.payload.estadoPermiso});case G:return Object(u.a)(Object(u.a)({},e),{},{tipo:null,ciclo:null,numeroPermiso:null,fechaEmicion:null,fechaLimite:null,vigencia:null});case B:return Object(u.a)(Object(u.a)({},e),{},{enEspera:!0});case _:return Object(u.a)(Object(u.a)({},e),{},{enEspera:!1});case q:return Object(u.a)(Object(u.a)({},e),{},{enableSaveButton:!0});case K:return Object(u.a)(Object(u.a)({},e),{},{enableSaveButton:!1});case H:return Object(u.a)(Object(u.a)({},e),{},{enablePrintButton:!0});case Z:return Object(u.a)(Object(u.a)({},e),{},{enablePrintButton:!1});default:return e}},autorizadosScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ae:return Object(u.a)(Object(u.a)({},e),{},{modulo:a.payload});case te:return Object(u.a)(Object(u.a)({},e),{},{modulo:null});case re:return Object(u.a)(Object(u.a)({},e),{},{autorizados:a.payload});case ne:return Object(u.a)(Object(u.a)({},e),{},{autorizados:[]});case oe:return Object(u.a)(Object(u.a)({},e),{},{openAutorizadosModal:!0});case ce:return Object(u.a)(Object(u.a)({},e),{},{autorizadoSelected:null,openAutorizadosModal:!1});case le:return Object(u.a)(Object(u.a)({},e),{},{openAutorizadosModal:!0,autorizadoSelected:a.payload});case ie:return Object(u.a)(Object(u.a)({},e),{},{openAutorizadosModal:!1,autorizadoSelected:null});case se:return Object(u.a)(Object(u.a)({},e),{},{superficieReferencia:a.payload});case ue:return Object(u.a)(Object(u.a)({},e),{},{superficieReferencia:null});case me:return Object(u.a)(Object(u.a)({},e),{},{formError:a.payload});case de:return Object(u.a)(Object(u.a)({},e),{},{formError:null});default:return e}}}),Ce=Object(i.e)(ze,je(Object(i.a)(s.a))),we=t(2),Pe=t.n(we),Se=t(6),De=t(10),Me=t(14),Fe=t(12),ke=t(8),Re=t.n(ke);t(76),t(131);Re.a.initializeApp({apiKey:"AIzaSyCPGzYLWjSE-8cCojpCClhkbDZouZVqVVo",authDomain:"sicper-e1812.firebaseapp.com",databaseURL:"https://sicper-e1812.firebaseio.com",projectId:"sicper-e1812",storageBucket:"sicper-e1812.appspot.com",messagingSenderId:"868337651917",appId:"1:868337651917:web:ce83022e99f450f19dd984"});var Ue=Re.a.firestore(),Ie=(new Re.a.auth.GoogleAuthProvider,function(e){return{type:E,payload:e}}),Le=function(){return{type:f}},Te=function(){return{type:b}},Ve=t(11),Ye=t.n(Ve),Ge=function(e,a){return function(t){t({type:v}),Re.a.auth().signInWithEmailAndPassword(e,a).then(function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var r,n,o,c,l,i,s,u;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.user,e.next=3,Ke(r.uid);case 3:return n=e.sent,e.next=6,He(n.claveEntidad);case 6:o=e.sent,c=o.nombre,l=o.img,i=o.clave,s=o.dotacion,u=o.titular,t(Be(r.uid,r.displayName)),t(_e(c,l,i,s,u)),t(Te());case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t(Te()),Ye.a.fire("Error","Usuoario o contrase\xf1a incorrecto.","error")}))}},Be=function(e,a){return{type:m,payload:{uid:e,displayName:a}}},_e=function(e,a,t,r,n){return{type:d,payload:{entidad:e,img:a,claveEntidad:t,dotacion:r,titular:n}}},qe=function(){return{type:p}},Ke=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("usuarios").get();case 2:return t=e.sent,r={},t.forEach((function(e){e.id===a&&(r=Object(u.a)({},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("entidades").get();case 2:return t=e.sent,r={},t.forEach((function(e){e.data().clave===a&&(r=Object(u.a)({},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ze=t(44),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(r.useState)(e),t=Object(De.a)(a,2),n=t[0],o=t[1],c=function(){o(e)},l=function(e){var a=e.target;o(Object(u.a)(Object(u.a)({},n),{},Object(Ze.a)({},a.name,a.value)))};return[n,l,c]},We=(t(133),function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.ui})).loading,t=Xe({email:"",password:""}),r=Object(De.a)(t,2),o=r[0],c=r[1],i=o.email,s=o.password;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"auth__title"},"Login"),n.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(Ge(i,s))}},n.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:i,onChange:c}),n.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:s,onChange:c}),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a},"Login")))}),Je=t(110),$e=t.n(Je),Qe=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.ui})).msgError,t=Xe(),r=Object(De.a)(t,2),o=r[0],c=r[1],i=o.name,s=o.email,u=o.password,m=o.password2,d=function(){return 0===i.trim().length?(e(Ie("Se requiere el nombre")),!1):$e.a.isEmail(s)?u!==m||u.length<5?(e(Ie("Password diferentes o menor de 5 caracteres")),!1):(e(Le()),!0):(e(Ie("Email no valido")),!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"auth__title"},"Registro"),n.a.createElement("form",{onSubmit:function(a){a.preventDefault(),d()&&e(function(e,a,t){return function(r){Re.a.auth().createUserWithEmailAndPassword(e,a).then(function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.user,e.next=3,n.updateProfile({displayName:t});case 3:r(Be(n.uid,n.displayName));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),Ye.a.fire("Error","El usuario ya existe.","error")}))}}(s,u,i))}},a&&n.a.createElement("div",{className:"auth__alert-error"},a),n.a.createElement("input",{type:"text",placeholder:"Nombre",name:"name",className:"auth__input",autoComplete:"off",onChange:c}),n.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",onChange:c}),n.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",onChange:c}),n.a.createElement("input",{type:"password",placeholder:"Confirmar password",name:"password2",className:"auth__input",onChange:c}),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Crear usuario"),n.a.createElement(Me.b,{to:"/auth/login",className:"link"},"Ya esta registrado?")))},ea=function(){return n.a.createElement("div",{className:"auth__main"},n.a.createElement("div",{className:"auth__box-container"},n.a.createElement(Fe.d,null,n.a.createElement(Fe.b,{exact:!0,path:"/auth/login",component:We}),n.a.createElement(Fe.b,{exact:!0,path:"/auth/register",component:Qe}),n.a.createElement(Fe.a,{to:"/auth/login"}))))},aa=t(318),ta=t(319),ra=t(317),na=function(){var e=Object(l.b)();return n.a.createElement("div",{className:"fixed-top"},n.a.createElement(aa.a,{bg:"dark",variant:"dark",expand:"lg"},n.a.createElement(aa.a.Brand,{href:"/"},n.a.createElement("img",{src:"./logos/cna.png",height:"50",className:"d-inline-block align-top",alt:"Logo comisi\xf3n nacional del agua"})),n.a.createElement(aa.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(aa.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(ta.a,{className:"mr-auto"},n.a.createElement(Me.b,{to:"/sicper",className:"nav-link"},"Inicio"),n.a.createElement(Me.b,{to:"/padron",className:"nav-link"},"Padron"),n.a.createElement(Me.b,{to:"/permisos",className:"nav-link"},"Permisos"),n.a.createElement(Me.b,{to:"/algodonero",className:"nav-link"},"Algodonero"),n.a.createElement(Me.b,{to:"/transferencias",className:"nav-link"},"Transferencias"),n.a.createElement(Me.b,{to:"/reportes",className:"nav-link"},"Reportes"),n.a.createElement(Me.b,{to:"/autorizados",className:"nav-link"},"Autorizados"),n.a.createElement(Me.b,{to:"/configuracion",className:"nav-link"},"Configuracion")),n.a.createElement(ra.a,{variant:"outline-secondary btn-sm",onClick:function(){e(function(){var e=Object(Se.a)(Pe.a.mark((function e(a){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.auth().signOut();case 2:a(qe());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},to:"/login"},"Salir"))))},oa=t(113),ca=function(){var e,a,t=Object(l.c)((function(e){return e.permisosScreen})).superficies,r={},o=0,c=0;null!==t&&(a="Superficie por cultivo",r={labels:(e=t).labels,datasets:[{label:a,data:e.superficiesCultivos,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},t.superficiesCultivos.forEach((function(e){o+=e})),t.numeroPermisos.forEach((function(e){c+=e})));return n.a.createElement("div",{className:"pt-4 text-secondary"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("h5",null,"Superficies por cultivo")),n.a.createElement("div",{className:"d-flex flex-column pt-4 pb-4 pl-3"},n.a.createElement("div",null,n.a.createElement("h6",null,"Superficie expedida: ",o," ha")),n.a.createElement("div",null,n.a.createElement("h6",null,"Permisos expedidos: ",c))),n.a.createElement("div",{className:"pb-4"},n.a.createElement(oa.HorizontalBar,{data:r,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},width:220})))},la=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("permisos").doc("permisosM".concat(a)).collection("permisos").orderBy("fechaEmicion","desc").limit(20).get();case 2:return t=e.sent,r=[],t.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ia=function(){var e=Object(Se.a)(Pe.a.mark((function e(a,t){var r,n,o,c;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("permisos").doc("permisosM".concat(t)).collection("permisos").orderBy("usuario").startAt(a.toUpperCase()).endAt(a.toUpperCase()+"\uf8ff").get();case 2:return r=e.sent,e.next=5,Ue.collection("permisos").doc("permisosM".concat(t)).collection("permisos").orderBy("cuenta").startAt(a).endAt(a+"\uf8ff").get();case 5:return n=e.sent,e.next=8,Ue.collection("permisos").doc("permisosM".concat(t)).collection("permisos").orderBy("numeroPermiso").startAt(a.toUpperCase()).endAt(a.toUpperCase()+"\uf8ff").get();case 8:return o=e.sent,c=[],r.forEach((function(e){c.push(Object(u.a)({id:e.id},e.data()))})),n.forEach((function(e){c.push(Object(u.a)({id:e.id},e.data()))})),o.forEach((function(e){c.push(Object(u.a)({id:e.id},e.data()))})),0===c.length&&Ye.a.fire("No se encontraron permisos ","Se mostrar\xe1n los \xfaltimos permisos registrados.","warning"),console.log("Permisos: ",c),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),sa=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Ue.collection("permisos").doc("permisosM".concat(a)).collection("permisosPorCultivo").orderBy("superficie","desc").get().then((function(e){var a=[];e.forEach((function(e){a.push(Object(u.a)({id:e.id},e.data()))}));var r=[],n=[],o=[],c=4,l=0,i=0;a.forEach((function(e){c>=0?(r.push("".concat(e.id," (").concat(e.superficie,"ha)")),n.push(e.superficie),o.push(e.numeroPermisos),c--):(l=+e.superficie,i=+e.numeroPermisos)})),r.push("Otros cultivos (".concat(l,"ha)")),n.push(l),o.push(i),t={labels:r,superficiesCultivos:n,numeroPermisos:o}})).catch((function(e){console.log(" Error: ",e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ua=function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,la(e);case 2:r=a.sent,t(pa(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ma=function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,sa(e);case 2:r=a.sent,t(da(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},da=function(e){return{type:Q,payload:e}},pa=function(e){return{type:X,payload:e}},Ea=function(e){return{type:J,payload:e.id}},fa=function(e){var a=e.autorizados,t=e.modulo,r=0,o=0,c=0,l=0,i=0,s=0,u=0,m=0;return null!==t&&a.forEach((function(e){r+=e.gravedadNormalAutorizada,o+=e.gravedadNormalAsignada,c+=e.gravedadExtraAutorizada,l+=e.gravedadExtraAsignada,i+=e.pozoNormalAutorizada,s+=e.pozoNormalAsignada,u+=e.pozoExtraAutorizada,m+=e.pozoExtraAsignada})),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3"},n.a.createElement("h5",null,"M\xf3dulo ",t)),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-info mb-0 text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},"Total Superficie Normal")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Gravedad"),n.a.createElement("td",null,r),n.a.createElement("td",null,o)),n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Federal"),n.a.createElement("td",null,i),n.a.createElement("td",null,s))))),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-table-secondary text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},"Total Superficie Extra")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Gravedad"),n.a.createElement("td",null,c),n.a.createElement("td",null,l)),n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Federal"),n.a.createElement("td",null,u),n.a.createElement("td",null,m))))))},va=function(){var e=Object(Se.a)(Pe.a.mark((function e(){var a,t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("cultivos").orderBy("clave").get();case 2:return a=e.sent,t=[],a.forEach((function(e){t.push({clave:e.data().clave,cultivo:e.data().nombre})})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r,n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("autorizados").doc("autorizadosM".concat(a)).collection("autorizados").orderBy("clave").get();case 2:return t=e.sent,r=[],t.forEach((function(e){r.push(Object(u.a)({},e.data()))})),e.next=7,va();case 7:return n=e.sent,0===r.length&&n.forEach((function(e){r.push({clave:e.clave,cultivo:e.cultivo,gravedadNormalAutorizada:0,gravedadNormalAsignada:0,gravedadExtraAutorizada:0,gravedadExtraAsignada:0,pozoNormalAutorizada:0,pozoNormalAsignada:0,pozoExtraAutorizada:0,pozoExtraAsignada:0})})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Na=function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r,n;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ba(e);case 2:r=a.sent,n=0,r.forEach((function(e){n+=e.gravedadNormalAutorizada,n+=e.gravedadNormalAsignada,n+=e.gravedadExtraAutorizada,n+=e.gravedadExtraAsignada,n+=e.pozoNormalAutorizada,n+=e.pozoNormalAsignada,n+=e.pozoExtraAutorizada,n+=e.pozoExtraAsignada})),t(ga(r)),t(Aa(n));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ga=function(e){return{type:re,payload:e}},ha=function(){return{type:ce}},xa=function(e){return{type:le,payload:e}},Aa=function(e){return{type:se,payload:e}},ya=function(e){return{type:me,payload:e}},Oa=function(){return{type:de}},ja=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Ue.collection("permisos").doc("permisosM".concat(a)).collection("permisosPorCultivo").orderBy("superficie","desc").get().then((function(e){e.forEach((function(e){t.push(Object(u.a)({id:e.id},e.data()))}))})).catch((function(e){console.log(" Error: ",e)}));case 3:return 0===t.length&&(t=!1),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),za=function(e){return{type:pe,payload:e}},Ca=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.permisosScreen})).superficies,r=Object(l.c)((function(e){return e.auth})).claveEntidad,o=Object(l.c)((function(e){return e.autorizadosScreen})).autorizados,c=Object(l.c)((function(e){return e.sicperScreen})),i=c.expedicion,s=c.superficie;0===o.length&&a(Na(r)),null===i&&a((e=r,function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r,n,o;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ja(e);case 2:return r=a.sent,a.next=5,ba(e);case 5:n=a.sent,o=[],r&&r.forEach((function(e){n.forEach((function(a){e.id==="".concat(a.clave,"-").concat(a.cultivo)&&o.push(Object(u.a)(Object(u.a)({},a),e))}))})),o.forEach((function(e){void 0===e.gravedadNormal&&(e.gravedadNormal=0),void 0===e.gravedadExtra&&(e.gravedadExtra=0),void 0===e.pozoNormal&&(e.pozoNormal=0),void 0===e.pozoExtra&&(e.pozoExtra=0)})),0===o.length&&(o=[{clave:"-",cultivo:"Sin expedicion",gravedadNormalAutorizada:0,gravedadNormalAsignada:0,gravedadExtraAutorizada:0,gravedadExtraAsignada:0,pozoNormalAutorizada:0,pozoNormalAsignada:0,pozoExtraAutorizada:0,pozoExtraAsignada:0,gravedadNormal:0,pozoNormal:0,gravedadExtra:0,pozoExtra:0}]),t(za(o));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())),null===t&&a(ma(r));var m=function(){a({type:fe})},d=function(){a({type:ve})};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row pt-5"},n.a.createElement("div",{className:"col-sm-3 pr-4 pt-3"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement(Me.b,{to:"/nuevo-permiso"},n.a.createElement("button",{className:"btn btn-outline-primary",type:"button"},n.a.createElement("span",null,"Nuevo Permiso "),n.a.createElement("i",{className:"fas fa-plus"}))))),n.a.createElement("div",{className:"col-sm-5 pt-3"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"btn-group",role:"group"},"normal"===s?n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:m},"Superficie Normal"):n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:m},"Superficie Normal"),"extra"===s?n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:d},"Superficie Extra"):n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:d},"Superficie Extra"))))),n.a.createElement("div",{className:"row pt-3 pb-4"},n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("div",{className:"border border-info rounded p-0"},n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-sm table-striped text-secondary"},n.a.createElement("thead",{className:"table-info"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col",className:"text-center"},"Clave"),n.a.createElement("th",{scope:"col"},"Cultivo"),n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col",className:"text-center"},"Superficie Autorizada"),n.a.createElement("th",{scope:"col",className:"text-center"},"Superficie Asignada"),n.a.createElement("th",{scope:"col",className:"text-center"},"Superficie Expedida"),n.a.createElement("th",{scope:"col",className:"text-center"},"Superficie Disponible"))),i&&"normal"===s?n.a.createElement("tbody",null,i.map((function(e){return n.a.createElement("tr",{key:"".concat(e.id,"-").concat(e.clave)},n.a.createElement("th",{scope:"row",className:"text-center"},e.clave),n.a.createElement("td",null,e.cultivo),n.a.createElement("td",null,n.a.createElement("div",null,"Gravedad"),n.a.createElement("div",null,"Pozo")),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadNormalAutorizada),n.a.createElement("div",{className:"text-center"},e.pozoNormalAutorizada)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadNormalAsignada),n.a.createElement("div",{className:"text-center"},e.pozoNormalAsignada)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadNormal),n.a.createElement("div",{className:"text-center"},e.pozoNormal)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadNormalAsignada-e.gravedadNormal),n.a.createElement("div",{className:"text-center"},e.pozoNormalAsignada-e.pozoNormal)))}))):n.a.createElement(n.a.Fragment,null),i&&"extra"===s?n.a.createElement("tbody",null,i.map((function(e){return n.a.createElement("tr",{key:"".concat(e.id,"-").concat(e.clave)},n.a.createElement("th",{scope:"row",className:"text-center"},e.clave),n.a.createElement("td",null,e.cultivo),n.a.createElement("td",null,n.a.createElement("div",null,"Gravedad"),n.a.createElement("div",null,"Pozo")),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadExtraAutorizada),n.a.createElement("div",{className:"text-center"},e.pozoExtraAutorizada)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadExtraAsignada),n.a.createElement("div",{className:"text-center"},e.pozoExtraAsignada)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadExtra),n.a.createElement("div",{className:"text-center"},e.pozoExtra)),n.a.createElement("td",null,n.a.createElement("div",{className:"text-center"},e.gravedadExtraAsignada-e.gravedadExtra),n.a.createElement("div",{className:"text-center"},e.pozoExtraAsignada-e.pozoExtra)))}))):n.a.createElement(n.a.Fragment,null))))),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("div",{className:"border border-info rounded detallePermiso text-secondary"},n.a.createElement(ca,null),o.length>0?n.a.createElement(fa,{autorizados:o,modulo:r}):n.a.createElement(n.a.Fragment,null)))))},wa=t(114),Pa=t.n(wa),Sa=function(e){var a=e.title,t=e.columns,r=e.data,o=e.setFunction,c=e.closeFunction,i=Object(l.b)();return n.a.createElement("div",{className:"table-responsive border rounded"},n.a.createElement(Pa.a,{columns:t,data:r,title:a,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por pagina",rangesSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},fixedHeader:!0,persistTableHead:!0,fixedHeaderScrollHeight:"380px",highlightOnHover:!0,striped:!0,pointerOnHover:!0,dense:!0,onRowClicked:function(e){i(o(e)),void 0!==c&&i(c())}}))},Da=t(118);function Ma(){var e=Object(Da.a)(["\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return Ma=function(){return e},e}t(68).default.input(Ma());var Fa=[{name:"id",selector:"id",omit:!0},{name:"Cuenta",selector:"cuenta",sortable:!0,width:"80px"},{name:"Subcta",selector:"subcta",sortable:!0,width:"40px",center:!0},{name:"Paterno",selector:"apPaterno",width:"140px",sortable:!0},{name:"Materno",selector:"apMaterno",width:"140px",sortable:!0},{name:"Nombre",selector:"nombre",width:"200px",sortable:!0},{name:"Derecho(ha)",selector:"supRiego",sortable:!0,width:"80px",center:!0},{name:"Lote",selector:"predio",sortable:!0,width:"60px",center:!0},{name:"Ejido",selector:"ejido",sortable:!0,width:"60px",center:!0},{name:"Seccion",selector:"seccion",sortable:!0,width:"60px",center:!0},{name:"Modulo",selector:"modulo",sortable:!0,width:"60px",center:!0}],ka=[{name:"id",selector:"id",omit:!0},{name:"Paterno",selector:"apPaterno",width:"140px",sortable:!0},{name:"Materno",selector:"apMaterno",width:"140px",sortable:!0},{name:"Nombre",selector:"nombre",width:"200px",sortable:!0},{name:"RFC",selector:"rfc",sortable:!0,width:"140px",center:!0}],Ra=[{name:"id",selector:"id",omit:!0},{name:"clave",selector:"clave",sortable:!0,width:"60px",center:!0},{name:"nombre",selector:"nombre",sortable:!0,center:!0},{name:"subciclo",selector:"subciclo",sortable:!0,center:!0}],Ua=[{name:"id",selector:"id",omit:!0},{name:"PERMISO",selector:"numeroPermiso",sortable:!0,width:"110px"},{name:"CUENTA",selector:"cuenta",sortable:!0,width:"80px"},{name:"USUARIO",selector:"usuario",sortable:!0,width:"160px"},{name:"PRODUCTOR",selector:"nombreProductor",width:"160px",sortable:!0},{name:"CULTIVO",selector:"nombreCultivo",width:"100px",sortable:!0},{name:"SUP(ha)",selector:"supAutorizada",width:"60px",sortable:!0,center:!0},{name:"LOTE",selector:"lote",sortable:!0,width:"60px",center:!0},{name:"LOCALIDAD",selector:"localidad",sortable:!0,width:"120px"},{name:"EMICION",selector:"fechaEmicion",sortable:!0,width:"100px"},{name:"VIGENCIA",selector:"vigencia",sortable:!0,width:"100px"},{name:"ESTADO",selector:"estadoPermiso",sortable:!0,width:"100px"}],Ia=[{name:"id",selector:"id",omit:!0},{name:"CLAVE",selector:"clave",sortable:!0,width:"80px",center:!0},{name:"CULTIVO",selector:"cultivo",sortable:!0,width:"160px"},{name:"GRAVEDAD NORMAL AUTORIZADA",selector:"gravedadNormalAutorizada",sortable:!0,center:!0},{name:"GRAVEDAD NORMAL ASIGNADA",selector:"gravedadNormalAsignada",sortable:!0,center:!0},{name:"GRAVEDAD EXTRA AUTORIZADA",selector:"gravedadExtraAutorizada",sortable:!0,center:!0},{name:"GRAVEDAD EXTRA ASIGNADA",selector:"gravedadExtraAsignada",sortable:!0,center:!0},{name:"POZO NORMAL AUTORIZADA",selector:"pozoNormalAutorizada",sortable:!0,center:!0},{name:"POZO NORMAL ASIGNADA",selector:"pozoNormalAsignada",sortable:!0,center:!0},{name:"POZO EXTRA AUTORIZADA",selector:"pozoExtraAutorizada",sortable:!0,center:!0},{name:"POZO EXTRA ASIGNADA",selector:"pozoExtraAsignada",sortable:!0,center:!0}],La=[{name:"id",selector:"id",omit:!0},{name:"CLAVE",selector:"clave",sortable:!0,width:"80px",center:!0},{name:"CULTIVO",selector:"cultivo",sortable:!0,width:"160px"},{name:"POZO NORMAL AUTORIZADA",selector:"pozoNormalAutorizada",sortable:!0,center:!0},{name:"POZO NORMAL ASIGNADA",selector:"pozoNormalAsignada",sortable:!0,center:!0},{name:"POZO EXTRA AUTORIZADA",selector:"pozoExtraAutorizada",sortable:!0,center:!0},{name:"POZO EXTRA ASIGNADA",selector:"pozoExtraAsignada",sortable:!0,center:!0}],Ta=function(){var e=Object(Se.a)(Pe.a.mark((function e(a,t){var r,n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("derechos").where("modulo","==",t).orderBy("apPaterno").startAt(a).endAt(a+"\uf8ff").get();case 2:return r=e.sent,n=[],r.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Va=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("colonias").where("clave","==",a).get();case 2:if(t=e.sent,r=[],t.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),0!==r.length){e.next=9;break}return e.abrupt("return","");case 9:return e.abrupt("return",r[0].nombre);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(Se.a)(Pe.a.mark((function e(a,t){var r,n,o;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("permisos").doc("permisosM".concat(t)).collection("permisos").where("cuenta","==",a).get();case 2:return r=e.sent,n=[],r.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),o=0,n.forEach((function(e){o+=e.supAutorizada})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Ga=function(){return{type:C}},Ba=function(e){return{type:w,payload:e}},_a=function(e){return Ka(),function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r,n;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Va(e.ejido);case 2:return r=a.sent,a.next=5,Ya("".concat(e.cuenta,".").concat(e.subcta),e.modulo);case 5:n=a.sent,e.localidad=r,e.supPrevia=n,t(qa(e));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},qa=function(e){return 26===e.estado&&(e.estado="Sonora"),2===e.estado&&(e.estado="Baja California"),2===e.municipio&&(e.municipio="Mexicali"),55===e.municipio&&(e.municipio="San Luis Rio Colorado"),1===e.sistRiego&&(e.sistRiego="Gravedad"),2===e.sistRiego&&1===e.equipo&&(e.sistRiego="Pozo Particular"),2===e.sistRiego&&2===e.equipo&&(e.sistRiego="Pozo Federal"),{type:S,payload:e}},Ka=function(){return{type:D}},Ha=function(){var e=Object(l.b)(),a=function(){t(),E.length>0?e({type:z}):Ye.a.fire("Nada para buscar","Ingrese apellido paterno del usuario","warning")},t=function(){e(function(e,a){return function(){var t=Object(Se.a)(Pe.a.mark((function t(r){var n;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ta(e,a);case 2:n=t.sent,r(Ba(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(E.toUpperCase(),r))},r=Object(l.c)((function(e){return e.auth})).claveEntidad,o=Object(l.c)((function(e){return e.altaPermisos})),c=o.idUsuarioSelected,i=o.usuario,s="";c&&(s=i);var u=Xe({usuario:""}),m=Object(De.a)(u,2),d=m[0],p=m[1],E=d.usuario;return n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Usuario: "),n.a.createElement("label",null,s," "),c?n.a.createElement("div",{className:"fas fa-check text-success p-3"}):n.a.createElement(n.a.Fragment,null),c?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido paterno",name:"usuario",autoComplete:"off",value:E,onChange:p,onKeyUp:function(e){"Enter"===e.key&&a()}})),c?n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(Ka()),d.usuario=""}},n.a.createElement("i",{className:"fas fa-trash"})):n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},n.a.createElement("i",{className:"fas fa-search"}))))},Za=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.usuarios,t=e.idUsuarioSelected,r=e.supPrevia,o="",c="",i="",s="",u="",m="",d="";return a.forEach((function(e){e.id===t&&(c="".concat(e.cuenta,".").concat(e.subcta),o=e.localidad,i=e.supRiego,s=e.predio,u=i-r,m="".concat(e.apPaterno," ").concat(e.apMaterno," ").concat(e.nombre),d=e.seccion)})),n.a.createElement("div",{className:"border rounded mb-4 p-2"},n.a.createElement("div",null,"Cuenta: ",c),n.a.createElement("div",null,"Colonia/Ejido: ",o),n.a.createElement("div",null,"Sup. Derecho: ",i),n.a.createElement("div",null,"Usuario: ",m),n.a.createElement("div",null,"Lote: ",s),n.a.createElement("div",null,"Sup. Disponible: ",u),n.a.createElement("div",null),n.a.createElement("div",null,"Seccion: ",d))},Xa=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.usuarios,t=e.idUsuarioSelected,r=[];return a.length>0&&(r=Object.values(a)),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row mt-3 d-flex justify-content-start"},n.a.createElement(Ha,null)),0===r.length?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-8 mb-3"},n.a.createElement(Sa,{title:0===r.length?"No se encontraron usuarios":"Usuarios",columns:Fa,data:r,setFunction:_a})),n.a.createElement("div",{className:"col-sm-4"},t?n.a.createElement(Za,null):n.a.createElement(n.a.Fragment,null))))},Wa=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Configuracion"))},Ja=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Reportes"))},$a=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Transferencias"))},Qa=t(9),et=t.n(Qa),at=function(e){return{type:Y,payload:e}},tt=function(){return{type:N}},rt=t(15),nt=t.n(rt),ot=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("cultivos").orderBy("nombre").startAt(a).endAt(a+"\uf8ff").get();case 2:return t=e.sent,r=[],t.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ct=function(){return{type:x}},lt=function(e){return{type:A,payload:e}},it=function(e){return{type:O,payload:e}},st=function(){return{type:j}},ut=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.collection("productores").orderBy("apPaterno").startAt(a).endAt(a+"\uf8ff").get();case 2:return t=e.sent,r=[],t.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),mt=function(){return{type:F}},dt=function(e){return{type:k,payload:e}},pt=function(e){return{type:U,payload:e}},Et=function(){return{type:I}},ft=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r,n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idUsuarioSelected:a.idUsuarioSelected,cuenta:a.cuenta,usuario:a.usuario,supDerecho:a.supDerecho,lote:a.lote,localidad:a.localidad,municipio:a.municipio,estado:a.estado,modulo:a.modulo,seccion:a.seccion,canal:a.canal,toma:a.toma,sistema:a.sistema,idProductorSelected:a.idProductorSelected,nombreProductor:a.nombreProductor,rfcProductor:a.rfcProductor,idCultivoSelected:a.idCultivoSelected,nombreCultivo:a.nombreCultivo,claveCultivo:a.claveCultivo,subciclo:a.subciclo,cuotaCultivo:a.cuotaCultivo,supPrevia:a.supPrevia,tipo:a.tipo,ciclo:a.ciclo,numeroPermiso:a.numeroPermiso,fechaEmicion:et()(a.fechaEmicion).toDate(),fechaLimite:et()(a.fechaLimite).toDate(),vigencia:et()(a.vigencia).toDate(),variedad:a.variedad,supAutorizada:a.supAutorizada,fuenteCredito:a.fuenteCredito,latitud:a.latitud,longitud:a.longitud,cultivoAnterior:a.cultivoAnterior,observaciones:a.observaciones,uid:a.uid,name:a.name,dotacion:a.dotacion,titular:a.titular,transferencia:a.transferencia,estadoPermiso:a.estadoPermiso},r=Ue.collection("permisos").doc("permisosM".concat(t.modulo)).collection("permisosPorCultivo").doc("".concat(t.claveCultivo,"-").concat(t.nombreCultivo)),e.next=4,Ue.collection("permisos").doc("permisosM".concat(t.modulo)).collection("permisos").add(t).then((function(){return Ue.collection("permisos").doc("permisosM".concat(t.modulo)).update({numeroPermisosModulo:Re.a.firestore.FieldValue.increment(1),superficieModulo:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),r.get().then((function(e){if(e.exists)switch(a.sistema){case"Gravedad":"normal"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),gravedadNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),gravedadExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;case"Pozo Federal":"normal"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;case"Pozo Particular":"normal"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoParticularNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.update({numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoParticularExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;default:console.log("Sistema de riego indefinido")}else switch(a.sistema){case"Gravedad":"normal"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),gravedadNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),gravedadExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;case"Pozo Federal":"normal"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;case"Pozo Particular":"normal"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoParticularNormal:Re.a.firestore.FieldValue.increment(a.supAutorizada)}),"extra"===a.tipo&&r.set({clave:a.claveCultivo,cultivo:a.nombreCultivo,numeroPermisos:Re.a.firestore.FieldValue.increment(1),superficie:Re.a.firestore.FieldValue.increment(a.supAutorizada),pozoParticularExtra:Re.a.firestore.FieldValue.increment(a.supAutorizada)});break;default:console.log("Sistema de riego indefinido")}})).catch((function(e){console.log("Error al obtener permisos por cultivo",e)})),Ye.a.fire("Permiso Guardado","Se registr\xf3 con \xe9xito el nuevo permiso de riego.","success"),!0})).catch((function(e){console.log("Error al guardar permiso",e)}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),vt={content:{width:"1125px",height:"1500px",overflow:"auto"}},bt=function(e){var a=e.data,t=e.isNew,r=Object(l.c)((function(e){return e.altaPermisos})),o=r.openPrintPermisoModal,c=r.enableSaveButton,i=r.enablePrintButton,s=r.enEspera,u=Object(l.b)(),m=function(){u({type:g}),u({type:G}),u(st()),u(Et()),u(Ka()),u({type:q}),u({type:Z})},d=function(){var e=Object(Se.a)(Pe.a.mark((function e(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:K}),u({type:B}),e.next=4,ft(a);case 4:if(!e.sent){e.next=7;break}u({type:_}),u({type:H});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){window.print()};return n.a.createElement(nt.a,{isOpen:o,onRequestClose:m,style:vt,closeTimeoutMS:200,className:"printModal",overlayClassName:"modal-fondo"},"activo"===a.estadoPermiso?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"watermark rotar"},a.estadoPermiso),n.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},n.a.createElement("div",{className:"col-2 d-flex flex-column justify-content-center"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("img",{src:"./logos/sader.png",alt:"Logo SADER",style:{maxHeight:35}})),n.a.createElement("div",{className:"d-flex justify-content-center mt-3"},n.a.createElement("img",{src:"./logos/crl.png",alt:"Logo CRL",style:{maxHeight:70}})),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("span",{className:"printPermisoSubLogo"},"DISTRITO DE RIEGO R\xcdO COLORADO")),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("span",{className:"printPermisoSubLogo"},"S DE R.L. DE I.P. DE C.V.")),n.a.createElement("div",{className:"border rounded d-flex justify-content-left mt-4 w-200"},"Folio: ")),n.a.createElement("div",{className:"col-8 d-flex flex-column justify-content-center"},n.a.createElement("h1",{className:"d-flex justify-content-center"},n.a.createElement("b",null,"PERMISO \xdaNICO DE SIEMBRA")),n.a.createElement("h3",{className:"d-flex justify-content-center"},n.a.createElement("b",null,"DISTRITO DE RIEGO 014 R\xcdO COLORADO")),n.a.createElement("h2",{className:"d-flex justify-content-center pt-4"}," ",n.a.createElement("b",null,"Ciclo Agr\xedcola ",a.ciclo)," ")),n.a.createElement("div",{className:"col-2 d-flex flex-column justify-content-center"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("img",{src:"./logos/cna.png",alt:"Logo comisi\xf3n nacional del agua",style:{maxHeight:50}})),n.a.createElement("div",{className:"border rounded d-flex justify-content-center mt-4"},"Folio: ",a.numeroPermiso),n.a.createElement("div",{className:"d-flex justify-content-center mt-4"},et()(a.fechaEmicion).format("DD/MM/YYYY")))),n.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},n.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS DEL USUARIO"),n.a.createElement("div",{className:"d-flex justify-content-center border-top p-1"},n.a.createElement("p",null,"El/la C.",n.a.createElement("b",null," ",a.usuario)," con cuenta: ",n.a.createElement("b",null,a.cuenta)," tiene un derecho normal de ",n.a.createElement("b",null,a.supDerecho," "),"hect\xe1reas del lote: ",n.a.createElement("b",null,a.lote)," en la colonia ",n.a.createElement("b",null,a.localidad),","," ",n.a.createElement("b",null,a.municipio),", ",n.a.createElement("b",null,a.estado),". M\xf3dulo ",n.a.createElement("b",null,a.modulo),", secci\xf3n"," ",n.a.createElement("b",null,a.seccion)," del canal ",n.a.createElement("b",null,a.canal)," toma ",n.a.createElement("b",null,a.toma)," con sistema de riego por ",n.a.createElement("b",null,a.sistema),"."))),n.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center"},n.a.createElement("p",null,"Con base en el Acuerdo Nacional de Colaboraci\xf3n entre la Secretar\xeda de Agricultura, Ganader\xeda, Desarrollo Rural, Pesca y Alimentaci\xf3n y el Acuerdo de Concertaci\xf3n entre la SAGARPA, CONAGUA, Distrito de Riego R\xedo Colorado y la Sociedad de Responsabilidad Limitada con el objetivo de regular en forma ordenada la expedici\xf3n de Permisos \xdanicos de Siembra con Derechos de Agua, y con fundamento en los art\xedculos 66, 67, 68, 69 y 69 Bis de la Ley de Aguas Nacionales; Reglamento de la Ley de Sanidad Fitopecuaria de los Estados Unidos Mexicanos, en materia de sanidad vegetal, Normas Mexicanas, NOM-026-FITO-1995, que establece el control de plagas de algodonero, NOM-001-FITO-2001, para el manejo y eliminaci\xf3n de focos de infecci\xf3n de plagas, mediante el reordenamiento de fechas de siembra y destrucci\xf3n de residuos. Se otorga el Permiso \xdanico de Siembra para que establezca exclusivamente el cultivo y superficie que se indica, apercibiendose que se puede suspender el servicio de riego si se siembra superficie adicional o cultivo diferente al autorizado en este permiso.")),n.a.createElement("div",{className:"row m-3 d-flex"},n.a.createElement("div",{className:"col-4 d-flex flex-column border rounded p-0"},n.a.createElement("div",{className:"d-flex justify-content-center "},"DETALLES DEL CULTIVO"),n.a.createElement("div",{className:"border-top p-1"},"Tipo de permiso: ",n.a.createElement("b",null,a.tipo),n.a.createElement("br",null),"Cultivo:"," ",n.a.createElement("b",null,a.nombreCultivo," (Clave: ",a.claveCultivo,")"),n.a.createElement("br",null),"Subciclo: ",n.a.createElement("b",null,a.subciclo),n.a.createElement("br",null),"Superficie autorizada: ",n.a.createElement("b",null,a.supAutorizada," ha"),n.a.createElement("br",null),"Fecha l\xedmite de siembra: ",n.a.createElement("b",null,et()(a.fechaLimite).format("DD/MM/YYYY")),n.a.createElement("br",null))),n.a.createElement("div",{className:"col-1"}),n.a.createElement("div",{className:"col-7 d-flex flex-column border rounded"},n.a.createElement("div",{className:"d-flex justify-content-center "},"SUPERFICIE Y DOTACI\xd3N VOLUM\xc9TRICA"),n.a.createElement("div",{className:"row border-top d-flex text-dotacion"},n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,"Descripci\xf3n")),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,"Derecho de riego")),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,"Utilizada Previamente")),n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,"Autorizada en este permiso")),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,"Disponible"))),n.a.createElement("div",{className:"row border-top d-flex text-dotacion"},n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,"Hect\xe1reas")),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,a.supDerecho)),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,a.supPrevia)),n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,a.supAutorizada)),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,a.supDerecho-a.supPrevia-a.supAutorizada))),n.a.createElement("div",{className:"row border-top d-flex text-dotacion"},n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,"l.p.s./24 hrs/hr Parcela")),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,a.supDerecho*a.dotacion)),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,a.supPrevia*a.dotacion)),n.a.createElement("div",{className:"col-3 border"},n.a.createElement("div",null,a.supAutorizada*a.dotacion)),n.a.createElement("div",{className:"col-2 border"},n.a.createElement("div",null,(a.supDerecho-a.supPrevia-a.supAutorizada)*a.dotacion))))),n.a.createElement("div",{className:"row m-3 d-flex"},n.a.createElement("div",{className:"col-4 d-flex flex-column border rounded p-0"},n.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS COMPLEMENTARIOS"),n.a.createElement("div",{className:"border-top p-1"},"Cultivo Anterior: ",n.a.createElement("b",null,a.cultivoAnterior),n.a.createElement("br",null),"Fuente de cr\xe9dito: ",n.a.createElement("b",null,a.fuenteCredito),n.a.createElement("br",null),"Variedad: ",n.a.createElement("b",null,a.variedad),n.a.createElement("br",null),"Productor:"," ",n.a.createElement("b",null,a.nombreProductor," (",a.rfcProductor,")"),n.a.createElement("br",null))),n.a.createElement("div",{className:"col-1"}),n.a.createElement("div",{className:"col-7 d-flex flex-column border rounded"},n.a.createElement("div",{className:"d-flex justify-content-center "},"OBSERVACIONES"),n.a.createElement("div",{className:"row border-top d-flex text-dotacion p-1"},n.a.createElement("p",null,a.observaciones)))),n.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},n.a.createElement("div",{className:"d-flex justify-content-center "},"TRANSFERENCIA"),n.a.createElement("div",{className:"d-flex border-top p-1"},"Ninguna")),n.a.createElement("div",{className:"row m-3 "},n.a.createElement("div",{className:"col-4 d-flex flex-column"},n.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"M\xf3dulo"),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("b",null,a.titular)),n.a.createElement("div",{className:"d-flex justify-content-center"},"PRESIDENTE")),n.a.createElement("div",{className:"col-4 d-flex flex-column"},n.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"Sanidad Vegetal")),n.a.createElement("div",{className:"col-4 d-flex flex-column"},n.a.createElement("div",{className:"border-top firma d-flex justify-content-center"},"FIRMA DEL PRODUCTOR"),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("b",null,a.usuario)),n.a.createElement("div",{className:"d-flex justify-content-center"},"Acepto de conformidad"))),n.a.createElement("div",{className:"row m-3"},n.a.createElement("p",null,n.a.createElement("b",null,n.a.createElement("br",null),n.a.createElement("u",null,"ADVERTENCIAS: (1) Es responsabilidad del usuario de este permiso, disponer de la totalidad del volumen adicional requerido por el cultivo a establecer. (2) Para los sistemas de Gravedad y Pozo Federal un derecho de riego de 20 ha. alcanza para regar una superficie sembrada para el cultivo de Trigo = 20ha., Algod\xf3n = 15ha., Alfalfa 13ha., Esparrago = 16ha., y Sorgo forrajero temprano = 18ha.")))),n.a.createElement("div",{className:"row m-3 d-flex justify-content-between border-top"},n.a.createElement("div",{className:"border rounded mt-2 p-2"},"Folio: ",a.numeroPermiso),n.a.createElement("div",{className:"border rounded mt-2 p-2"},"Bueno por: $ ",a.cuotaCultivo*a.supAutorizada," pesos M.N.")),n.a.createElement("div",{className:"roe m-3"},n.a.createElement("u",null,"Recibimos de El/la C."," ",n.a.createElement("b",null,a.usuario," La cantidad de ",a.cuotaCultivo*a.supAutorizada," pesos M.N.")," ","Por concepto de aportaci\xf3n a las campa\xf1as Fitosanitarias, para el sostenimiento del comit\xe9 Estatal de Sanidad Vegetal.")),n.a.createElement("div",{className:"row m-3 d-flex flex-column justify-content-center border rounded"},n.a.createElement("div",{className:"d-flex justify-content-center "},"DATOS DEL USUARIO"),n.a.createElement("div",{className:"d-flex justify-content-center border-top p-1"},n.a.createElement("p",null,"El/la C.",n.a.createElement("b",null," ",a.usuario)," con cuenta: ",n.a.createElement("b",null,a.cuenta)," tiene un derecho normal de ",n.a.createElement("b",null,a.supDerecho," "),"hect\xe1reas del lote: ",n.a.createElement("b",null,a.lote)," en la colonia ",n.a.createElement("b",null,a.localidad),","," ",n.a.createElement("b",null,a.municipio),", ",n.a.createElement("b",null,a.estado),". M\xf3dulo ",n.a.createElement("b",null,a.modulo),", secci\xf3n"," ",n.a.createElement("b",null,a.seccion)," del canal ",n.a.createElement("b",null,a.canal)," toma ",n.a.createElement("b",null,a.toma)," con sistema de riego por ",n.a.createElement("b",null,a.sistema),"."))),n.a.createElement("div",{className:"row m-3 "},n.a.createElement("div",{className:"col-3 d-flex flex-column"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("img",{src:"./logos/sanidad.webp",alt:"Logo sanidad vegetal",style:{maxHeight:70}})),n.a.createElement("div",{className:"mt-4 d-flex justify-content-center"},"COMIT\xc9 ESTATAL DE"),n.a.createElement("div",{className:"d-flex justify-content-center"},"SANIDAD VEGETAL DE"),n.a.createElement("div",{className:"d-flex justify-content-center"},"BAJA CALIFORNIA")),n.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center pt-5"},c?t?n.a.createElement("button",{type:"submit",className:"btn btn-outline-primary ml-5 d-print-none",onClick:d},n.a.createElement("i",{className:"far fa-save"}),n.a.createElement("span",null," Guardar")):n.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-5 d-print-none",onClick:p},n.a.createElement("i",{className:"fas fa-print"}),n.a.createElement("span",null," Imprimir")):n.a.createElement(n.a.Fragment,null),s?n.a.createElement("div",{className:"spinner-border text-primary",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement(n.a.Fragment,null),i?n.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-5 d-print-none",onClick:p},n.a.createElement("i",{className:"fas fa-print"}),n.a.createElement("span",null," Imprimir")):n.a.createElement(n.a.Fragment,null),n.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-5 d-print-none ml-3",onClick:m},n.a.createElement("i",{className:"fas fa-sign-out-alt"}),n.a.createElement("span",null," Cerrar")))))},Nt=function(){var e=Object(l.b)(),a=Xe({palabra:""}),t=Object(De.a)(a,2),r=t[0],o=t[1],c=r.palabra,i=Object(l.c)((function(e){return e.permisosScreen})),s=i.permisos,m=i.permisoSelected,d=i.superficies,p=Object(l.c)((function(e){return e.auth})).claveEntidad;0===s.length&&e(ua(p)),null===d&&e(ma(p));var E,f=function(){c.length>0?e(function(e,a){return function(){var t=Object(Se.a)(Pe.a.mark((function t(r){var n;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ia(e,a);case 2:n=t.sent,r(pa(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c,p)):Ye.a.fire("Nada para buscar","Ingrese n\xfamero de permiso, n\xfamero de cuenta o el apellido paterno del usuario.","warning")},v=[];s.forEach((function(e){v.push(Object(u.a)(Object(u.a)({},e),{},{fechaEmicion:et()(e.fechaEmicion.toDate()).format("DD/MM/YYYY"),fechaLimite:et()(e.fechaLimite.toDate()).format("DD/MM/YYYY"),vigencia:et()(e.vigencia.toDate()).format("DD/MM/YYYY")}))})),s.forEach((function(e){e.id===m&&(E=e)}));var b={};void 0!==E&&(b=Object(u.a)(Object(u.a)({},E),{},{fechaEmicion:E.fechaEmicion.toDate(),fechaLimite:E.fechaLimite.toDate(),vigencia:E.vigencia.toDate()}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row mt-5"},n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"d-flex justify-content-center col-sm-4 p-2"},n.a.createElement(Me.b,{to:"/nuevo-permiso"},n.a.createElement("button",{className:"btn btn-outline-primary",type:"button"},n.a.createElement("span",null,"Nuevo Permiso "),n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("div",{className:"col-sm-8 d-inline-flex p-2 pr-4"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"N\xfamero de permiso, n\xfamero de cuenta o apellido paterno",name:"palabra",autoComplete:"off",value:c,onChange:o,onKeyUp:function(e){"Enter"===e.key&&f()}}),n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:f},n.a.createElement("i",{className:"fas fa-search"})))))),n.a.createElement("div",{className:"row pt-3 pb-4"},n.a.createElement("div",{className:"col-sm-8 pr-0 mt-3"},n.a.createElement(Sa,{title:"Permisos",columns:Ua,data:v,setFunction:Ea})),m&&void 0!==E?n.a.createElement("div",{className:"col-sm-4 mt-3"},n.a.createElement("div",{className:"border border-info rounded detallePermiso"},n.a.createElement("div",{className:"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3"},n.a.createElement("h5",null,E.numeroPermiso)),n.a.createElement("div",{className:"row p-1 pl-2 pt-2"},n.a.createElement("div",{className:"col-4"},"CUENTA:"),n.a.createElement("div",{className:"col-8"},E.cuenta)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"USUARIO:"),n.a.createElement("div",{className:"col-8"},E.usuario)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"PRODUCTOR:"),n.a.createElement("div",{className:"col-8"},E.nombreProductor)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"CULTIVO:"),n.a.createElement("div",{className:"col-8"},E.nombreCultivo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SUBCICLO:"),n.a.createElement("div",{className:"col-8"},E.subciclo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SUPERFICIE:"),n.a.createElement("div",{className:"col-8"},E.supAutorizada," ha")),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"DOTACION:"),n.a.createElement("div",{className:"col-8"},E.dotacion*E.supAutorizada," lts")),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SISTEMA:"),n.a.createElement("div",{className:"col-8"},E.sistema)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"LOCALIDAD:"),n.a.createElement("div",{className:"col-8"},E.localidad)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"LOTE:"),n.a.createElement("div",{className:"col-8"},E.lote)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SECCION:"),n.a.createElement("div",{className:"col-8"},E.seccion)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"MODULO:"),n.a.createElement("div",{className:"col-8"},E.modulo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"EXPEDICION:"),n.a.createElement("div",{className:"col-8"},et()(E.fechaEmicion.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"FECHA LIMITE:"),n.a.createElement("div",{className:"col-8"},et()(E.fechaLimite.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"VIGENCIA:"),n.a.createElement("div",{className:"col-8"},et()(E.vigencia.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"ESTADO:"),n.a.createElement("div",{className:"col-8"},E.estadoPermiso)),n.a.createElement("div",{className:"row p-1 pl-2 pt-4 pb-4"},n.a.createElement("div",{className:"col-6 d-flex justify-content-center"},n.a.createElement("button",{type:"button",className:"btn btn-outline-info",onClick:function(){e(tt())}},n.a.createElement("i",{className:"fas fa-print"}),n.a.createElement("span",null," Imprimir"))),n.a.createElement("div",{className:"col-6 d-flex justify-content-center"},"activo"===E.estadoPermiso?n.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){Ye.a.fire({title:"Atenci\xf3n!!",text:"Est\xe1 a punto de cancelar el permiso ".concat(E.numeroPermiso,", \xbfRealmente desea cancelar este permiso?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(a){var t,r;a.isConfirmed&&(t=m,r=p,Ue.collection("permisos").doc("permisosM".concat(r)).collection("permisos").doc(t).update({estadoPermiso:"En proceso de cancelaci\xf3n"}),e(ua()),Ye.a.fire("Solicitud recibida","Se inici\xf3 el proceso de cancelaci\xf3n para el permiso ".concat(E.numeroPermiso),"success"))}))}},n.a.createElement("i",{className:"fas fa-times"}),n.a.createElement("span",null," Cancelar")):n.a.createElement(n.a.Fragment,null))))):n.a.createElement("div",{className:"col-sm-4 mt-3"},n.a.createElement("div",{className:"border border-info rounded detallePermiso"},n.a.createElement(ca,null)))),n.a.createElement(bt,{data:b,isNew:!1}))},gt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};nt.a.setAppElement("#root");var ht=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),r=t.openCultivosModal,o=t.cultivos;e=Object.values(o);return n.a.createElement(nt.a,{isOpen:r,onRequestClose:function(){a(ct())},style:gt,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},n.a.createElement(Sa,{title:0===e.length?"No se encontraron cultivos":"Cultivos",columns:Ra,data:e,setFunction:it,closeFunction:ct}))},xt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};nt.a.setAppElement("#root");var At=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),r=t.openUsuariosModal,o=t.usuarios;e=Object.values(o);return n.a.createElement(nt.a,{isOpen:r,onRequestClose:function(){a(Ga())},style:xt,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},n.a.createElement(Sa,{title:0===e.length?"No se encontraron usuarios":"Usuarios",columns:Fa,data:e,setFunction:_a,closeFunction:Ga}))},yt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};nt.a.setAppElement("#root");var Ot=function(){var e,a=Object(l.b)(),t=Object(l.c)((function(e){return e.altaPermisos})),r=t.openProductoresModal,o=t.productores;e=Object.values(o);return n.a.createElement(nt.a,{isOpen:r,onRequestClose:function(){a(mt())},style:yt,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},n.a.createElement(Sa,{title:0===e.length?"No se encontraron productores":"Productores",columns:ka,data:e,setFunction:pt,closeFunction:mt}),n.a.createElement("div",{className:"row d-flex justify-content-center pt-3"},n.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){a(mt()),a({type:L})}},n.a.createElement("span",null,"Registrar nuevo productor "),n.a.createElement("i",{className:"fas fa-plus"}))))},jt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"550px"}};nt.a.setAppElement("#root");var zt=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.altaPermisos})).isOpenNuevoProductorModal,t=Object(l.c)((function(e){return e.ui})).msgError,r=function(){e({type:T})},o=Xe(),c=Object(De.a)(o,2),i=c[0],s=c[1],m=i.apPaterno,d=void 0===m?"":m,p=i.direccion,E=void 0===p?"":p,f=i.apMaterno,v=void 0===f?"":f,b=i.estado,N=void 0===b?"":b,g=i.nombre,h=void 0===g?"":g,x=i.municipio,A=void 0===x?"":x,y=i.rfc,O=void 0===y?"":y,j=i.cp,z=void 0===j?"":j,C=i.genero,w=void 0===C?"":C,P=i.telefono,S=void 0===P?"":P,D=function(){return 0===d.trim().length?(e(Ie("Se requiere apellido paterno")),!1):0===E.trim().length?(e(Ie("Se requiere direccion")),!1):0===v.trim().length?(e(Ie("Se requiere apellido materno")),!1):0===N.trim().length?(e(Ie("Se requiere estado")),!1):0===h.trim().length?(e(Ie("Se requiere nombre")),!1):0===A.trim().length?(e(Ie("Se requiere municipio")),!1):O.trim().length<12?(e(Ie("RFC no valido")),!1):z.trim().length<5?(e(Ie("Codigo postal no valido")),!1):w?S.replace(/ /g,"").length<10?(e(Ie("Telefono no valido")),!1):(e(Le()),!0):(e(Ie("Se requiere genero")),!1)};return n.a.createElement(nt.a,{isOpen:a,onRequestClose:r,style:jt,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo"},n.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},n.a.createElement("h1",null,"Registro de nuevo productor")),n.a.createElement("form",{className:"container pb-4",autoComplete:"waa",onSubmit:function(a){var t;a.preventDefault(),D()&&(e((t=Object(u.a)(Object(u.a)({},i),{},{apPaterno:d.toUpperCase(),apMaterno:v.toUpperCase(),nombre:h.toUpperCase(),direccion:E.toUpperCase(),estado:N.toUpperCase(),municipio:A.toUpperCase(),rfc:O.toUpperCase(),telefono:S.replace(/ /g,"")}),function(e){Ue.collection("productores").add(t).then((function(e){console.log(e.id)})).catch((function(e){console.log(e),Ye.a.fire("Error",e,"error")}))})),r())}},t&&n.a.createElement("div",{className:"auth__alert-error"},t),n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido Paterno",name:"apPaterno",autoComplete:"off",onChange:s})),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Direccion",name:"direccion",autoComplete:"waa",onChange:s}))),n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido Materno",name:"apMaterno",autoComplete:"waa",onChange:s})),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Estado",name:"estado",autoComplete:"waa",onChange:s}))),n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"nombre",autoComplete:"off",onChange:s})),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Municipio",name:"municipio",autoComplete:"waa",onChange:s}))),n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"RFC",name:"rfc",autoComplete:"waa",onChange:s})),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"CP",name:"cp",autoComplete:"waa",onChange:s}))),n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col-sm-6 d-flex align-items-baseline pt-2"},n.a.createElement("div",{className:"px-4"},n.a.createElement("input",{type:"radio",id:"masculino",name:"genero",value:"MASCULINO",onChange:s}),n.a.createElement("span",null," "),n.a.createElement("label",{htmlFor:"masculino"}," Masculino")),n.a.createElement("div",{className:"px-4"},n.a.createElement("input",{type:"radio",id:"femenino",name:"genero",value:"FEMENINO",onChange:s}),n.a.createElement("span",null," "),n.a.createElement("label",{htmlFor:"femenino"}," Femenino"))),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Telefono",name:"telefono",autoComplete:"off",onChange:s}))),n.a.createElement("div",{className:"row d-flex justify-content-center pt-5"},n.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},n.a.createElement("i",{className:"far fa-save"}),n.a.createElement("span",null," Guardar")))))},Ct=function(){var e=Object(l.b)(),a=function(){t(),p.length>0?e({type:h}):Ye.a.fire("Nada para buscar","Ingrese nombre del cultivo","warning")},t=function(){e(function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ot(e);case 2:r=a.sent,t(lt(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(p.toUpperCase()))},r=Object(l.c)((function(e){return e.altaPermisos})),o=r.idCultivoSelected,c=r.nombreCultivo,i="";o&&(i=c);var s=Xe({cultivo:""}),u=Object(De.a)(s,2),m=u[0],d=u[1],p=m.cultivo;return n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Cultivo: "),n.a.createElement("label",{className:""},i," "),o?n.a.createElement("div",{className:"fas fa-check text-success p-3"}):n.a.createElement(n.a.Fragment,null),o?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cultivo",name:"cultivo",autoComplete:"off",value:p,onChange:d,onKeyUp:function(e){"Enter"===e.key&&a()}})),o?n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(st()),m.cultivo=""}},n.a.createElement("i",{className:"fas fa-trash"})):n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},n.a.createElement("i",{className:"fas fa-search"}))))},wt=function(){var e=Object(l.b)(),a=function(){t(),p.length>0?e({type:M}):Ye.a.fire("Nada para buscar","Ingrese apellido paterno del productor","warning")},t=function(){e(function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ut(e);case 2:r=a.sent,t(dt(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(p.toUpperCase()))},r=Object(l.c)((function(e){return e.altaPermisos})),o=r.idProductorSelected,c=r.nombreProductor,i="";o&&(i=c);var s=Xe({productor:""}),u=Object(De.a)(s,2),m=u[0],d=u[1],p=m.productor;return n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Productor: "),n.a.createElement("label",null,i," "),o?n.a.createElement("div",{className:"fas fa-check text-success p-3"}):n.a.createElement(n.a.Fragment,null),o?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido paterno",name:"productor",autoComplete:"off",value:p,onChange:d,onKeyUp:function(e){"Enter"===e.key&&a()}})),o?n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:function(){e(Et()),m.productor=""}},n.a.createElement("i",{className:"fas fa-trash"})):n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:a},n.a.createElement("i",{className:"fas fa-search"}))))},Pt=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.usuarios,t=e.idUsuarioSelected,r=e.supPrevia,o="",c="",i="",s="",u="",m="",d="";return a.forEach((function(e){e.id===t&&(c="".concat(e.cuenta,".").concat(e.subcta),o=e.localidad,i=e.supRiego,s=e.predio,u=i-r,m="".concat(e.apPaterno," ").concat(e.apMaterno," ").concat(e.nombre),d=e.seccion)})),n.a.createElement("div",{className:"border rounded mb-4 p-2"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"},"Cuenta: ",c),n.a.createElement("div",{className:"col-sm-3"},"Colonia/Ejido: ",o),n.a.createElement("div",{className:"col-sm-3"},"Sup. Derecho: ",i)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"},"Usuario: ",m),n.a.createElement("div",{className:"col-sm-3"},"Lote: ",s),n.a.createElement("div",{className:"col-sm-3"},"Sup. Disponible: ",u)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"}),n.a.createElement("div",{className:"col-sm-3"},"Seccion: ",d)))},St=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.productores,t=e.idProductorSelected,r="",o="";return a.forEach((function(e){e.id===t&&(r=e.rfc,o="".concat(e.apPaterno," ").concat(e.apMaterno," ").concat(e.nombre))})),n.a.createElement("div",{className:"border rounded mb-4 p-2"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-8"},"Productor: ",o),n.a.createElement("div",{className:"col-sm-4"},"RFC Productor: ",r)))},Dt=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,Ue.collection("permisos").doc("permisosM".concat(a)).get().then((function(e){e.exists?t=e.data().numeroPermisosModulo:Ue.collection("permisos").doc("permisosM".concat(a)).set({numeroPermisosModulo:0})})).catch((function(e){console.log(" Error: ",e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(l.c)((function(e){return e.altaPermisos})),a=e.idUsuarioSelected,t=e.idProductorSelected,r=e.subciclo,o=e.nombreCultivo,c=Object(l.c)((function(e){return e.altaPermisos})),i=Object(l.c)((function(e){return e.auth})),s=Object(l.c)((function(e){return e.ui})).msgError,m=Object(l.c)((function(e){return e.autorizadosScreen})).autorizados,d=Xe({variedad:"",supAutorizada:0,fuenteCredito:"",latitud:"",longitud:"",observaciones:"",cultivoAnterior:"",transferencia:""}),p=Object(De.a)(d,2),E=p[0],f=p[1],v=E.variedad,b=E.supAutorizada,N=E.fuenteCredito,g=E.observaciones,h=E.cultivoAnterior,x=E.transferencia,A=Object(u.a)(Object(u.a)(Object(u.a)({},E),c),i),y=Object(l.b)();0===m.length&&y(Na(i.claveEntidad));var O=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j()){e.next=11;break}return a.preventDefault(),y({type:V,payload:E}),e.t0=y,e.t1=at,e.next=7,z();case 7:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),y(tt());case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),j=function(){return c.usuario?c.nombreProductor?c.nombreCultivo?b<=0?(y(Ie("Ingrese la superficie que ser\xe1 autorizada en este permiso.")),!1):c.supDerecho-c.supPrevia<b?(y(Ie("La superficie excede la superficie disponible de la cuenta seleccionada.")),!1):N?h?"Superficie no disponible"===C()?(y(Ie("Superficie no disponible.")),!1):(y(Le()),!0):(y(Ie("Especifique el cultivo anterior.")),!1):(y(Ie("Especifique la fuente de cr\xe9dito.")),!1):(y(Ie("El campo cultivo es obligatorio.")),!1):(y(Ie("El campo productor es obligatorio.")),!1):(y(Ie("El campo usuario es obligatorio.")),!1)},z=function(){var e=Object(Se.a)(Pe.a.mark((function e(){var a;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C(),e.t1=w(),e.next=4,P();case 4:return e.t2=e.sent,e.t3=et()(),e.t4=et()().add(10,"days"),e.t5=D(r),e.next=10,M(o);case 10:return e.t6=e.sent,a={tipo:e.t0,ciclo:e.t1,numeroPermiso:e.t2,fechaEmicion:e.t3,fechaLimite:e.t4,vigencia:e.t5,estadoPermiso:e.t6},e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e="";return m.forEach((function(a){a.cultivo===c.nombreCultivo&&a.clave===c.claveCultivo&&("Gravedad"===c.sistema?e=a.gravedadNormalAsignada>=b?"normal":a.gravedadExtraAsignada>=b?"extra":"Superficie no disponible":"Pozo Federal"===c.sistema&&(e=a.pozoNormalAsignada>=b?"normal":a.pozoExtraAsignada>=b?"extra":"Superficie no disponible"))})),e},w=function(){return"2020-2021"},P=function(){var e=Object(Se.a)(Pe.a.mark((function e(){var a;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="MOD".concat(i.claveEntidad,"-"),e.t1=S,e.next=4,Dt(i.claveEntidad);case 4:return e.t2=e.sent,e.t3=e.t2+1,e.t4=(0,e.t1)(e.t3,3),a=e.t0.concat.call(e.t0,e.t4),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e,a){return"0".repeat(a-e.toString().length)+e.toString()},D=function(e){var a=null;if(e)switch(e){case"PRIMAVERA-VERANO":a=et()("09/30/2021");break;case"OTO\xd1O-INVIERNO":a=et()("05/31/2021");break;case"PERENNES":case"PERENES":a=et()("09/30/2021");break;default:a=""}return a},M=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",t="ALGODONERO"===a?"pendiente":"activo",e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row m-3 d-flex justify-content-center"},n.a.createElement("h1",null,"Alta de permiso unico de siembra")),n.a.createElement("form",{className:"container pb-4"},s&&n.a.createElement("div",{className:"auth__alert-error"},s),a?n.a.createElement(Pt,null):n.a.createElement(n.a.Fragment,null),t?n.a.createElement(St,null):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"row"},n.a.createElement(Ha,null),n.a.createElement(wt,null)),n.a.createElement("div",{className:"row"},n.a.createElement(Ct,null),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Variedad:"),n.a.createElement("div",{className:"flex-grow-1 "},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"variedad",name:"variedad",value:v,autoComplete:"off",onChange:f}))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Superficie:"),n.a.createElement("div",{className:"flex-grow-1 "},n.a.createElement("input",{type:"number",className:"form-control",placeholder:"superficie",name:"supAutorizada",value:b,autoComplete:"off",onChange:f})))),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Fuente de credito:"),n.a.createElement("div",{className:"flex-grow-1 "},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"fuente de credito",name:"fuenteCredito",value:N,autoComplete:"off",onChange:f}))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Cultivo anterior:"),n.a.createElement("div",{className:"flex-grow-1 "},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cultivo anterior",name:"cultivoAnterior",value:h,autoComplete:"off",onChange:f})))),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:"form-group d-flex align-items-baseline row p-3"},n.a.createElement("label",{className:"col-sm-3"},"Transferencia interna:"),n.a.createElement("div",{className:"flex-grow-1 "},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Cuenta destino",name:"transferencia",value:x,autoComplete:"off",onChange:f}))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("textarea",{type:"text",className:"form-control",placeholder:"Observaciones",rows:"5",name:"observaciones",value:g,onChange:f}),n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Informaci\xf3n adicional")),s&&n.a.createElement("div",{className:"auth__alert-error"},s),n.a.createElement("div",{className:"row d-flex justify-content-center pt-5"},n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:O},n.a.createElement("i",{className:"far fa-save"}),n.a.createElement("span",null," Guardar")))),n.a.createElement(ht,null),n.a.createElement(At,null),n.a.createElement(Ot,null),n.a.createElement(zt,null),n.a.createElement(bt,{data:A,isNew:!0}))},Ft={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"430px",width:"1000px"}};nt.a.setAppElement("#root");var kt=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.autorizadosScreen})),t=a.openAutorizadosModal,r=a.autorizadoSelected,o=a.autorizados,c=a.formError,i=Xe({clave:r.clave,cultivo:r.cultivo,gravedadNormalAutorizada:r.gravedadNormalAutorizada,gravedadNormalAsignada:r.gravedadNormalAsignada,gravedadExtraAutorizada:r.gravedadExtraAutorizada,gravedadExtraAsignada:r.gravedadExtraAsignada,pozoNormalAutorizada:r.pozoNormalAutorizada,pozoNormalAsignada:r.pozoNormalAsignada,pozoExtraAutorizada:r.pozoExtraAutorizada,pozoExtraAsignada:r.pozoExtraAsignada}),s=Object(De.a)(i,2),u=s[0],m=s[1],d=u.clave,p=u.cultivo,E=u.gravedadNormalAutorizada,f=u.gravedadNormalAsignada,v=u.gravedadExtraAutorizada,b=u.gravedadExtraAsignada,N=u.pozoNormalAutorizada,g=u.pozoNormalAsignada,h=u.pozoExtraAutorizada,x=u.pozoExtraAsignada,A=[],y=function(){j()&&(o.forEach((function(e){e.cultivo===r.cultivo?A.push({clave:d,cultivo:p,gravedadNormalAutorizada:Number(E),gravedadNormalAsignada:Number(f),gravedadExtraAutorizada:Number(v),gravedadExtraAsignada:Number(b),pozoNormalAutorizada:Number(N),pozoNormalAsignada:Number(g),pozoExtraAutorizada:Number(h),pozoExtraAsignada:Number(x)}):A.push(e)})),e(ga(A)),e(ha()))},O=function(e){"Enter"===e.key&&y()},j=function(){var a="No se permiten valores negativos !",t="La superficie asignada no puede ser mayor a la superficie autorizada !",r="Es necesario asignar un valor a todas las superficies !";return Number(E)<0||Number(f)<0||Number(v)<0||Number(b)<0||Number(N)<0||Number(g)<0||Number(h)<0||Number(x)<0?(e(ya(a)),!1):""===E||""===f||""===v||""===b||""===N||""===g||""===h||""===x?(e(ya(r)),!1):f>E||b>v||g>N||x>h?(e(ya(t)),!1):(e(Oa()),!0)};return n.a.createElement(nt.a,{isOpen:t,onRequestClose:function(){e(ha()),e(Oa())},style:Ft,closeTimeoutMS:200,className:"autorizadosModal",overlayClassName:"modal-fondo"},n.a.createElement("form",null,n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"col-sm-12 d-flex justify-content-center pt-2"},n.a.createElement("h5",null,"".concat(d," - ").concat(p)))),c?n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"col-sm-12 d-flex justify-content-center pt-2"},n.a.createElement("div",{className:"border border-danger rounded text-danger p-2"},c))):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"}),n.a.createElement("th",{colSpan:"2"},"Superficie Normal"),n.a.createElement("th",{colSpan:"2"},"Superficie Extra")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Gravedad"),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Gravedad Normal Autorizada",name:"gravedadNormalAutorizada",value:E,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"gravedad Normal Asignada",name:"gravedadNormalAsignada",value:f,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Gravedad Extra Autorizada",name:"gravedadExtraAutorizada",value:v,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Gravedad Extra Asignada",name:"gravedadExtraAsignada",value:b,autoComplete:"off",onChange:m,onKeyUp:O}))),n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Federal"),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Normal Autorizada",name:"pozoNormalAutorizada",value:N,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Normal Asignada",name:"pozoNormalAsignada",value:g,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Extra Autorizada",name:"pozoExtraAutorizada",value:h,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Extra Asignada",name:"pozoExtraAsignada",value:x,autoComplete:"off",onChange:m,onKeyUp:O})))))),n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"d-flex justify-content-center col-sm-12"},n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:y},n.a.createElement("i",{className:"fas fa-check"}))))))},Rt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"430px",width:"1000px"}};nt.a.setAppElement("#root");var Ut=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.autorizadosScreen})),t=a.openAutorizadosModal,r=a.autorizadoSelected,o=a.autorizados,c=a.formError,i=Xe({clave:r.clave,cultivo:r.cultivo,gravedadNormalAutorizada:r.gravedadNormalAutorizada,gravedadNormalAsignada:r.gravedadNormalAsignada,gravedadExtraAutorizada:r.gravedadExtraAutorizada,gravedadExtraAsignada:r.gravedadExtraAsignada,pozoNormalAutorizada:r.pozoNormalAutorizada,pozoNormalAsignada:r.pozoNormalAsignada,pozoExtraAutorizada:r.pozoExtraAutorizada,pozoExtraAsignada:r.pozoExtraAsignada}),s=Object(De.a)(i,2),u=s[0],m=s[1],d=u.clave,p=u.cultivo,E=u.gravedadNormalAutorizada,f=u.gravedadNormalAsignada,v=u.gravedadExtraAutorizada,b=u.gravedadExtraAsignada,N=u.pozoNormalAutorizada,g=u.pozoNormalAsignada,h=u.pozoExtraAutorizada,x=u.pozoExtraAsignada,A=[],y=function(){j()&&(o.forEach((function(e){e.cultivo===r.cultivo?A.push({clave:d,cultivo:p,gravedadNormalAutorizada:Number(E),gravedadNormalAsignada:Number(f),gravedadExtraAutorizada:Number(v),gravedadExtraAsignada:Number(b),pozoNormalAutorizada:Number(N),pozoNormalAsignada:Number(g),pozoExtraAutorizada:Number(h),pozoExtraAsignada:Number(x)}):A.push(e)})),e(ga(A)),e(ha()))},O=function(e){"Enter"===e.key&&y()},j=function(){var a="No se permiten valores negativos !",t="La superficie asignada no puede ser mayor a la superficie autorizada !",r="Es necesario asignar un valor a todas las superficies !";return Number(E)<0||Number(f)<0||Number(v)<0||Number(b)<0||Number(N)<0||Number(g)<0||Number(h)<0||Number(x)<0?(e(ya(a)),!1):""===E||""===f||""===v||""===b||""===N||""===g||""===h||""===x?(e(ya(r)),!1):f>E||b>v||g>N||x>h?(e(ya(t)),!1):(e(Oa()),!0)};return n.a.createElement(nt.a,{isOpen:t,onRequestClose:function(){e(ha()),e(Oa())},style:Rt,closeTimeoutMS:200,className:"autorizadosModal",overlayClassName:"modal-fondo"},n.a.createElement("form",null,n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"col-sm-12 d-flex justify-content-center pt-2"},n.a.createElement("h5",null,"".concat(d," - ").concat(p)))),c?n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"col-sm-12 d-flex justify-content-center pt-2"},n.a.createElement("div",{className:"border border-danger rounded text-danger p-2"},c))):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"}),n.a.createElement("th",{colSpan:"2"},"Superficie Normal"),n.a.createElement("th",{colSpan:"2"},"Superficie Extra")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Particular"),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Normal Autorizada",name:"pozoNormalAutorizada",value:N,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Normal Asignada",name:"pozoNormalAsignada",value:g,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Extra Autorizada",name:"pozoExtraAutorizada",value:h,autoComplete:"off",onChange:m,onKeyUp:O})),n.a.createElement("td",null,n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Pozo Extra Asignada",name:"pozoExtraAsignada",value:x,autoComplete:"off",onChange:m,onKeyUp:O})))))),n.a.createElement("div",{className:"row d-flex"},n.a.createElement("div",{className:"d-flex justify-content-center col-sm-12"},n.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:y},n.a.createElement("i",{className:"fas fa-check"}))))))},It=function(e){var a=e.autorizados,t=e.modulo,r=0,o=0,c=0,l=0;return null!==t&&a.forEach((function(e){r+=e.pozoNormalAutorizada,o+=e.pozoNormalAsignada,c+=e.pozoExtraAutorizada,l+=e.pozoExtraAsignada})),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3"},n.a.createElement("h5",null," ",t)),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-info mb-0 text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},"Total Superficie Normal")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Particular"),n.a.createElement("td",null,r),n.a.createElement("td",null,o))))),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-table-secondary text-secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},"Total Superficie Extra")),n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Sistema"),n.a.createElement("th",{scope:"col"},"Autorizada"),n.a.createElement("th",{scope:"col"},"Asignada"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Pozo Particular"),n.a.createElement("td",null,c),n.a.createElement("td",null,l))))))},Lt=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.autorizadosScreen})),t=a.modulo,r=a.autorizados,o=a.autorizadoSelected,c=a.superficieReferencia,i=0,s=0,u=0,m=0,d=0,p=0,E=0,f=0,v=0;null!==t&&(r.forEach((function(e){i+=e.gravedadNormalAutorizada,s+=e.gravedadNormalAsignada,u+=e.gravedadExtraAutorizada,m+=e.gravedadExtraAsignada,d+=e.pozoNormalAutorizada,p+=e.pozoNormalAsignada,E+=e.pozoExtraAutorizada,f+=e.pozoExtraAsignada})),v=i+s+u+m+d+p+E+f);var b=function(a){e(function(e){return{type:ae,payload:e}}(a)),e(Na(a))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row pt-3 .autorizadosModal"},n.a.createElement("div",{className:"col-sm-8 "},[1,2,3,4,5,6,7,8,9,"9B",10,11,12,14,15,16,17,18,19,20,21,22,"FL","Pozo Particular"].map((function(e){return t===e?n.a.createElement("button",{key:e,className:"btn btn-primary m-1",type:"button",onClick:function(){return b(e)}},n.a.createElement("span",null,"M-",e)):n.a.createElement("button",{key:e,className:"btn btn-outline-primary m-1",type:"button",onClick:function(){return b(e)}},n.a.createElement("span",null,"M-",e))})))),n.a.createElement("div",{className:"row "},n.a.createElement("div",{className:"col-sm-8 pr-0 mt-3"},"Pozo Particular"===t?n.a.createElement(Sa,{title:"Autorizados",columns:La,data:r,setFunction:xa}):n.a.createElement(Sa,{title:"Autorizados",columns:Ia,data:r,setFunction:xa})),t?n.a.createElement("div",{className:"col-sm-4 pl-3 mt-3"},n.a.createElement("div",{className:"d-flex flex-column border rounded border-info"},r.length>0?"Pozo Particular"===t?n.a.createElement(It,{autorizados:r,modulo:t}):n.a.createElement(fa,{autorizados:r,modulo:t}):n.a.createElement(n.a.Fragment,null),c===v?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"row p-1 pl-2  d-flex flex-column"},n.a.createElement("div",{className:"d-flex justify-content-center pt-5 text-warning"},"! Hay modificaciones sin guardar !"),n.a.createElement("div",{className:"d-flex justify-content-center pt-4 pb-4"},n.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(){!function(e,a){a.forEach((function(a){var t=a.gravedadNormalAutorizada+a.pozoNormalAutorizada,r=a.gravedadExtraAutorizada+a.pozoExtraAutorizada,n=t+r;Ue.collection("autorizados").doc("autorizadosM".concat(e)).collection("autorizados").doc("".concat(a.clave,"-").concat(a.cultivo)).set({clave:a.clave,cultivo:a.cultivo,superficieNormal:t,superficieExtra:r,superficieTotal:n,gravedadNormalAutorizada:a.gravedadNormalAutorizada,gravedadNormalAsignada:a.gravedadNormalAsignada,gravedadExtraAutorizada:a.gravedadExtraAutorizada,gravedadExtraAsignada:a.gravedadExtraAsignada,pozoNormalAutorizada:a.pozoNormalAutorizada,pozoNormalAsignada:a.pozoNormalAsignada,pozoExtraAutorizada:a.pozoExtraAutorizada,pozoExtraAsignada:a.pozoExtraAsignada}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))})),Ye.a.fire("Autorizados Guardados","Se registraron con \xe9xito los cambios.","success")}(t,r),e(Na(t))}},n.a.createElement("i",{className:"far fa-save"}),n.a.createElement("span",null," Guardar Cambios")))))):n.a.createElement(n.a.Fragment,null)),o?"Pozo Particular"===t?n.a.createElement(Ut,null):n.a.createElement(kt,null):n.a.createElement(n.a.Fragment,null))},Tt=function(){var e=Object(l.c)((function(e){return e.auth})),a=e.name,t=e.entidad,r=e.img;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row d-flex justify-content-between header"},n.a.createElement("div",{className:"col-sm-2 text-center "},n.a.createElement("div",{className:"border rounded h-100 d-flex justify-content-center"},n.a.createElement("img",{className:"align-self-center",src:"./logos/".concat(r),alt:"Logo de modulo 19",style:{maxHeight:100}}))),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("div",{className:"card border"},n.a.createElement("div",{className:"card-header"},"".concat(t," - Operador: ").concat(a)),n.a.createElement("div",{className:"card-body text-dark"},n.a.createElement("h5",{className:"card-title"},"Plataforma digital"),n.a.createElement("p",{className:"card-text"},"Distrito de riego 014 Rio Colorado"))))))},Vt=function(){var e=Object(Se.a)(Pe.a.mark((function e(){var a,t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t=Ue.collectionGroup("permisos").where("nombreCultivo","==","ALGODONERO"),e.next=4,t.get().then((function(e){e.forEach((function(e){a.push(Object(u.a)({id:e.id},e.data()))}))}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t,r,n,o;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=Ue.collectionGroup("permisos").where("nombreCultivo","==","ALGODONERO").orderBy("usuario").startAt(a.toUpperCase()).endAt(a.toUpperCase()+"\uf8ff"),e.next=4,r.get().then((function(e){e.forEach((function(e){t.push(Object(u.a)({id:e.id},e.data()))}))}));case 4:return n=Ue.collectionGroup("permisos").where("nombreCultivo","==","ALGODONERO").orderBy("cuenta").startAt(a.toUpperCase()).endAt(a.toUpperCase()+"\uf8ff"),e.next=7,n.get().then((function(e){e.forEach((function(e){t.push(Object(u.a)({id:e.id},e.data()))}))}));case 7:return o=Ue.collectionGroup("permisos").where("nombreCultivo","==","ALGODONERO").orderBy("numeroPermiso").startAt(a.toUpperCase()).endAt(a.toUpperCase()+"\uf8ff"),e.next=10,o.get().then((function(e){e.forEach((function(e){t.push(Object(u.a)({id:e.id},e.data()))}))}));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Gt=function(){return function(){var e=Object(Se.a)(Pe.a.mark((function e(a){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt();case 2:t=e.sent,a(Bt(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},Bt=function(e){return{type:be,payload:e}},_t=function(e){return{type:J,payload:e.id}},qt=function(){var e=Object(l.b)(),a=Xe({palabra:""}),t=Object(De.a)(a,2),r=t[0],o=t[1],c=r.palabra,i=Object(l.c)((function(e){return e.algodoneroScreen})),s=i.permisos,m=i.permisoSelected;0===s.length&&e(Gt());var d,p=function(){c.length>0?e(function(e){return function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Yt(e);case 2:r=a.sent,t(Bt(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(c)):Ye.a.fire("Nada para buscar","Ingrese n\xfamero de permiso, n\xfamero de cuenta o el apellido paterno del usuario.","warning")},E=[];s.forEach((function(e){E.push(Object(u.a)(Object(u.a)({},e),{},{fechaEmicion:et()(e.fechaEmicion.toDate()).format("DD/MM/YYYY"),fechaLimite:et()(e.fechaLimite.toDate()).format("DD/MM/YYYY"),vigencia:et()(e.vigencia.toDate()).format("DD/MM/YYYY")}))})),s.forEach((function(e){e.id===m&&(d=e)}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row mt-5"},n.a.createElement("div",{className:"col-sm-4 d-inline-flex p-3 "},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"N\xfamero de permiso, n\xfamero de cuenta o apellido paterno",name:"palabra",autoComplete:"off",value:c,onChange:o,onKeyUp:function(e){"Enter"===e.key&&p()}}),n.a.createElement("button",{className:" btn btn-outline-primary d-sm-block ml-auto",type:"button",onClick:p},n.a.createElement("i",{className:"fas fa-search"})))),n.a.createElement("div",{className:"row pt-3 pb-4"},n.a.createElement("div",{className:"col-sm-8 pr-0 mt-3"},n.a.createElement(Sa,{title:"Permisos",columns:Ua,data:E,setFunction:_t})),m&&void 0!==d?n.a.createElement("div",{className:"col-sm-4 mt-3"},n.a.createElement("div",{className:"border border-info rounded detallePermiso"},n.a.createElement("div",{className:"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3"},n.a.createElement("h5",null,d.numeroPermiso)),n.a.createElement("div",{className:"row p-1 pl-2 pt-2"},n.a.createElement("div",{className:"col-4"},"CUENTA:"),n.a.createElement("div",{className:"col-8"},d.cuenta)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"USUARIO:"),n.a.createElement("div",{className:"col-8"},d.usuario)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"PRODUCTOR:"),n.a.createElement("div",{className:"col-8"},d.nombreProductor)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"CULTIVO:"),n.a.createElement("div",{className:"col-8"},d.nombreCultivo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SUBCICLO:"),n.a.createElement("div",{className:"col-8"},d.subciclo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SUPERFICIE:"),n.a.createElement("div",{className:"col-8"},d.supAutorizada," ha")),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"DOTACION:"),n.a.createElement("div",{className:"col-8"},d.dotacion*d.supAutorizada," lts")),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SISTEMA:"),n.a.createElement("div",{className:"col-8"},d.sistema)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"LOCALIDAD:"),n.a.createElement("div",{className:"col-8"},d.localidad)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"LOTE:"),n.a.createElement("div",{className:"col-8"},d.lote)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"SECCION:"),n.a.createElement("div",{className:"col-8"},d.seccion)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"MODULO:"),n.a.createElement("div",{className:"col-8"},d.modulo)),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"EXPEDICION:"),n.a.createElement("div",{className:"col-8"},et()(d.fechaEmicion.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"FECHA LIMITE:"),n.a.createElement("div",{className:"col-8"},et()(d.fechaLimite.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"VIGENCIA:"),n.a.createElement("div",{className:"col-8"},et()(d.vigencia.toDate()).format("DD/MM/YYYY"))),n.a.createElement("div",{className:"row p-1 pl-2"},n.a.createElement("div",{className:"col-4"},"ESTADO:"),n.a.createElement("div",{className:"col-8"},d.estadoPermiso)),n.a.createElement("div",{className:"row p-1 pl-2 pt-4 pb-4"},n.a.createElement("div",{className:"col-6 d-flex justify-content-center"},"pendiente"===d.estadoPermiso?n.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:function(){Ye.a.fire({title:"Atenci\xf3n!!",text:"Est\xe1 a punto de activar el permiso ".concat(d.numeroPermiso,", \xbfRealmente desea activar este permiso?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(a){var t,r;a.isConfirmed&&(t=m,r=d.modulo,Ue.collection("permisos").doc("permisosM".concat(r)).collection("permisos").doc(t).update({estadoPermiso:"activo"}),e(Gt()),Ye.a.fire("OK","El permiso ".concat(d.numeroPermiso," fue activado con exito"),"success"))}))}},n.a.createElement("i",{className:"fas fa-check"}),n.a.createElement("span",null," Activar")):n.a.createElement(n.a.Fragment,null))))):n.a.createElement(n.a.Fragment,null)))},Kt=function(){return n.a.createElement("div",{className:"container-fluid pr-4"},n.a.createElement(na,null),n.a.createElement(Tt,null),n.a.createElement(Fe.d,null,n.a.createElement(Fe.b,{exact:!0,path:"/sicper",component:Ca}),n.a.createElement(Fe.b,{exact:!0,path:"/padron",component:Xa}),n.a.createElement(Fe.b,{exact:!0,path:"/permisos",component:Nt}),n.a.createElement(Fe.b,{exact:!0,path:"/algodonero",component:qt}),n.a.createElement(Fe.b,{exact:!0,path:"/transferencias",component:$a}),n.a.createElement(Fe.b,{exact:!0,path:"/reportes",component:Ja}),n.a.createElement(Fe.b,{exact:!0,path:"/autorizados",component:Lt}),n.a.createElement(Fe.b,{exact:!0,path:"/configuracion",component:Wa}),n.a.createElement(Fe.b,{exact:!0,path:"/nuevo-permiso",component:Mt}),n.a.createElement(Fe.a,{to:"/sicper"})))},Ht=t(47),Zt=function(e){var a=e.isAuthenticated,t=e.component,r=Object(Ht.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",r.location.pathname),n.a.createElement(Fe.b,Object.assign({},r,{component:function(e){return a?n.a.createElement(t,e):n.a.createElement(Fe.a,{to:"/auth/login"})}}))},Xt=function(e){var a=e.isAuthenticated,t=e.component,r=Object(Ht.a)(e,["isAuthenticated","component"]);return n.a.createElement(Fe.b,Object.assign({},r,{component:function(e){return a?n.a.createElement(Fe.a,{to:"/"}):n.a.createElement(t,e)}}))},Wt=function(){var e=Object(l.b)(),a=Object(r.useState)(!0),t=Object(De.a)(a,2),o=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(De.a)(i,2),u=s[0],m=s[1];return Object(r.useEffect)((function(){Re.a.auth().onAuthStateChanged(function(){var a=Object(Se.a)(Pe.a.mark((function a(t){var r,n,o,l,i,s,u;return Pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(null===t||void 0===t?void 0:t.uid)){a.next=13;break}return a.next=3,Ke(t.uid);case 3:return r=a.sent,a.next=6,He(r.claveEntidad);case 6:n=a.sent,o=n.nombre,l=n.img,i=n.clave,s=n.dotacion,u=n.titular,e(Be(t.uid,t.displayName)),e(_e(o,l,i,s,u)),m(!0),a.next=14;break;case 13:m(!1);case 14:c(!1);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}),[e,c,m]),o?n.a.createElement("div",{className:"container pt-5 d-flex justify-content-center"},n.a.createElement("div",{className:"spinner-border text-primary",role:"status"},n.a.createElement("span",{className:"sr-only"},"Cargando..."))):n.a.createElement(Me.a,null,n.a.createElement("div",null,n.a.createElement(Fe.d,null,n.a.createElement(Xt,{path:"/auth",component:ea,isAuthenticated:u}),n.a.createElement(Zt,{exat:!0,isAuthenticated:u,path:"/",component:Kt}),n.a.createElement(Fe.a,{to:"/auth/login"}))))},Jt=function(){return n.a.createElement("div",null,n.a.createElement(l.a,{store:Ce},n.a.createElement(Wt,null)))};t(312),t(313);c.a.render(n.a.createElement(Jt,null),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.bf963b6f.chunk.js.map