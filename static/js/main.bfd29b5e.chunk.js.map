{"version":3,"sources":["helpers/DB/simpleLoadTransfer.js","helpers/consts.js","types/types.js","reducers/uiReducer.js","reducers/altaPermisosReducer.js","reducers/permisosScreenReducer.js","reducers/autorizadosReducer.js","reducers/sicperReducer.js","reducers/algodoneroScreenReducer.js","reducers/scenes/scenesReducer.js","reducers/transferenciasScreenReducer.js","reducers/padronScreenReducer.js","store/store.js","reducers/authReducer.js","reducers/entidades/entidadesReducer.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/ui/NavbarComponent.js","helpers/loadNombresCultivos.js","helpers/loadAutorizados.js","helpers/loadExpedicion.js","actions/sicperScreen.js","helpers/functions/roundToN.js","components/modulos/ResumenAutorizados.js","components/charts/SuperficiesChart.js","components/charts/setSuperficiesDataformat.js","components/autorizados/ResumenAutorizados.js","helpers/loadUltimosPermisos.js","helpers/loadPermisos.js","helpers/loadSuperficiesCultivos.js","helpers/DB/loadPreCancelPermits.js","helpers/DB/loadContadorGuias.js","helpers/saveGuia.js","helpers/DB/loadGuia.js","actions/permisosScreen.js","actions/autorizadosScreen.js","components/modulos/FichaExpedicion.js","components/buttons/NuevoPermisoButton.js","components/cards/UnassignedPrivilegesMessage.js","components/sicper/SicperScreen.js","helpers/constants/reportsColumns.js","helpers/DB/loadProducersGlobal.js","components/tables/CustomTable.js","components/tables/configTables.js","components/padron/productoresReducer.js","helpers/DB/deleteProducer.js","components/padron/ProductorDetail.js","helpers/DB/updateProducer.js","hooks/UseFormToUpper.js","components/modals/EditProductorModal.js","components/padron/ProductoresModule.js","helpers/loadUsuarios.js","helpers/loadSuperficiePrevia.js","helpers/DB/loadUserTransfer.js","helpers/functions/assets.js","helpers/DB/loadTransferencias.js","helpers/DB/updateTransfer.js","actions/transferenciasScreen.js","helpers/loadLaboresPendientes.js","helpers/loadDictamen.js","helpers/loadCultivosYProductoresAnteriores.js","helpers/loadCultivos.js","helpers/DB/loadCiclo.js","helpers/saveCultivo.js","helpers/loadProductores.js","helpers/DB/loadConcesiones.js","helpers/loadComplementos.js","actions/productores.js","helpers/DB/hayPermisosExpedidosDelCultivo.js","helpers/deleteCultivo.js","actions/cultivos.js","actions/usuarios.js","components/permisos/inputsNuevosPermisos/UsuarioInput.js","helpers/DB/getConstancyCount.js","components/padron/UsuarioSelectedDetail.js","helpers/functions/readExcel.js","helpers/DB/loadLocalties.js","helpers/DB/loadReacomodos.js","helpers/DB/updatePadron.js","components/ui/atoms/FileInput.js","components/ui/organisms/UpdatePadronModule.js","helpers/DB/updateReacomodos.js","components/ui/organisms/UpdateReacomodosModule.js","helpers/functions/exportJSONToExcel.js","components/ui/atoms/DownloadPadronButton.js","helpers/DB/saveConstancy.js","components/modals/PrintConstancyModal.js","helpers/DB/loadConstancies.js","components/padron/ConstancySelectedDetail.js","components/ui/organisms/ConstancyModule.js","hooks/useConstancyModuleState.js","components/modals/DictamenModal.js","helpers/saveDictamen.js","components/modals/PrintDictamenModal.js","components/padron/PadronDeUsuariosSection.js","helpers/DB/loadPadronesDeCultivos.js","helpers/DB/saveConcesionCultivo.js","actions/padronScreenActions.js","actions/nuevoProductor.js","components/modals/ProductorModal.js","components/padron/ConcesionCard.js","components/padron/PadronesDeCultivos.js","components/padron/PadronScreen.js","actions/altaPermisos.js","helpers/DB/savePermitTransaction.js","components/modals/PrintPermisoModal.js","helpers/DB/cancelPermit.js","helpers/DB/getPermitStatus.js","helpers/denegarCancelacionDePermiso.js","components/cards/PermitToCancelCard.js","components/tables/PermitsCancelationTable.js","components/ui/organisms/PermitsCancellationModule.js","components/modals/PrintGuiaModal.js","components/modals/GuiaFormModal.js","components/permisos/PermisosScreen.js","helpers/setPermisoInCancelProces.js","components/modals/CultivoModal.js","components/modals/UsuarioModal.js","components/modals/NuevoProductorModal.js","components/permisos/inputsNuevosPermisos/CultivoInput.js","components/permisos/inputsNuevosPermisos/ProductorInput.js","components/permisos/inputsNuevosPermisos/UsuarioSelected.js","components/permisos/inputsNuevosPermisos/ProductorSelected.js","helpers/loadContador.js","components/permisos/inputsNuevosPermisos/CultivoSelected.js","components/modals/CultivoAnteriorModal.js","components/permisos/inputsNuevosPermisos/VariedadInput.js","components/permisos/inputsNuevosPermisos/CultivoAnteriorInput.js","components/permisos/inputsNuevosPermisos/SuperficieInput.js","components/permisos/NuevoPermisoScreen.js","components/cards/UserCard.js","components/permisos/inputsNuevosPermisos/CultivoInput2.js","helpers/loadLocaltiesFromPermits.js","actions/entidades/localidades.js","components/permisos/inputsNuevosPermisos/LocalidadInput.js","helpers/DB/getTransferCount.js","components/forms/TransferForm.js","components/inputs/UsuariosInput.js","components/tables/UsuariosTable.js","components/modals/LocalidadesModal.js","helpers/saveTransfer.js","components/modals/PrintTransferModal.js","components/tables/TransferTable.js","components/cards/TransferCard.js","scenes/TransferenciasScreen.js","helpers/loadSearchPermisosAlgodonero.js","helpers/DB/getCostanciaSanidadCount.js","helpers/loadPermitsForPay.js","actions/algodoneroScreen.js","components/asignacion/PermisoAsignacion.js","helpers/DB/asignarTecnico.js","helpers/DB/saveTechnicianLocalties.js","components/asignacion/SelectedLocaltiesDetail.js","components/tables/LaboresPermitsTable.js","components/tables/CustomSelectableTable.js","components/tables/SelectableLocaltiesTable.js","helpers/DB/loadTechnician.js","reducers/asignacionReducer.js","scenes/AsignacionScreen.js","helpers/asignarTecnico.js","helpers/updatePermisoAlgodonero.js","reducers/laboresChecksReducer.js","components/modulos/CheckSanidad.js","helpers/saveConsatanciaSanidad.js","components/modals/PrintSanidadModal.js","scenes/LaboresScreen.js","components/modals/AutorizadosModal.js","components/modals/AutorizadosPozoModal.js","components/autorizados/ResumenAutorizadosPozo.js","components/autorizados/AutorizadosScreen.js","helpers/sabeAutorizados.js","components/charts/CustomGraficoHorizontal.js","components/charts/GraficoPrincipalesCultivos.js","helpers/ordenarDataParaGrafico.js","actions/entidades/permisos.js","components/forms/FormPermisosInformes.js","components/tables/CustomPrintTable.js","components/tables/PermisosTable.js","components/ui/molecules/RadioButtonGroup.js","helpers/DB/simpleLoadPermits.js","hooks/useFilteredData.js","components/ui/molecules/ReportHeader.js","components/ui/molecules/PrintableTable.js","components/ui/organisms/ReportModule.js","hooks/useMultiInput.js","components/ui/organisms/CustomPermitsReport.js","helpers/DB/loadPermisosPorSeccion.js","components/ui/organisms/PermitsReport.js","components/modulos/ModuloInformesPermisos.js","helpers/functions/filterReportData.js","helpers/functions/mergeReportData.js","reducers/modulosCheckboxReducer.js","components/ui/molecules/ExpedicionTable.js","components/ui/molecules/ButtonGroup.js","components/ui/organisms/ModulosCkeckbox.js","components/ui/organisms/ReporteExpedicion.js","helpers/DB/loadAutorizadosGlobal.js","helpers/DB/loadAvanceSuperficieExpedida.js","actions/scenes/reportesScreen.js","helpers/DB/loadProducersPerModulo.js","helpers/DB/simpleLoadProducers.js","components/ui/organisms/ProducersReport.js","helpers/DB/simpleLoadUsers.js","components/ui/organisms/UsersReport.js","components/modulos/ModuloInformesPadron.js","helpers/DB/getTransferTable.js","components/ui/molecules/TransferTable.js","components/ui/organisms/TableTransferReport.js","components/ui/organisms/TransferReport.js","components/modulos/ModuloInformesTransferencias.js","helpers/DB/loadPermisosLabores.js","components/ui/organisms/LaboresReport.js","components/modulos/ModuloInformesCesvbc.js","scenes/ReportesScreen.js","helpers/loadSystemUsers.js","helpers/loadUserRoles.js","helpers/loadUserPrivileges.js","actions/entidades/sistemUsers.js","components/forms/AddNewUserRoleForm.js","helpers/saveNewUserRole.js","helpers/deleteUserRole.js","components/forms/SelectRoleToEditForm.js","helpers/saveRolePrivileges.js","components/forms/UserPrivilegesForm.js","components/modals/UserRoleModal.js","components/buttons/NewUserRoleButton.js","components/cards/SystemUserCard.js","helpers/updateSystemUser.js","components/tables/SystemUsersTable.js","components/modulos/UsersRoleManagement.js","helpers/DB/actualizarEntidades.js","components/modulos/EntityEditingModule.js","hooks/useFormArray.js","helpers/DB/loadEntities.js","actions/entidades/entities.js","helpers/DB/crearPadronDeCultivo.js","components/cards/CultivoCard.js","components/modulos/CatalogoDeCultivos.js","scenes/ConfiguracionScreen.js","helpers/printDuplicatePermits.js","components/modulos/DictamenManual.js","helpers/DB/editarPermisos.js","helpers/DB/DBTools/verificarExpedicion.js","components/modulos/ExpeditionCheckModule.js","helpers/DB/cargarPermisosExcel.js","components/modulos/PermisosExcelModule.js","components/templates/TestArea.js","components/ui/molecules/CicleSelector.js","components/ui/molecules/EntitySelector.js","components/ui/Header.js","scenes/ServicioSuspendido.js","routers/DashboardRoutes.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","SicperApp.js","index.js","firebase/firebase-config.js"],"names":["simpleLoadTransfer","pairs","modulo","ciclo","tipo","a","palabra","campo","transferencias","transferenciasFiltradas","qrysTransferencias","transferRef","db","collection","doc","modulos","forEach","length","push","orderBy","get","startAt","toUpperCase","endAt","where","Number","Promise","all","snap","snapHijo","data","parseInt","i","pop","filter","transferencia","ifIsNumber","Swal","fire","onlyUnique","value","objectsArray","key","unique","clearArray","element","indexOf","modulosPorUnidad","primeraUnidad","4","5","6","14","15","16","segundaUnidad","7","8","10","11","12","17","18","19","20","terceraUnidad","1","2","3","21","22","23","pozosParticulares","UNI01","UNI02","UNI03","cultivosPrincipales","VARIOS_OI","SUBTOTAL","PERENNES","VARIOS_PERENNES","VARIOS_PV","transferModulos","privileges","accesoGlobal","pantallaInicio","pantallaPadron","pantallaPermisos","pantallaTransferencias","pantallaAsignacion","pantallaLabores","pantallaAutorizados","pantallaReportes","pantallaConfiguracion","testArea","actualizarPadron","consultarPadron","generarConstancias","generarDictamenes","generarDictamenesDdr","editarProductores","editarPadronesCultivos","expedirPermisos","consultarPermisos","solicitarCancelarPermisos","solicitarGuias","cancelarPermisos","consultarExpedicion","consultarAutorizados","editarAutorizados","solicitarTransferencias","consultarTransferencias","asignarTecnico","consultarLabores","registrarLabores","pagarLabores","imprimirLabores","borrarPermisos","editarEntidades","asignarRoles","editarRoles","editarCultivos","cerrarExpedicionModulos","variablesGlobales","entidades","clave","dotacionGravedad","dotacionPozo","titular","direccion","nombre","img","expedicionActivaModulo","testUsers","CUENTA","SUBCTA","UNIDAD","ZONA","SECCION","CP","LT","SLT","RA","SRA","SSRA","PCONTROL","TENENCIA","ESTADO","MUNICIPIO","EJIDO","GRUPO","PREDIO","SISTRIEGO","EQUIPO","APPATERNO","APMATERNO","NOMBRE","SUPFISICA","SUPRIEGO","FECHA","REFERENCIA","MODULO","types","initialState","loading","msgError","updatingPermisos","enEspera","enableSaveButton","enablePrintButton","openUsuariosModal","openProductoresModal","isOpenNuevoProductorModal","openCultivosModal","openCultivoAnteriorModal","isOpenPrintPermisoModal","usuarios","cultivos","cultivosAnteriores","id","superficie","productores","idUsuarioSelected","cuenta","usuario","supDerecho","lote","localidad","municipio","estado","seccion","canal","toma","sistema","idProductorSelected","nombreProductor","rfcProductor","productorIncumplido","idCultivoSelected","nombreCultivo","claveCultivo","subciclo","cuotaCultivo","supPrevia","idCultivoAnteriorSelected","cultivoAnterior","claveCultivoAnterior","numeroPermiso","fechaEmicion","fechaLimite","vigencia","estadoPermiso","variedad","supAutorizada","fuenteCredito","latitud","longitud","observaciones","permisosComplemento","permisos","permisoSelected","superficies","guia","isGuiaFormModalOpen","isGuiaPrintModalOpen","openAutorizadosModal","autorizados","autorizadoSelected","superficieReferencia","formError","loadingAutorizados","expedicion","printSanidadModal","technicians","reportesScreen","openImprimirReporteModal","padronScreen","updatingPadron","updatingReacomodos","dictamen","printTransferModal","nuevaTransferencia","transferPrintButton","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","uid","payload","name","displayName","email","entidad","claveEntidad","rol","privilegios","newState","cicloConsulta","ui","isOpenUserRoleModal","entidadesConAcceso","scenes","principalesCultivos","labels","superficiesCultivos","numeroPermisos","campoOrdenador","userRoles","userRoleSelected","privilegesToEdit","systemUsers","systemUserSelected","localties","selectedLocalties","localtieSelected","openLocaltiesModal","entities","sicperScreen","padrones","concesionSelected","permisosScreen","preCancelPermits","permitToCancelSelected","guardado","folio","algodoneroScreen","folioSanidad","newPermits","map","permiso","nuevosPermisos","idPermiso","tecnico","transferenciasScreen","altaPermisos","openPrintPermisoModal","cultivosFiltered","cultivo","inicioBc","finBc","inicioSonora","finSonora","superficiePreviaCultivo","requiereDictamen","requiereComplementoVolumen","requiereControlCPUS","costoHectarea","superficiePrevia","opcionDeExpedicion","tipoSemilla","supComplementoRequerida","restoSupComplementoRequerida","subcta","apPaterno","apMaterno","supRiego","predio","zona","cp","lt","slt","ra","sra","ssra","pControl","sistRiego","reacomodo","nombreLocalidad","tipoLocalidad","claveLocalidad","ejido","laboresPendientes","superficieParcialLiberada","rfc","curpProductor","curp","incumplido","concesionesProductor","concesiones","complementosProductor","productoresAnteriores","mensajeFijo","autorizadosScreen","autorizadosPorCultivo","store","createStore","applyMiddleware","thunk","setError","err","removeError","finishLoading","startLoginEmailPassword","password","dispatch","firebase","signInWithEmailAndPassword","then","user","loadEntity","entity","loadEntityData","entityData","loadPrivilegios","login","setEntity","setPrivilegios","loadVariablesGlobales","variablesGlovales","setVariablesGlobales","catch","e","console","log","logout","entitySnap","roles","loadEstadoExpedicionModulo","startSetEstadoExpedicionModulo","estadoExpedicion","setEstadoExpedicionModulo","useForm","useState","values","setValues","reset","handleInputChange","target","checked","setAValue","LoginScreen","useDispatch","useSelector","formValues","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","to","RegisterScreen","password2","isFormValid","validator","isEmail","createUserWithEmailAndPassword","updateProfile","set","startRegisterWithEmailPasswordName","decideModulo","hidden","defaultValue","AuthRouter","exact","path","component","NavbarComponent","Navbar","bg","variant","expand","Brand","href","src","height","alt","Toggle","aria-controls","Collapse","Nav","Button","onClick","signOut","loadNombresCultivos","cultivosSnap","loadAutorizados","autorizadosSnap","nombresCultivos","gravedadNormalAutorizada","gravedadNormalAsignada","gravedadExtraAutorizada","gravedadExtraAsignada","pozoNormalAutorizada","pozoNormalAsignada","pozoExtraAutorizada","pozoExtraAsignada","undefined","find","autorizado","loadAutorizadoPorCultivo","claves","autorizadosPromises","autorizadosResolved","loadExpedicion","superficiesSnap","startLoadExpedicion","findCultivo","autorizadoId","cultivoAutorizado","superficieTotal","gravedadNormal","gravedadExtra","pozoNormal","pozoExtra","pozoParticularNormal","pozoParticularExtra","setExpedicion","roundToN","num","n","Math","round","ResumenAutorizados","useEffect","setNormal","setExtra","totales","isModulo","role","scope","SuperficiesChart","dataSend","titulo","totalSuperficie","totalPermisos","datasets","label","backgroundColor","borderColor","borderWidth","toFixed","options","scales","yAxes","ticks","beginAtZero","width","totalGravedadNormalAutorizada","totalGravedadNormalAsignada","totalGravedadExtraAutorizada","totalGravedadExtraAsignada","totalPozoNormalAutorizada","totalPozoNormalAsignada","totalPozoExtraAutorizada","totalPozoExtraAsignada","colSpan","loadUltimosPermisos","limit","solicitanteCancelacion","nombreSolicitanteCancelacion","emailSolicitanteCancelacion","addDays","date","days","result","Date","setDate","getDate","loadPermisos","campos","fechaInicial","fechaFinal","cicloSplit","split","fechaInicialBusqueda","fechaFinalBusqueda","permisosCampo","pad","filtros","permisosResueltos","fecha","toDate","loadSuperficiesCultivos","contador","restoSuperficie","restoPermisos","loadPreCancelPermits","permisosSnap","collectionGroup","querySnapshot","loadContadorGuias","exists","numeroGuiasModulo","saveGuia","guiaRef","contGuiaRef","runTransaction","transaction","guiaInDb","countGuia","Error","update","firestore","FieldValue","increment","error","loadGuia","guias","seconds","startLoadPermisos","setPermisos","startLoadPreCancelPermits","setPreCancelPermits","startLoadSuperficies","setSuperficies","permits","startSetPermisoSelected","setDataGuia","clearGuia","setPermisoSelected","setPermitToCancel","unsetPermitToCancel","setGuiaSaved","setFolioGuia","closeGuiaForm","openGuiaPrint","startLoadAutorizados","setAutorizados","setSuperficieReferencia","setAutorizadosPorCultivo","closeAutorizadosModal","setAutorizadoSelected","setFormError","removeFormError","FichaExpedicion","NuevoPermisoButton","UnassignedPrivilegesMessage","SicperScreen","expedicionActiva","tiempo","now","fechaActual","print","toLocaleDateString","permitsHeaders","header","styles","currency","sum","count","float","display","selectable","search","laboresHeaders","producersHeaders","usersHeaders","transferEntrantesHeaders","transferSalientesHeaders","loadProducersGlobal","inputValue","producers","CustomTable","title","columns","setFunction","closeFunction","simpleSetFunction","pagination","paginationComponentOptions","rowsPerPageText","rangesSeparatorText","selectAllRowsItem","selectAllRowsItemText","fixedHeader","persistTableHead","fixedHeaderScrollHeight","highlightOnHover","striped","pointerOnHover","dense","onRowClicked","row","styled","input","usuariosColumns","selector","omit","sortable","center","transferColumns","productoresColumns","cultivosColumns","concesionesColumns","systemUsersColumns","localtiesColumns","asignacionLocaltiesColumns","permisosColumns","laboresColumns","printPermisosColumns","autorizadosColumns","autorizadosPozoColumns","productoresReducer","productorSelected","openEditModal","deleteProducer","producerRef","getPermitsRefs","delete","idProductor","permisosRefs","ref","ProductorDetail","productor","reload","telefono","genero","fechaRegistro","toLocaleString","weekday","year","month","day","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","updateProducer","idAnterior","tipoPersonaAnterior","curpAnterior","nombreAnterior","rfcAnterior","tipoPersona","genoro","nombreCompleto","newProducerRef","permitsRefs","getConcesionesRefs","concesionesRefs","concesion","concesionesBatch","useFormToUpper","customStyles","content","top","left","right","bottom","marginRight","transform","overflow","Modal","setAppElement","EditProductorModal","resetProductor","indice","closeModal","handleUpdate","replace","trim","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","htmlFor","ProductoresModule","useReducer","getProducers","setProductorSelected","onKeyUp","event","headers","loadUsuarios","global","qryUsuarios","padUsuarios","defineRef","equipo","defineModulo","loadSuperficiePrevia","permisosPad","loadTransfer","loadUserTransfer","transferPromises","item","childItem","transferId","estadoTransferencia","superficieTransferida","goToElement","document","getElementById","focus","loadTransferencias","transferenciasSnap","updateTransfer","moduloDestino","transfer","startSetTransferencia","unsetUsuarioSelected","setTransferencia","unsetTransferencia","setTransferencias","startSetTransferencias","openTransferModal","disablePrintButton","startUpdateTransfer","newTransfer","loadLaboresPendientes","cicloAnterior","ciclos","anioInicio","anioFin","permisosPromises","batch","loadDictamen","loadCultivosYProductoresAnteriores","loadCultivos","include0","qrysCultivos","loadCiclo","cicloActual","saveCultivo","loadProductores","usuariosSnap","loadConcesiones","concesionesPromices","concesionesPad","loadComplementos","permisosVinculados","closeProductoresModal","startLoadProductores","getState","idsProductores","setProductores","startSetProductorSelected","complementos","setComplementos","setPermisosComplemento","unsetPermisosComplemento","unsetProductorSelected","hayPermisosExpedidosDelCultivo","idCultivo","allowOutsideClick","didOpen","showLoading","permisosBatch","close","size","deleteCultivo","closeCultivosModal","closeCultivoAnteriorModal","startSetCatalogoDeCultivos","setCultivos","startLoadCultivos","cultivosConModulo","setCultivosAnteriores","supCultivo","dataSup","hasOwnProperty","startSetCultivoSelected","setCultivoSelected","unsetCultivoSelected","setCultivoAnteriorSelected","startDeleteCultivo","cultivoId","removeCultivo","closeUsuariosModal","startLoadUsuarios","setUsuarios","unsetUsuarios","startSetUsuarioSelected","getCicloAnterior","cultivosYProductoresAnteriores","labores","setUsuarioSelected","transfers","unsetUpdatingPadron","unsetUpdatingReacomodos","setDictamenDataSaved","cicloSeparado","UsuarioInput","nombreUsuario","handleOpenUsuariosModal","handleLoadUsuarios","usuarioLabel","tabIndex","autoFocus","getConstancyCounter","anio","contadorConstancias","counter","UsuarioSelectedDetail","setModalState","setDictamenFormState","startSaveConstancy","defineFolio","constancia","openModal","isOpenDictamenForm","getFullYear","number","len","repeat","toString","readExcel","file","promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","bufferArray","workBook","read","workSheetName","SheetNames","workSheet","Sheets","utils","sheet_to_json","onerror","loadLocalties","localtie","localtiesSnap","loadReacomodos","reacomodosSnap","reacomodos","checkPadron","isOk","getLocaltie","localidades","localtieFind","definePredio","grupo","defineSistema","FileInput","actionFunction","updating","fileExtension","files","match","UpdatePadronModule","nuevoPadron","idsPadronAnterior","batchSize","showConfirmButton","derecho","itemToUpload","referencia","sistemaRiego","supFisica","tenencia","unidad","index","splice","commit","updatePadron","checkReacomodos","UpdateReacomodosModule","CTA","subCuenta","SC","llave","LLAVE","claveEjido","CVEEJI","EJI","PRE","hectareas","HAS","RE","claveProcedencia","CVEPRO","ejidoProcedencia","EJIPRO","predioProcedencia","PREPRO","updateReacomodos","exportJSONToExcel","author","sheetName","book_new","Props","Title","Author","CreatedDate","json_to_sheet","excelBuffer","write","bookType","saveAsExcel","buffer","fileName","Blob","FileSaver","saveAs","DownloadPadronButton","startDowloadPadron","padron","LOCALIDAD","REACOMODO","HA","SISTEMA","saveConstancy","constancyRef","constancyCounterRef","constancy","constancyCounter","PrintConstancyModal","constancySaved","handleSaveConstancy","maxWidth","loadCostancies","qryConstancies","constancies","constanciesRef","ConstancySelectedDetail","ConstancyModule","modalState","constancySelected","moduleState","setModuleState","handleSetConstancies","useConstancyModuleState","clearUsuarioInput","handleKeyUp","setConstancylected","DictamenModal","isOpenModal","setIsOpenDictamenPrint","cultivosIds","filteredCultivos","includes","habilitadora","laboresCulturales","dictamenTecnico","cultivoDictamen","cader","setCader","fechaRiego","setFechaRiego","fechaSiembraSeco","setFechaSiembraSeco","fechaSiembraHumedo","setFechaSiembraHumedo","list","format","rows","saveDictamen","newDictamen","PrintDictamenModal","isOpenDictamenPrint","handleSaveDictamen","maxHeight","PadronDeUsuariosSection","Object","dictamenFormState","setGlobal","handleSetGlogal","loadPadronesDeCultivos","padronesSnap","modulosSnap","registro","findIndex","saveConcesionCultivo","newConcesion","concesionRef","concesionModuloRef","concesionInDb","concesionModuloInDb","supConcesion","supExpedida","startSetPadronesCultivos","setPadronesCultivos","setConcesionSelected","setCultivosConPadron","closeNuevoProductorModal","ProductorModal","ConcesionCard","supConcesionInput","setSupConcesionInput","moduloOption","setModuloOption","concesionInState","newConcesiones","concesionState","concesionInNew","startSaveConcesion","PadronesDeCultivos","setCultivo","nameFilter","setNameFilter","filteredData","cultivoName","PadronScreen","sections","section","setSection","sectionsNames","keys","sectionName","setOnSubmitData","unsetEnEspera","startEnableSaveButton","setComplemento","complemento","savePermitTransaction","allData","moment","desfoliado","cosechado","desvarado","disqueado","desarraigado","superficieMapeada","pagado","constanciaFitosanitaria","permisosPorCultivoRef","permisoRef","contadorPermisosRef","permisosPorCultivo","permisoComplementoRef","arrayPermisos","numeroPermisosModulo","superficieModulo","isSave","PrintPermisoModal","isNew","handleSavePermiso","imprimir","getDotacion","string","str","toUpper","fontSize","defineTituloFirmaTitular","cancelPermit","permit","fechaCancelacion","apruebaCancelacion","permisosExpedidosRef","getPermitStatus","denegarCancelacionDePermiso","PermitToCancelCard","perm","elements","USUARIO","CULTIVO","motivoCancelacion","entries","permitStatus","PermitsCancelationTable","permisosFormateados","PermitsCancellationModule","PrintGuiaModal","dateOptions","formatter","Intl","NumberFormat","padding","empresaDestino","ubicacionDestino","rendimiento","costo","TrasladoNoTolvas","TrasladoNoToneladas","TrasladoNoModulos","TrasladoToneladas","TrasladoTonTotales","RecibidoNoTolvas","RecibidoNoToneladas","RecibidoNoModulos","RecibidoToneladas","RecibidoTonTotales","startSaveGuia","GuiaFormModal","fill","substring","startSetFolioGuia","trasladoNoTolvas","trasladoNoToneladas","trasladoNoModulos","trasladoToneladas","trasladoTonTotales","recibidoNoTolvas","recibidoNoToneladas","recibidoNoModulos","recibidoToneladas","recibidoTonTotales","PermisosScreen","dataPermiso","buscarPermisos","startLoadPermisosSearch","dataPermisoImprecion","fechaSolicitudCancelacion","isAvailableCancelButton","inputPlaceholder","motivo","setPermisoInCancelProces","CultivoModal","UsuarioModal","NuevoProductorModal","productorRef","CultivoInput","altaFormValues","setAltaFormValues","handleOpenCultivosModal","handleLoadCultivos","cultivoLabel","ProductorInput","handleOpenProductoresModal","handleLoadProductores","productorLabel","UsuarioSelected","ProductorSelected","loadContador","CultivoSelected","cultivoSelected","complementoPorHa","CultivoAnteriorModal","VariedadInput","checkTipo","setCheckTipo","handleSetTipoSemilla","setTipoSemilla","CultivoAnteriorInput","SuperficieInput","complementosDisponibles","cultivoComplementario","supComplemento","reduce","total","getComplemento","handleSetPermisosComplemento","nuevosComplementos","textoComplementos","supMaxima","permisoComplemento","NuevoPermisoScreen","usuarioSelected","cuotaSanidad","localidadDestino","loteDestino","permisoData","startLoadAutorizadoPorCultivo","cuota","onSendForm","getOnSubmitData","bloquearPorPeriodoDeExpedicion","rango","inicio","fin","getRangoExpedicion","rangoActual","inicioSplit","finSplit","getFechaParaCicloActual","hoy","bloquearPorControlCPUS","defineTipoPermiso","defineNumeroPermiso","defineFechaLimite","defineVigencia","defineEstadoPermiso","defineMesajeFijo","gravedadNormalPrevia","gravedadExtraPrevia","pozoNormalPrevia","pozoExtraPrevia","pozoParticularNormalPrevia","pozoParticularExtraPrevia","fechaSplit","UserCard","derechoDisponible","CultivoInput2","loadLocaltiesFromPermits","localtiesIds","padronLocalties","getLocaltieId","ubicacion","getTechnician","setLocalties","setLocaltieSelected","unsetLocaltieSelected","closeLocaltiesModal","LocalidadInput","handleOpenLocaltiesModal","handleLoadLocalties","startLoadLocalties","localtieLabel","idLocaltieSelected","getTranseferCount","numeroTransferenciasModulo","TransferForm","superficieDisponible","apPaternoSolicitante","apMaternoSolicitante","nombreSolicitante","startSaveTransfer","clavelocalidadDestino","tipolocalidadDestino","UsuariosInput","UsuariosTable","LocalidadesModal","saveTransfer","contTransferRef","countTransfer","superficieRecibidaModulo","PrintTransferModal","handleSaveTransfer","TransferTable","TransferCard","nombreAdjudicatario","TransferenciasScreen","loadSearchPermisosAlgodonero","permisosNombre","getNombreRef","permisosCuenta","getCuentaRef","getConstanciaSanidadCount","numeroConstancia","loadPermitsForPay","desarraigadoSnap","barbechadoSnap","openSanidadModal","startCloseSanidadModal","updatePermiso","setNewTecnico","PermisoAsignacion","technicianSelected","technician","setTechnician","saveTechnicianLocalties","otherTechnicians","updates","getUpdates","newPermisosRefs","idPadronPromises","idPadronResolvedPromises","updatesInPadron","asignados","techniciansCopy","j","SelectedLocaltiesDetail","technicianId","setTechnicianId","handleSetTechnician","handleSaveChanges","LaboresPermitsTable","dispatchLocal","CustomSelectableTable","setSelectedRowsFunction","simpleSetSelectedRowsFunction","contextMessage","selectableRows","onSelectedRowsChange","selectedRows","SelectableLocaltiesTable","singular","plural","message","loadTechnician","asignacionReducer","updatedTechnicians","updatedTech","newLocalties","updatesIds","stateLocaltie","updatesIndex","AsignacionScreen","permitSelected","techniciasns","updatePermisoAlgodonero","objeto","laboresChecksReducer","check","editable","CheckSanidad","setInitialState","checksDispatch","checksState","checkUncheck","determinaAcceso","getAction","superficieActual","inputAttributes","autocapitalize","folioConstaniciaFisica","comentario","tag","getStyle","barbechado","pagar","saveConstanciaSanidad","constacia","constanciaRef","contConstanciaRef","countConstancia","PrintSanidadModal","LaboresScreen","startLoadPermitsForPay","AutorizadosModal","cultivoExpedicion","nuevosAutorizados","startUpdateAutorizados","valorNegativoError","supAsignadaError","valorVacioError","superficieExcedida","AutorizadosPozoModal","ResumenAutorizadosPozo","AutorizadosScreen","setModuloToEdit","moduloToEdit","setModulo","moduloIndex","autorizadoRef","totalNormal","totalExtra","totalCultivo","decideEstado","superficieNormal","superficieExtra","sabeAutorizados","CustomGraficoHorizontal","subtitulo1","subtitulo2","etiquetas","dataSet","ancho","GraficoPrincipalesCultivos","dataCondensada","arrayDataCondensada","sort","b","noBarrasGrafico","ordenarDataParaGrafico","completaTitulo","activosCancelados","tipoSuperficie","setCampoOrdenador","FormPermisosInformes","onChangeFechaInicial","onChangeFechaFinal","CustomPrintTable","headCells","paddingLeft","paddingRight","headRow","cells","PermisosTable","RadioButtonGroup","inputName","group","currentValue","button","simpleLoadPermits","permisosFiltrados","qrysPermisos","permisosRef","useFilteredData","initialData","initialFilters","order1","initialExtraRows","includeEmtyRow","includeSubtotalRow","setData","filters","setFilters","extraRows","setExtraRows","handleFiltersChange","aplyFilter","handleExtraRowsChange","resetFilters","mainKey","ids","cleanDataSet","separateData","finalData","totalRow","subTotalRow","emtyRow","separateBatch","finalBatch","sortFunction","uniqueOrder1","subBatch","isADate","dateA","usDate","dateB","dateSplit","ReportHeader","pages","page","range","PrintableTable","forwardRef","props","rowsPerPage","orientation","fracment","slice","dataPart","k","getValue","frac","minimumFractionDigits","currencyDisplay","ReportModule","excelTitle","componentRef","createRef","pageConfig","setPageConfig","trigger","current","pageStyle","excelHeaders","fileHeaders","excelData","newRow","useMultiInput","attributes","nodeValue","targetPair","newPair","pair","addPair","removePair","CustomPermitsReport","setHeaders","handleColumn","newHeaders","getPermisos","permisosToSet","getTitle","titleFor","reportOf","campoForTitle","loadPermisosPorSeccion","PermitsReport","setFilter","filterItem","order1Item","ModuloInformesPermisos","reportTypeValues","handleReportTipeInputChange","reportType","initialObject","supGravedadProgramada","supGravedadExpedida","supGravedadRealizada","supPozoProgramada","supPozoExpedida","supPozoRealizada","supPozoPartProgramada","supPozoPartExpedida","supPozoPartRealizada","reportData","accumulate","filterReportData","option","opcion","okModulo","checkModulo","isRegisterInclude","getRef","TOTAL","mergedData","plantillaRegistro","mergeReportData","isPozoParticular","createNewAutorizadosItem","updateExpedicionItem","modulosCheckboxReducer","unidades","newValues","newValueKey","newModulosState","ExpedicionTable","rowSpan","setTitle","setUpData","subCiclo","ButtonGroup","groupStyles","buttonStyles","isOn","on","off","ModulosCheckbox","buttonClasses","ReporteExpedicion","reportOptionsValues","handleReportOptionsInputChange","getModulos","loadAutorizadosGlobal","loadAvanceSuperficieExpedida","expedicionPromises","loadProducersPerModulo","curps","curpsInGroups","permisoSnap","simpleLoadProducers","producersFiltrados","qrysProducers","producersRef","filteredProducers","producer","ProducersReport","producersToSet","simpleLoadUsers","onlyAvailable","usuariosFiltrados","qrysUsuarios","usuariosRef","transferSnap","finalUsers","filterOnlyAvailable","users","UsersReport","getUsers","usersToSet","ModuloInformesPadron","getTransferTable","table","origen","destino","ha","transfersXY","totals","totalCol","unshift","cell","TableTransferReport","setTable","TransferReport","getTransfer","transfersToSet","ModuloInformesTransferencias","loadPermisosLabores","tecnicos","LaboresReport","ModuloInformesCesvbc","ReportesScreen","startSetExpedicion","startSetAutorizados","loadSystemUsers","loadUserRoles","loadUserPrivileges","startLoadSystemUsers","setSystemUsers","startSetSystemUserSelected","setSystemUserSelected","startSetUserRoles","setUserRoles","setUserRoleSelected","setPrivilegesToEdit","AddNewUserRoleForm","newRole","handleSaveNewUserRole","deleteUserRole","SelectRoleToEditForm","selectedRole","saveRolePrivileges","roleRef","logRef","UserPrivilegesForm","getOwnPropertyNames","privilegeName","privilege","UserRoleModal","NewUserRoleButton","SystemUserCard","userUid","updateSystemUser","SystemUsersTable","UsersRoleManagement","actualizarEntidades","promices","exist","EntityEditingModule","useFormArray","handleActualizarEntidades","entitie","acceso","loadEntities","entidadesSnap","startLoadEntities","setEntities","crearPadronDeCultivo","permisosAnterioresSnap","fugitivos","modulosIndex","padronIndex","CultivoCard","cultivosConPadron","cultivosComplemento","nuevaClave","costoGuia","cultivoConPadron","newCultivo","cultivosActualizados","cultivoInStore","isInStore","cultivoActualizado","startSaveCultivo","CatalogoDeCultivos","setCultivoName","ConfiguracionScreen","modules","modulesChange","module","printDuplicatePermits","unicos","duplicados","duplicadosCompletos","repetido","unico","duplicado","grupoSnap","DictamenManual","editarPermisos","CICLO","CLAVE_CULTIVO","CLAVECULTIVO_ANTERIOR","CLAVE_LOCALIDAD","CULTIVO_ANTERIOR","CURP_PRODUCTOR","ESTADO_PERMISO","FECHA_EMICION","FECHA_LIMITE","FUENTE_CREDITO","LOTE","NOMBRE_CULTIVO","NOMBRE_LOCALIDAD","NOMBRE_PRODUCTOR","NUMERO_PERMISO","OBSERVACIONES","RFC_PRODUCTOR","SUBCICLO","SUP_AUTORIZADA","SUP_DERECHO","TIPO_PERMISO","TIPO_LOCALIDAD","TIPO_SEMILLA","TRANSFERENCIA","VARIEDAD","verificarExpedicion","actualizar","cultivosFromPermisos","conteosSnap","conteos","cultivoData","cultivoPer","cultivoCont","igualGravedad","igualPozo","igualPozoParticular","igualTotal","igualNumero","conteo","dif","igualdad","ExpeditionCheckModule","setUpdate","defineCuenta","word","separator","parts","defineNombe","nombrePadron","nombreExcel","defineLabores","trabajos","defineTecnico","PermisosExcelModule","localidesSnap","padronId","derechos","idLocalidad","ubicación","itemsToUploadPromises","itemsToUpload","cargarPermisosExcel","TestArea","CicleSelector","setCiclo","setCicloConsulta","EntitySelector","setentity","Header","setImgStyle","ServicioSuspendido","DashboardRoutes","currentEntitie","PrivateRoute","isAuthenticated","Component","rest","localStorage","setItem","location","pathname","PublicRoute","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","exat","SicperApp","srs","ReactDOM","render","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","googleAuthProvider","GoogleAuthProvider"],"mappings":"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","file":"static/js/main.bfd29b5e.chunk.js","sourcesContent":["import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { modulos } from \"../consts\";\n\nexport const simpleLoadTransfer = async (pairs, modulo, ciclo, tipo) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst transferencias = [];\n\tconst transferenciasFiltradas = [];\n\tconst qrysTransferencias = [];\n\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`);\n\n\tswitch (tipo) {\n\t\tcase \"global\":\n\t\tcase \"salientes\":\n\t\t\tmodulos.forEach((modulo) => {\n\t\t\t\tconst transferRef = db\n\t\t\t\t\t.collection(`transferencias`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.collection(`transferencias`);\n\n\t\t\t\tif (palabra.length === 0) qrysTransferencias.push(transferRef.orderBy(campo).get());\n\t\t\t\telse {\n\t\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\t\ttransferRef\n\t\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t\t\t\t.get()\n\t\t\t\t\t);\n\n\t\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\t\ttransferRef\n\t\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t\t.startAt(palabra)\n\t\t\t\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t\t\t\t.get()\n\t\t\t\t\t);\n\n\t\t\t\t\tqrysTransferencias.push(transferRef.where(campo, \"==\", Number(palabra)).get());\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tcase \"entrantes\":\n\t\t\tif (palabra.length === 0) qrysTransferencias.push(transferRef.orderBy(campo).get());\n\t\t\telse {\n\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\ttransferRef\n\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t\t\t.get()\n\t\t\t\t);\n\n\t\t\t\tqrysTransferencias.push(\n\t\t\t\t\ttransferRef\n\t\t\t\t\t\t.orderBy(campo)\n\t\t\t\t\t\t.startAt(palabra)\n\t\t\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t\t\t.get()\n\t\t\t\t);\n\n\t\t\t\tqrysTransferencias.push(transferRef.where(campo, \"==\", Number(palabra)).get());\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (global) {\n\t} else {\n\t}\n\n\tconst resolvedTransferQrys = await Promise.all(qrysTransferencias);\n\n\tresolvedTransferQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tif (tipo === \"salientes\") {\n\t\t\t\tif (snapHijo.data().modulo === parseInt(modulo)) {\n\t\t\t\t\ttransferencias.push({\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttransferencias.push({\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\ttransferenciasFiltradas.push(transferencias);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst transferencias = transferenciasFiltradas.pop();\n\t\t\ttransferenciasFiltradas.push(\n\t\t\t\ttransferencias.filter(\n\t\t\t\t\t(transferencia) =>\n\t\t\t\t\t\ttransferencia[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (transferencias.length === 0) {\n\t\tSwal.fire(\"No se encontraron transferencias \", \"...\", \"warning\");\n\t}\n\treturn onlyUnique(transferenciasFiltradas.pop(), \"folio\");\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\tcase \"claveCultivo\":\n\t\t\treturn parseInt(value);\n\n\t\tcase \"modulo\":\n\t\t\tif (value === \"9A\" || value === \"9B\") return value;\n\t\t\telse return parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","export const modulosPorUnidad = {\n\tprimeraUnidad: { 4: false, 5: false, 6: false, 14: false, 15: false, 16: false },\n\tsegundaUnidad: {\n\t\t7: false,\n\t\t8: false,\n\t\t\"9A\": false,\n\t\t\"9B\": false,\n\t\t10: false,\n\t\t11: false,\n\t\t12: false,\n\t\t17: false,\n\t\t18: false,\n\t\t19: false,\n\t\t20: false,\n\t},\n\tterceraUnidad: { 1: false, 2: false, 3: false, 21: false, 22: false, 23: false },\n\tpozosParticulares: { UNI01: false, UNI02: false, UNI03: false },\n};\n\nexport const modulosPorEstado = {\n\tbc: [\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"92\",\n\t\t\"10\",\n\t\t\"11\",\n\t\t\"12\",\n\t\t\"14\",\n\t\t\"15\",\n\t\t\"16\",\n\t\t\"17\",\n\t\t\"18\",\n\t\t\"19\",\n\t\t\"20\",\n\t\t\"21\",\n\t\t\"22\",\n\t\t\"FL\",\n\t],\n\tsonora: [\"1\", \"2\", \"3\"],\n};\n\nexport const cultivosPrincipales = {\n\t\"OTOÑO-INVIERNO\": {\n\t\t\"3-TRIGO\": {},\n\t\t\"8-AVENA\": {},\n\t\t\"2-CEBADA\": {},\n\t\t\"1-CARTAMO\": {},\n\t\t\"4-RYE-GRASS\": {},\n\t\t\"12-CEBOLLIN O-I\": {},\n\t\tVARIOS_OI: {},\n\t\tSUBTOTAL: {},\n\t},\n\tPERENNES: {\n\t\t\"50-ALFALFA\": {},\n\t\t\"145-COMP. VOL. ALFALFA\": {},\n\t\t\"51-ALFALFA NUEVA\": {},\n\t\t\"145.1-COMP. DE VOL. ALF. NVA.\": {},\n\t\t\"51.2-ALFALFA (R)\": {},\n\t\t\"145.2-COMP. VOL. ALFALFA (R)\": {},\n\t\t\"52-ESPARRAGO\": {},\n\t\t\"142-COMP.VOL.ESPARRAGO\": {},\n\t\t\"53-VID\": {},\n\t\t\"117-ZACATE BERMUDA\": {},\n\t\t\"60-PALMA DATILERA\": {},\n\t\t\"140-COMP. VOLUMEN\": {},\n\t\tVARIOS_PERENNES: {},\n\t\tSUBTOTAL: {},\n\t},\n\t\"PRIMAVERA-VERANO\": {\n\t\t\"80-ALGODONERO\": {},\n\t\t\"141-COMP. VOL. ALGODON\": {},\n\t\t\"81-SORGO GRANO TEMP.(SUDAN)\": {},\n\t\t\"82-SORGO GRANO TARDIO\": {},\n\t\t\"83-SORGO FORRAJERO TEMP.(SUDAN)\": {},\n\t\t\"84-SORGO FORRAJERO TARDIO\": {},\n\t\t\"87-MAIZ BLANCO TEMPRANO\": {},\n\t\t\"88-MAIZ BLANCO TARDIO\": {},\n\t\t\"89-MAIZ AMARILLO\": {},\n\t\t\"12.1-CEBOLLIN P-V\": {},\n\t\t\"12.2-CEBOLLIN TARDIO\": {},\n\t\tVARIOS_PV: {},\n\t\tSUBTOTAL: {},\n\t},\n};\n\nexport const modulos = [\n\t1,\n\t2,\n\t3,\n\t4,\n\t5,\n\t6,\n\t7,\n\t8,\n\t\"9A\",\n\t\"9B\",\n\t10,\n\t11,\n\t12,\n\t14,\n\t15,\n\t16,\n\t17,\n\t18,\n\t19,\n\t20,\n\t21,\n\t22,\n\t23,\n\t\"UNI01\",\n\t\"UNI02\",\n\t\"UNI03\",\n\t\"dev\",\n];\n\nexport const transferModulos = [\n\t\"1\",\n\t\"2\",\n\t\"3\",\n\t\"4\",\n\t\"5\",\n\t\"6\",\n\t\"7\",\n\t\"8\",\n\t\"9A\",\n\t\"9B\",\n\t\"10\",\n\t\"11\",\n\t\"12\",\n\t\"14\",\n\t\"15\",\n\t\"16\",\n\t\"17\",\n\t\"18\",\n\t\"19\",\n\t\"20\",\n\t\"21\",\n\t\"22\",\n\t\"23\",\n];\n\nexport const privileges = {\n\t//Ui\n\taccesoGlobal: false,\n\n\t//Pantallas\n\tpantallaInicio: false,\n\tpantallaPadron: false,\n\tpantallaPermisos: false,\n\tpantallaTransferencias: false,\n\tpantallaAsignacion: false,\n\tpantallaLabores: false,\n\tpantallaAutorizados: false,\n\tpantallaReportes: false,\n\tpantallaConfiguracion: false,\n\ttestArea: false,\n\n\t//Padron\n\tactualizarPadron: false,\n\tconsultarPadron: false,\n\tgenerarConstancias: false,\n\tgenerarDictamenes: false,\n\tgenerarDictamenesDdr: false,\n\teditarProductores: false,\n\teditarPadronesCultivos: false,\n\n\t//Permisos\n\texpedirPermisos: false,\n\tconsultarPermisos: false,\n\tsolicitarCancelarPermisos: false,\n\tsolicitarGuias: false,\n\tcancelarPermisos: false,\n\tconsultarExpedicion: false,\n\n\t//Autorizados\n\tconsultarAutorizados: false,\n\teditarAutorizados: false,\n\n\t//Transferencias\n\tsolicitarTransferencias: false,\n\tconsultarTransferencias: false,\n\n\t//Asignacion\n\tasignarTecnico: false,\n\n\t//Labores\n\tconsultarLabores: false,\n\tregistrarLabores: false,\n\tpagarLabores: false,\n\timprimirLabores: false,\n\tborrarPermisos: false,\n\n\t//Configuracion\n\teditarEntidades: false,\n\tasignarRoles: false,\n\teditarRoles: false,\n\teditarCultivos: false,\n\tcerrarExpedicionModulos: false,\n\tvariablesGlobales: false,\n};\n\nexport const entidades = [\n\t{\n\t\tclave: \"dev\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\ttitular: \"dev\",\n\t\tdireccion: \"\",\n\t\tnombre: \"Desarrollo\",\n\t\timg: \"dev.png\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"CNA\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Comisión Nacional del Agua\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cna.png\",\n\t},\n\t{\n\t\tclave: \"SADER\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Secretaría de Agricultura y Desarrollo Rural\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"sader.png\",\n\t},\n\t{\n\t\tclave: \"CESVBC\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Comité Estatal de Sanidad Vegetal de Baja California\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"cesvbc.webp\",\n\t},\n\t{\n\t\tclave: \"SRL\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Distrito de Riego 014, Río Colorado S. de R.L.\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\",\n\t},\n\t{\n\t\tclave: \"1\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 1\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m1.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"2\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 2\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m2.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"3\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 3\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m3.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"4\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 4\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m4.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"5\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 5\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m5.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"6\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 6\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m6.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"7\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 7\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m7.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"8\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo 8\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m8.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"9A\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 9A\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9a.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"9B\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 9B\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m9b.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"10\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 10\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m10.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"11\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 11\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m11.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"12\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 12\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m12.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"14\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 14\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m14.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"15\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 15\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m15.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"16\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 16\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m16.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"17\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 17\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m17.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"18\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 18\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m18.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"19\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 19\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"Carretera a San Felipe Km 1.5 S/N, Col. Xochimilco C.P. 21380. Mexicali B.C.\",\n\t\timg: \"m19.png\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"20\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 20\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m20.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"21\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 21\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m21.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"22\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 22\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"m22.jpg\",\n\t\texpedicionActivaModulo: true,\n\t},\n\t{\n\t\tclave: \"23\",\n\t\tdotacionGravedad: 117,\n\t\tdotacionPozo: 0,\n\t\tnombre: \"Usuarios del Módulo No. 23\",\n\t\ttitular: \"???\",\n\t\tdireccion: \"\",\n\t\timg: \"srl.png\",\n\t\texpedicionActivaModulo: true,\n\t},\n];\n\nexport const testUsers = [\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 0,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 86,\n\t\tCP: 1,\n\t\tLT: 32,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 224,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 1,\n\t\tEQUIPO: 0,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"LOPEZ\",\n\t\tNOMBRE: \"JUAN DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\",\n\t},\n\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 1,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 88,\n\t\tCP: 1,\n\t\tLT: 5,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 151,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 2,\n\t\tEQUIPO: 1,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"GOMEZ\",\n\t\tNOMBRE: \"LUIS DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\",\n\t},\n\n\t{\n\t\tCUENTA: \"dev\",\n\t\tSUBCTA: 2,\n\t\tUNIDAD: 2,\n\t\tZONA: \"dev\",\n\t\tSECCION: 90,\n\t\tCP: 1,\n\t\tLT: 12,\n\t\tSLT: 0,\n\t\tRA: 0,\n\t\tSRA: 0,\n\t\tSSRA: 0,\n\t\tPCONTROL: 300,\n\t\tTENENCIA: 1,\n\t\tESTADO: 2,\n\t\tMUNICIPIO: 2,\n\t\tEJIDO: 224,\n\t\tGRUPO: 0,\n\t\tPREDIO: 23,\n\t\tSISTRIEGO: 2,\n\t\tEQUIPO: 2,\n\t\tAPPATERNO: \"LOPEZ\",\n\t\tAPMATERNO: \"HERNANDEZ\",\n\t\tNOMBRE: \"CARLOS DEV\",\n\t\tSUPFISICA: 100,\n\t\tSUPRIEGO: 100,\n\t\tFECHA: \"\",\n\t\tREFERENCIA: 3606,\n\t\tMODULO: \"dev\",\n\t},\n];\n","// Tipos de acciones\n\nexport const types = {\n\tlogin: \"[Login] Login\",\n\tentity: \"[Login] Entity\",\n\tlogout: \"[Login] Logout\",\n\tsetPrivilegios: \"[Login] Privilegios\",\n\tsetVariablesGlobales: \"[Login] Set Variables Globales\",\n\tsetCicloConsulta: \"[Login] Set Ciclo Consulta\",\n\tsetEstadoExpedicionModulo: \"[Login] Set Estado Expedicion Modulo\",\n\n\tuiSetError: \"[UI] Set Error\",\n\tuiRemoveError: \"[UI] Remove Error\",\n\tuiStartLoading: \"[UI] Start Loading\",\n\tuiFinishLoading: \"[UI] Finish Loading\",\n\tsetEntidadesConAcceso: \"[UI] set Entidades ConAcceso\",\n\n\tsetEntities: \"[Configuracion] Set Entities\",\n\tsetCultivosConPadron: \"[Configuracion] Set Cultivos Con Padron\",\n\n\taltaPermisoOpenPrintPermisoModal: \"[Alta Permisos] Open permiso modal\",\n\taltaPermisoClosePrintPermisoModal: \"[Alta Permisos] Close permiso modal\",\n\tsetTipoNormal: \"[Alta Permisos] Set Tipo Normal\",\n\tsetTipoExtra: \"[Alta Permisos] Set Tipo Extra\",\n\n\taltaPermisoOpenCultivosModal: \"[Alta Permisos] Open cultivos modal\",\n\taltaPermisoCloseCultivosModal: \"[Alta Permisos] Close cultivos modal\",\n\taltaPermisoOpenCultivoAnteriorModal: \"[Alta Permisos] Open cultivo anterior modal\",\n\taltaPermisoCloseCultivoAnteriorModal: \"[Alta Permisos] Close cultivo anterior modal\",\n\tloadCultivos: \"[Alta Permisos] Load cultivos\",\n\tsetCultivosAnteriores: \"[Alta Permisos] Set Cultivos Anteriores\",\n\tsetProductoresAnteriores: \"[Alta Permisos] Set Productores Anteriores\",\n\tclearCultivos: \"[Alta Permisos] Clear cultivos\",\n\tsetCultivo: \"[Alta Permisos] Set cultivo\",\n\tunsetCultivo: \"[Alta Permisos] unset cultivo\",\n\tsetTipoSemilla: \"[Alta Permisos] set Tipo Semilla\",\n\tsetCultivoAnterior: \"[Alta Permisos] Set cultivo anterior\",\n\tunsetCultivoAnterior: \"[Alta Permisos] unset cultivo anterior\",\n\taddNuevoCultivo: \"[Catalogo Cultivos] Add Nuevo Cultivo\",\n\tremoveCultivo: \"[Catalogo Cultivos] Remove Cultivo\",\n\n\tsetCuotaCultivo: \"[Alta Permisos] Set Cuota Cultivo\",\n\n\taltaPermisoOpenUsuariosModal: \"[Alta Permisos] Open usuarios modal\",\n\taltaPermisoCloseUsuariosModal: \"[Alta Permisos] Close usuarios modal\",\n\tloadUsuarios: \"[Alta Permisos] Load usuarios\",\n\tclearUsuarios: \"[Alta Permisos] Clear usuarios\",\n\tsetUsuarios: \"[Alta Permisos] Set usuarios\",\n\tunsetUsuarios: \"[Alta Permisos] Unset usuarios\",\n\tsetUsuario: \"[Alta Permisos] Set usuario\",\n\tunsetUsuario: \"[Alta Permisos] Unset usuario\",\n\tsetComplemento: \"[Alta Permisos] Set Complemento\",\n\tsetUpdatingPadron: \"[Padron] Set Updating Padron\",\n\tsetUpdatingPermisos: \"[TestArea] Set Updating Permisos\",\n\tunsetUpdatingPermisos: \"[TestArea] Unset Updating Permisos\",\n\tunsetUpdatingPadron: \"[Padron] Unset Updating Padron\",\n\tsetUpdatingReacomodos: \"[Padron] Set Updating Reacomodos\",\n\tunsetUpdatingReacomodos: \"[Padron] Unset Updating Reacomodos\",\n\tsetDictamenData: \"[Padron] Set Dictamen Data\",\n\tsetDictamenDataSaved: \"[Padron] Set Dictamen Data Saved\",\n\tsetPadronesCultivos: \"[Padron] Set Padrones Cultivos\",\n\tsetConcesionSelected: \"[Padron] Set Concesion Selected\",\n\n\taltaPermisoOpenProductoresModal: \"[Alta Permisos] Open productores modal\",\n\taltaPermisoCloseProductoresModal: \"[Alta Permisos] Close productores modal\",\n\tloadProductores: \"[Alta Permisos] Load prosuctores\",\n\tclearProductores: \"[Alta Permisos] Clear prosuctores\",\n\tsetProductor: \"[Alta Permisos] Set productor\",\n\tsetComplementos: \"[Alta Permisos] Set Complementos\",\n\tsetPermisosComplemento: \"[Alta Permisos] Set Permisos Complemento\",\n\tunsetPermisosComplemento: \"[Alta Permisos] Unset Permisos Complemento\",\n\tunsetProductor: \"[Alta Permisos] Unset productor\",\n\n\taltaPermisoOpenNuevoProductorModal: \"[Alta Permisos] Open nuevo prouctor modal\",\n\taltaPermisoCloseNuevoProductorModal: \"[Alta Permisos] Close nuevo prouctor modal\",\n\n\taltaPermisosSetFormValues: \"[Alta Permisos] Set form value\",\n\taltaPermisosUnsetFormValues: \"[Alta Permisos] Unset form value\",\n\taltaPermisosSetSubmitData: \"[Alta Permisos] Set onSubmit data\",\n\taltaPermisosUnsetSubmitData: \"[Alta Permisos] unSet onSubmit data\",\n\n\taltaPermisosSetEnEspera: \"[Alta Permisos] Set en espera\",\n\taltaPermisosUnsetEnEspera: \"[Alta Permisos] unSet en espera\",\n\n\taltaPermisosEnableSaveButton: \"[Alta Permisos] Enable save button\",\n\taltaPermisosDisableSaveButton: \"[Alta Permisos] Disable save button\",\n\n\taltaPermisosEnablePrintButton: \"[Alta Permisos] Enable print button\",\n\taltaPermisosDisablePrintButton: \"[Alta Permisos] Disable print button\",\n\n\tpermisosScreenSetPermisos: \"[Permisos Screen] Set permisos\",\n\tpermisosScreenUnsetPermisos: \"[Permisos Screen] Unset permisos\",\n\tpermisosScreenSetPermisoSelected: \"[Permisos Screen] Set permiso selected\",\n\tpermisosScreenUnsetPermisoSelected: \"[Permisos Screen] Unset permiso selected\",\n\tpermisosScreenSetSuperficies: \"[Permisos Screen] Set superficies\",\n\tpermisosScreenUnsetSuperficies: \"[Permisos Screen] Unset superficies\",\n\tpermisosScreenSetPreCancelPermits: \"[Permisos Screen] Set Pre Cancel Permits\",\n\tpermisosScreenUnsetPreCancelPermits: \"[Permisos Screen] Unset Pre Cancel Permits\",\n\tpermisosScreenSetPermitToCancel: \"[Permisos Screen] Set Pre Permit To Cancel\",\n\tpermisosScreenUnsetPermitToCancel: \"[Permisos Screen] Unset Pre Permit To Cancel\",\n\topenGuiaForm: \"[Permisos Screen] Open Guia Form\",\n\tcloseGuiaForm: \"[Permisos Screen] Close Guia Form\",\n\topenGuiaPrint: \"[Permisos Screen] Open Guia Print\",\n\tcloseGuiaPrint: \"[Permisos Screen] Close Guia Print\",\n\tsetFolioGuia: \"[Permisos Screen] Set Folio Guia\",\n\tsetDataGuia: \"[Permisos Screen] Set Data Guia\",\n\tsetGuiaSaved: \"[Permisos Screen] Set Guia Saved\",\n\tclearGuia: \"[Permisos Screen] Clear Guia\",\n\n\tautorizadosScreenSetModulo: \"[Autorizados Screen] Set modulo\",\n\tautorizadosScreenUnsetModulo: \"[Autorizados Screen] Unset modulo\",\n\tautorizadosScreenSetAutorizados: \"[Autorizados Screen] Set autorizados\",\n\tautorizadosScreenUnsetAutorizados: \"[Autorizados Screen] Unset autorizados\",\n\topenAutorizadosModal: \"[Autorizados Screen] Open autorizados modal\",\n\tcloseAutorizadosModal: \"[Autorizados Screen] Close autorizados modal\",\n\tsetAutorizadoSelected: \"[Autorizados Screen] Set autorizado selected\",\n\tunsetAutorizadoSelected: \"[Autorizados Screen] Unset autorizado selected\",\n\tsetSuperficieReferencia: \"[Autorizados Screen] Set superficie referencia\",\n\tunsetSuperficieReferencia: \"[Autorizados Screen] Unset superficie referencia\",\n\tsetFormError: \"[Autorizados Screen] Set Form Error\",\n\tremoveFormError: \"[Autorizados Screen] Unset Form Error\",\n\tsetAutorizadosPorCultivo: \"[Autorizados Screen] Set autorizados por cultivo\",\n\tsetLoadingAutorizados: \"[Autorizados Screen] Set Loading Autorizados\",\n\tunsetLoadingAutorizados: \"[Autorizados Screen] Unset Loading Autorizados\",\n\n\tsicperScreenSetAutorizados: \"[Sicper Screen] Set autorizados\",\n\tsicperScreenUnsetAutorizados: \"[Sicper Screen] Unset autorizados\",\n\tsicperScreenSetExpedicion: \"[Sicper Screen] Set expedicion\",\n\tsicperScreenUnsetExpedicion: \"[Sicper Screen] Unset expedicion\",\n\tsicperScreenSetSuperficieNormal: \"[Sicper Screen] Set superficie normal\",\n\tsicperScreenSetSuperficieExtra: \"[Sicper Screen] Set superficie extra\",\n\n\talgodoneroScreenSetPermisos: \"[Algodonero Screen] Set permisos\",\n\talgodoneroScreenUnsetPermisos: \"[Algodonero Screen] Unset permisos\",\n\topenSanidadModal: \"[Algodonero Screen] Open Modal Sanidad\",\n\tcloseSanidadModal: \"[Algodonero Screen] Close Modal Sanidad\",\n\topenTransferModal: \"[Transferencias Screen] Open Modal Transferencias\",\n\tcloseTransferModal: \"[Transferencias Screen] Close Modal Transferencias\",\n\tenablePrintButton: \"[Transferencias Screen] Enable Print Button\",\n\tdisablePrintButton: \"[Transferencias Screen] Disable Print Button\",\n\tsetNuevaTransferencia: \"[Transferencias Screen] Set Nueva Transferencia\",\n\tunsetNuevaTransferencia: \"[Transferencias Screen] Unset Nueva Transferencia\",\n\tsetTransferencia: \"[Transferencias Screen] Set Transferencia\",\n\tunsetTransferencia: \"[Transferencias Screen] Unset Transferencia\",\n\tsetTransferencias: \"[Transferencias Screen] Set Transferencias\",\n\tunsetTransferencias: \"[Transferencias Screen] Unset  Transferencias\",\n\n\tsetDataPrincipalesCultivos: \"[Entidades] Set Data Principales Cultivos\",\n\tunsetDataPrincipalesCultivos: \"[Entidades] Unset Data Principales Cultivos\",\n\tsetPermisos: \"[Entidades] Set permisos\",\n\tunsetPermisos: \"[Entidades] Unset permisos\",\n\tsetCampoOrdenador: \"[Entidades] Set Campo Ordenador\",\n\tunsetCampoOrdenador: \"[Entidades] Unset Campo Ordenador\",\n\topenImprimirReporteModal: \"[Scenes] Open Imprimir Reporte Modal\",\n\tcloseImprimirReporteModal: \"[Scenes] Close Imprimir Reporte Modal\",\n\n\tsetSystemUsers: \"[Entidades] Set System Users\",\n\tsetSystemUserSelected: \"[Entidades] Set System User Selected\",\n\tunsetSystemUserSelected: \"[Entidades] Unset System User Selected\",\n\tsetUserRoles: \"[Entidades] Set Users Roles\",\n\tunsetUserRoles: \"[Entidades] Unset Users Roles\",\n\tsetUserRoleSelected: \"[Entidades] Set User Role Selected\",\n\tunsetUserRoleSelected: \"[Entidades] Unset User Role Selected\",\n\tsetPrivilegesToEdit: \"[Entidades] Set Privileges To Edit\",\n\tunsetPrivilegesToEdit: \"[Entidades] Unset Privileges To Edit\",\n\n\tsetLocalties: \"[Entidades] Set Localties\",\n\tunsetLocalties: \"[Entidades] Unset Localties\",\n\tsetSelectedLocalties: \"[Entidades] Set Selected Localties\",\n\tunsetSelectedLocalties: \"[Entidades] Unset Selected Localties\",\n\tsetLocaltieSelected: \"[Entidades] Set Localtie Selected\",\n\tunsetLocaltieSelected: \"[Entidades] Unset Localtie Selected\",\n\topenLocaltiesModal: \"[Entidades] Open Localties Modal\",\n\tcloseLocaltiesModal: \"[Entidades] Close Localties Modal\",\n\n\tsetExpedicion: \"[Reportes] Set Expedicion\",\n\tsetAutorizados: \"[Reportes] Set Autorizados\",\n\n\topenUserRoleModal: \"[UI] Open User Role Modal\",\n\tcloseUserRoleModal: \"[UI] Close User Role Modal\",\n\n\tsetLocaltiesAsignacion: \"[Asignacion Screen] Set Localties\",\n\tsetSelectedLocaltiesAsignacion: \"[Asignacion Screen] Set Selected Localties\",\n\tsetTechnicians: \"[Asignacion Screen] Set Technicians\",\n\tupdateTechnicians: \"[Asignacion Screen] Update Technicians\",\n\tupdatePadronLocalties: \"[Asignacion Screen] Update Padron Localties\",\n\tsetTechnicianSelected: \"[Asignacion Screen] Set Technician Selected\",\n\tunsetTechnicianSelected: \"[Asignacion Screen] Unset Technician Selected\",\n\tsetBusqueda: \"[Asignacion Screen] Set Busqueda\",\n\tsetFolioSanidad: \"[Labores Screen] Set Folio Sanidad\",\n\tupdatePermiso: \"[Labores Screen] Update Permiso\",\n\tdeletePermiso: \"[Labores Screen] Delete Permiso\",\n\tsetTechniciansLabores: \"[Labores Screen] Set Technicians Labores\",\n\tsetNewTecnico: \"[Labores Screen] Set New Tecnico\",\n\n\tsetCheckState: \"[Labores Checks] Set Check State\",\n\tcheckDesfoliado: \"[Labores Checks] Check Desfoliado\",\n\tuncheckDesfoliado: \"[Labores Checks] Uncheck Desfoliado\",\n\tcheckCosechado: \"[Labores Checks] Check Cosechado\",\n\tuncheckCosechado: \"[Labores Checks] Uncheck Cosechado\",\n\tcheckDesvarado: \"[Labores Checks] Check Desvarado\",\n\tuncheckDesvarado: \"[Labores Checks] Uncheck Desvarado\",\n\tcheckDisqueado: \"[Labores Checks] Check Disqueado\",\n\tuncheckDisqueado: \"[Labores Checks] Uncheck Disqueado\",\n\tcheckDesarraigado: \"[Labores Checks] Check Desarraigado\",\n\tuncheckDesarraigado: \"[Labores Checks] Uncheck Desarraigado\",\n\tcheckBarbechado: \"[Labores Checks] Check Barbechado\",\n\tuncheckBarbechado: \"[Labores Checks] Uncheck Barbechado\",\n\tcheckPagado: \"[Labores Checks] Check Pagado\",\n\tuncheckPagado: \"[Labores Checks] Uncheck Pagado\"\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tloading: false,\n\tmsgError: null,\n\tupdatingPermisos: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.uiSetError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: action.payload\n\t\t\t};\n\n\t\tcase types.uiRemoveError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmsgError: null\n\t\t\t};\n\n\t\tcase types.uiStartLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t};\n\n\t\tcase types.uiFinishLoading:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false\n\t\t\t};\n\n\t\tcase types.openUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: true\n\t\t\t};\n\n\t\tcase types.closeUserRoleModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenUserRoleModal: false\n\t\t\t};\n\n\t\tcase types.setUpdatingPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatingPermisos: true\n\t\t\t};\n\n\t\tcase types.unsetUpdatingPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdatingPermisos: false\n\t\t\t};\n\n\t\tcase types.setEntidadesConAcceso:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentidadesConAcceso: action.payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tenEspera: false,\n\tenableSaveButton: true,\n\tenablePrintButton: false,\n\topenUsuariosModal: false,\n\topenProductoresModal: false,\n\tisOpenNuevoProductorModal: false,\n\topenCultivosModal: false,\n\topenCultivoAnteriorModal: false,\n\tisOpenPrintPermisoModal: false,\n\tusuarios: [],\n\tcultivos: [],\n\tcultivosAnteriores: [\n\t\t{ clave: 0, id: \"zaNmqPpV7fVmcSDZ4bu7\", nombre: \"SIN CULTIVO\", superficie: 0 },\n\t],\n\tproductores: [],\n\tidUsuarioSelected: null,\n\tcuenta: null,\n\tusuario: null,\n\tsupDerecho: null,\n\tlote: null,\n\tlocalidad: null,\n\tmunicipio: null,\n\testado: null,\n\tmodulo: null,\n\tseccion: null,\n\tcanal: null,\n\ttoma: null,\n\tsistema: null,\n\tidProductorSelected: null,\n\tnombreProductor: null,\n\trfcProductor: null,\n\tproductorIncumplido: null,\n\tidCultivoSelected: null,\n\tnombreCultivo: null,\n\tclaveCultivo: null,\n\tsubciclo: null,\n\tcuotaCultivo: null,\n\tsupPrevia: 0,\n\tidCultivoAnteriorSelected: null,\n\tcultivoAnterior: \"\",\n\tclaveCultivoAnterior: null,\n\ttipo: \"normal\",\n\tciclo: null,\n\tnumeroPermiso: null,\n\tfechaEmicion: null,\n\tfechaLimite: null,\n\tvigencia: null,\n\testadoPermiso: null,\n\tvariedad: \"\",\n\tsupAutorizada: 0,\n\tfuenteCredito: \"\",\n\tlatitud: \"\",\n\tlongitud: \"\",\n\tobservaciones: \"\",\n\tpermisosComplemento: [],\n};\n\nexport const altaPermisosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\t//Print Permiso **************************************\n\n\t\tcase types.altaPermisoOpenPrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoClosePrintPermisoModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenPrintPermisoModal: false,\n\t\t\t};\n\n\t\t//Cultivos **************************************\n\t\tcase types.altaPermisoOpenCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseCultivosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivosModal: false,\n\t\t\t};\n\n\t\tcase types.altaPermisoOpenCultivoAnteriorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivoAnteriorModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseCultivoAnteriorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenCultivoAnteriorModal: false,\n\t\t\t};\n\n\t\tcase types.loadCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: action.payload,\n\t\t\t};\n\n\t\tcase types.addNuevoCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: [...state.cultivos, { ...action.payload }],\n\t\t\t\tidCultivoSelected: action.payload.id,\n\t\t\t};\n\n\t\tcase types.setCultivosAnteriores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivosAnteriores: action.payload,\n\t\t\t};\n\n\t\tcase types.clearCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcultivos: [],\n\t\t\t};\n\n\t\tcase types.removeCultivo:\n\t\t\tconst cultivosFiltered = state.cultivos.filter((cultivo) => cultivo.id !== action.payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: null,\n\t\t\t\tnombreCultivo: null,\n\t\t\t\tclaveCultivo: null,\n\t\t\t\tsubciclo: null,\n\t\t\t\tcuotaCultivo: null,\n\t\t\t\tinicioBc: \"\",\n\t\t\t\tfinBc: \"\",\n\t\t\t\tinicioSonora: \"\",\n\t\t\t\tfinSonora: \"\",\n\t\t\t\tsuperficiePreviaCultivo: null,\n\t\t\t\trequiereDictamen: null,\n\t\t\t\trequiereComplementoVolumen: null,\n\t\t\t\trequiereControlCPUS: null,\n\t\t\t\tcultivos: [...cultivosFiltered],\n\t\t\t};\n\n\t\tcase types.setCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: action.payload.id,\n\t\t\t\tnombreCultivo: action.payload.nombre,\n\t\t\t\tclaveCultivo: action.payload.clave,\n\t\t\t\tsubciclo: action.payload.subciclo,\n\t\t\t\tcuotaCultivo: action.payload.costoHectarea,\n\t\t\t\tinicioBc: action.payload.inicioBc,\n\t\t\t\tfinBc: action.payload.finBc,\n\t\t\t\tinicioSonora: action.payload.inicioSonora,\n\t\t\t\tfinSonora: action.payload.finSonora,\n\t\t\t\tsuperficiePreviaCultivo: action.payload.superficiePrevia,\n\t\t\t\trequiereDictamen: action.payload.requiereDictamen ?? false,\n\t\t\t\trequiereComplementoVolumen: action.payload.requiereComplementoVolumen ?? false,\n\t\t\t\trequiereControlCPUS: action.payload.requiereControlCPUS ?? false,\n\t\t\t};\n\n\t\tcase types.setCuotaCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcuotaCultivo: action.payload,\n\t\t\t};\n\n\t\tcase types.unsetCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoSelected: null,\n\t\t\t\tnombreCultivo: null,\n\t\t\t\tclaveCultivo: null,\n\t\t\t\tsubciclo: null,\n\t\t\t\tcuotaCultivo: null,\n\t\t\t\trequiereDictamen: false,\n\t\t\t\trequiereComplementoVolumen: false,\n\t\t\t\trequiereControlCPUS: false,\n\t\t\t\topcionDeExpedicion: \"\",\n\t\t\t};\n\n\t\tcase types.setCultivoAnterior:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoAnteriorSelected: action.payload.id,\n\t\t\t\tcultivoAnterior: action.payload.nombre,\n\t\t\t\tclaveCultivoAnterior: action.payload.clave,\n\t\t\t};\n\n\t\tcase types.unsetCultivoAnterior:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCultivoAnteriorSelected: null,\n\t\t\t\tcultivoAnterior: \"\",\n\t\t\t\tclaveCultivoAnterior: null,\n\t\t\t};\n\n\t\tcase types.setTipoSemilla:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipoSemilla: action.payload,\n\t\t\t};\n\n\t\tcase types.setComplemento:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsupComplementoRequerida: action.payload.supComplementoRequerida,\n\t\t\t\trestoSupComplementoRequerida: action.payload.restoSupComplementoRequerida,\n\t\t\t};\n\n\t\t//Usuarios **************************************\n\n\t\tcase types.altaPermisoOpenUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseUsuariosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenUsuariosModal: false,\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload,\n\t\t\t};\n\n\t\tcase types.clearUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: [],\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: action.payload.id,\n\t\t\t\tcuenta: `${action.payload.cuenta}.${action.payload.subcta}`,\n\t\t\t\tusuario: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\tsupDerecho: action.payload.supRiego,\n\t\t\t\tlote: action.payload.predio,\n\t\t\t\tlocalidad: action.payload.localidad,\n\t\t\t\tmunicipio: action.payload.municipio,\n\t\t\t\testado: action.payload.estado,\n\t\t\t\tmodulo: action.payload.modulo,\n\t\t\t\tzona: action.payload.zona,\n\t\t\t\tseccion: action.payload.seccion,\n\t\t\t\tcanal: `${action.payload.cp}-${action.payload.lt}-${action.payload.slt}-${action.payload.ra}-${action.payload.sra}-${action.payload.ssra}`,\n\t\t\t\ttoma: action.payload.pControl,\n\t\t\t\tsistema: action.payload.sistRiego,\n\t\t\t\tsupPrevia: action.payload.supPrevia,\n\t\t\t\treacomodo: action.payload.reacomodo,\n\t\t\t\tnombreLocalidad: action.payload.nombreLocalidad,\n\t\t\t\ttipoLocalidad: action.payload.tipoLocalidad,\n\t\t\t\tclaveLocalidad: action.payload.ejido,\n\t\t\t\tdictamen: action.payload.dictamen,\n\t\t\t\tlaboresPendientes: action.payload.laboresPendientes,\n\t\t\t\tsuperficieParcialLiberada: action.payload.superficieParcialLiberada,\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidUsuarioSelected: null,\n\t\t\t\tcuenta: null,\n\t\t\t\tusuario: null,\n\t\t\t\tsupDerecho: null,\n\t\t\t\tlote: null,\n\t\t\t\tlocalidad: null,\n\t\t\t\tmunicipio: null,\n\t\t\t\testado: null,\n\t\t\t\tmodulo: null,\n\t\t\t\tseccion: null,\n\t\t\t\tcanal: null,\n\t\t\t\ttoma: null,\n\t\t\t\tsistema: null,\n\t\t\t\tcultivosAnteriores: [\n\t\t\t\t\t{ clave: 0, id: \"zaNmqPpV7fVmcSDZ4bu7\", nombre: \"SIN CULTIVO\", superficie: 0 },\n\t\t\t\t],\n\t\t\t};\n\n\t\t//Productores **************************************\n\n\t\tcase types.altaPermisoOpenProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseProductoresModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenProductoresModal: false,\n\t\t\t};\n\n\t\tcase types.loadProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: action.payload,\n\t\t\t};\n\n\t\tcase types.clearProductores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductores: [],\n\t\t\t};\n\n\t\tcase types.setProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: action.payload.id,\n\t\t\t\tnombreProductor: `${action.payload.apPaterno} ${action.payload.apMaterno} ${action.payload.nombre}`,\n\t\t\t\trfcProductor: action.payload.rfc,\n\t\t\t\tcurpProductor: action.payload.curp,\n\t\t\t\tproductorIncumplido: action.payload.incumplido ? action.payload.incumplido : false,\n\t\t\t\tconcesionesProductor: action.payload.concesiones ? action.payload.concesiones : false,\n\t\t\t};\n\n\t\tcase types.setComplementos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomplementosProductor: action.payload,\n\t\t\t};\n\n\t\tcase types.setPermisosComplemento:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisosComplemento: action.payload,\n\t\t\t};\n\n\t\tcase types.unsetPermisosComplemento:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisosComplemento: [],\n\t\t\t\tobservaciones: \"\",\n\t\t\t};\n\n\t\tcase types.unsetProductor:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidProductorSelected: null,\n\t\t\t\tnombreProductor: null,\n\t\t\t\trfcProductor: null,\n\t\t\t\tproductorIncumplido: null,\n\t\t\t};\n\n\t\tcase types.setProductoresAnteriores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproductoresAnteriores: action.payload,\n\t\t\t};\n\n\t\t//Nuevo Productor **************************************\n\n\t\tcase types.altaPermisoOpenNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: true,\n\t\t\t};\n\n\t\tcase types.altaPermisoCloseNuevoProductorModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpenNuevoProductorModal: false,\n\t\t\t};\n\n\t\t//Set Form *****************************************************\n\n\t\tcase types.altaPermisosSetFormValues:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsupAutorizada: Number(action.payload.supAutorizada),\n\t\t\t\tvariedad: action.payload.variedad,\n\t\t\t\tfuenteCredito: action.payload.fuenteCredito,\n\t\t\t\tlatitud: action.payload.latitud,\n\t\t\t\tlongitud: action.payload.longitud,\n\t\t\t\tobservaciones: action.payload.observaciones,\n\t\t\t};\n\n\t\t// Al guardar\n\n\t\tcase types.altaPermisosSetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: action.payload.tipo,\n\t\t\t\tciclo: action.payload.ciclo,\n\t\t\t\tnumeroPermiso: action.payload.numeroPermiso,\n\t\t\t\tfechaEmicion: action.payload.fechaEmicion,\n\t\t\t\tfechaLimite: action.payload.fechaLimite,\n\t\t\t\tvigencia: action.payload.vigencia,\n\t\t\t\testadoPermiso: action.payload.estadoPermiso,\n\t\t\t\tmensajeFijo: action.payload.mensajeFijo,\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetSubmitData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// tipo: null,\n\t\t\t\tciclo: null,\n\t\t\t\tnumeroPermiso: null,\n\t\t\t\tfechaEmicion: null,\n\t\t\t\tfechaLimite: null,\n\t\t\t\tvigencia: null,\n\t\t\t};\n\n\t\tcase types.altaPermisosSetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: true,\n\t\t\t};\n\n\t\tcase types.altaPermisosUnsetEnEspera:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenEspera: false,\n\t\t\t};\n\n\t\tcase types.altaPermisosEnableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: true,\n\t\t\t};\n\n\t\tcase types.altaPermisosDisableSaveButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenableSaveButton: false,\n\t\t\t};\n\n\t\tcase types.altaPermisosEnablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: true,\n\t\t\t};\n\n\t\tcase types.altaPermisosDisablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tenablePrintButton: false,\n\t\t\t};\n\n\t\tcase types.setTipoNormal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: \"normal\",\n\t\t\t};\n\n\t\tcase types.setTipoExtra:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttipo: \"extra\",\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tsuperficies: null,\n\tguia: null,\n\tisGuiaFormModalOpen: false,\n\tisGuiaPrintModalOpen: false\n};\n\nexport const permisosScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.permisosScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPreCancelPermits:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpreCancelPermits: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermitToCancel:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermitToCancelSelected: null\n\t\t\t};\n\n\t\tcase types.permisosScreenSetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetSuperficies:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficies: null\n\t\t\t};\n\n\t\tcase types.openGuiaForm:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisGuiaFormModalOpen: true\n\t\t\t};\n\n\t\tcase types.closeGuiaForm:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisGuiaFormModalOpen: false\n\t\t\t};\n\n\t\tcase types.openGuiaPrint:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisGuiaPrintModalOpen: true\n\t\t\t};\n\n\t\tcase types.closeGuiaPrint:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisGuiaPrintModalOpen: false\n\t\t\t};\n\n\t\tcase types.setGuiaSaved:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tguia: {\n\t\t\t\t\t...state.guia,\n\t\t\t\t\tguardado: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setFolioGuia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tguia: {\n\t\t\t\t\t...state.guia,\n\t\t\t\t\tfolio: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setDataGuia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tguia: {\n\t\t\t\t\t...state.guia,\n\t\t\t\t\t...action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.clearGuia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tguia: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tmodulo: null,\n\topenAutorizadosModal: false,\n\tautorizados: [],\n\tautorizadoSelected: null,\n\tsuperficieReferencia: null,\n\tformError: null,\n\tloadingAutorizados: false\n};\n\nexport const autorizadosReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.setLoadingAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingAutorizados: true\n\t\t\t};\n\n\t\tcase types.unsetLoadingAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingAutorizados: false\n\t\t\t};\n\n\t\tcase types.autorizadosScreenSetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulo: null\n\t\t\t};\n\n\t\tcase types.setAutorizadosPorCultivo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadosPorCultivo: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenSetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: action.payload\n\t\t\t};\n\n\t\tcase types.autorizadosScreenUnsetAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizados: []\n\t\t\t};\n\n\t\tcase types.openAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true\n\t\t\t};\n\n\t\tcase types.closeAutorizadosModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tautorizadoSelected: null,\n\t\t\t\topenAutorizadosModal: false\n\t\t\t};\n\n\t\tcase types.setAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: true,\n\t\t\t\tautorizadoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetAutorizadoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenAutorizadosModal: false,\n\t\t\t\tautorizadoSelected: null\n\t\t\t};\n\n\t\tcase types.setSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSuperficieReferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficieReferencia: null\n\t\t\t};\n\n\t\tcase types.setFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: action.payload\n\t\t\t};\n\n\t\tcase types.removeFormError:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tformError: null\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\texpedicion: null,\n\tsuperficie: \"normal\"\n};\n\nexport const sicperReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.sicperScreenSetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: action.payload\n\t\t\t};\n\n\t\tcase types.sicperScreenUnsetExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicion: null\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieNormal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"normal\"\n\t\t\t};\n\n\t\tcase types.sicperScreenSetSuperficieExtra:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuperficie: \"extra\"\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tpermisos: [],\n\tpermisoSelected: null,\n\tprintSanidadModal: false,\n\ttechnicians: []\n};\n\nexport const algodoneroScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.algodoneroScreenSetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.algodoneroScreenUnsetPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: []\n\t\t\t};\n\n\t\tcase types.permisosScreenSetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: action.payload\n\t\t\t};\n\n\t\tcase types.permisosScreenUnsetPermisoSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null\n\t\t\t};\n\n\t\tcase types.openSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: action.payload\n\t\t\t};\n\n\t\tcase types.closeSanidadModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintSanidadModal: false\n\t\t\t};\n\n\t\tcase types.setFolioSanidad:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: { ...state.permisoSelected, folioSanidad: action.payload }\n\t\t\t};\n\n\t\tcase types.updatePermiso: {\n\t\t\tconst newPermits = state.permisos.map((permiso) => {\n\t\t\t\tif (permiso.id === action.payload.id) return action.payload;\n\t\t\t\telse return permiso;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: newPermits\n\t\t\t};\n\t\t}\n\n\t\tcase types.deletePermiso: {\n\t\t\tconst newPermits = [];\n\t\t\tstate.permisos.forEach((permiso) => {\n\t\t\t\tif (permiso.id !== action.payload) newPermits.push({ ...permiso });\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisoSelected: null,\n\t\t\t\tpermisos: newPermits\n\t\t\t};\n\t\t}\n\n\t\tcase types.setTechniciansLabores:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttechnicians: action.payload\n\t\t\t};\n\n\t\tcase types.setNewTecnico:\n\t\t\tconst nuevosPermisos = state.permisos.map((permiso) => {\n\t\t\t\tif (permiso.id === action.payload.idPermiso)\n\t\t\t\t\treturn { ...permiso, tecnico: action.payload.uid };\n\t\t\t\telse return permiso;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: nuevosPermisos\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nconst initialState = {\n\treportesScreen: {\n\t\topenImprimirReporteModal: false\n\t},\n\tpadronScreen: {\n\t\tupdatingPadron: false,\n\t\tupdatingReacomodos: false,\n\t\tdictamen: null\n\t}\n};\n\nexport const scenesReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.setAutorizados:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\t...state.reportesScreen,\n\t\t\t\t\tautorizados: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setExpedicion:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\t...state.reportesScreen,\n\t\t\t\t\texpedicion: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.openImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.closeImprimirReporteModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treportesScreen: {\n\t\t\t\t\topenImprimirReporteModal: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingPadron: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: true\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.unsetUpdatingReacomodos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\tupdatingReacomodos: false\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setDictamenData:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadronScreen: {\n\t\t\t\t\t...state.padronScreen,\n\t\t\t\t\tdictamen: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tprintTransferModal: false,\n\tnuevaTransferencia: null,\n\ttransferencia: null,\n\ttransferPrintButton: false,\n\ttransferencias: []\n};\n\nexport const transferenciasScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.openTransferModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintTransferModal: true\n\t\t\t};\n\n\t\tcase types.closeTransferModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprintTransferModal: false\n\t\t\t};\n\n\t\tcase types.enablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferPrintButton: true\n\t\t\t};\n\n\t\tcase types.disablePrintButton:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferPrintButton: false\n\t\t\t};\n\n\t\tcase types.setNuevaTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnuevaTransferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetNuevaTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnuevaTransferencia: null\n\t\t\t};\n\n\t\tcase types.setTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencia: action.payload\n\t\t\t};\n\n\t\tcase types.unsetTransferencia:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencia: null\n\t\t\t};\n\n\t\tcase types.setTransferencias:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencias: action.payload\n\t\t\t};\n\n\t\tcase types.unsetTransferencias:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransferencias: []\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {};\n\nexport const padronScreenReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.setPadronesCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadrones: action.payload\n\t\t\t};\n\n\t\tcase types.setConcesionSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconcesionSelected: action.payload\n\t\t\t};\n\n\t\tcase types.setCultivosConPadron:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpadrones: {\n\t\t\t\t\t...state.padrones,\n\t\t\t\t\tcultivos: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport { authReducer } from \"../reducers/authReducer\";\nimport { uiReducer } from \"../reducers/uiReducer\";\nimport { altaPermisosReducer } from \"../reducers/altaPermisosReducer\";\nimport { permisosScreenReducer } from \"../reducers/permisosScreenReducer\";\nimport { autorizadosReducer } from \"../reducers/autorizadosReducer\";\nimport { sicperReducer } from \"../reducers/sicperReducer\";\nimport { algodoneroScreenReducer } from \"../reducers/algodoneroScreenReducer\";\nimport { entidadesReducer } from \"../reducers/entidades/entidadesReducer\";\nimport { scenesReducer } from \"../reducers/scenes/scenesReducer\";\nimport { transferenciasScreenReducer } from \"../reducers/transferenciasScreenReducer\";\nimport { padronScreenReducer } from \"../reducers/padronScreenReducer\";\n\nconst composeEnhancers =\n\t(typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst reducers = combineReducers({\n\tauth: authReducer,\n\tui: uiReducer,\n\tscenes: scenesReducer,\n\tentidades: entidadesReducer,\n\tsicperScreen: sicperReducer,\n\tpadronScreen: padronScreenReducer,\n\tpermisosScreen: permisosScreenReducer,\n\talgodoneroScreen: algodoneroScreenReducer,\n\ttransferenciasScreen: transferenciasScreenReducer,\n\taltaPermisos: altaPermisosReducer,\n\tautorizadosScreen: autorizadosReducer\n});\n\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\n// const estructuraStore = {\n// \tauth: \"Datos del usuario logueado\",\n// \tui: \"Datos de componentes de la interfaz\",\n// \tscenes: \"Datos de cada una de las pantallas de la app\",\n// \tentidades: \"Datos de entidades del negocio\"\n// };\n","import { types } from \"../types/types\";\n\nexport const authReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.login:\n\t\t\treturn {\n\t\t\t\tuid: action.payload.uid,\n\t\t\t\tname: action.payload.displayName,\n\t\t\t\temail: action.payload.email\n\t\t\t};\n\n\t\tcase types.entity:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentidad: action.payload.entidad,\n\t\t\t\timg: action.payload.img,\n\t\t\t\tclaveEntidad: action.payload.claveEntidad,\n\t\t\t\tdotacionGravedad: action.payload.dotacionGravedad,\n\t\t\t\tdotacionPozo: action.payload.dotacionPozo,\n\t\t\t\ttitular: action.payload.titular,\n\t\t\t\tdireccion: action.payload.direccion,\n\t\t\t\texpedicionActivaModulo: action.payload.expedicionActivaModulo,\n\t\t\t\trol: action.payload.rol,\n\t\t\t\tmodulo: action.payload.modulo\n\t\t\t};\n\n\t\tcase types.setPrivilegios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegios: action.payload\n\t\t\t};\n\n\t\tcase types.setVariablesGlobales:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvariablesGlobales: action.payload\n\t\t\t};\n\n\t\tcase types.setEstadoExpedicionModulo:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\texpedicionActivaModulo: action.payload\n\t\t\t};\n\n\t\tcase types.logout:\n\t\t\treturn {};\n\n\t\tcase types.setCicloConsulta:\n\t\t\tconst newState = { ...state };\n\t\t\tnewState.variablesGlobales.cicloConsulta = action.payload;\n\t\t\treturn newState;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../../types/types\";\n\nexport const entidadesReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase types.setDataPrincipalesCultivos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprincipalesCultivos: {\n\t\t\t\t\tlabels: action.payload.labels,\n\t\t\t\t\tsuperficiesCultivos: action.payload.superficiesCultivos,\n\t\t\t\t\tnumeroPermisos: action.payload.numeroPermisos\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.setPermisos:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpermisos: action.payload\n\t\t\t};\n\n\t\tcase types.setCampoOrdenador:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcampoOrdenador: action.payload\n\t\t\t};\n\n\t\tcase types.setUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuarios:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuarios: false\n\t\t\t};\n\n\t\tcase types.setUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUsuario:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: false\n\t\t\t};\n\n\t\tcase types.setUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoles:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoles: false\n\t\t\t};\n\n\t\tcase types.setUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetUserRoleSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserRoleSelected: false\n\t\t\t};\n\n\t\tcase types.setPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: action.payload\n\t\t\t};\n\n\t\tcase types.unsetPrivilegesToEdit:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprivilegesToEdit: false\n\t\t\t};\n\n\t\tcase types.setSystemUsers:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUsers: action.payload\n\t\t\t};\n\n\t\tcase types.setSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSystemUserSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsystemUserSelected: null\n\t\t\t};\n\n\t\tcase types.setLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: null\n\t\t\t};\n\n\t\tcase types.setSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: action.payload\n\t\t\t};\n\n\t\tcase types.unsetSelectedLocalties:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedLocalties: null\n\t\t\t};\n\n\t\tcase types.setLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: action.payload\n\t\t\t};\n\n\t\tcase types.unsetLocaltieSelected:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocaltieSelected: null\n\t\t\t};\n\n\t\tcase types.openLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: true\n\t\t\t};\n\n\t\tcase types.closeLocaltiesModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topenLocaltiesModal: false\n\t\t\t};\n\n\t\tcase types.setEntities:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentities: action.payload\n\t\t\t};\n\n\t\tcase types.setDictamenDataSaved:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusuario: { ...state.usuario, dictamen: action.payload }\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nexport const setError = (err) => ({\n\ttype: types.uiSetError,\n\tpayload: err\n});\n\nexport const removeError = () => ({\n\ttype: types.uiRemoveError\n});\n\nexport const startLoading = () => ({\n\ttype: types.uiStartLoading\n});\n\nexport const finishLoading = () => ({\n\ttype: types.uiFinishLoading\n});\n\nexport const openUserRoleModal = () => ({\n\ttype: types.openUserRoleModal\n});\n\nexport const closeUserRoleModal = () => ({\n\ttype: types.closeUserRoleModal\n});\n\nexport const setUpdatingPermisos = () => ({\n\ttype: types.setUpdatingPermisos\n});\n\nexport const unsetUpdatingPermisos = () => ({\n\ttype: types.unsetUpdatingPermisos\n});\n","import { db, firebase, googleAuthProvider } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\nimport { finishLoading, startLoading } from \"./ui\";\nimport Swal from \"sweetalert2\";\n\nexport const startLoginEmailPassword = (email, password) => {\n\treturn (dispatch) => {\n\t\tdispatch(startLoading());\n\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\n\t\t\t\tconst {\n\t\t\t\t\tnombre,\n\t\t\t\t\timg,\n\t\t\t\t\tclave,\n\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\tdotacionPozo,\n\t\t\t\t\ttitular,\n\t\t\t\t\tdireccion,\n\t\t\t\t\texpedicionActivaModulo,\n\t\t\t\t} = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName, user.email));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(\n\t\t\t\t\t\tnombre,\n\t\t\t\t\t\timg,\n\t\t\t\t\t\tclave,\n\t\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\t\tdotacionPozo,\n\t\t\t\t\t\ttitular,\n\t\t\t\t\t\tdireccion,\n\t\t\t\t\t\texpedicionActivaModulo,\n\t\t\t\t\t\tentity.rol,\n\t\t\t\t\t\tentity.modulo\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tdispatch(finishLoading());\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tdispatch(finishLoading());\n\t\t\t\tSwal.fire(\"Error\", \"Usuoario o contraseña incorrecto.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startRegisterWithEmailPasswordName = (email, password, name, modulo) => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then(async ({ user }) => {\n\t\t\t\tawait user.updateProfile({ displayName: name });\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t\tawait db.collection(`usuarios`).doc(user.uid).set({\n\t\t\t\t\tclaveEntidad: modulo,\n\t\t\t\t\tmodulo: modulo,\n\t\t\t\t\trol: \"sinAsignar\",\n\t\t\t\t\temail: email,\n\t\t\t\t\tdisplayName: name,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tSwal.fire(\"Error\", \"El usuario ya existe.\", \"error\");\n\t\t\t});\n\t};\n};\n\nexport const startGoogleLogin = () => {\n\treturn (dispatch) => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithPopup(googleAuthProvider)\n\t\t\t.then(({ user }) => {\n\t\t\t\tdispatch(login(user.uid, user.displayName));\n\t\t\t});\n\t};\n};\n\nexport const login = (uid, displayName, email) => ({\n\ttype: types.login,\n\tpayload: {\n\t\tuid,\n\t\tdisplayName,\n\t\temail,\n\t},\n});\n\nexport const setEntity = (\n\tentidad,\n\timg,\n\tclaveEntidad,\n\tdotacionGravedad,\n\tdotacionPozo,\n\ttitular,\n\tdireccion,\n\texpedicionActivaModulo,\n\trol,\n\tmodulo\n) => ({\n\ttype: types.entity,\n\tpayload: {\n\t\tentidad,\n\t\timg,\n\t\tclaveEntidad,\n\t\tdotacionGravedad,\n\t\tdotacionPozo,\n\t\ttitular,\n\t\tdireccion,\n\t\texpedicionActivaModulo,\n\t\trol,\n\t\tmodulo,\n\t},\n});\n\nexport const startSetVariablesGlobales = () => {\n\treturn async (dispatch) => {\n\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\t};\n};\n\nexport const setVariablesGlobales = (data) => ({\n\ttype: types.setVariablesGlobales,\n\tpayload: data,\n});\n\nexport const startLogout = () => {\n\treturn async (dispatch) => {\n\t\tawait firebase.auth().signOut();\n\t\tdispatch(logout());\n\t};\n};\n\nexport const logout = () => ({\n\ttype: types.logout,\n});\n\nexport const loadEntity = async (uid) => {\n\tconst entitySnap = await db.collection(`usuarios`).get();\n\n\tlet entity = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.id === uid) {\n\t\t\tentity = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entity;\n};\n\nexport const loadEntityData = async (claveEntidad) => {\n\tconst entitySnap = await db.collection(`entidades`).get();\n\n\tlet entityData = {};\n\n\tentitySnap.forEach((snapHijo) => {\n\t\tif (snapHijo.data().clave === claveEntidad) {\n\t\t\tentityData = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn entityData;\n};\n\nexport const loadPrivilegios = async (rol) => {\n\tconst roles = await db.collection(`roles`).get();\n\n\tlet privilegios = {};\n\n\troles.forEach((snapHijo) => {\n\t\tif (snapHijo.id === rol) {\n\t\t\tprivilegios = { ...snapHijo.data() };\n\t\t}\n\t});\n\n\treturn privilegios;\n};\n\nexport const loadVariablesGlobales = async () => {\n\tconst roles = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn roles.data();\n\n\t// return { cicloActual: \"2022-2023\", cicloConsulta: \"2022-2023\", expedicionActiva: true };\n};\n\nexport const setPrivilegios = (privilegios) => ({\n\ttype: types.setPrivilegios,\n\tpayload: privilegios,\n});\n\nexport const setCicloConsulta = (ciclo) => ({\n\ttype: types.setCicloConsulta,\n\tpayload: ciclo,\n});\n\nexport const loadEstadoExpedicionModulo = async (claveEntidad) => {\n\tconst entidad = await db.collection(`entidades`).doc(`${claveEntidad}`).get();\n\n\treturn entidad.data().expedicionActivaModulo;\n};\n\nexport const startSetEstadoExpedicionModulo = (claveEntidad) => {\n\treturn async (dispatch) => {\n\t\tconst estadoExpedicion = await loadEstadoExpedicionModulo(claveEntidad);\n\t\tdispatch(setEstadoExpedicionModulo(estadoExpedicion));\n\t};\n};\n\nexport const setEstadoExpedicionModulo = (estadoExpedicion) => ({\n\ttype: types.setEstadoExpedicionModulo,\n\tpayload: estadoExpedicion,\n});\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tif (target.type === \"checkbox\") {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.checked\n\t\t\t});\n\t\t} else {\n\t\t\tsetValues({\n\t\t\t\t...values,\n\t\t\t\t[target.name]: target.value\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setAValue = (value) => {\n\t\tsetValues(value);\n\t};\n\n\treturn [values, handleInputChange, reset, setAValue];\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Link } from \"react-router-dom\";\nimport { /* startGoogleLogin, */ startLoginEmailPassword } from \"../../actions/auth\";\nimport { useForm } from \"../../hooks/useForm\";\nimport \"./_auth.scss\";\n\nexport const LoginScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { loading } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\n\tconst { email, password } = formValues;\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(startLoginEmailPassword(email, password));\n\t};\n\n\t// const handleGoogleLogin = () => {\n\t// \tdispatch(startGoogleLogin());\n\t// };\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Login</h3>\n\n\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3\" disabled={loading}>\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\n\t\t\t\t{/* <div className=\"auth__social-networks\">\n\t\t\t\t\t<p>Login con redes</p>\n\n\t\t\t\t\t<div className=\"google-btn\" onClick={handleGoogleLogin}>\n\t\t\t\t\t\t<div className=\"google-icon-wrapper\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"google-icon\"\n\t\t\t\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n\t\t\t\t\t\t\t\talt=\"google button\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"btn-text\">\n\t\t\t\t\t\t\t<b>Login con google</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"pt-4\">\n\t\t\t\t\t<Link to=\"/auth/register\" className=\"link\">\n\t\t\t\t\t\tCrear nuevo usuario\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport validator from \"validator\";\nimport { Link } from \"react-router-dom\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startRegisterWithEmailPasswordName } from \"../../actions/auth\";\n\nexport const RegisterScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst [formValues, handleInputChange] = useForm();\n\n\tconst { name, email, password, password2, modulo } = formValues;\n\n\tconst decideModulo = (modulo) => {\n\t\tif (modulo === \"9A\") return \"9\";\n\t\tif (modulo === \"9B\") return \"92\";\n\t\treturn modulo;\n\t};\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(startRegisterWithEmailPasswordName(email, password, name, decideModulo(modulo)));\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!modulo) {\n\t\t\tdispatch(setError(\"Seleccione entidad\"));\n\t\t\treturn false;\n\t\t} else if (!name) {\n\t\t\tdispatch(setError(\"Se requiere el nombre\"));\n\t\t\treturn false;\n\t\t} else if (!email) {\n\t\t\tdispatch(setError(\"Se requiere email\"));\n\t\t\treturn false;\n\t\t} else if (!validator.isEmail(email)) {\n\t\t\tdispatch(setError(\"Email no valido\"));\n\t\t\treturn false;\n\t\t} else if (!password) {\n\t\t\tdispatch(setError(\"Se requiere password\"));\n\t\t\treturn false;\n\t\t} else if (password !== password2 || password.length < 6) {\n\t\t\tdispatch(setError(\"Password diferentes o menor de 6 caracteres\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"auth__title\">Registro</h3>\n\n\t\t\t<form onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<select\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"modulo\"\n\t\t\t\t\tvalue={modulo}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t>\n\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\tEntidad\n\t\t\t\t\t</option>\n\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t<option value=\"9A\">Modulo 9A</option>\n\t\t\t\t\t<option value=\"9B\">Modulo 9B</option>\n\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t<option value=\"23\">Modulo FL</option>\n\t\t\t\t\t<option value=\"UNI01\">1ra Unidad</option>\n\t\t\t\t\t<option value=\"UNI02\">2da Unidad</option>\n\t\t\t\t\t<option value=\"UNI03\">3ra Unidad</option>\n\t\t\t\t\t<option value=\"SADER\">SADER</option>\n\t\t\t\t\t<option value=\"CNA\">CNA</option>\n\t\t\t\t\t<option value=\"CESVBC\">CESVBC</option>\n\t\t\t\t\t<option value=\"SRL\">SRL</option>\n\t\t\t\t</select>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Confirmar password\"\n\t\t\t\t\tname=\"password2\"\n\t\t\t\t\tclassName=\"auth__input\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\tCrear usuario\n\t\t\t\t</button>\n\n\t\t\t\t<Link to=\"/auth/login\" className=\"link\">\n\t\t\t\t\tYa esta registrado?\n\t\t\t\t</Link>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\n\nexport const AuthRouter = () => {\n\treturn (\n\t\t<div className=\"auth__main\">\n\t\t\t<div className=\"auth__box-container\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/auth/login\" component={LoginScreen} />\n\n\t\t\t\t\t<Route exact path=\"/auth/register\" component={RegisterScreen} />\n\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogout } from \"../../actions/auth\";\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\n\nexport const NavbarComponent = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLogout = () => {\n\t\tdispatch(startLogout());\n\t};\n\n\treturn (\n\t\t<div className=\"fixed-top\">\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n\t\t\t\t<Navbar.Brand href=\"/\">\n\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/cna.png\"\n\t\t\t\t\t\t\theight=\"50\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center\"\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./logos/sader.png\"\n\t\t\t\t\t\t\theight=\"25\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top align-self-center ml-2\"\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t{privilegios.pantallaInicio && (\n\t\t\t\t\t\t\t<NavLink to=\"/sicper\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tInicio\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPadron && (\n\t\t\t\t\t\t\t<NavLink to=\"/padron\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPadrón\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaPermisos && (\n\t\t\t\t\t\t\t<NavLink to=\"/permisos\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tPermisos\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaTransferencias && (\n\t\t\t\t\t\t\t<NavLink to=\"/transferencias\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTransferencias\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAsignacion && (\n\t\t\t\t\t\t\t<NavLink to=\"/asignacion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAsignación\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaLabores && (\n\t\t\t\t\t\t\t<NavLink to=\"/labores\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tLabores\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaAutorizados && (\n\t\t\t\t\t\t\t<NavLink to=\"/autorizados\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tAutorizados\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaReportes && (\n\t\t\t\t\t\t\t<NavLink to=\"/reportes\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tReportes\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.pantallaConfiguracion && (\n\t\t\t\t\t\t\t<NavLink to=\"/configuracion\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tConfiguración\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{privilegios.testArea && (\n\t\t\t\t\t\t\t<NavLink to=\"/test\" className=\"nav-link\">\n\t\t\t\t\t\t\t\tTest\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Nav>\n\n\t\t\t\t\t<Button variant=\"outline-secondary btn-sm\" onClick={handleLogout} to=\"/login\">\n\t\t\t\t\t\tSalir\n\t\t\t\t\t</Button>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadNombresCultivos = async () => {\n\tconst cultivosSnap = await db.collection(`cultivos`).orderBy(\"clave\").get();\n\n\tconst cultivos = [];\n\n\tcultivosSnap.forEach((snapHijo) => {\n\t\tcultivos.push({\n\t\t\tclave: snapHijo.data().clave,\n\t\t\tcultivo: snapHijo.data().nombre,\n\t\t\tsubciclo: snapHijo.data().subciclo\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { loadNombresCultivos } from \"./loadNombresCultivos\";\n\nexport const loadAutorizados = async (ciclo, modulo) => {\n\tconst autorizadosSnap = await db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(`clave`)\n\t\t.get();\n\n\tlet autorizados = [];\n\n\tautorizadosSnap.forEach((snapHijo) => {\n\t\tautorizados.push({\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tconst nombresCultivos = await loadNombresCultivos();\n\n\tif (autorizados.length === 0) {\n\t\tnombresCultivos.forEach((cultivo) => {\n\t\t\tautorizados.push({\n\t\t\t\tclave: cultivo.clave,\n\t\t\t\tcultivo: cultivo.cultivo,\n\t\t\t\tsubciclo: cultivo.subciclo,\n\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\tpozoExtraAsignada: 0\n\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t// pozoParticularExtra: 0\n\t\t\t});\n\t\t});\n\t} else {\n\t\tnombresCultivos.forEach((cultivo) => {\n\t\t\tconst autorizado = autorizados.find((autorizado) => autorizado.clave === cultivo.clave);\n\t\t\tif (autorizado === undefined) {\n\t\t\t\tautorizados.push({\n\t\t\t\t\tclave: cultivo.clave,\n\t\t\t\t\tcultivo: cultivo.cultivo,\n\t\t\t\t\tsubciclo: cultivo.subciclo,\n\t\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\t\tpozoExtraAsignada: 0\n\t\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t\t// pozoParticularExtra: 0\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn autorizados;\n};\n\nexport const loadAutorizadoPorCultivo = async (ciclo, modulo, claves) => {\n\tconst autorizadosPromises = [];\n\n\tclaves.forEach((clave) => {\n\t\tautorizadosPromises.push(\n\t\t\tdb\n\t\t\t\t.collection(`autorizados`)\n\t\t\t\t.doc(ciclo)\n\t\t\t\t.collection(\"modulos\")\n\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t.collection(`autorizados`)\n\t\t\t\t.where(\"clave\", \"==\", clave)\n\t\t\t\t.get()\n\t\t);\n\t});\n\tconst autorizadosResolved = await Promise.all(autorizadosPromises);\n\n\tconst autorizados = [];\n\n\tautorizadosResolved.forEach((snapHijo) => {\n\t\tsnapHijo.forEach((autorizado) => {\n\t\t\tautorizados.push({\n\t\t\t\t...autorizado.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn autorizados;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadExpedicion = async (modulo, ciclo) => {\n\tlet superficies = [];\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\tif (superficies.length === 0) superficies = false;\n\n\treturn superficies;\n};\n","import { loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\nimport { loadExpedicion } from \"../helpers/loadExpedicion\";\n\nexport const startLoadExpedicion = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst expedicion = await loadExpedicion(modulo, ciclo);\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tconst findCultivo = (expedicion, autorizadoId) => {\n\t\t\tif (expedicion) {\n\t\t\t\tconst cultivo = expedicion.find((cultivo) => cultivo.id === autorizadoId);\n\t\t\t\treturn cultivo;\n\t\t\t} else return false;\n\t\t};\n\n\t\tlet superficies = [];\n\n\t\tif (autorizados) {\n\t\t\tautorizados.forEach((cultivoAutorizado) => {\n\t\t\t\tif (cultivoAutorizado.superficieTotal > 0) {\n\t\t\t\t\tconst cultivo = findCultivo(\n\t\t\t\t\t\texpedicion,\n\t\t\t\t\t\t`${cultivoAutorizado.clave}-${cultivoAutorizado.cultivo}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cultivo) {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado, ...cultivo });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuperficies.push({ ...cultivoAutorizado });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tsuperficies.forEach((cultivo) => {\n\t\t\tif (cultivo.gravedadNormal === undefined) cultivo.gravedadNormal = 0;\n\t\t\tif (cultivo.gravedadExtra === undefined) cultivo.gravedadExtra = 0;\n\t\t\tif (cultivo.pozoNormal === undefined) cultivo.pozoNormal = 0;\n\t\t\tif (cultivo.pozoExtra === undefined) cultivo.pozoExtra = 0;\n\t\t\tif (cultivo.pozoParticularNormal === undefined) cultivo.pozoParticularNormal = 0;\n\t\t\tif (cultivo.pozoParticularExtra === undefined) cultivo.pozoParticularExtra = 0;\n\t\t});\n\n\t\tif (superficies.length === 0) {\n\t\t\tsuperficies = [\n\t\t\t\t{\n\t\t\t\t\tclave: \"-\",\n\t\t\t\t\tcultivo: \"Sin expedicion\",\n\t\t\t\t\tgravedadNormalAutorizada: 0,\n\t\t\t\t\tgravedadNormalAsignada: 0,\n\t\t\t\t\tgravedadExtraAutorizada: 0,\n\t\t\t\t\tgravedadExtraAsignada: 0,\n\t\t\t\t\tpozoNormalAutorizada: 0,\n\t\t\t\t\tpozoNormalAsignada: 0,\n\t\t\t\t\tpozoExtraAutorizada: 0,\n\t\t\t\t\tpozoExtraAsignada: 0,\n\t\t\t\t\tgravedadNormal: 0,\n\t\t\t\t\tpozoNormal: 0,\n\t\t\t\t\tgravedadExtra: 0,\n\t\t\t\t\tpozoExtra: 0\n\t\t\t\t\t// pozoParticularNormal: 0,\n\t\t\t\t\t// pozoParticularExtra: 0\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tdispatch(setExpedicion(superficies));\n\t};\n};\n\nexport const setExpedicion = (superficies) => ({\n\ttype: types.sicperScreenSetExpedicion,\n\tpayload: superficies\n});\n\nexport const unsetExpedicion = () => ({\n\ttype: types.sicperScreenUnsetExpedicion\n});\n\nexport const setSuperficieNormal = () => ({\n\ttype: types.sicperScreenSetSuperficieNormal\n});\n\nexport const setSuperficieExtra = () => ({\n\ttype: types.sicperScreenSetSuperficieExtra\n});\n","export const roundToN = (num, n) => {\n\treturn +(Math.round(num + `e+${n}`) + `e-${n}`);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetSuperficieExtra,\n\tsetSuperficieNormal,\n\tstartLoadExpedicion\n} from \"../../actions/sicperScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const ResumenAutorizados = () => {\n\tconst { expedicion, superficie } = useSelector((state) => state.sicperScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloConsulta;\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadExpedicion(modulo, ciclo));\n\t}, [dispatch, modulo, ciclo]);\n\n\tconst setNormal = () => {\n\t\tdispatch(setSuperficieNormal());\n\t};\n\n\tconst setExtra = () => {\n\t\tdispatch(setSuperficieExtra());\n\t};\n\n\tconst totales = {\n\t\tgravedadNormalAutorizada: 0,\n\t\tpozoNormalAutorizada: 0,\n\t\tgravedadNormalAsignada: 0,\n\t\tpozoNormalAsignada: 0,\n\t\tgravedadNormal: 0,\n\t\tpozoNormal: 0,\n\t\tpozoParticularNormal: 0,\n\t\tgravedadExtraAutorizada: 0,\n\t\tpozoExtraAutorizada: 0,\n\t\tgravedadExtraAsignada: 0,\n\t\tpozoExtraAsignada: 0,\n\t\tgravedadExtra: 0,\n\t\tpozoExtra: 0\n\t};\n\n\tif (expedicion) {\n\t\texpedicion.forEach((cultivo) => {\n\t\t\ttotales.gravedadNormalAutorizada =\n\t\t\t\ttotales.gravedadNormalAutorizada + cultivo.gravedadNormalAutorizada;\n\t\t\ttotales.pozoNormalAutorizada = totales.pozoNormalAutorizada + cultivo.pozoNormalAutorizada;\n\t\t\ttotales.gravedadNormalAsignada =\n\t\t\t\ttotales.gravedadNormalAsignada + cultivo.gravedadNormalAsignada;\n\t\t\ttotales.pozoNormalAsignada = totales.pozoNormalAsignada + cultivo.pozoNormalAsignada;\n\t\t\ttotales.gravedadNormal = totales.gravedadNormal + cultivo.gravedadNormal;\n\t\t\ttotales.pozoNormal = totales.pozoNormal + cultivo.pozoNormal;\n\t\t\ttotales.pozoParticularNormal = totales.pozoParticularNormal + cultivo.pozoParticularNormal;\n\t\t\ttotales.gravedadExtraAutorizada =\n\t\t\t\ttotales.gravedadExtraAutorizada + cultivo.gravedadExtraAutorizada;\n\t\t\ttotales.pozoExtraAutorizada = totales.pozoExtraAutorizada + cultivo.pozoExtraAutorizada;\n\t\t\ttotales.gravedadExtraAsignada = totales.gravedadExtraAsignada + cultivo.gravedadExtraAsignada;\n\t\t\ttotales.pozoExtraAsignada = totales.pozoExtraAsignada + cultivo.pozoExtraAsignada;\n\t\t\ttotales.gravedadExtra = totales.gravedadExtra + cultivo.gravedadExtra;\n\t\t\ttotales.pozoExtra = totales.pozoExtra + cultivo.pozoExtra;\n\t\t});\n\t}\n\n\tconst isModulo = (modulo) => {\n\t\tswitch (modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn false;\n\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t{superficie === \"normal\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setNormal}>\n\t\t\t\t\t\t\tSuperficie Normal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{superficie === \"extra\" ? (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-info\" onClick={setExtra}>\n\t\t\t\t\t\t\tSuperficie Extra\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border border-info rounded p-0 mt-3\">\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-sm table-striped text-secondary\">\n\t\t\t\t\t\t<thead className=\"table-info\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tClave\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Cultivo</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Autorizada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Asignada\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Expedida\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\tSuperficie Disponible\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t{expedicion &&\n\t\t\t\t\t\t\t(superficie === \"normal\" ? (\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.gravedadNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.pozoNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadNormalAsignada - cultivo.gravedadNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoNormalAsignada - cultivo.pozoNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada - cultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t<tr key={`${totales.id}-${totales.clave}`}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<td>TOTAL</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormalAutorizada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormalAsignada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.gravedadNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoNormal, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadNormalAsignada - totales.gravedadNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{isModulo(modulo) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoNormalAsignada - totales.pozoNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoNormalAsignada - totales.pozoParticularNormal, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{expedicion.map((cultivo) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={`${cultivo.id}-${cultivo.clave}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{cultivo.clave}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cultivo.cultivo}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.gravedadExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(cultivo.pozoExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.gravedadExtraAsignada - cultivo.gravedadExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(cultivo.pozoExtraAsignada - cultivo.pozoExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t<tr key={`${totales.id}-${totales.clave}`}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<td>TOTAL</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div>Gravedad</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>Pozo</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAutorizada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtraAutorizada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAsignada, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtraAsignada, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.gravedadExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">{roundToN(totales.pozoExtra, 3)}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.gravedadExtraAsignada - totales.gravedadExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(totales.pozoExtraAsignada - totales.pozoExtra, 3)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\nimport { useSelector } from \"react-redux\";\nimport { setSuperficiesDataformat } from \"./setSuperficiesDataformat\";\n\nexport const SuperficiesChart = () => {\n\tconst { superficies } = useSelector((state) => state.permisosScreen);\n\n\tlet data = {};\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (superficies !== null) {\n\t\tdata = setSuperficiesDataformat(superficies, \"Superficie por cultivo\");\n\n\t\tsuperficies.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tsuperficies.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>Superficies por cultivo</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Superficie expedida: {totalSuperficie.toFixed(2)} ha</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>Permisos expedidos: {totalPermisos}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={220} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export const setSuperficiesDataformat = (dataSend, titulo) => {\n\tconst data = {\n\t\tlabels: dataSend.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSend.superficiesCultivos,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\treturn data;\n};\n","import React from \"react\";\n\nexport const ResumenAutorizados = ({ autorizados, modulo }) => {\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-primary border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>Módulo {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-primary mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalGravedadExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUltimosPermisos = async (modulo, ciclo) => {\n\tconst usuarios = [];\n\tconst usuariosBatch = await db.collection(\"usuarios\").get();\n\n\tusuariosBatch.forEach((usuario) => {\n\t\tusuarios.push({\n\t\t\tid: usuario.id,\n\t\t\tdisplayName: usuario.data().displayName,\n\t\t\temail: usuario.data().email\n\t\t});\n\t});\n\n\tconst permisos = [];\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.orderBy(\"fechaEmicion\", \"desc\")\n\t\t.limit(20)\n\t\t.get();\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tconst usuario = usuarios.find(\n\t\t\t(usuario) => usuario.id === snapHijo.data().solicitanteCancelacion\n\t\t);\n\n\t\tconst permiso = {\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t};\n\n\t\tif (usuario) {\n\t\t\tpermiso.nombreSolicitanteCancelacion = usuario.displayName;\n\t\t\tpermiso.emailSolicitanteCancelacion = usuario.email;\n\t\t}\n\n\t\tpermisos.push(permiso);\n\t});\n\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nfunction addDays(date, days) {\n\tvar result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n}\n\nexport const loadPermisos = async (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos = [\"nombreCultivo\", \"usuario\", \"cuenta\", \"numeroPermiso\"],\n\testado = \"todos\",\n\ttipo = \"todos\",\n\tsistema = \"todos\",\n\tfechaInicial, //TODO: poner fechas segun ciclo\n\tfechaFinal\n) => {\n\tconst cicloSplit = ciclo.split(\"-\");\n\n\tconst fechaInicialBusqueda = fechaInicial ?? new Date(cicloSplit[0], 8, 1);\n\tconst fechaFinalBusqueda = fechaFinal ?? new Date(cicloSplit[1], 8, 30);\n\n\tconst usuarios = [];\n\tconst usuariosBatch = await db.collection(\"usuarios\").get();\n\n\tusuariosBatch.forEach((usuario) => {\n\t\tusuarios.push({\n\t\t\tid: usuario.id,\n\t\t\tdisplayName: usuario.data().displayName,\n\t\t\temail: usuario.data().email\n\t\t});\n\t});\n\n\tconst permisos = [];\n\tconst permisosCampo = [];\n\n\tconst pad = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`);\n\n\tlet filtros = pad;\n\n\tif (estado !== \"todos\") filtros = filtros.where(\"estadoPermiso\", \"==\", estado);\n\tif (tipo !== \"todos\") filtros = filtros.where(\"tipo\", \"==\", tipo);\n\tif (sistema !== \"todos\") {\n\t\tswitch (sistema) {\n\t\t\tcase \"Gravedad\":\n\t\t\t\tfiltros = filtros.where(\"sistema\", \"==\", sistema);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Pozo\":\n\t\t\t\tfiltros = filtros.where(\"sistema\", \"in\", [\"Pozo Particular\", \"Pozo Federal\"]);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcampos.forEach((campo) => {\n\t\tpermisosCampo.push(\n\t\t\tfiltros\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\t});\n\n\tconst permisosResueltos = await Promise.all(permisosCampo);\n\n\tfor (let i = 0; i < permisosResueltos.length; i++) {\n\t\tpermisosResueltos[i].forEach((snapHijo) => {\n\t\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\n\t\t\tif (fecha >= fechaInicialBusqueda && fecha <= addDays(fechaFinalBusqueda, 1)) {\n\t\t\t\tconst usuario = usuarios.find(\n\t\t\t\t\t(usuario) => usuario.id === snapHijo.data().solicitanteCancelacion\n\t\t\t\t);\n\n\t\t\t\tconst permiso = {\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t};\n\n\t\t\t\tif (usuario) {\n\t\t\t\t\tpermiso.nombreSolicitanteCancelacion = usuario.displayName;\n\t\t\t\t\tpermiso.emailSolicitanteCancelacion = usuario.email;\n\t\t\t\t}\n\n\t\t\t\tpermisos.push(permiso);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron permisos \",\n\t\t\t\"Se mostrarán los últimos permisos registrados.\",\n\t\t\t\"warning\"\n\t\t);\n\t}\n\treturn permisos;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { roundToN } from \"./functions/roundToN\";\n\nexport const loadSuperficiesCultivos = async (modulo, ciclo) => {\n\tlet data = {};\n\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"superficie\", \"desc\")\n\t\t.get()\n\t\t.then((superficiesSnap) => {\n\t\t\tconst superficies = [];\n\n\t\t\tsuperficiesSnap.forEach((snapHijo) => {\n\t\t\t\tsuperficies.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data()\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst labels = [];\n\t\t\tconst superficiesCultivos = [];\n\t\t\tconst numeroPermisos = [];\n\t\t\tlet contador = 4;\n\t\t\tlet restoSuperficie = 0;\n\t\t\tlet restoPermisos = 0;\n\n\t\t\tsuperficies.forEach((cultivo) => {\n\t\t\t\tif (contador >= 0) {\n\t\t\t\t\tlabels.push(`${cultivo.id} (${roundToN(cultivo.superficie, 2)}ha)`);\n\t\t\t\t\tsuperficiesCultivos.push(cultivo.superficie);\n\t\t\t\t\tnumeroPermisos.push(cultivo.numeroPermisos);\n\t\t\t\t\tcontador--;\n\t\t\t\t} else {\n\t\t\t\t\trestoSuperficie = +cultivo.superficie;\n\t\t\t\t\trestoPermisos = +cultivo.numeroPermisos;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlabels.push(`Otros cultivos (${roundToN(restoSuperficie, 2)}ha)`);\n\t\t\tsuperficiesCultivos.push(roundToN(restoSuperficie, 3));\n\t\t\tnumeroPermisos.push(restoPermisos);\n\n\t\t\tdata = {\n\t\t\t\tlabels: labels,\n\t\t\t\tsuperficiesCultivos: superficiesCultivos,\n\t\t\t\tnumeroPermisos: numeroPermisos\n\t\t\t};\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn data;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadPreCancelPermits = async (ciclo) => {\n\tconst permisos = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"estadoPermiso\", \"==\", \"En proceso de cancelación\")\n\t\t.where(\"ciclo\", \"==\", ciclo);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn permisos;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadContadorGuias = async (ciclo, modulo) => {\n\tlet contador = 0;\n\n\tawait db\n\t\t.collection(`guias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"contadores\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tcontador = doc.data().numeroGuiasModulo;\n\t\t\t} else {\n\t\t\t\tdb.collection(`guias`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"contadores\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.set({ numeroGuiasModulo: 0 });\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn contador;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveGuia = async (ciclo, guia) => {\n\tconsole.log({ ciclo, guia });\n\tconst guiaRef = db.collection(`guias`).doc(ciclo).collection(\"guias\").doc(guia.folio);\n\tconst contGuiaRef = db\n\t\t.collection(`guias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"contadores\")\n\t\t.doc(`Modulo-${guia.modulo}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst guiaInDb = await transaction.get(guiaRef);\n\t\t\tconst countGuia = await transaction.get(contGuiaRef);\n\n\t\t\tif (guiaInDb.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La guia ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir una guia ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La guia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(guiaRef, { ...guia, guardado: true });\n\t\t\t\tif (countGuia.exists) {\n\t\t\t\t\ttransaction.update(contGuiaRef, {\n\t\t\t\t\t\tnumeroGuiasModulo: firebase.firestore.FieldValue.increment(1)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(contGuiaRef, {\n\t\t\t\t\t\tnumeroGuiasModulo: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Guia Guardada\", \"Se registró con éxito la Guia.\", \"success\");\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar guia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadGuia = async (permiso) => {\n\tconst guias = [];\n\n\tconst guiasSnap = await db\n\t\t.collection(`guias`)\n\t\t.doc(permiso.ciclo)\n\t\t.collection(`guias`)\n\t\t.where(\"permiso\", \"==\", permiso.id)\n\t\t.get();\n\n\tguiasSnap.forEach((guia) => {\n\t\tguias.push({ ...guia.data(), fecha: new Date(guia.data().fecha.seconds * 1000) });\n\t});\n\n\tif (guias.length === 0) return false;\n\telse return guias[0];\n};\n","import { types } from \"../types/types\";\nimport { loadUltimosPermisos } from \"../helpers/loadUltimosPermisos\";\nimport { loadPermisos } from \"../helpers/loadPermisos\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadPreCancelPermits } from \"../helpers/DB/loadPreCancelPermits\";\nimport { loadContadorGuias } from \"../helpers/DB/loadContadorGuias\";\nimport { saveGuia } from \"../helpers/saveGuia\";\nimport { loadGuia } from \"../helpers/DB/loadGuia\";\n\nexport const startLoadPermisos = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadUltimosPermisos(modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (palabra, modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(palabra, modulo, ciclo);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPreCancelPermits = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPreCancelPermits(ciclo);\n\t\tdispatch(setPreCancelPermits(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo, ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo, ciclo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.permisosScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const setPreCancelPermits = (permits) => ({\n\ttype: types.permisosScreenSetPreCancelPermits,\n\tpayload: permits\n});\n\nexport const unsetPreCancelPermits = () => ({\n\ttype: types.permisosScreenUnsetPermisos\n});\n\nexport const startSetPermisoSelected = (permiso) => {\n\treturn async (dispatch) => {\n\t\tconst guia = await loadGuia(permiso);\n\t\tif (guia) dispatch(setDataGuia(guia));\n\t\telse dispatch(clearGuia());\n\t\tdispatch(setPermisoSelected(permiso));\n\t};\n};\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const setPermitToCancel = (permiso) => ({\n\ttype: types.permisosScreenSetPermitToCancel,\n\tpayload: permiso.id\n});\n\nexport const unsetPermitToCancel = () => ({\n\ttype: types.permisosScreenUnsetPermitToCancel\n});\n\nexport const startSetFolioGuia = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst contador = await loadContadorGuias(ciclo, modulo);\n\n\t\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\t\tconst folio = `M${modulo}${fill(contador + 1, 4)}-${ciclo.substring(7, 9)}`;\n\t\tdispatch(setFolioGuia(folio));\n\t};\n};\n\nexport const startSaveGuia = (ciclo, guia) => {\n\treturn async (dispatch) => {\n\t\tconst isSaved = await saveGuia(ciclo, guia);\n\t\tif (isSaved) {\n\t\t\tdispatch(setGuiaSaved());\n\t\t}\n\t};\n};\n\nexport const clearGuia = () => ({\n\ttype: types.clearGuia\n});\n\nexport const setGuiaSaved = () => ({\n\ttype: types.setGuiaSaved\n});\n\nexport const setDataGuia = (data) => ({\n\ttype: types.setDataGuia,\n\tpayload: data\n});\n\nexport const setFolioGuia = (folio) => ({\n\ttype: types.setFolioGuia,\n\tpayload: folio\n});\n\nexport const openGuiaForm = () => ({\n\ttype: types.openGuiaForm\n});\n\nexport const closeGuiaForm = () => ({\n\ttype: types.closeGuiaForm\n});\n\nexport const openGuiaPrint = () => ({\n\ttype: types.openGuiaPrint\n});\n\nexport const closeGuiaPrint = () => ({\n\ttype: types.closeGuiaPrint\n});\n","import { loadAutorizadoPorCultivo, loadAutorizados } from \"../helpers/loadAutorizados\";\nimport { types } from \"../types/types\";\n\nexport const setModulo = (modulo) => ({\n\ttype: types.autorizadosScreenSetModulo,\n\tpayload: modulo\n});\n\nexport const unsetModulo = () => ({\n\ttype: types.autorizadosScreenUnsetModulo\n});\n\nexport const setLoadingAutorizados = () => ({\n\ttype: types.setLoadingAutorizados\n});\n\nexport const unsetLoadingAutorizados = () => ({\n\ttype: types.unsetLoadingAutorizados\n});\n\nexport const startLoadAutorizados = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setLoadingAutorizados());\n\t\tconst autorizados = await loadAutorizados(ciclo, modulo);\n\n\t\tlet superficieReferencia = 0;\n\t\tautorizados.forEach((autorizado) => {\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.gravedadExtraAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoNormalAsignada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAutorizada;\n\t\t\tsuperficieReferencia += autorizado.pozoExtraAsignada;\n\t\t});\n\t\tdispatch(setAutorizados(autorizados));\n\t\tdispatch(setSuperficieReferencia(superficieReferencia));\n\t\tdispatch(unsetLoadingAutorizados());\n\t};\n};\n\nexport const startLoadAutorizadoPorCultivo = (ciclo, modulo, claves) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizadoPorCultivo(ciclo, modulo, claves);\n\t\tdispatch(setAutorizadosPorCultivo(autorizados));\n\t};\n};\n\nexport const updateAutorizados = (autorizados, autorizadoSelected) => {\n\tautorizados.forEach((autorizado) => {\n\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\tautorizado = autorizadoSelected;\n\t\t}\n\t});\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(setAutorizadoSelected(autorizadoSelected));\n\t\tdispatch(setAutorizados(autorizados));\n\t};\n};\n\nexport const setAutorizados = (autorizados) => ({\n\ttype: types.autorizadosScreenSetAutorizados,\n\tpayload: autorizados\n});\n\nexport const setAutorizadosPorCultivo = (autorizados) => ({\n\ttype: types.setAutorizadosPorCultivo,\n\tpayload: autorizados\n});\n\nexport const unsetAutorizados = () => ({\n\ttype: types.autorizadosScreenUnsetAutorizados\n});\n\nexport const openAutorizadosModal = () => ({\n\ttype: types.openAutorizadosModal\n});\n\nexport const closeAutorizadosModal = () => ({\n\ttype: types.closeAutorizadosModal\n});\n\nexport const setAutorizadoSelected = (autorizado) => ({\n\ttype: types.setAutorizadoSelected,\n\tpayload: autorizado\n});\n\nexport const unsetAutorizadoSelected = () => ({\n\ttype: types.unsetAutorizadoSelected\n});\n\nexport const setSuperficieReferencia = (superficieReferencia) => ({\n\ttype: types.setSuperficieReferencia,\n\tpayload: superficieReferencia\n});\n\nexport const unsetSuperficieReferencia = () => ({\n\ttype: types.unsetSuperficieReferencia\n});\n\nexport const setFormError = (formError) => ({\n\ttype: types.setFormError,\n\tpayload: formError\n});\n\nexport const removeFormError = () => ({\n\ttype: types.removeFormError\n});\n","import React, { useEffect } from \"react\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { ResumenAutorizados } from \"../autorizados/ResumenAutorizados\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadSuperficies } from \"../../actions/permisosScreen\";\nimport { startLoadAutorizados } from \"../../actions/autorizadosScreen\";\n\nexport const FichaExpedicion = () => {\n\tconst { autorizados } = useSelector((state) => state.autorizadosScreen);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloConsulta;\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t}, [dispatch, ciclo, modulo]);\n\n\treturn (\n\t\t<div className=\"border border-primary rounded detallePermiso text-secondary mt-3\">\n\t\t\t<SuperficiesChart />\n\t\t\t{autorizados.length > 0 && (\n\t\t\t\t<ResumenAutorizados autorizados={autorizados} modulo={modulo}></ResumenAutorizados>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { startSetVariablesGlobales } from \"../../actions/auth\";\n\nexport const NuevoPermisoButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handleSetVariablesGlobales = () => {\n\t\tdispatch(startSetVariablesGlobales());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<Link to=\"/nuevo-permiso\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleSetVariablesGlobales}\n\t\t\t\t>\n\t\t\t\t\t<span>Nuevo Permiso </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</Link>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\nexport const UnassignedPrivilegesMessage = () => {\n\treturn (\n\t\t<div className=\"border border-warning rounded p-4\">\n\t\t\t<h3>¡Aún no tiene privilegios !</h3>\n\t\t\t<p>\n\t\t\t\tPor favor póngase en contacto con el administrador del sistema para que se le asignen\n\t\t\t\tprivilegios de usuario.\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { ResumenAutorizados } from \"../modulos/ResumenAutorizados\";\nimport { FichaExpedicion } from \"../modulos/FichaExpedicion\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { useSelector } from \"react-redux\";\nimport { UnassignedPrivilegesMessage } from \"../cards/UnassignedPrivilegesMessage\";\n\nexport const SicperScreen = () => {\n\tconst { privilegios, rol, expedicionActivaModulo } = useSelector((state) => state.auth);\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { expedicionActiva } = variablesGlobales;\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t{privilegios.consultarAutorizados && <ResumenAutorizados />}\n\t\t\t\t\t{privilegios.consultarAutorizados && (\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary mt-4 no-printme\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => window.print()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>Imprimir</span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-2\">{fechaActual.toLocaleDateString()}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 no-printme\">\n\t\t\t\t\t{expedicionActiva && expedicionActivaModulo && privilegios.expedirPermisos && (\n\t\t\t\t\t\t<NuevoPermisoButton />\n\t\t\t\t\t)}\n\t\t\t\t\t{privilegios.consultarExpedicion && <FichaExpedicion />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5\">\n\t\t\t\t<div className=\"col-sm-6\">{rol === \"sinAsignar\" && <UnassignedPrivilegesMessage />}</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","export const permitsHeaders = [\n\t{\n\t\tid: \"numeroPermiso\",\n\t\theader: \"PERMISO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"usuario\",\n\t\theader: \"USUARIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreProductor\",\n\t\theader: \"PRODUCTOR\",\n\t\tstyles: \"longCell\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"seccion\",\n\t\theader: \"SECCION\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidad\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"lote\",\n\t\theader: \"LOTE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"subciclo\",\n\t\theader: \"SUBCICLO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"supAutorizada\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuotaCultivo\",\n\t\theader: \"CUOTA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: true,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 2,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"fechaEmicion\",\n\t\theader: \"FECHA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\n\t{\n\t\tid: \"cultivoAnterior\",\n\t\theader: \"CUL. ANT.\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoPermiso\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"sistema\",\n\t\theader: \"SISTEMA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t}\n];\n\nexport const laboresHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"USUARIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"claveLocalidad\",\n\t\theader: \"CLAVE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ubicacion\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"lote\",\n\t\theader: \"LOTE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"superficie\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"superficieMapeada\",\n\t\theader: \"HA-Map\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tecnico\",\n\t\theader: \"TECNICO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desfoliado\",\n\t\theader: \"DESFOLIADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cosechado\",\n\t\theader: \"COSECHADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desvarado\",\n\t\theader: \"DESVARADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"disqueado\",\n\t\theader: \"DISQUEADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"desarraigado\",\n\t\theader: \"DESARRAIGADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"barbechado\",\n\t\theader: \"BARBECHADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"pagado\",\n\t\theader: \"PAGADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"laboresPendientes\",\n\t\theader: \"BLOQUEADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n\nexport const producersHeaders = [\n\t{\n\t\tid: \"curp\",\n\t\theader: \"CURP\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"rfc\",\n\t\theader: \"RFC\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"genero\",\n\t\theader: \"GENERO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"direccion\",\n\t\theader: \"DIRECCION\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"municipio\",\n\t\theader: \"MUNICIPIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"estado\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cp\",\n\t\theader: \"CP\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"telefono\",\n\t\theader: \"TELEFONO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n\t// {\n\t// \tid: \"fechaRegistro\",\n\t// \theader: \"REGISTRO\",\n\t// \tstyles: \"\",\n\t//  currency:false,\n\t// \tsum: false,\n\t// \tcount: false,\n\t// \tfloat: false,\n\t// \tdisplay: false,\n\t// \tselectable: true,\n\t//  search:true\n\t// }\n];\n\nexport const usersHeaders = [\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"cuenta\",\n\t\theader: \"CTA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"subcta\",\n\t\theader: \"SUBCTA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"PREDIO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"reacomodo\",\n\t\theader: \"REACOMODO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"seccion\",\n\t\theader: \"SECCION\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"municipio\",\n\t\theader: \"MUNICIPIO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"estado\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"supRiego\",\n\t\theader: \"SUPRIEGO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"supFisica\",\n\t\theader: \"SUPFISICA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"sistemaRiego\",\n\t\theader: \"SISTEMA\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"cp\",\n\t\theader: \"CP\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"equipo\",\n\t\theader: \"EQUIPO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"grupo\",\n\t\theader: \"GRUPO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"lt\",\n\t\theader: \"LT\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"pControl\",\n\t\theader: \"PCONTROL\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ra\",\n\t\theader: \"RA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"referencia\",\n\t\theader: \"REF\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"slt\",\n\t\theader: \"SLT\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"sra\",\n\t\theader: \"SRA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ssra\",\n\t\theader: \"SSRA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tenencia\",\n\t\theader: \"TENENCIA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n\nexport const transferEntrantesHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoTransferencia\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"superficieTransferida\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: true,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"moduloDestino\",\n\t\theader: \"MODULO-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"clavelocalidadDestino\",\n\t\theader: \"CLAVE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipolocalidadDestino\",\n\t\theader: \"EJ/COL-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidadDestino\",\n\t\theader: \"LOCALIDAD-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"loteDestino\",\n\t\theader: \"LOTE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaternoSolicitante\",\n\t\theader: \"PATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaternoSolicitante\",\n\t\theader: \"MATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreSolicitante\",\n\t\theader: \"NOMBRE-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"claveCultivo\",\n\t\theader: \"CLAVE-CULTIVO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"LOTE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t}\n];\n\nexport const transferSalientesHeaders = [\n\t{\n\t\tid: \"folio\",\n\t\theader: \"FOLIO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"estadoTransferencia\",\n\t\theader: \"ESTADO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: true,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: false,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"superficieTransferida\",\n\t\theader: \"HA\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: true,\n\t\tcount: false,\n\t\tfloat: true,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"id\",\n\t\theader: \"CUENTA-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apPaterno\",\n\t\theader: \"PATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaterno\",\n\t\theader: \"MATERNO-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombre\",\n\t\theader: \"NOMBRE-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: 4,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"modulo\",\n\t\theader: \"MODULO-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"predio\",\n\t\theader: \"LOTE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"ejido\",\n\t\theader: \"CLAVE-ORIGEN\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipoLocalidad\",\n\t\theader: \"EJ/COL-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"nombreLocalidad\",\n\t\theader: \"LOCALIDAD-ORIGEN\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\n\t{\n\t\tid: \"claveCultivo\",\n\t\theader: \"CLAVE-CULTIVO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreCultivo\",\n\t\theader: \"CULTIVO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"moduloDestino\",\n\t\theader: \"MODULO-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"clavelocalidadDestino\",\n\t\theader: \"CLAVE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"tipolocalidadDestino\",\n\t\theader: \"EJ/COL-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"localidadDestino\",\n\t\theader: \"LOCALIDAD-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"loteDestino\",\n\t\theader: \"LOTE-DESTINO\",\n\t\tstyles: \"text-center\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: true,\n\t\tselectable: true,\n\t\tsearch: false\n\t},\n\t{\n\t\tid: \"apPaternoSolicitante\",\n\t\theader: \"PATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"apMaternoSolicitante\",\n\t\theader: \"MATERNO-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: true\n\t},\n\t{\n\t\tid: \"nombreSolicitante\",\n\t\theader: \"NOMBRE-DESTINO\",\n\t\tstyles: \"\",\n\t\tcurrency: false,\n\t\tsum: false,\n\t\tcount: false,\n\t\tfloat: false,\n\t\tdisplay: false,\n\t\tselectable: true,\n\t\tsearch: false\n\t}\n];\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadProducersGlobal = async (inputValue, campo) => {\n\tconst producers = [];\n\tconst producersSnap = await db\n\t\t.collection(`productores`)\n\t\t.orderBy(campo)\n\t\t.startAt(inputValue.toUpperCase())\n\t\t.endAt(inputValue.toUpperCase() + \"\\uf8ff\")\n\t\t.get();\n\n\tproducersSnap.forEach((snapHijo) => {\n\t\tproducers.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\tif (producers.length === 0) {\n\t\tSwal.fire(\"No se encontraron productores \", \"...\", \"warning\");\n\t}\n\n\treturn producers;\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nexport const CustomTable = ({\n\ttitle,\n\tcolumns,\n\tdata,\n\tsetFunction,\n\tcloseFunction,\n\tsimpleSetFunction\n}) => {\n\tconst dispatch = useDispatch();\n\tconst { tipo } = useSelector((state) => state.altaPermisos);\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row, tipo));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\n\t\tif (simpleSetFunction !== undefined) {\n\t\t\tsimpleSetFunction(row);\n\t\t}\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tonClick={(e) => console.log(e)}\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tonRowClicked={getRowSelected}\n\t\t/>\n\t);\n};\n","import styled from \"styled-components\";\n\nexport const TextField = styled.input`\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\nexport const usuariosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"SUBCTA\", selector: \"subcta\", sortable: true, width: \"50px\", center: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"120px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"150px\", sortable: true },\n\t{ name: \"DERECHO(ha)\", selector: \"supRiego\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"LOTE\", selector: \"predio\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"EJ/COL\", selector: \"tipoLocalidad\", sortable: true, width: \"80px\" },\n\t{ name: \"LOCALIDAD\", selector: \"nombreLocalidad\", sortable: true, width: \"200px\" },\n\t{ name: \"SECCION\", selector: \"seccion\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"TRANSFERENCIA\", selector: \"folio\", sortable: true, width: \"80px\" }\n];\n\nexport const techniciansColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"NOMBRE\", selector: \"displayName\", sortable: true },\n\t{ name: \"EMAIL\", selector: \"email\", sortable: true }\n];\n\nexport const transferColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"FOLIO\", selector: \"folio\", sortable: true, width: \"100px\", center: true },\n\t{ name: \"ESTADO\", selector: \"estadoTransferencia\", sortable: true, width: \"120px\", center: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"60px\", center: true },\n\t{\n\t\tname: \"SUP(ha)\",\n\t\tselector: \"superficieTransferida\",\n\t\tsortable: true,\n\t\twidth: \"80px\",\n\t\tcenter: true\n\t},\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"SUBCTA\", selector: \"subcta\", sortable: true, width: \"50px\", center: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"120px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"150px\", sortable: true },\n\t{ name: \"LOTE\", selector: \"predio\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"EJ/COL\", selector: \"tipoLocalidad\", sortable: true, width: \"80px\" },\n\t{ name: \"LOCALIDAD\", selector: \"nombreLocalidad\", sortable: true, width: \"200px\" }\n];\n\nexport const productoresColumns = [\n\t{ name: \"CURP\", selector: \"id\", width: \"210px\", sortable: true },\n\t{ name: \"PATERNO\", selector: \"apPaterno\", width: \"120px\", sortable: true },\n\t{ name: \"MATERNO\", selector: \"apMaterno\", width: \"150px\", sortable: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", width: \"180px\", sortable: true },\n\t{ name: \"GENERO\", selector: \"genero\", width: \"120px\", sortable: true }\n];\n\nexport const cultivosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true, center: true },\n\t{ name: \"SUBCICLO\", selector: \"subciclo\", sortable: true, center: true }\n];\n\nexport const concesionesColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CURP\", selector: \"curp\", sortable: true, width: \"200px\" },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true, width: \"350px\" },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, center: true, width: \"60px\" },\n\t{ name: \"CICLO\", selector: \"ciclo\", sortable: true, width: \"100px\" },\n\t{ name: \"CONCESIÓN(HA)\", selector: \"supConcesion\", sortable: true, center: true, width: \"100px\" },\n\t{ name: \"EXPEDIDA(HA)\", selector: \"supExpedida\", sortable: true, center: true, width: \"100px\" }\n];\n\nexport const systemUsersColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE ENTIDAD\", selector: \"claveEntidad\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"displayName\", sortable: true },\n\t{ name: \"CORREO\", selector: \"email\", sortable: true },\n\t{ name: \"ROL\", selector: \"rol\", sortable: true }\n];\n\nexport const localtiesColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, center: true },\n\t{ name: \"NOMBRE\", selector: \"nombre\", sortable: true },\n\t{ name: \"TIPO\", selector: \"tipo\", sortable: true },\n\t{ name: \"MUNICIPIO\", selector: \"municipio\", sortable: true },\n\t{ name: \"ESTADO\", selector: \"estado\", sortable: true }\n];\n\nexport const asignacionLocaltiesColumns = [\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, center: true, width: \"110px\" },\n\t{ name: \"TIPO\", selector: \"tipo\", sortable: true, width: \"110px\" },\n\t{ name: \"NOMBRE\", selector: \"ubicacion\", sortable: true, width: \"200px\" },\n\t{ name: \"TÉCNICO\", selector: \"tecnico\", sortable: true }\n];\n\nexport const permisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"120px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"250px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"250px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"150px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"150px\" },\n\t{ name: \"EMISIÓN\", selector: \"fechaEmicion\", sortable: true, width: \"100px\" },\n\t{ name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"100px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"100px\" }\n];\n\nexport const laboresColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"80px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"250px\" },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"120px\" },\n\t{ name: \"MODULO\", selector: \"modulo\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"60px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"nombreLocalidad\", sortable: true, width: \"130px\" },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"130px\", sortable: true }\n];\n\nexport const printPermisosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"PERMISO\", selector: \"numeroPermiso\", sortable: true, width: \"70px\" },\n\t{ name: \"CUENTA\", selector: \"cuenta\", sortable: true, width: \"60px\" },\n\t{ name: \"USUARIO\", selector: \"usuario\", sortable: true, width: \"180px\" },\n\t{ name: \"PRODUCTOR\", selector: \"nombreProductor\", width: \"140px\", sortable: true },\n\t{ name: \"CULTIVO\", selector: \"nombreCultivo\", width: \"70px\", sortable: true },\n\t{ name: \"HA\", selector: \"supAutorizada\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"LOTE\", selector: \"lote\", sortable: true, width: \"40px\", center: true },\n\t{ name: \"LOCALIDAD\", selector: \"localidad\", sortable: true, width: \"80px\" },\n\t{ name: \"EMISIÓN\", selector: \"fechaEmicion\", sortable: true, width: \"70px\" },\n\t// { name: \"VIGENCIA\", selector: \"vigencia\", sortable: true, width: \"70px\" },\n\t{ name: \"ESTADO\", selector: \"estadoPermiso\", sortable: true, width: \"70px\" },\n\t{ name: \"CUOTA\", selector: \"cuotaCultivo\", width: \"60px\", sortable: true, center: true },\n\t{ name: \"SISTEMA\", selector: \"sistema\", width: \"60px\", sortable: true }\n];\n\nexport const autorizadosColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"GRAVEDAD NORMAL AUTORIZADA\",\n\t\tselector: \"gravedadNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD NORMAL ASIGNADA\",\n\t\tselector: \"gravedadNormalAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA AUTORIZADA\",\n\t\tselector: \"gravedadExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"GRAVEDAD EXTRA ASIGNADA\",\n\t\tselector: \"gravedadExtraAsignada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n\nexport const autorizadosPozoColumns = [\n\t{ name: \"id\", selector: \"id\", omit: true },\n\t{ name: \"CLAVE\", selector: \"clave\", sortable: true, width: \"80px\", center: true },\n\t{ name: \"CULTIVO\", selector: \"cultivo\", sortable: true, width: \"160px\" },\n\t{\n\t\tname: \"POZO NORMAL AUTORIZADA\",\n\t\tselector: \"pozoNormalAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO NORMAL ASIGNADA\", selector: \"pozoNormalAsignada\", sortable: true, center: true },\n\t{\n\t\tname: \"POZO EXTRA AUTORIZADA\",\n\t\tselector: \"pozoExtraAutorizada\",\n\t\tsortable: true,\n\t\tcenter: true\n\t},\n\t{ name: \"POZO EXTRA ASIGNADA\", selector: \"pozoExtraAsignada\", sortable: true, center: true }\n];\n","export const productoresReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase \"setInput\":\n\t\t\treturn { ...state, inputValue: action.payload };\n\n\t\tcase \"setSelect\":\n\t\t\treturn { ...state, campo: action.payload };\n\n\t\tcase \"setProductores\":\n\t\t\treturn { ...state, productores: action.payload };\n\n\t\tcase \"setProductorSelected\":\n\t\t\treturn { ...state, productorSelected: action.payload };\n\n\t\tcase \"unsetProductorSelected\":\n\t\t\treturn { ...state, productorSelected: null };\n\n\t\tcase \"openModal\":\n\t\t\treturn { ...state, openEditModal: true };\n\n\t\tcase \"closeModal\":\n\t\t\treturn { ...state, openEditModal: false, msgError: null };\n\n\t\tcase \"setError\":\n\t\t\treturn { ...state, msgError: action.payload };\n\n\t\tcase \"removeError\":\n\t\t\treturn { ...state, msgError: null };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const deleteProducer = async (id) => {\n\tconst producerRef = db.collection(\"productores\").doc(id);\n\n\ttry {\n\t\tconst isDeleted = await db.runTransaction(async (transaction) => {\n\t\t\tconst producer = await transaction.get(producerRef);\n\n\t\t\tif (producer.exists) {\n\t\t\t\tconst permisosRef = await getPermitsRefs(id);\n\t\t\t\tif (permisosRef.length > 0) {\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"El productor tiene permisos registrados.\",\n\t\t\t\t\t\t\"No es posible borrar el registro de un productor si se generaron permisos a su nombre.\",\n\t\t\t\t\t\t\"error\"\n\t\t\t\t\t);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.delete(producerRef);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"El productor no existe\", \"...\", \"error\");\n\t\t\t\tthrow new Error(\"El productor no existe\");\n\t\t\t}\n\t\t});\n\n\t\tif (isDeleted) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Productor eliminado. \",\n\t\t\t\t\"Se eliminó con éxito el registro del productor.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intntar borrar productor.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n\nconst getPermitsRefs = async (idProductor) => {\n\tconst permisosRefs = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"idProductorSelected\", \"==\", idProductor);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisosRefs.push(doc.ref);\n\t\t});\n\t});\n\n\treturn permisosRefs;\n};\n","import React from \"react\";\nimport { deleteProducer } from \"../../helpers/DB/deleteProducer\";\nimport Swal from \"sweetalert2\";\n\nexport const ProductorDetail = ({ productor, dispatch, reload }) => {\n\tconst {\n\t\tid,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tdireccion,\n\t\testado,\n\t\tmunicipio,\n\t\trfc,\n\t\ttelefono,\n\t\tgenero,\n\t\tcp,\n\t\tfechaRegistro\n\t} = productor;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = fechaRegistro.toDate();\n\n\tconst openEditModal = () => {\n\t\tdispatch({\n\t\t\ttype: \"openModal\"\n\t\t});\n\t};\n\n\tconst handleDeleteProducer = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de eliminar el registro del productor con el id: ${id}. ¿Realmente desea eliminarlo?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst isDeleted = await deleteProducer(id);\n\n\t\t\t\tif (isDeleted) {\n\t\t\t\t\treload();\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"unsetProductorSelected\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border rounded p-3\">\n\t\t\t<div>\n\t\t\t\t<b>CURP: </b>\n\t\t\t\t{id}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>RFC: </b>\n\t\t\t\t{rfc}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>PATERNO: </b>\n\t\t\t\t{apPaterno}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>MATERNO: </b>\n\t\t\t\t{apMaterno}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>NOMBRE: </b>\n\t\t\t\t{nombre}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>GENERO: </b>\n\t\t\t\t{genero}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>DIRECCION: </b>\n\t\t\t\t{direccion}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>MUNICIPIO: </b>\n\t\t\t\t{municipio}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>ESTADO: </b>\n\t\t\t\t{estado}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>CP: </b>\n\t\t\t\t{cp}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>TELEFONO: </b>\n\t\t\t\t{telefono}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<b>REGISTRO: </b>\n\t\t\t\t{fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={openEditModal}>\n\t\t\t\t\tEditar\n\t\t\t\t</button>\n\n\t\t\t\t<button className=\"btn btn-outline-danger ml-5\" onClick={handleDeleteProducer}>\n\t\t\t\t\tBorrar\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateProducer = async (\n\tproductor,\n\tidAnterior,\n\ttipoPersonaAnterior,\n\tcurpAnterior,\n\tnombreAnterior,\n\trfcAnterior\n) => {\n\tconst { id, curp, rfc } = productor;\n\tconst tipoPersona = productor.genoro === \"MORAL\" ? \"MORAL\" : \"FISICA\";\n\tconst nombreCompleto = `${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`;\n\n\tconst producerRef = db.collection(\"productores\").doc(idAnterior);\n\tconst newProducerRef = db.collection(\"productores\").doc(id);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst producer = await transaction.get(producerRef);\n\n\t\t\tif (producer.exists) {\n\t\t\t\tif (tipoPersona !== tipoPersonaAnterior || curp !== curpAnterior || id !== idAnterior) {\n\t\t\t\t\t//  case 1: Cambia de tipo de persona (fisica/moral), cambia la curp o cambia id\n\t\t\t\t\t// \t\t- Obtener modulos y permisos del productor\n\t\t\t\t\t// \t\t- Obtener concesiones de los padrones de cultivos\n\t\t\t\t\t// \t\t- Crear nuevos registros en los padrones de cultivos\n\t\t\t\t\t// \t\t- Borrar concesiones en los padrones de cultivos\n\t\t\t\t\t// \t\t- Actualizar datos del productor en permisos\n\t\t\t\t\t// \t\t- Borrar documento del productor\n\t\t\t\t\t// \t\t- Crear un nuevo documento con id difernente y los datos tal cual en el formulario.\n\n\t\t\t\t\tconst permitsRefs = await getPermitsRefs(idAnterior);\n\t\t\t\t\tconst { concesionesRefs, concesiones } = await getConcesionesRefs(idAnterior);\n\n\t\t\t\t\tconcesiones.forEach((concesion) => {\n\t\t\t\t\t\t///padronesCultivos/2022-2023/padrones/ALFALFA/padron/ FICJ700625HBCRXR03-ALFALFA-8\n\t\t\t\t\t\tconst ref = db\n\t\t\t\t\t\t\t.collection(\"padronesCultivos\")\n\t\t\t\t\t\t\t.doc(concesion.ciclo)\n\t\t\t\t\t\t\t.collection(\"padrones\")\n\t\t\t\t\t\t\t.doc(concesion.cultivo)\n\t\t\t\t\t\t\t.collection(\"padron\")\n\t\t\t\t\t\t\t.doc(`${id}-${concesion.cultivo}-${concesion.modulo}`);\n\n\t\t\t\t\t\ttransaction.set(ref, { ...concesion, curp, idProductor: id });\n\t\t\t\t\t});\n\n\t\t\t\t\tconcesionesRefs.forEach((concesion) => {\n\t\t\t\t\t\ttransaction.delete(concesion);\n\t\t\t\t\t});\n\n\t\t\t\t\tpermitsRefs.forEach((permiso) => {\n\t\t\t\t\t\ttransaction.update(permiso, {\n\t\t\t\t\t\t\tcurpProductor: curp,\n\t\t\t\t\t\t\tidProductorSelected: id,\n\t\t\t\t\t\t\tnombreProductor: nombreCompleto,\n\t\t\t\t\t\t\trfcProductor: rfc\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\ttransaction.delete(producerRef);\n\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.set(newProducerRef, productor);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (nombreCompleto !== nombreAnterior || rfc !== rfcAnterior) {\n\t\t\t\t\t// case 2: Cambia el nombre o el rfc\n\t\t\t\t\t// \t\t- Obtener modulos y permisos del productor\n\t\t\t\t\t// \t\t- Obtener concesiones de los padrones de cultivos\n\t\t\t\t\t// \t\t- Actualizar datos del productor en permisos\n\t\t\t\t\t// \t\t- Actualizar los padrones de cultivos.\n\t\t\t\t\t// \t\t- Actualizar documento con los datos tal cual en el formulario.\n\n\t\t\t\t\tconst permitsRefs = await getPermitsRefs(idAnterior);\n\t\t\t\t\tconst { concesionesRefs } = await getConcesionesRefs(idAnterior);\n\n\t\t\t\t\tpermitsRefs.forEach((permiso) => {\n\t\t\t\t\t\ttransaction.update(permiso, {\n\t\t\t\t\t\t\tcurpProductor: curp,\n\t\t\t\t\t\t\tidProductorSelected: id,\n\t\t\t\t\t\t\tnombreProductor: nombreCompleto,\n\t\t\t\t\t\t\trfcProductor: rfc\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tconcesionesRefs.forEach((concesion) => {\n\t\t\t\t\t\ttransaction.update(concesion, {\n\t\t\t\t\t\t\tnombre: nombreCompleto\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.update(producerRef, productor);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t// case 3: Cambia cualquier otro campo\n\t\t\t\t\t// \t\t- Actualizar documento con los datos tal cual en el formulario.\n\n\t\t\t\t\tdelete productor.id;\n\t\t\t\t\ttransaction.update(producerRef, productor);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"El productor no existe\", \"...\", \"error\");\n\t\t\t\tthrow new Error(\"El productor no existe\");\n\t\t\t}\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Productor actualizado. \",\n\t\t\t\t\"Se actualizaron con éxito los datos del productor.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intntar actualizar productor.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n\nconst getPermitsRefs = async (idProductor) => {\n\tconst permisosRefs = [];\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"idProductorSelected\", \"==\", idProductor);\n\n\tawait permisosSnap.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisosRefs.push(doc.ref);\n\t\t});\n\t});\n\n\treturn permisosRefs;\n};\n\nconst getConcesionesRefs = async (idProductor) => {\n\tconst concesionesRefs = [];\n\tconst concesiones = [];\n\n\tconst concesionesBatch = db.collectionGroup(\"padron\").where(\"idProductor\", \"==\", idProductor);\n\n\tawait concesionesBatch.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tconcesionesRefs.push(doc.ref);\n\t\t\tconcesiones.push({ ...doc.data() });\n\t\t});\n\t});\n\n\treturn { concesionesRefs, concesiones };\n};\n","import { useState } from \"react\";\n\nexport const useFormToUpper = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tswitch (target.type) {\n\t\t\tcase \"checkbox\":\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: target.checked\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: Number(target.value)\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsetValues({\n\t\t\t\t\t...values,\n\t\t\t\t\t[target.name]: target.value.toUpperCase()\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst setAValue = (name, value) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[name]: value\n\t\t});\n\t};\n\n\treturn [values, handleInputChange, reset, setAValue, setValues];\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { updateProducer } from \"../../helpers/DB/updateProducer\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const EditProductorModal = ({\n\topenEditModal,\n\tproductor,\n\tmsgError,\n\tdispatch,\n\treload,\n\tresetProductor\n}) => {\n\tconst [formValues, handleInputChange] = useFormToUpper(productor);\n\tconst idAnterior = productor.id;\n\tconst tipoPersonaAnterior = productor.genero === \"MORAL\" ? \"MORAL\" : \"FISICA\";\n\tconst curpAnterior = productor.curp;\n\tconst nombreAnterior = `${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`;\n\tconst rfcAnterior = productor.rfc;\n\tconst uid = productor.uid;\n\tconst fechaRegistro = productor.fechaRegistro;\n\n\tconst {\n\t\tcurp,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\trfc,\n\t\tdireccion,\n\t\tmunicipio,\n\t\testado,\n\t\tcp,\n\t\ttelefono,\n\t\tgenero,\n\t\tindice = \"\",\n\t\tincumplido = false\n\t} = formValues;\n\n\t// console.log(formValues);\n\n\tconst closeModal = () => {\n\t\tdispatch({\n\t\t\ttype: \"closeModal\"\n\t\t});\n\t};\n\n\tconst handleUpdate = async (e) => {\n\t\te.preventDefault();\n\n\t\tconst productor = {\n\t\t\tid: genero === \"MORAL\" ? `${curp}-PM${indice}` : curp,\n\t\t\tcurp,\n\t\t\tapPaterno,\n\t\t\tapMaterno,\n\t\t\tnombre,\n\t\t\trfc,\n\t\t\tdireccion,\n\t\t\testado,\n\t\t\tmunicipio,\n\t\t\tcp,\n\t\t\ttelefono: telefono.replace(/ /g, \"\"),\n\t\t\tgenero,\n\t\t\tuid,\n\t\t\tfechaRegistro,\n\t\t\tincumplido\n\t\t};\n\n\t\tif (isFormValid()) {\n\t\t\tconst isSave = await updateProducer(\n\t\t\t\tproductor,\n\t\t\t\tidAnterior,\n\t\t\t\ttipoPersonaAnterior,\n\t\t\t\tcurpAnterior,\n\t\t\t\tnombreAnterior,\n\t\t\t\trfcAnterior\n\t\t\t);\n\n\t\t\tif (isSave) {\n\t\t\t\tcloseModal();\n\t\t\t\treload();\n\t\t\t\tresetProductor({ ...productor, id: genero === \"MORAL\" ? `${curp}-PM` : curp });\n\t\t\t}\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (apPaterno.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere apellido paterno\" });\n\t\t\treturn false;\n\t\t} else if (direccion.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere direccion\" });\n\t\t\treturn false;\n\t\t} else if (apMaterno.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere apellido materno\" });\n\t\t\treturn false;\n\t\t} else if (estado.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere estado\" });\n\t\t\treturn false;\n\t\t} else if (nombre.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere nombre\" });\n\t\t\treturn false;\n\t\t} else if (municipio.trim().length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere municipio\" });\n\t\t\treturn false;\n\t\t} else if (curp.trim().length < 18 || curp.trim().length > 18) {\n\t\t\tdispatch({ type: \"setError\", payload: \"CURP no valido\" });\n\t\t\treturn false;\n\t\t} else if (genero.length === 0) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Se requiere genero\" });\n\t\t\treturn false;\n\t\t} else if (genero === \"MORAL\" && rfc.trim().length !== 12) {\n\t\t\tdispatch({ type: \"setError\", payload: \"RFC no valido\" });\n\t\t\treturn false;\n\t\t} else if (genero !== \"MORAL\" && rfc.trim().length !== 13) {\n\t\t\tdispatch({ type: \"setError\", payload: \"RFC no valido\" });\n\t\t\treturn false;\n\t\t} else if (cp.trim().length < 5) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Codigo postal no valido\" });\n\t\t\treturn false;\n\t\t} else if (telefono.replace(/ /g, \"\").length < 10) {\n\t\t\tdispatch({ type: \"setError\", payload: \"Telefono no valido\" });\n\t\t\treturn false;\n\t\t}\n\t\tdispatch({ type: \"removeError\" });\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openEditModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo productor</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleUpdate}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"curp\">* CURP:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"curp\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* CURP\"\n\t\t\t\t\t\t\t\tname=\"curp\"\n\t\t\t\t\t\t\t\tvalue={curp}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"apPaterno\">* Paterno:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Apellido Paterno\"\n\t\t\t\t\t\t\t\tid=\"apPaterno\"\n\t\t\t\t\t\t\t\tname=\"apPaterno\"\n\t\t\t\t\t\t\t\tvalue={apPaterno}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"apMaterno\">* Materno:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Apellido Materno\"\n\t\t\t\t\t\t\t\tid=\"apMaterno\"\n\t\t\t\t\t\t\t\tname=\"apMaterno\"\n\t\t\t\t\t\t\t\tvalue={apMaterno}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"nombre\">* Nombre:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Nombre\"\n\t\t\t\t\t\t\t\tid=\"nombre\"\n\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\tvalue={nombre}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"rfc\">* RFC:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* RFC\"\n\t\t\t\t\t\t\t\tid=\"rfc\"\n\t\t\t\t\t\t\t\tname=\"rfc\"\n\t\t\t\t\t\t\t\tvalue={rfc}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"direccion\">* Dirección:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Direccion\"\n\t\t\t\t\t\t\t\tid=\"direccion\"\n\t\t\t\t\t\t\t\tname=\"direccion\"\n\t\t\t\t\t\t\t\tvalue={direccion}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"estado\">* Estado:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Estado\"\n\t\t\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"municipio\">* Municipio:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Municipio\"\n\t\t\t\t\t\t\t\tid=\"municipio\"\n\t\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\t\tvalue={municipio}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"cp\">* C.P:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* CP\"\n\t\t\t\t\t\t\t\tid=\"cp\"\n\t\t\t\t\t\t\t\tname=\"cp\"\n\t\t\t\t\t\t\t\tvalue={cp}\n\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<label htmlFor=\"telefono\">* Teléfono:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"* Telefono\"\n\t\t\t\t\t\t\t\tid=\"telefono\"\n\t\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\t\tvalue={telefono}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"masculino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MASCULINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"MASCULINO\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"masculino\"> Masculino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"FEMENINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"FEMENINO\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Femenino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MORAL\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={genero === \"MORAL\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Persona Moral</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{genero === \"MORAL\" && (\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"indice\">Subindice:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-3\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Subindice\"\n\t\t\t\t\t\t\t\t\tid=\"indice\"\n\t\t\t\t\t\t\t\t\tname=\"indice\"\n\t\t\t\t\t\t\t\t\tvalue={indice}\n\t\t\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tid=\"incumplido\"\n\t\t\t\t\t\t\t\tname=\"incumplido\"\n\t\t\t\t\t\t\t\t// value=\"\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={incumplido === true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Productor Incumplido</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useReducer } from \"react\";\n\nimport { producersHeaders as headers } from \"../../helpers/constants/reportsColumns\";\nimport { loadProducersGlobal } from \"../../helpers/DB/loadProducersGlobal\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { productoresColumns } from \"../tables/configTables\";\nimport { productoresReducer } from \"./productoresReducer\";\nimport { ProductorDetail } from \"./ProductorDetail\";\nimport { EditProductorModal } from \"../modals/EditProductorModal\";\n\nexport const ProductoresModule = () => {\n\tconst initialState = {\n\t\tinputValue: \"\",\n\t\tcampo: \"\",\n\t\tproductores: [],\n\t\tproductorSelected: null,\n\t\topenEditModal: false,\n\t\tmsgError: null\n\t};\n\tconst [state, dispatch] = useReducer(productoresReducer, initialState);\n\t// console.log(state);\n\tconst { inputValue, campo, productores, productorSelected, openEditModal, msgError } = state;\n\n\tconst handleInputChange = ({ target }) => {\n\t\tdispatch({\n\t\t\ttype: \"setInput\",\n\t\t\tpayload: target.value\n\t\t});\n\t};\n\n\tconst handleSelectChange = ({ target }) => {\n\t\tdispatch({\n\t\t\ttype: \"setSelect\",\n\t\t\tpayload: target.value\n\t\t});\n\t};\n\n\tconst getProducers = async () => {\n\t\tif (campo.length) {\n\t\t\tconst productores = await loadProducersGlobal(inputValue, campo);\n\t\t\tdispatch({\n\t\t\t\ttype: \"setProductores\",\n\t\t\t\tpayload: productores\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setProductorSelected = (productor) => {\n\t\tdispatch({\n\t\t\ttype: \"setProductorSelected\",\n\t\t\tpayload: productor\n\t\t});\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetProducers();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<h4>Productores</h4>\n\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={campo}\n\t\t\t\t\t\t\t\t\tonChange={handleSelectChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-2\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={getProducers}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{productores.length > 0 && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={productores.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\t\t\t\tcolumns={productoresColumns}\n\t\t\t\t\t\t\tdata={productores}\n\t\t\t\t\t\t\tsimpleSetFunction={setProductorSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{productorSelected && (\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<ProductorDetail\n\t\t\t\t\t\t\t\tproductor={productorSelected}\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\treload={getProducers}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{openEditModal && (\n\t\t\t\t<EditProductorModal\n\t\t\t\t\topenEditModal={openEditModal}\n\t\t\t\t\tproductor={productorSelected}\n\t\t\t\t\tmsgError={msgError}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\treload={getProducers}\n\t\t\t\t\tresetProductor={setProductorSelected}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUsuarios = async (usuario, modulo, ciclo, global = false) => {\n\tconst campos = [\"apPaterno\", \"cuenta\"];\n\tconst qryUsuarios = [];\n\tconst usuarios = [];\n\n\tconst padUsuarios = defineRef(modulo, global);\n\n\tconst transferRef = db\n\t\t.collection(\"transferencias\")\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"transferencias\")\n\t\t.where(\"estadoTransferencia\", \"==\", \"ACTIVA\");\n\n\tcampos.forEach((campo) => {\n\t\tqryUsuarios.push(\n\t\t\ttransferRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryUsuarios.push(\n\t\t\tpadUsuarios\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryUsuarios.push(transferRef.where(campo, \"==\", Number(usuario)).get());\n\t\tqryUsuarios.push(padUsuarios.where(campo, \"==\", Number(usuario)).get());\n\t});\n\n\tconst resolvedUsuariosQrys = await Promise.all(qryUsuarios);\n\n\tresolvedUsuariosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (modulo) {\n\t\t\t\tcase \"UNI01\":\n\t\t\t\tcase \"UNI02\":\n\t\t\t\tcase \"UNI03\":\n\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t...snapHijo.data(),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (snapHijo.data().equipo !== 1) {\n\t\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\t\t...snapHijo.data(),\n\t\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t});\n\treturn usuarios;\n};\n\nconst defineModulo = (modulo) => {\n\tif (modulo === \"9A\") return modulo;\n\telse if (modulo === \"9B\") return modulo;\n\telse if (modulo === \"dev\") return modulo;\n\telse return parseInt(modulo);\n};\n\nconst defineRef = (modulo, global) => {\n\tif (global) {\n\t\treturn db.collection(`derechos`);\n\t} else {\n\t\tswitch (modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\t\treturn db\n\t\t\t\t\t.collection(`derechos`)\n\t\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t\t.where(\"modulo\", \"in\", [4, 5, 6, 7]);\n\n\t\t\tcase \"UNI02\":\n\t\t\t\treturn db\n\t\t\t\t\t.collection(`derechos`)\n\t\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t\t.where(\"modulo\", \"in\", [8, \"9A\", \"9B\"]);\n\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [1, 2, 3]);\n\n\t\t\tdefault:\n\t\t\t\treturn db.collection(`derechos`).where(\"modulo\", \"==\", defineModulo(modulo));\n\t\t}\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSuperficiePrevia = async (\n\tcuenta,\n\tmodulo,\n\tciclo,\n\ttipo = \"normal\",\n\tfolio = false\n) => {\n\tconst permisos = [];\n\tlet supPrevia = 0;\n\n\tconst permisosPad = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\");\n\n\tif (folio) {\n\t\tconst permisosSnap = await permisosPad.where(\"idUsuarioSelected\", \"==\", folio).get();\n\n\t\tpermisosSnap.forEach((snapHijo) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data(),\n\t\t\t});\n\t\t});\n\t} else {\n\t\tconst permisosSnap = await permisosPad.get();\n\n\t\tpermisosSnap.forEach((snapHijo) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data(),\n\t\t\t});\n\t\t});\n\t}\n\n\tpermisos.forEach((permiso) => {\n\t\tpermiso.tipo === tipo && (supPrevia += permiso.supAutorizada);\n\t});\n\n\treturn supPrevia;\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadTransfer = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.get();\n};\n\nexport const loadUserTransfer = async (id, ciclo) => {\n\tconst transferencias = [];\n\tlet superficie = 0;\n\n\tconst transferPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadTransfer(modulo, ciclo);\n\t\t} else return loadTransfer(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(transferPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\tconst transferId = `${childItem.data().cuenta}-${childItem.data().subcta}`;\n\t\t\tconst estado = childItem.data().estadoTransferencia;\n\t\t\tif (id === transferId && estado !== \"CANCELADA\") {\n\t\t\t\ttransferencias.push(childItem.data().superficieTransferida);\n\t\t\t}\n\t\t});\n\t});\n\n\tif (transferencias.length > 0) {\n\t\ttransferencias.forEach((transferencia) => (superficie += transferencia));\n\t}\n\n\treturn superficie;\n};\n","export const goToElement = (id) => {\n\tif (document.getElementById(id)) document.getElementById(id).focus();\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadTransferencias = async (ciclo, modulo) => {\n\tconst transferenciasSnap = await db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.get();\n\n\tconst transferencias = [];\n\n\ttransferenciasSnap.forEach((snapHijo) => {\n\t\ttransferencias.push({\n\t\t\t...snapHijo.data(),\n\t\t\tfecha: snapHijo.data().fecha.toDate(),\n\t\t\tid: snapHijo.id\n\t\t});\n\t});\n\n\treturn transferencias;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateTransfer = async (transferencia, estado) => {\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(transferencia.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transferencia.moduloDestino}`)\n\t\t.collection(`transferencias`)\n\t\t.doc(transferencia.folio);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\ttransaction.update(transferRef, { estadoTransferencia: estado });\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tconst transfer = await transferRef.get();\n\t\t\tSwal.fire(\n\t\t\t\t`Transferencia ${estado}`,\n\t\t\t\t\"Se actualizó con éxito el estado de la transferencia.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn transfer.data();\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intntar actualizar transferencia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import { loadTransferencias } from \"../helpers/DB/loadTransferencias\";\nimport { updateTransfer } from \"../helpers/DB/updateTransfer\";\nimport { types } from \"../types/types\";\nimport { unsetUsuarioSelected } from \"./usuarios\";\n\nexport const setNuevaTransferencia = (transferencia) => ({\n\ttype: types.setNuevaTransferencia,\n\tpayload: transferencia\n});\n\nexport const unsetNuevaTransferencia = () => ({\n\ttype: types.unsetNuevaTransferencia\n});\n\nexport const startSetTransferencia = (transferencia) => {\n\treturn (dispatch) => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(setTransferencia(transferencia));\n\t};\n};\n\nexport const setTransferencia = (transferencia) => ({\n\ttype: types.setTransferencia,\n\tpayload: transferencia\n});\n\nexport const unsetTransferencia = () => ({\n\ttype: types.unsetTransferencia\n});\n\nexport const setTransferencias = (transferencias) => ({\n\ttype: types.setTransferencias,\n\tpayload: transferencias\n});\n\nexport const unsetTransferencias = () => ({\n\ttype: types.unsetTransferencias\n});\n\nexport const startSetTransferencias = (ciclo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst transferencias = await loadTransferencias(ciclo, modulo);\n\t\tdispatch(setTransferencias(transferencias));\n\t};\n};\n\nexport const openTransferModal = () => ({\n\ttype: types.openTransferModal\n});\n\nexport const closeTransferModal = () => ({\n\ttype: types.closeTransferModal\n});\n\nexport const enablePrintButton = () => ({\n\ttype: types.enablePrintButton\n});\n\nexport const disablePrintButton = () => ({\n\ttype: types.disablePrintButton\n});\n\nexport const startUpdateTransfer = (transferencia, estado) => {\n\tconst { ciclo, moduloDestino: modulo } = transferencia;\n\treturn async (dispatch) => {\n\t\tconst newTransfer = await updateTransfer(transferencia, estado);\n\n\t\tif (newTransfer) {\n\t\t\tdispatch(setTransferencia(newTransfer));\n\t\t\tdispatch(startSetTransferencias(ciclo, modulo));\n\t\t}\n\t};\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLaboresPendientes = async (cuenta, modulo, cicloAnterior) => {\n\tlet laboresPendientes = false;\n\tlet superficieParcialLiberada = 0;\n\n\tconst cicloSplit = cicloAnterior.split(\"-\");\n\tconst ciclos = [];\n\tlet anioInicio = 2020;\n\tlet anioFin = 2021;\n\tdo {\n\t\tciclos.push(`${anioInicio}-${anioFin}`);\n\t\tanioInicio++;\n\t\tanioFin++;\n\t} while (anioInicio <= Number(cicloSplit[0]));\n\n\tconst permisosPromises = [];\n\n\tciclos.forEach((ciclo) => {\n\t\tpermisosPromises.push(\n\t\t\tdb\n\t\t\t\t.collection(`permisos`)\n\t\t\t\t.doc(ciclo)\n\t\t\t\t.collection(\"modulos\")\n\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t.collection(`permisos`)\n\t\t\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t\t\t.get()\n\t\t);\n\t});\n\n\tconst permisosResolbed = await Promise.all(permisosPromises);\n\n\tpermisosResolbed.forEach((batch) => {\n\t\tbatch.forEach((permiso) => {\n\t\t\tif (permiso.data().laboresPendientes === true) laboresPendientes = true;\n\t\t\tif (permiso.data().superficieParcialLiberada)\n\t\t\t\tsuperficieParcialLiberada += permiso.data().superficieParcialLiberada;\n\t\t});\n\t});\n\n\treturn { laboresPendientes, superficieParcialLiberada };\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadDictamen = async (cuenta, ciclo) => {\n\tconst dictamen = await db\n\t\t.collection(`dictamenes`)\n\t\t.doc(ciclo)\n\t\t.collection(\"dictamenes\")\n\t\t.doc(cuenta)\n\t\t.get();\n\n\tif (dictamen.exists) return dictamen.data();\n\telse return false;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadCultivosYProductoresAnteriores = async (cuenta, modulo, ciclo) => {\n\tconst permisos = [];\n\tconst cultivos = [];\n\tconst productores = [];\n\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"cuenta\", \"==\", cuenta)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data(),\n\t\t});\n\t});\n\n\tpermisos.forEach((permiso) => {\n\t\tconst cultivo = cultivos.find((cultivo) => cultivo.id === permiso.idCultivoSelected);\n\t\tif (cultivo === undefined)\n\t\t\tcultivos.push({\n\t\t\t\tsuperficie: permiso.supAutorizada,\n\t\t\t\tnombre: permiso.nombreCultivo,\n\t\t\t\tid: permiso.idCultivoSelected,\n\t\t\t\tclave: permiso.claveCultivo,\n\t\t\t});\n\n\t\tconst productor = productores.find((productor) => productor.id === permiso.idProductorSelected);\n\t\tif (productor === undefined)\n\t\t\tproductores.push({\n\t\t\t\tid: permiso.idProductorSelected,\n\t\t\t\tcurp: permiso.curpProductor,\n\t\t\t\tnombre: permiso.nombreProductor,\n\t\t\t});\n\t});\n\n\t// if (cultivos.length === 0) {\n\t// \tcultivos.push({\n\t// \t\tsuperficie: 0,\n\t// \t\tnombre: \"SIN CULTIVO\",\n\t// \t\tid: \"zaNmqPpV7fVmcSDZ4bu7\",\n\t// \t\tclave: 0\n\t// \t});\n\t// }\n\n\tif (productores.length === 0) {\n\t\tproductores.push({\n\t\t\tid: \"\",\n\t\t\tcurp: \"\",\n\t\t\tnombre: \"SIN PRODUTOR\",\n\t\t});\n\t}\n\n\treturn [cultivos, productores];\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadCultivos = async (cultivo, include0) => {\n\tconst campos = [\"clave\", \"nombre\"];\n\tconst qrysCultivos = [];\n\tconst cultivos = [];\n\n\tcampos.forEach((campo) => {\n\t\tqrysCultivos.push(\n\t\t\tdb\n\t\t\t\t.collection(`cultivos`)\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(cultivo)\n\t\t\t\t.endAt(cultivo + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysCultivos.push(db.collection(`cultivos`).where(campo, \"==\", Number(cultivo)).get());\n\t});\n\n\tconst resolvedCultivosQrys = await Promise.all(qrysCultivos);\n\n\tresolvedCultivosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (include0) {\n\t\t\t\tcase \"nuevo\":\n\t\t\t\t\tif (snapHijo.data().clave !== 0) {\n\t\t\t\t\t\tcultivos.push({\n\t\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tcultivos.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (include0) {\n\t\t\t}\n\t\t});\n\t});\n\n\treturn cultivos;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadCiclo = async () => {\n\tconst estado = await db.collection(`app`).doc(\"variablesGlobales\").get();\n\treturn estado.data().cicloActual;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveCultivo = async (id, cultivo) => {\n\ttry {\n\t\tawait db.collection(\"cultivos\").doc(id).set(cultivo);\n\t\tSwal.fire(\"Cultivo guardado.\", \"Se guardaron con éxito los datos del cultivo.\", \"success\");\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\tSwal.fire(\"Error.\", \"Error al intentar guardar el cultivo.\", \"error\");\n\n\t\treturn false;\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadProductores = async (productor) => {\n\tconst usuariosSnap = await db\n\t\t.collection(`productores`)\n\t\t.orderBy(\"apPaterno\")\n\t\t.startAt(productor)\n\t\t.endAt(productor + \"\\uf8ff\")\n\t\t.get();\n\n\tconst productores = [];\n\n\tusuariosSnap.forEach((snapHijo) => {\n\t\tproductores.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn productores;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadConcesiones = async (ciclo, productores) => {\n\tconst concesiones = [];\n\tconst concesionesPromices = [];\n\tconst concesionesPad = db.collectionGroup(\"padron\").where(\"ciclo\", \"==\", ciclo);\n\n\tproductores.forEach((productor) => {\n\t\tconcesionesPromices.push(concesionesPad.where(\"idProductor\", \"==\", productor).get());\n\t});\n\n\tconst concesionesResueltas = await Promise.all(concesionesPromices);\n\n\tconcesionesResueltas.forEach((productor) => {\n\t\tproductor.forEach((concesion) => {\n\t\t\tconcesiones.push(concesion.data());\n\t\t});\n\t});\n\n\treturn concesiones;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadComplementos = async (idProductor, ciclo, modulo) => {\n\tconst permisos = [];\n\n\tconst permisosBatch = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"idProductorSelected\", \"==\", idProductor)\n\t\t.orderBy(\"nombreCultivo\")\n\t\t.startAt(\"COMP.\")\n\t\t.endAt(\"COMP.\\uf8ff\")\n\t\t.get();\n\n\tpermisosBatch.forEach((permiso) => {\n\t\tif (\n\t\t\tpermiso.data().estadoPermiso === \"activo\" &&\n\t\t\t(!permiso.data().permisosVinculados || permiso.data().permisosVinculados.length === 0)\n\t\t) {\n\t\t\tpermisos.push({\n\t\t\t\tid: permiso.id,\n\t\t\t\t...permiso.data()\n\t\t\t});\n\t\t}\n\t});\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadProductores } from \"../helpers/loadProductores\";\nimport { goToElement } from \"../helpers/functions/assets\";\nimport { loadConcesiones } from \"../helpers/DB/loadConcesiones\";\nimport { loadComplementos } from \"../helpers/loadComplementos\";\n\nexport const openProductoresModal = () => ({\n\ttype: types.altaPermisoOpenProductoresModal\n});\n\nexport const closeProductoresModal = () => ({\n\ttype: types.altaPermisoCloseProductoresModal\n});\n\nexport const startLoadProductores = (productor) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\n\t\tconst productores = await loadProductores(productor);\n\t\tconst idsProductores = productores.map((productor) => productor.id);\n\n\t\tconst concesiones = await loadConcesiones(\n\t\t\tstate.auth.variablesGlobales.cicloActual,\n\t\t\tidsProductores\n\t\t);\n\n\t\tproductores.forEach((productor) => {\n\t\t\tconst concesionesProductor = concesiones.filter(\n\t\t\t\t(concesion) => concesion.idProductor === productor.id\n\t\t\t);\n\t\t\tif (concesionesProductor.length > 0) productor.concesiones = [...concesionesProductor];\n\t\t});\n\n\t\tdispatch(setProductores(productores));\n\t};\n};\n\nexport const setProductores = (productores) => ({\n\ttype: types.loadProductores,\n\tpayload: productores\n});\n\nexport const startSetProductorSelected = (productor) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst complementos = await loadComplementos(\n\t\t\tproductor.id,\n\t\t\tstate.auth.variablesGlobales.cicloActual,\n\t\t\tstate.auth.modulo\n\t\t);\n\n\t\tdispatch(setProductorSelected(productor));\n\t\tdispatch(setComplementos(complementos));\n\t};\n};\n\nexport const setProductorSelected = (productor) => {\n\tgoToElement(\"variedadInput\");\n\treturn {\n\t\ttype: types.setProductor,\n\t\tpayload: productor\n\t};\n};\n\nexport const setComplementos = (permisos) => ({\n\ttype: types.setComplementos,\n\tpayload: permisos\n});\n\nexport const setPermisosComplemento = (permisos) => ({\n\ttype: types.setPermisosComplemento,\n\tpayload: permisos\n});\n\nexport const unsetPermisosComplemento = () => ({\n\ttype: types.unsetPermisosComplemento\n});\n\nexport const unsetProductorSelected = () => ({\n\ttype: types.unsetProductor\n});\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const hayPermisosExpedidosDelCultivo = async (idCultivo) => {\n\tSwal.fire({\n\t\ttitle: \"Verificando expedición...\",\n\t\ttext: \"Por favor espere...\",\n\t\tallowOutsideClick: false,\n\t\tdidOpen: () => {\n\t\t\tSwal.showLoading();\n\t\t}\n\t});\n\n\tconst permisosBatch = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"idCultivoSelected\", \"==\", idCultivo)\n\t\t.get();\n\n\tSwal.close();\n\n\tif (permisosBatch.size > 0) return true;\n\telse return false;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const deleteCultivo = async (id) => {\n\ttry {\n\t\tawait db.collection(\"cultivos\").doc(id).delete();\n\t\tSwal.fire(\"Cultivo eliminado.\", \"El cultivo fue borrado del catálogo de cultivos.\", \"success\");\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\tSwal.fire(\"Error.\", \"Error al intentar borrar el cultivo.\", \"error\");\n\n\t\treturn false;\n\t}\n};\n","import Swal from \"sweetalert2\";\n\nimport { types } from \"../types/types\";\nimport { loadCultivos } from \"../helpers/loadCultivos\";\nimport { db } from \"../firebase/firebase-config\";\nimport { loadCiclo } from \"../helpers/DB/loadCiclo\";\nimport { goToElement } from \"../helpers/functions/assets\";\nimport { saveCultivo } from \"../helpers/saveCultivo\";\nimport { removeError } from \"./ui\";\nimport { unsetPermisosComplemento } from \"./productores\";\nimport { hayPermisosExpedidosDelCultivo } from \"../helpers/DB/hayPermisosExpedidosDelCultivo\";\nimport { deleteCultivo } from \"../helpers/deleteCultivo\";\n\nexport const openCultivosModal = () => ({\n\ttype: types.altaPermisoOpenCultivosModal\n});\n\nexport const closeCultivosModal = () => ({\n\ttype: types.altaPermisoCloseCultivosModal\n});\n\nexport const openCultivoAnteriorModal = () => ({\n\ttype: types.altaPermisoOpenCultivoAnteriorModal\n});\n\nexport const closeCultivoAnteriorModal = () => ({\n\ttype: types.altaPermisoCloseCultivoAnteriorModal\n});\n\nexport const startSetCatalogoDeCultivos = () => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(\"\", \"x\");\n\t\tdispatch(setCultivos(cultivos));\n\t};\n};\n\nexport const startLoadCultivos = (cultivo, modulo) => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(cultivo, \"nuevo\");\n\t\tconst cultivosConModulo = [];\n\t\tcultivos.forEach((cultivo) => {\n\t\t\tcultivosConModulo.push({ ...cultivo, modulo });\n\t\t});\n\t\tdispatch(setCultivos(cultivosConModulo));\n\t};\n};\n\nexport const setCultivos = (cultivos) => ({\n\ttype: types.loadCultivos,\n\tpayload: cultivos\n});\n\nexport const startLoadCultivosAnteriores = (cultivo) => {\n\treturn async (dispatch) => {\n\t\tconst cultivos = await loadCultivos(cultivo, \"anterior\");\n\t\tdispatch(setCultivosAnteriores(cultivos));\n\t};\n};\n\nexport const setCultivosAnteriores = (cultivos) => ({\n\ttype: types.setCultivosAnteriores,\n\tpayload: cultivos\n});\n\nexport const setProductoresAnteriores = (productores) => ({\n\ttype: types.setProductoresAnteriores,\n\tpayload: productores\n});\n\nexport const loadSuperficiePrevia = async (ciclo, modulo, cultivo) => {\n\tconst supCultivo = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"permisosPorCultivo\")\n\t\t.doc(cultivo)\n\t\t.get();\n\n\tconst dataSup = { ...supCultivo.data() };\n\n\tconst superficies = {\n\t\tgravedadNormal: dataSup.hasOwnProperty(\"gravedadNormal\") ? dataSup.gravedadNormal : 0,\n\t\tgravedadExtra: dataSup.hasOwnProperty(\"gravedadExtra\") ? dataSup.gravedadExtra : 0,\n\t\tpozoNormal: dataSup.hasOwnProperty(\"pozoNormal\") ? dataSup.pozoNormal : 0,\n\t\tpozoExtra: dataSup.hasOwnProperty(\"pozoExtra\") ? dataSup.pozoExtra : 0,\n\t\tpozoParticularNormal: dataSup.hasOwnProperty(\"pozoParticularNormal\")\n\t\t\t? dataSup.pozoParticularNormal\n\t\t\t: 0,\n\t\tpozoParticularExtra: dataSup.hasOwnProperty(\"pozoParticularExtra\")\n\t\t\t? dataSup.pozoParticularExtra\n\t\t\t: 0\n\t};\n\treturn superficies;\n};\n\nexport const startSetCultivoSelected = (cultivo) => {\n\treturn async (dispatch) => {\n\t\tdispatch(removeError());\n\t\tdispatch(unsetPermisosComplemento());\n\n\t\tconst ciclo = await loadCiclo();\n\t\tconst superficiePrevia = await loadSuperficiePrevia(\n\t\t\tciclo,\n\t\t\tcultivo.modulo,\n\t\t\t`${cultivo.clave}-${cultivo.nombre}`\n\t\t);\n\n\t\tdispatch(setCultivoSelected({ ...cultivo, superficiePrevia }));\n\t\tgoToElement(\"superficieInput\");\n\t};\n};\n\nexport const setCultivoSelected = (cultivo) => ({\n\ttype: types.setCultivo,\n\tpayload: cultivo\n});\n\nexport const unsetCultivoSelected = () => ({\n\ttype: types.unsetCultivo\n});\n\nexport const setCultivoAnteriorSelected = (cultivo) => {\n\tgoToElement(\"productorInput\");\n\treturn {\n\t\ttype: types.setCultivoAnterior,\n\t\tpayload: cultivo\n\t};\n};\n\nexport const unsetCultivoAnteriorSelected = () => ({\n\ttype: types.unsetCultivoAnterior\n});\n\nexport const startSaveCultivo = (cultivo) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\n\t\tconst newCultivo = { ...cultivo, cultivoComplementario: Number(cultivo.cultivoComplementario) };\n\t\tdelete newCultivo.id;\n\n\t\tif (cultivo.nuevaClave !== undefined) newCultivo.clave = cultivo.nuevaClave;\n\t\tdelete newCultivo.nuevaClave;\n\n\t\tif (cultivo.id === \"nuevoCultivo\") cultivo.id = `${cultivo.nuevaClave}-${cultivo.nombre}`;\n\n\t\tconst isSave = saveCultivo(cultivo.id, newCultivo);\n\n\t\tif (isSave) {\n\t\t\tconst cultivosActualizados = state.altaPermisos.cultivos.map((cultivoInStore) => {\n\t\t\t\tif (cultivoInStore.id === cultivo.id) return cultivo;\n\t\t\t\telse return cultivoInStore;\n\t\t\t});\n\n\t\t\tconst isInStore = cultivosActualizados.find(\n\t\t\t\t(cultivoActualizado) => cultivoActualizado.id === newCultivo.id\n\t\t\t);\n\n\t\t\tconsole.log(isInStore);\n\t\t\tconsole.log(cultivo);\n\n\t\t\tif (!isInStore) {\n\t\t\t\tconsole.log(\"Puso nuevo cultivo\");\n\t\t\t\tcultivosActualizados.push(newCultivo);\n\t\t\t}\n\n\t\t\tdispatch(setCultivos(cultivosActualizados));\n\t\t\tdispatch(setCultivoSelected(newCultivo));\n\t\t\tdispatch(removeError());\n\t\t}\n\t};\n};\n\nexport const startDeleteCultivo = (cultivoId) => {\n\treturn async (dispatch) => {\n\t\tconst tienePermisos = await hayPermisosExpedidosDelCultivo(cultivoId);\n\t\tif (tienePermisos) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Error.\",\n\t\t\t\t\"Hay permisos expedidos de este cultivo. No es posible borrar el cultivo.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t} else {\n\t\t\tconst isDeleted = await deleteCultivo(cultivoId);\n\t\t\tif (isDeleted) dispatch(removeCultivo(cultivoId));\n\t\t}\n\t};\n};\n\nexport const removeCultivo = (idCultivo) => ({\n\ttype: types.removeCultivo,\n\tpayload: idCultivo\n});\n\nexport const setTipoSemilla = (variedad) => ({\n\ttype: types.setTipoSemilla,\n\tpayload: variedad\n});\n\nexport const addNuevoCultivo = () => ({\n\ttype: types.addNuevoCultivo,\n\tpayload: {\n\t\tid: \"nuevoCultivo\",\n\t\tclave: 0,\n\t\tnombre: \"\",\n\t\tsubciclo: \"\",\n\t\tcostoHectarea: 0,\n\t\tcostoGuia: 0,\n\t\tinicioBc: \"\",\n\t\tfinBc: \"\",\n\t\tinicioSonora: \"\",\n\t\tfinSonora: \"\"\n\t}\n});\n","import { types } from \"../types/types\";\nimport { loadUsuarios } from \"../helpers/loadUsuarios\";\nimport { loadSuperficiePrevia } from \"../helpers/loadSuperficiePrevia\";\nimport { loadUserTransfer } from \"../helpers/DB/loadUserTransfer\";\nimport { startSetEstadoExpedicionModulo } from \"./auth\";\nimport { goToElement } from \"../helpers/functions/assets\";\nimport { unsetTransferencia } from \"./transferenciasScreen\";\nimport { loadLaboresPendientes } from \"../helpers/loadLaboresPendientes\";\nimport { loadDictamen } from \"../helpers/loadDictamen\";\nimport { loadCultivosYProductoresAnteriores } from \"../helpers/loadCultivosYProductoresAnteriores\";\nimport { setCultivosAnteriores, setProductoresAnteriores } from \"./cultivos\";\n\nexport const openUsuariosModal = () => ({\n\ttype: types.altaPermisoOpenUsuariosModal,\n});\n\nexport const closeUsuariosModal = () => ({\n\ttype: types.altaPermisoCloseUsuariosModal,\n});\n\nexport const startLoadUsuarios = (usuario, modulo, ciclo, global) => {\n\treturn async (dispatch) => {\n\t\tconst usuarios = await loadUsuarios(usuario, modulo, ciclo, global);\n\t\tdispatch(setUsuarios(usuarios));\n\t\tdispatch(startSetEstadoExpedicionModulo(modulo));\n\t};\n};\n\nexport const setUsuarios = (usuarios) => ({\n\ttype: types.setUsuarios,\n\tpayload: usuarios,\n});\nexport const unsetUsuarios = () => ({\n\ttype: types.unsetUsuarios,\n});\n\nexport const startSetUsuarioSelected = (usuario, tipo) => {\n\tunsetUsuarioSelected();\n\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst ciclo = state.auth.variablesGlobales.cicloActual;\n\t\tconst cicloAnterior = getCicloAnterior(ciclo);\n\n\t\tconst cultivosYProductoresAnteriores = await loadCultivosYProductoresAnteriores(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\tusuario.entidad,\n\t\t\tcicloAnterior\n\t\t);\n\n\t\tdispatch(\n\t\t\tsetCultivosAnteriores([\n\t\t\t\t...state.altaPermisos.cultivosAnteriores,\n\t\t\t\t...cultivosYProductoresAnteriores[0],\n\t\t\t])\n\t\t);\n\t\tdispatch(setProductoresAnteriores(cultivosYProductoresAnteriores[1]));\n\n\t\tconst labores = await loadLaboresPendientes(\n\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\tusuario.entidad,\n\t\t\tcicloAnterior\n\t\t);\n\n\t\tconst dictamen = await loadDictamen(`${usuario.cuenta}.${usuario.subcta}`, ciclo);\n\n\t\t// Verifica si los derechos corresponden a una transferencia\n\t\tif (usuario.folio) {\n\t\t\tconst supPrevia = await loadSuperficiePrevia(\n\t\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t\tusuario.moduloDestino,\n\t\t\t\tciclo,\n\t\t\t\ttipo,\n\t\t\t\tusuario.folio\n\t\t\t);\n\n\t\t\tusuario.supRiego = usuario.superficieTransferida;\n\t\t\tusuario.supPrevia = supPrevia;\n\t\t\tusuario.laboresPendientes = labores.laboresPendientes;\n\t\t\tusuario.superficieParcialLiberada = labores.superficieParcialLiberada;\n\t\t\tusuario.dictamen = dictamen;\n\n\t\t\tdispatch(unsetTransferencia());\n\t\t\tdispatch(setUsuarioSelected(usuario));\n\t\t\tgoToElement(\"cultivoInput\");\n\t\t} else {\n\t\t\tconst supPrevia = await loadSuperficiePrevia(\n\t\t\t\t`${usuario.cuenta}.${usuario.subcta}`,\n\t\t\t\tusuario.entidad,\n\t\t\t\tciclo,\n\t\t\t\ttipo\n\t\t\t);\n\n\t\t\tconst transfers = await loadUserTransfer(`${usuario.cuenta}-${usuario.subcta}`, ciclo);\n\n\t\t\tusuario.laboresPendientes = labores.laboresPendientes;\n\t\t\tusuario.superficieParcialLiberada = labores.superficieParcialLiberada;\n\t\t\tusuario.supPrevia = supPrevia + transfers;\n\t\t\tusuario.dictamen = dictamen;\n\n\t\t\tdispatch(unsetTransferencia());\n\t\t\tdispatch(setUsuarioSelected(usuario));\n\t\t\tgoToElement(\"productorInput\");\n\t\t}\n\t};\n};\n\nexport const setUsuarioSelected = (usuario) => {\n\tif (usuario.estado === 26) {\n\t\tusuario.estado = \"Sonora\";\n\t}\n\tif (usuario.estado === 2) {\n\t\tusuario.estado = \"Baja California\";\n\t}\n\tif (usuario.municipio === 2) {\n\t\tusuario.municipio = \"Mexicali\";\n\t}\n\tif (usuario.municipio === 55) {\n\t\tusuario.municipio = \"San Luis Rio Colorado\";\n\t}\n\tif (usuario.sistRiego === 1) {\n\t\tusuario.sistRiego = \"Gravedad\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 1) {\n\t\tusuario.sistRiego = \"Pozo Particular\";\n\t}\n\tif (usuario.sistRiego === 2 && usuario.equipo === 2) {\n\t\tusuario.sistRiego = \"Pozo Federal\";\n\t}\n\treturn {\n\t\ttype: types.setUsuario,\n\t\tpayload: usuario,\n\t};\n};\n\nexport const unsetUsuarioSelected = () => ({\n\ttype: types.unsetUsuario,\n});\n\nexport const setUpdatingPadron = () => ({\n\ttype: types.setUpdatingPadron,\n});\n\nexport const unsetUpdatingPadron = () => ({\n\ttype: types.unsetUpdatingPadron,\n});\n\nexport const setUpdatingReacomodos = () => ({\n\ttype: types.setUpdatingReacomodos,\n});\n\nexport const unsetUpdatingReacomodos = () => ({\n\ttype: types.unsetUpdatingReacomodos,\n});\n\nexport const setDictamenData = (dictamen) => ({\n\ttype: types.setDictamenData,\n\tpayload: dictamen,\n});\n\nexport const setDictamenDataSaved = (dictamen) => ({\n\ttype: types.setDictamenDataSaved,\n\tpayload: dictamen,\n});\n\nconst getCicloAnterior = (ciclo) => {\n\tconst cicloSeparado = ciclo.split(\"-\");\n\treturn `${Number(cicloSeparado[0]) - 1}-${Number(cicloSeparado[1]) - 1}`;\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport {\n\tcloseUsuariosModal,\n\topenUsuariosModal,\n\tstartLoadUsuarios,\n\tunsetUsuarioSelected,\n} from \"../../../actions/usuarios\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const UsuarioInput = ({ global = false }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst { idUsuarioSelected, usuario: nombreUsuario } = useSelector((state) => state.altaPermisos);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenUsuariosModal = () => {\n\t\thandleLoadUsuarios();\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(openUsuariosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(closeUsuariosModal());\n\t}, [dispatch]);\n\n\tconst handleLoadUsuarios = () => {\n\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo, ciclo, global));\n\t};\n\n\tlet usuarioLabel = \"\";\n\n\tif (idUsuarioSelected) {\n\t\tusuarioLabel = nombreUsuario;\n\t}\n\n\tconst clearUsuarioInput = () => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tformValues.usuario = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tusuario: \"\",\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenUsuariosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tUsuario:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{usuarioLabel} </label>\n\t\t\t\t{idUsuarioSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttabIndex=\"1\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idUsuarioSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearUsuarioInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenUsuariosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getConstancyCounter = async (anio) => {\n\tconst counter = await db\n\t\t.collection(`constancias`)\n\t\t.doc(`${anio}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().contadorConstancias;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexión\",\n\t\t\t\t\"Error al intentar obtener el contador de constancias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getConstancyCounter } from \"../../helpers/DB/getConstancyCount\";\n\nexport const UsuarioSelectedDetail = ({ setModalState, setDictamenFormState }) => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { generarConstancias, generarDictamenes } = privilegios;\n\tconst altaPermisos = useSelector((state) => state.altaPermisos);\n\tconst { usuarios, idUsuarioSelected } = useSelector((state) => state.altaPermisos);\n\n\tconst startSaveConstancy = async () => {\n\t\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\t\tconst constancia = {\n\t\t\t...usuario,\n\t\t\tfolio: await defineFolio(),\n\t\t\tfecha: new Date()\n\t\t};\n\n\t\tsetModalState({ openModal: true, constancia });\n\t};\n\n\tconst openDictamenModal = () => {\n\t\tsetDictamenFormState({ isOpenDictamenForm: true });\n\t};\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div>Cuenta: {altaPermisos.cuenta}</div>\n\t\t\t<div>Usuario: {altaPermisos.usuario}</div>\n\t\t\t<div>\n\t\t\t\t{altaPermisos.tipoLocalidad}: {altaPermisos.nombreLocalidad}\n\t\t\t</div>\n\t\t\t<div>Lote: {altaPermisos.lote}</div>\n\t\t\t<div>Sección: {altaPermisos.seccion}</div>\n\t\t\t<div>Módulo: {altaPermisos.modulo}</div>\n\t\t\t<div>Sup. Derecho: {altaPermisos.supDerecho}</div>\n\t\t\t<div>Sup. Disponible: {altaPermisos.supDerecho - altaPermisos.supPrevia}</div>\n\t\t\t<div>Sistema: {altaPermisos.sistema}</div>\n\t\t\t{altaPermisos.reacomodo && (\n\t\t\t\t<div className=\"text-info\">Reacomodo: {altaPermisos.reacomodo}</div>\n\t\t\t)}\n\n\t\t\t{generarConstancias && (\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={startSaveConstancy}>\n\t\t\t\t\t\tGenerar constancia\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{generarDictamenes && !altaPermisos.dictamen && (\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={openDictamenModal}>\n\t\t\t\t\t\tGenerar Dictamen\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\nconst defineFolio = async () => {\n\tconst date = new Date();\n\tconst anio = date.getFullYear();\n\n\tconst counter = await getConstancyCounter(anio);\n\tif (counter !== false) {\n\t\tconst folio = `${fill(counter + 1, 3)}-${anio}`;\n\t\treturn folio;\n\t} else return null;\n};\n","import { read, utils } from \"xlsx\";\n\nexport const readExcel = async (file) => {\n\tconst promise = new Promise((resolve, reject) => {\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.readAsArrayBuffer(file);\n\n\t\tfileReader.onload = (e) => {\n\t\t\tconst bufferArray = e.target.result;\n\n\t\t\tconst workBook = read(bufferArray, { type: \"buffer\" });\n\t\t\tconst workSheetName = workBook.SheetNames[0];\n\t\t\tconst workSheet = workBook.Sheets[workSheetName];\n\n\t\t\tconst data = utils.sheet_to_json(workSheet);\n\n\t\t\tresolve(data);\n\t\t};\n\n\t\tfileReader.onerror = (error) => {\n\t\t\treject(error);\n\t\t};\n\t});\n\n\treturn promise;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadLocalties = async (localtie) => {\n\tconst localtiesSnap = await db\n\t\t.collection(`colonias`)\n\t\t.orderBy(\"nombre\")\n\t\t.startAt(localtie)\n\t\t.endAt(localtie + \"\\uf8ff\")\n\t\t.get();\n\n\tconst localties = [];\n\n\tlocaltiesSnap.forEach((snapHijo) => {\n\t\tlocalties.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn localties;\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadReacomodos = async () => {\n\tconst reacomodosSnap = await db.collection(`reacomodos`).get();\n\n\tconst reacomodos = [];\n\n\treacomodosSnap.forEach((snapHijo) => {\n\t\treacomodos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn reacomodos;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingPadron, unsetUpdatingPadron } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\nimport { loadLocalties } from \"./loadLocalties\";\nimport { loadReacomodos } from \"./loadReacomodos\";\nimport { testUsers } from \"../consts\";\n\nexport const updatePadron = (file) => {\n\treturn async (dispatch) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Verificando archivo...\",\n\t\t\ttext: \"Por favor espere...\",\n\t\t\tallowOutsideClick: false,\n\t\t\tdidOpen: () => {\n\t\t\t\tSwal.showLoading();\n\t\t\t}\n\t\t});\n\n\t\tawait dispatch(setUpdatingPadron());\n\t\tconst localties = await loadLocalties(\"\");\n\t\tconst reacomodos = await loadReacomodos();\n\n\t\tconst nuevoPadron = await readExcel(file);\n\t\tconst idsPadronAnterior = [];\n\n\t\ttestUsers.forEach((user) => {\n\t\t\tnuevoPadron.push(user);\n\t\t});\n\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 200;\n\n\t\tif (checkPadron(nuevoPadron)) {\n\t\t\tSwal.update({\n\t\t\t\ttitle: \"Cargando padrón...\",\n\t\t\t\tallowOutsideClick: false,\n\t\t\t\tshowConfirmButton: false\n\t\t\t});\n\t\t\tconst padronAnterior = await db.collection(\"derechos\").get();\n\t\t\tpadronAnterior.forEach((derecho) => idsPadronAnterior.push(derecho.id));\n\n\t\t\tawait nuevoPadron.forEach((usuario, i) => {\n\t\t\t\tconst reacomodo = reacomodos.find(\n\t\t\t\t\t(reacomodo) => reacomodo.id === `${usuario.CUENTA}-${usuario.SUBCTA}`\n\t\t\t\t);\n\t\t\t\tif (reacomodo) {\n\t\t\t\t\tnuevoPadron[i].reacomodo = reacomodo.reacomodo;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait nuevoPadron.forEach((usuario, i) => {\n\t\t\t\tconst localidad = getLocaltie(localties, usuario.EJIDO);\n\t\t\t\tnuevoPadron[i].nombreLocalidad = localidad.nombre !== undefined ? localidad.nombre : \"\";\n\t\t\t\tnuevoPadron[i].tipoLocalidad = localidad.tipo !== undefined ? localidad.tipo : \"\";\n\t\t\t});\n\n\t\t\tawait nuevoPadron.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tapMaterno: element.APMATERNO !== undefined ? element.APMATERNO : \"\",\n\t\t\t\t\tapPaterno: element.APPATERNO !== undefined ? element.APPATERNO : \"\",\n\t\t\t\t\tcp: element.CP !== undefined ? element.CP : \"\",\n\t\t\t\t\tcuenta: element.CUENTA !== undefined ? element.CUENTA : \"\",\n\t\t\t\t\tejido: element.EJIDO !== undefined ? element.EJIDO : \"\",\n\t\t\t\t\tnombreLocalidad: element.nombreLocalidad,\n\t\t\t\t\ttipoLocalidad: element.tipoLocalidad,\n\t\t\t\t\tequipo: element.EQUIPO !== undefined ? element.EQUIPO : \"\",\n\t\t\t\t\testado: element.ESTADO !== undefined ? element.ESTADO : \"\",\n\t\t\t\t\tfecha: element.FECHA !== undefined ? element.FECHA : \"\",\n\t\t\t\t\tgrupo: element.GRUPO !== undefined ? element.GRUPO : \"\",\n\t\t\t\t\tlt: element.LT !== undefined ? element.LT : \"\",\n\t\t\t\t\tmodulo: element.ZONA !== undefined ? defineModulo(element.ZONA) : \"\",\n\t\t\t\t\tmunicipio: element.MUNICIPIO !== undefined ? element.MUNICIPIO : \"\",\n\t\t\t\t\tnombre: element.NOMBRE !== undefined ? element.NOMBRE : \"\",\n\t\t\t\t\tpControl: element.PCONTROL !== undefined ? element.PCONTROL : \"\",\n\t\t\t\t\tpredio: definePredio(element.GRUPO, element.PREDIO),\n\t\t\t\t\tra: element.RA !== undefined ? element.RA : \"\",\n\t\t\t\t\treferencia: element.REFERENCIA !== undefined ? element.REFERENCIA : \"\",\n\t\t\t\t\tseccion: element.SECCION !== undefined ? element.SECCION : \"\",\n\t\t\t\t\tsistRiego: element.SISTRIEGO !== undefined ? element.SISTRIEGO : \"\",\n\t\t\t\t\tsistemaRiego: defineSistema(element.SISTRIEGO, element.EQUIPO),\n\t\t\t\t\tslt: element.SLT !== undefined ? element.SLT : \"\",\n\t\t\t\t\tsra: element.SRA !== undefined ? element.SRA : \"\",\n\t\t\t\t\tssra: element.SSRA !== undefined ? element.SSRA : \"\",\n\t\t\t\t\tsubcta: element.SUBCTA !== undefined ? element.SUBCTA : \"\",\n\t\t\t\t\tsupFisica: element.SUPFISICA !== undefined ? element.SUPFISICA : \"\",\n\t\t\t\t\tsupRiego: element.SUPRIEGO !== undefined ? element.SUPRIEGO : \"\",\n\t\t\t\t\ttenencia: element.TENENCIA !== undefined ? element.TENENCIA : \"\",\n\t\t\t\t\tunidad: element.UNIDAD !== undefined ? element.UNIDAD : \"\",\n\t\t\t\t\tzona: element.ZONA !== undefined ? element.ZONA : \"\",\n\t\t\t\t\treacomodo: element.reacomodo !== undefined ? element.reacomodo : \"\"\n\t\t\t\t};\n\n\t\t\t\tconst index = idsPadronAnterior.indexOf(`${itemToUpload.cuenta}-${itemToUpload.subcta}`);\n\t\t\t\tif (index !== -1) idsPadronAnterior.splice(index, 1);\n\n\t\t\t\tconst ref = db.collection(\"derechos\").doc(`${itemToUpload.cuenta}-${itemToUpload.subcta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tidsPadronAnterior.forEach((id) => {\n\t\t\t\tconst ref = db.collection(\"derechos\").doc(id);\n\t\t\t\tbatch.delete(ref);\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se termino de actualizar el padron\");\n\t\t\t\t\tSwal.close();\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Padron actualizado\",\n\t\t\t\t\t\t`Se actualizo con éxito el padrón de usuarios.\n\t\t\t\t\t\t${nuevoPadron.length} registros procesados.\n\t\t\t\t\t\t${idsPadronAnterior.length} registros eliminados.\n\t\t\t\t\t\t`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingPadron());\n\t\t\tSwal.close();\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a un padrón de usuarios válido.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkPadron = (data) => {\n\tconst items = [\"CUENTA\", \"SUBCTA\", \"APPATERNO\", \"UNIDAD\", \"ZONA\", \"EJIDO\", \"SECCION\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n\nconst getLocaltie = (localidades, id) => {\n\tconst localtieFind = localidades.find((localtie) => localtie.clave === id);\n\n\tif (localtieFind) return localtieFind;\n\telse return \"\";\n};\n\nconst definePredio = (grupo, predio) => {\n\tif (grupo === 0) return `${predio}`;\n\n\tif (grupo > 0 && predio < 10) return `${grupo}0${predio}`;\n\telse return `${grupo}${predio}`;\n};\n\nconst defineModulo = (modulo) => {\n\tif (modulo === 9) return \"9A\";\n\telse if (modulo === 92) return \"9B\";\n\telse return modulo;\n};\n\nconst defineSistema = (sistRiego, equipo) => {\n\tif (sistRiego === 1) return \"Gravedad\";\n\telse if (sistRiego === 2 && equipo === 1) return \"Pozo Particular\";\n\telse if (sistRiego === 2 && equipo === 2) return \"Pozo Federal\";\n\telse return \"\";\n};\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\n\nexport const FileInput = ({ actionFunction, title, updating = false, fileExtension }) => {\n\tconst handleInputChange = (e) => {\n\t\tconst file = e.target.files[0];\n\n\t\tconst extension = file.name.match(/\\.[0-9a-z]+$/i);\n\n\t\tif (extension[0] === fileExtension) actionFunction(file);\n\t\telse {\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t`Verifique que el archivo que intenta cargar tenga la extensión \"${fileExtension}\".`,\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"d-flex\">\n\t\t\t\t<label htmlFor=\"input\" className=\"align-self-center\">\n\t\t\t\t\t{title}\n\t\t\t\t</label>\n\t\t\t\t{updating && (\n\t\t\t\t\t<div className=\"spinner-border text-primary align-self-center ml-2\" role=\"status\">\n\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tid=\"input\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tclassName=\"form-control-file mt-4\"\n\t\t\t\tonChange={handleInputChange}\n\t\t\t></input>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updatePadron } from \"../../../helpers/DB/updatePadron\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdatePadronModule = () => {\n\tconst { updatingPadron } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdatePadron = (file) => {\n\t\tdispatch(updatePadron(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdatePadron}\n\t\t\ttitle=\"Cargar Padron\"\n\t\t\tupdating={updatingPadron}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { setUpdatingReacomodos, unsetUpdatingReacomodos } from \"../../actions/usuarios\";\nimport { readExcel } from \"../functions/readExcel\";\n\nexport const updateReacomodos = (file) => {\n\treturn async (dispatch) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Verificando archivo...\",\n\t\t\ttext: \"Por favor espere...\",\n\t\t\tallowOutsideClick: false,\n\t\t\tshowConfirmButton: false,\n\t\t\tdidOpen: () => {\n\t\t\t\tSwal.showLoading();\n\t\t\t}\n\t\t});\n\n\t\tawait dispatch(setUpdatingReacomodos());\n\n\t\tconst nuevoPadron = await readExcel(file);\n\t\tconst idsPadronAnterior = [];\n\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 350;\n\n\t\tif (checkReacomodos(nuevoPadron)) {\n\t\t\tSwal.update({\n\t\t\t\ttitle: \"Cargando padrón...\",\n\t\t\t\tallowOutsideClick: false,\n\t\t\t\tshowConfirmButton: false\n\t\t\t});\n\n\t\t\tconst padronAnterior = await db.collection(\"reacomodos\").get();\n\t\t\tpadronAnterior.forEach((reacomodo) => idsPadronAnterior.push(reacomodo.id));\n\n\t\t\tawait nuevoPadron.forEach((element) => {\n\t\t\t\tconst itemToUpload = {\n\t\t\t\t\tcuenta: element.CTA !== undefined ? element.CTA : \"?\",\n\t\t\t\t\tsubCuenta: element.SC !== undefined ? element.SC : \"?\",\n\t\t\t\t\tllave: element.LLAVE !== undefined ? element.LLAVE : \"?\",\n\t\t\t\t\tmodulo: element.MODULO !== undefined ? element.MODULO : \"?\",\n\t\t\t\t\tclaveEjido: element.CVEEJI !== undefined ? element.CVEEJI : \"?\",\n\t\t\t\t\tejido: element.EJI !== undefined ? element.EJI : \"?\",\n\t\t\t\t\tpredio: element.PRE !== undefined ? element.PRE : \"?\",\n\t\t\t\t\thectareas: element.HAS !== undefined ? element.HAS : \"?\",\n\t\t\t\t\treacomodo: element.RE !== undefined ? element.RE : \"?\",\n\t\t\t\t\tclaveProcedencia: element.CVEPRO !== undefined ? element.CVEPRO : \"?\",\n\t\t\t\t\tejidoProcedencia: element.EJIPRO !== undefined ? element.EJIPRO : \"?\",\n\t\t\t\t\tpredioProcedencia: element.PREPRO !== undefined ? element.PREPRO : \"?\"\n\t\t\t\t};\n\n\t\t\t\tconst index = idsPadronAnterior.indexOf(`${itemToUpload.cuenta}-${itemToUpload.subCuenta}`);\n\t\t\t\tif (index !== -1) idsPadronAnterior.splice(index, 1);\n\n\t\t\t\tconst ref = db\n\t\t\t\t\t.collection(\"reacomodos\")\n\t\t\t\t\t.doc(`${itemToUpload.cuenta}-${itemToUpload.subCuenta}`);\n\t\t\t\tbatch.set(ref, itemToUpload);\n\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tidsPadronAnterior.forEach((id) => {\n\t\t\t\tconst ref = db.collection(\"reacomodos\").doc(id);\n\t\t\t\tbatch.delete(ref);\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se terminaron de actualizar los reacomodos\");\n\t\t\t\t\tSwal.close();\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Reacomodos actualizados\",\n\t\t\t\t\t\t`Se actualizaron con éxito los reacomodos.\n\t\t\t\t\t\t${nuevoPadron.length} registros procesados.\n\t\t\t\t\t\t${idsPadronAnterior.length} registros eliminados.\n\t\t\t\t\t\t`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\n\t\t\tconsole.log(idsPadronAnterior);\n\t\t} else {\n\t\t\tdispatch(unsetUpdatingReacomodos());\n\t\t\tSwal.close();\n\t\t\tSwal.fire(\n\t\t\t\t\"Formato incorrecto\",\n\t\t\t\t\"Verifique que el documento que intenta cargar corresponda a una tabla de reacomodos válida.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t};\n};\n\nconst checkReacomodos = (data) => {\n\tconst items = [\"CTA\", \"SC\", \"LLAVE\", \"EJI\", \"HAS\", \"RE\", \"CVEPRO\"];\n\tlet isOk = true;\n\n\titems.forEach((item) => {\n\t\tif (data[0][item] === undefined) isOk = false;\n\t});\n\n\tisOk ? console.log(\"ok, todo en orden!\") : console.log(\"Esto no es un padron\");\n\n\treturn isOk;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateReacomodos } from \"../../../helpers/DB/updateReacomodos\";\nimport { FileInput } from \"../atoms/FileInput\";\n\nexport const UpdateReacomodosModule = () => {\n\tconst { updatingReacomodos } = useSelector((state) => state.scenes.padronScreen);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdateReacomodos = (file) => {\n\t\tdispatch(updateReacomodos(file));\n\t};\n\n\treturn (\n\t\t<FileInput\n\t\t\tactionFunction={startUpdateReacomodos}\n\t\t\ttitle=\"Cargar Reacomodos\"\n\t\t\tupdating={updatingReacomodos}\n\t\t\tfileExtension=\".xlsx\"\n\t\t/>\n\t);\n};\n","import { write, utils } from \"xlsx\";\nimport FileSaver from \"file-saver\";\n\nconst EXCEL_TYPE =\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n\nexport const exportJSONToExcel = (data, headers, title, author, sheetName) => {\n\tconst workBook = utils.book_new();\n\tworkBook.Props = {\n\t\tTitle: title,\n\t\tAuthor: author,\n\t\tCreatedDate: new Date()\n\t};\n\n\tworkBook.SheetNames.push(sheetName);\n\n\tconst workSheet = utils.json_to_sheet(data, headers);\n\tworkBook.Sheets[sheetName] = workSheet;\n\n\tconst excelBuffer = write(workBook, { bookType: \"xlsx\", type: \"array\" });\n\n\tsaveAsExcel(excelBuffer, title);\n};\n\nconst saveAsExcel = (buffer, fileName) => {\n\tconst data = new Blob([buffer], { type: EXCEL_TYPE });\n\tFileSaver.saveAs(data, `${fileName}.xlsx`);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { loadUsuarios } from \"../../../helpers/loadUsuarios\";\n\nexport const DownloadPadronButton = () => {\n\tconst { modulo, name, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst title = `PadronM${modulo}`;\n\tconst headers = {\n\t\theader: [\n\t\t\t\"CUENTA\",\n\t\t\t\"APPATERNO\",\n\t\t\t\"APMATERNO\",\n\t\t\t\"NOMBRE\",\n\t\t\t\"MODULO\",\n\t\t\t\"SECCION\",\n\t\t\t\"EJ/COL\",\n\t\t\t\"LOCALIDAD\",\n\t\t\t\"PREDIO\",\n\t\t\t\"REACOMODO\",\n\t\t\t\"HA\",\n\t\t\t\"SISTEMA\"\n\t\t]\n\t};\n\n\tconst startDowloadPadron = async () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Al confirmar se iniciará la descarga del padrón de usuarios en formato excel.`,\n\t\t\ticon: \"question\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Descargar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst usuarios = await loadUsuarios(\"\", modulo, ciclo);\n\t\t\t\tconst padron = usuarios.map((usuario) => ({\n\t\t\t\t\tCUENTA: usuario.id,\n\t\t\t\t\tAPPATERNO: usuario.apPaterno,\n\t\t\t\t\tAPMATERNO: usuario.apMaterno,\n\t\t\t\t\tNOMBRE: usuario.nombre,\n\t\t\t\t\tMODULO: usuario.modulo,\n\t\t\t\t\tSECCION: usuario.seccion,\n\t\t\t\t\t\"EJ/COL\": usuario.tipoLocalidad,\n\t\t\t\t\tLOCALIDAD: usuario.nombreLocalidad,\n\t\t\t\t\tPREDIO: usuario.predio,\n\t\t\t\t\tREACOMODO: usuario.reacomodo,\n\t\t\t\t\tHA: usuario.supRiego,\n\t\t\t\t\tSISTEMA: usuario.sistemaRiego\n\t\t\t\t}));\n\n\t\t\t\texportJSONToExcel(padron, headers, title, name, title);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<button onClick={startDowloadPadron} className=\"btn btn-outline-primary m-3\">\n\t\t\t<i className=\"fas fa-download mr-2\"></i>\n\t\t\tDescargar Padron\n\t\t</button>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveConstancy = async (constancia, anio) => {\n\tconst constancyRef = db\n\t\t.collection(`constancias`)\n\t\t.doc(`${anio}`)\n\t\t.collection(\"constancias\")\n\t\t.doc(constancia.folio);\n\n\tconst constancyCounterRef = db.collection(`constancias`).doc(`${anio}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst constancy = await transaction.get(constancyRef);\n\t\t\tconst constancyCounter = await transaction.get(constancyCounterRef);\n\n\t\t\tif (constancy.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La transferencia ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir una transferencia ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La transferencia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(constancyRef, constancia);\n\t\t\t\tif (constancyCounter.exists) {\n\t\t\t\t\ttransaction.update(constancyCounterRef, {\n\t\t\t\t\t\tcontadorConstancias: firebase.firestore.FieldValue.increment(1)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(constancyCounterRef, {\n\t\t\t\t\t\tcontadorConstancias: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Constancia Guardada\",\n\t\t\t\t\"Se registró con éxito la constancia de derechos.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intntar guardar constancia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { saveConstancy } from \"../../helpers/DB/saveConstancy\";\n\nexport const PrintConstancyModal = ({ openModal, constancia, constancySaved, setModalState }) => {\n\tconst { folio, apPaterno, apMaterno, nombre, predio, tipoLocalidad } = constancia;\n\tconst { nombreLocalidad, fecha, supRiego, cuenta, subcta, modulo, sistemaRiego } = constancia;\n\tconst { municipio, estado, reacomodo } = constancia;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1700px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst closeModal = () => {\n\t\tsetModalState((state) => ({ ...state, openModal: false }));\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst handleSaveConstancy = async () => {\n\t\tconst date = new Date();\n\t\tconst anio = date.getFullYear();\n\t\tconst saveSuccess = await saveConstancy(constancia, anio);\n\n\t\tif (saveSuccess) setModalState((state) => ({ ...state, constancySaved: true }));\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad p-5\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"border border-dark rounded\">\n\t\t\t\t<div className=\"border border-dark rounded m-1 p-3\">\n\t\t\t\t\t<div className=\"row p-5 d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={\"./logos/medio-cna-2022.png\"}\n\t\t\t\t\t\t\t\t\talt=\"Logo semarnat\"\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: 600 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t<div className=\"d-flex flex-column text-right\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>OFICIO:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>B00.807.05.DR.014.P.U./{folio}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>LUGAR:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>MEXICALI, B. C.</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<b>FECHA:</b>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>{fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\tORGANISMO DE CUENCA PENÍNSULA DE BAJA CALIFORNIA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tDIRECCIÓN DE INFRAESTRUCTURA HIDROAGRÍCOLA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tDISTRITO DE RIEGO 014, RÍO COLORADO, B.C. Y SONORA\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tJEFATURA DEL PADRÓN DE USUARIOS\n\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>A QUIEN CORRESPONDA:</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-2\">\n\t\t\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; CON FUNDAMENTO EN LOS ARTÍCULOS 52, 67 INCISO A), 70 DE LA\n\t\t\t\t\t\t\tLEY DE AGUAS NACIONALES; 92 Y 102 DEL REGLAMENTO DEL DISTRITO DE RIEGO DEL RÍO\n\t\t\t\t\t\t\tCOLORADO Y DEMÁS RELATIVOS DE LA NORMATIVIDAD VIGENTE, ARTÍCULOS 11 LETRA B FRACCIÓN\n\t\t\t\t\t\t\tV, 73 FRACCIÓN XLI, ASÍ COMO SU ÚLTIMO PÁRRAFO, 79, FRACCIÓN XVII REGLAMENTO INTERIOR\n\t\t\t\t\t\t\tDE LA COMISIÓN NACIONAL DEL AGUA, CON BASE EN LA BÚSQUEDA DE LOS DATOS DEL PROMOVENTE\n\t\t\t\t\t\t\tREALIZADA EL DÍA DE HOY POR EL ÁREA RESPONSABLE DEL PADRÓN DE USUARIOS (SIPAD), SE\n\t\t\t\t\t\t\tINFORMA QUE OBRA REGISTRO PADRÓN DE USUARIOS DEL DISTRITO DE RIEGO 014, RÍO COLORADO,\n\t\t\t\t\t\t\tBAJA CALIFORNIA Y SONORA A NOMBRE DE{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{apPaterno} {apMaterno} {nombre}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t, CON EL NÚMERO DE CUENTA <b>{`${cuenta}.${subcta}`}</b>,{\" \"}\n\t\t\t\t\t\t\t<b>EN EL MÓDULO DE RIEGO NÚMERO {modulo}</b> CON UNA SUPERFICIE DE{\" \"}\n\t\t\t\t\t\t\t<b>{supRiego} HECTAREAS</b> DE DERECHOS DE RIEGO DE{\" \"}\n\t\t\t\t\t\t\t<b>{sistemaRiego.toUpperCase()}</b>, EN LA <b>PARCELA NÚMERO {predio}</b>, EN{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{tipoLocalidad.toUpperCase()} {nombreLocalidad}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t{reacomodo.length > 0 && <b> (REACOMODO {reacomodo})</b>}, DEL MUNICIPIO DE{\" \"}\n\t\t\t\t\t\t\t<b>{municipio.toUpperCase()}</b>, <b>{estado.toUpperCase()}</b>.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; LA PRESENTE SE EXTIENDE CON CARÁCTER INFORMATIVO A PETICIÓN\n\t\t\t\t\t\t\tDEL INTERESADO PARA LOS FINES QUE ESTIME CONVENIENTES Y SE LE RECUERDA QUE DE ACUERDO\n\t\t\t\t\t\t\tA LA NORMATIVA EN MATERIA DE AGUAS ES DEBER DEL USUARIO, CONCESIONARIO O ASIGNATARIO,\n\t\t\t\t\t\t\tSEGUIR LOS TRÁMITES Y PROCEDIMIENTOS ADMINISTRATIVOS RELATIVOS PARA LA ACTUALIZACIÓN\n\t\t\t\t\t\t\tDE LA INFORMACIÓN, TRANSMISIÓN, CESIÓN DE DERECHOS DE AGUA EN EL PADRÓN.\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; LA CONSTANCIA SE EMITE, SIN PREJUZGAR SOBRE LA EXISTENCIA DE\n\t\t\t\t\t\t\tALGUNA OTRA SOLICITUD, PROCEDIMIENTO ADMINISTRATIVO, SUCESORIO O JUDICIAL QUE NO SE\n\t\t\t\t\t\t\tHAYA HECHO DE CONOCIMIENTO AL MOMENTO DE FORMULAR SU PETICIÓN.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row pt-4\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">ATENTAMENTE</div>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex mt-4\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\tDR. JULIO ALFONSO NAVARRO URBINA,\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tING. EN JEFE DEL DISTRITO DE RIEGO 014,\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tRÍO COLORADO, BAJA CALIFORNIA Y SONORA\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 mt-4\">\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\tC.c.p.- Archivo <br />\n\t\t\t\t\t\t\t\tVMMR/JDLA/KPM\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-10 d-flex\">\n\t\t\t\t\t\t\t<div className=\"align-self-center pl-4 pr-4 pb-2 mb-3\">\n\t\t\t\t\t\t\t\t<div>Av. Reforma y calle “L” s/n Col. Nueva, Mexicali, Baja California.</div>\n\t\t\t\t\t\t\t\t<div>Teléfono: (686) 551 64 00. </div>\n\t\t\t\t\t\t\t\t<div>http//:www.gob.mx/conagua</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-end mt-5\">\n\t\t\t\t\t\t\t\t<img src={\"./logos/pie-2022.png\"} alt=\"Logo mexico\" style={{ maxWidth: 970 }} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-4\">\n\t\t\t\t\t\t{constancySaved ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-print-none\"\n\t\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={handleSaveConstancy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadCostancies = async (usuario, anio) => {\n\tconst campos = [\"apPaterno\", \"cuenta\"];\n\tconst qryConstancies = [];\n\tconst constancies = [];\n\n\tconst constanciesRef = db.collection(\"constancias\").doc(`${anio}`).collection(\"constancias\");\n\n\tcampos.forEach((campo) => {\n\t\tqryConstancies.push(\n\t\t\tconstanciesRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(usuario)\n\t\t\t\t.endAt(usuario + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqryConstancies.push(constanciesRef.where(campo, \"==\", Number(usuario)).get());\n\t});\n\n\tconst resolvedConstanciesQrys = await Promise.all(qryConstancies);\n\n\tresolvedConstanciesQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconstancies.push({\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t});\n\n\treturn constancies;\n};\n","import React from \"react\";\n\nexport const ConstancySelectedDetail = ({ constancy, setModalState }) => {\n\tconst handleOpenModal = () => {\n\t\tconst date = constancy.fecha.toDate();\n\t\tconsole.log(date);\n\t\tsetModalState({\n\t\t\topenModal: true,\n\t\t\tconstancySaved: true,\n\t\t\tconstancia: { ...constancy, fecha: date }\n\t\t});\n\t};\n\n\tconst usuario = `${constancy.apPaterno} ${constancy.apMaterno} ${constancy.nombre}`;\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div>\n\t\t\t\t<h5>Folio:{constancy.folio}</h5>\n\t\t\t</div>\n\t\t\t<div>Cuenta: {constancy.cuenta}</div>\n\t\t\t<div>Usuario: {usuario}</div>\n\t\t\t<div>\n\t\t\t\t{constancy.tipoLocalidad}: {constancy.nombreLocalidad}\n\t\t\t</div>\n\t\t\t<div>Lote: {constancy.predio}</div>\n\t\t\t<div>Sección: {constancy.seccion}</div>\n\t\t\t<div>Módulo: {constancy.modulo}</div>\n\t\t\t<div>Sup. Derecho: {constancy.supRiego}</div>\n\t\t\t<div>Sistema: {constancy.sistemaRiego}</div>\n\t\t\t{constancy.reacomodo && <div className=\"text-info\">Reacomodo: {constancy.reacomodo}</div>}\n\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-primary m-4\" onClick={handleOpenModal}>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useConstancyModuleState } from \"../../../hooks/useConstancyModuleState\";\nimport { ConstancySelectedDetail } from \"../../padron/ConstancySelectedDetail\";\nimport { usuariosColumns } from \"../../tables/configTables\";\nimport { CustomTable } from \"../../tables/CustomTable\";\n\nexport const ConstancyModule = ({ modalState, setModalState }) => {\n\tconst [moduleState, setModuleState] = useState({\n\t\tusuario: \"\",\n\t\tconstancySelected: false,\n\t\tconstancies: []\n\t});\n\tconst { usuario, constancySelected, constancies } = moduleState;\n\n\tconst [\n\t\thandleInputChange,\n\t\tclearUsuarioInput,\n\t\thandleSetConstancies,\n\t\thandleKeyUp,\n\t\tsetConstancylected\n\t] = useConstancyModuleState(moduleState, setModuleState);\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Consulta de constancias</h4>\n\n\t\t\t<div className=\"row mt-3\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"d-flex form-group align-items-baseline\">\n\t\t\t\t\t\t<label>Usuario: </label>\n\n\t\t\t\t\t\t{constancySelected ? (\n\t\t\t\t\t\t\t<div className=\"ml-2\">\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t{`${constancySelected.apPaterno} ${constancySelected.apMaterno} ${constancySelected.nombre}`}\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={clearUsuarioInput}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-3\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={usuario}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={handleSetConstancies}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{constancies.length > 0 && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={constancies.length === 0 ? \"No se encontraron constancias\" : \"Constancias\"}\n\t\t\t\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\t\t\t\tdata={constancies}\n\t\t\t\t\t\t\tsimpleSetFunction={setConstancylected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{constancySelected && (\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<ConstancySelectedDetail\n\t\t\t\t\t\t\t\tconstancy={constancySelected}\n\t\t\t\t\t\t\t\tmodalState={modalState}\n\t\t\t\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { loadCostancies } from \"../helpers/DB/loadConstancies\";\n\nexport const useConstancyModuleState = (moduleState, setModuleState) => {\n\tconst handleInputChange = ({ target }) => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tusuario: target.value.toUpperCase()\n\t\t});\n\t};\n\n\tconst clearUsuarioInput = () => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tusuario: \"\",\n\t\t\tconstancySelected: false\n\t\t});\n\t};\n\n\tconst handleSetConstancies = async () => {\n\t\tconst constancies = await loadCostancies(moduleState.usuario, \"2021\");\n\t\tsetModuleState({ ...moduleState, constancies });\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSetConstancies();\n\t\t}\n\t};\n\n\tconst setConstancylected = (row) => {\n\t\tsetModuleState({\n\t\t\t...moduleState,\n\t\t\tconstancySelected: row\n\t\t});\n\t};\n\n\treturn [\n\t\thandleInputChange,\n\t\tclearUsuarioInput,\n\t\thandleSetConstancies,\n\t\thandleKeyUp,\n\t\tsetConstancylected\n\t];\n};\n","import React, { useState } from \"react\";\nimport DatePicker from \"react-date-picker\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\nimport { setDictamenData } from \"../../actions/usuarios\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"450px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const DictamenModal = ({ isOpenModal, setDictamenFormState, setIsOpenDictamenPrint }) => {\n\tconst dispatch = useDispatch();\n\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { cultivos } = useSelector((state) => state.altaPermisos);\n\n\tconst cultivosIds = [];\n\tconst filteredCultivos = cultivos.filter((cultivo) => {\n\t\tif (!cultivosIds.includes(cultivo.id)) {\n\t\t\tcultivosIds.push(cultivo.id);\n\t\t\treturn true;\n\t\t} else return false;\n\t});\n\n\tconst closeModal = () => {\n\t\tsetDictamenFormState({ isOpenDictamenForm: false });\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper();\n\tconst {\n\t\tnombreProductor = \"\",\n\t\thabilitadora = \"\",\n\t\tlaboresCulturales = \"\",\n\t\tdictamenTecnico = \"\",\n\t\tobservaciones = \"\",\n\t\tcultivoDictamen = \"\"\n\t} = formValues;\n\n\tconst [cader, setCader] = useState(\"\");\n\tconst [fechaRiego, setFechaRiego] = useState(null);\n\tconst [fechaSiembraSeco, setFechaSiembraSeco] = useState(null);\n\tconst [fechaSiembraHumedo, setFechaSiembraHumedo] = useState(null);\n\n\t// console.log(cader);\n\t// console.log({ ...formValues, fechaRiego, fechaSiembraSeco, fechaSiembraHumedo });\n\n\tconst caders = [\n\t\t\"HECHICERA\",\n\t\t\"BENITO JUAREZ\",\n\t\t\"CERRO PRIETO\",\n\t\t\"GPR VICTORIA\",\n\t\t\"COLONIAS NUEVAS\",\n\t\t\"DELTA\",\n\t\t\"VALLE CHICO\",\n\t\t\"DDR SAN LUIS\"\n\t];\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(\n\t\t\t\tsetDictamenData({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tcader,\n\t\t\t\t\tfechaRiego,\n\t\t\t\t\tfechaSiembraSeco,\n\t\t\t\t\tfechaSiembraHumedo\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tsetIsOpenDictamenPrint(true);\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (cultivos.find((cultivo) => cultivo.clave === Number(cultivoDictamen)) === undefined) {\n\t\t\tdispatch(setError(\"Se requiere clave de cultivo válida\"));\n\t\t\treturn false;\n\t\t} else if (nombreProductor.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre del productor\"));\n\t\t\treturn false;\n\t\t} else if (habilitadora.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere habilitadora\"));\n\t\t\treturn false;\n\t\t} else if (cader.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere cader\"));\n\t\t\treturn false;\n\t\t} else if (laboresCulturales.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere labores culturales\"));\n\t\t\treturn false;\n\t\t} else if (dictamenTecnico.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere dictamen técnico\"));\n\t\t\treturn false;\n\t\t} else if (fechaRiego === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de riego\"));\n\t\t\treturn false;\n\t\t} else if (fechaSiembraSeco === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de siembra en seco\"));\n\t\t\treturn false;\n\t\t} else if (fechaSiembraHumedo === null) {\n\t\t\tdispatch(setError(\"Se requiere fecha de siembra en humedo\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo dictamen</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error \">{msgError}</div>}\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t<label htmlFor=\"cultivos\" className=\"d-flex\">\n\t\t\t\t\t\t\t<div>* Cultivo:</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-4 w-75\"\n\t\t\t\t\t\t\t\tname=\"cultivoDictamen\"\n\t\t\t\t\t\t\t\tvalue={cultivoDictamen}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tlist=\"cultivos\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<datalist id=\"cultivos\">\n\t\t\t\t\t\t{filteredCultivos.map((cultivo) => (\n\t\t\t\t\t\t\t<option key={cultivo.id} value={cultivo.clave}>\n\t\t\t\t\t\t\t\t{cultivo.nombre}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</datalist>\n\n\t\t\t\t\t{/* <div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"nombreProductor\"\n\t\t\t\t\t\t\tvalue={nombreProductor}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Nombre Productor:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"nombreProductor\"\n\t\t\t\t\t\t\tvalue={nombreProductor}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* habilitadora:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"habilitadora\"\n\t\t\t\t\t\t\tvalue={habilitadora}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* CADER:\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={cader}\n\t\t\t\t\t\t\tonChange={({ target }) => setCader(target.value)}\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\t\tSeleccionar CADER\n\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t{caders.map((cader) => (\n\t\t\t\t\t\t\t\t<option key={cader} value={cader}>\n\t\t\t\t\t\t\t\t\t{cader}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Labores Culturales:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"laboresCulturales\"\n\t\t\t\t\t\t\tvalue={laboresCulturales}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t{/* dictamen tecnico */}\n\t\t\t\t\t\t* Dictamen Tecnico:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"dictamenTecnico\"\n\t\t\t\t\t\t\tvalue={dictamenTecnico}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t{/* fecha de riego */}\n\t\t\t\t\t\t* Fecha de riego:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaRiego\"\n\t\t\t\t\t\t\tonChange={setFechaRiego}\n\t\t\t\t\t\t\tvalue={fechaRiego}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Fecha de siembra en seco:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaSiembraSeco\"\n\t\t\t\t\t\t\tonChange={setFechaSiembraSeco}\n\t\t\t\t\t\t\tvalue={fechaSiembraSeco}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Fecha de siembra en humedo:\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tclassName=\"d-block\"\n\t\t\t\t\t\t\tname=\"fechaSiembraHumedo\"\n\t\t\t\t\t\t\tonChange={setFechaSiembraHumedo}\n\t\t\t\t\t\t\tvalue={fechaSiembraHumedo}\n\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\tObservaciones:\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttabIndex=\"10\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\t\tname=\"observaciones\"\n\t\t\t\t\t\t\tvalue={observaciones}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error mt-3\">{msgError}</div>}\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\tRevisar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveDictamen = async (cuenta, ciclo, newDictamen) => {\n\treturn db\n\t\t.collection(`dictamenes`)\n\t\t.doc(ciclo)\n\t\t.collection(\"dictamenes\")\n\t\t.doc(cuenta)\n\t\t.set(newDictamen)\n\t\t.then(() => {\n\t\t\tSwal.fire(\"Dictamen Guardado\", \"Se registró con éxito el dictamen.\", \"success\");\n\n\t\t\treturn true;\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\treturn false;\n\t\t});\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setDictamenDataSaved } from \"../../actions/usuarios\";\nimport { saveDictamen } from \"../../helpers/saveDictamen\";\n\nexport const PrintDictamenModal = ({\n\tisOpenDictamenPrint,\n\tsetIsOpenDictamenPrint,\n\tsetDictamenFormState,\n}) => {\n\tconst { padronScreen } = useSelector((state) => state.scenes);\n\tconst { dictamen } = padronScreen;\n\tconst { usuario } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { cicloActual } = useSelector((state) => state.auth.variablesGlobales);\n\tconst { cultivos } = useSelector((state) => state.altaPermisos);\n\n\tconst cultivo = cultivos.find((cultivo) => cultivo.clave === Number(dictamen.cultivoDictamen));\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tsetIsOpenDictamenPrint(false);\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\",\n\t\t},\n\t};\n\n\tconst handleSaveDictamen = async () => {\n\t\tconst isSave = saveDictamen(`${usuario.cuenta}.${usuario.subcta}`, cicloActual, {\n\t\t\t...dictamen,\n\t\t\testado: \"activo\",\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tdispatch(setDictamenDataSaved({ ...dictamen, estado: \"activo\" }));\n\t\t\tsetDictamenFormState({ isOpenDictamenForm: false });\n\t\t}\n\t};\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = new Date();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenDictamenPrint}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tSECRETARIA DE AGRICULTURA Y DESARROLLO RURAL <br />\n\t\t\t\t\t\tREPRESENTACION ESTATAL EN BAJA CALIFORNIA <br />\n\t\t\t\t\t\tCOMITÉ ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA <br />\n\t\t\t\t\t\tDICTAMEN TECNICO DE SIEMBRA CULTIVO {cultivo.nombre} <br />\n\t\t\t\t\t\tCICLO {cicloActual}\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 80 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"d-flex justify-content-end pt-5\">\n\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">NOMBRE DEL PRODUCTOR: {dictamen.nombreProductor}</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tNOMBRE DEL PROPIETARIO: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 mt-2 mb-2\">\n\t\t\t\t<div className=\"col-4 pl-4\">UBICACION: {usuario.nombreLocalidad}</div>\n\t\t\t\t<div className=\"col-2\">PARCELA: {usuario.predio}</div>\n\t\t\t\t<div className=\"col-2\">SUP: {usuario.supFisica}</div>\n\t\t\t\t<div className=\"col-4\">No. CUENTA: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 mt-2 mb-2\">\n\t\t\t\t<div className=\"col-4 pl-4\">HABILITADORA: {dictamen.habilitadora}</div>\n\t\t\t\t<div className=\"col-2\">MODULO: {usuario.entidad}</div>\n\t\t\t\t<div className=\"col-6\">CADER: {dictamen.cader}</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">LABORES CULTURALES: {dictamen.laboresCulturales}</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE RIEGO: {dictamen.fechaRiego.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE SIEMBRA EN SECO: {dictamen.fechaSiembraSeco.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tFECHA DE SIEMBRA EN HUMEDO: {dictamen.fechaSiembraHumedo.toLocaleDateString()}\n\t\t\t</div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">DICTAMEN TECNICO: {dictamen.dictamenTecnico}</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pl-5 pr-5 m-2\">\n\t\t\t\tOBSERVACIONES:\n\t\t\t\t<div className=\"d-block w-100 rounded border\" style={{ height: 100 }}>\n\t\t\t\t\t{dictamen.observaciones}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pt-5 d-flex justify-content-center\">\n\t\t\t\t{privilegios.generarDictamenesDdr && (\n\t\t\t\t\t<div className=\"col-4 d-flex flex-column ml-3\">\n\t\t\t\t\t\t<p className=\"pb-4 text-center\">\n\t\t\t\t\t\t\tJEFE DE DISTRITO DE DESARROLLO RURAL 002 RÍO COLORADO\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t<b>NOMBRE Y FIRMA</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"col-4 d-flex flex-column ml-3\">\n\t\t\t\t\t<p className=\"pb-5 text-center\">CESVBC</p>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>NOMBRE Y FIRMA</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{usuario.dictamen ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveDictamen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport {\n\tstartSetUsuarioSelected,\n\tunsetUsuarios,\n\tunsetUsuarioSelected,\n} from \"../../actions/usuarios\";\nimport { UsuarioInput } from \"../permisos/inputsNuevosPermisos/UsuarioInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { UsuarioSelectedDetail } from \"./UsuarioSelectedDetail\";\nimport { UpdatePadronModule } from \"../ui/organisms/UpdatePadronModule\";\nimport { UpdateReacomodosModule } from \"../ui/organisms/UpdateReacomodosModule\";\nimport { DownloadPadronButton } from \"../ui/atoms/DownloadPadronButton\";\nimport { PrintConstancyModal } from \"../modals/PrintConstancyModal\";\nimport { ConstancyModule } from \"../ui/organisms/ConstancyModule\";\nimport { DictamenModal } from \"../modals/DictamenModal\";\nimport { PrintDictamenModal } from \"../modals/PrintDictamenModal\";\nimport { startSetCatalogoDeCultivos } from \"../../actions/cultivos\";\n\nexport const PadronDeUsuariosSection = () => {\n\tconst { usuarios, usuario } = useSelector((state) => state.entidades);\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { padronScreen } = useSelector((state) => state.scenes);\n\tconst { dictamen } = padronScreen;\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(unsetUsuarios());\n\t\tdispatch(startSetCatalogoDeCultivos());\n\t}, [dispatch]);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t}\n\n\tconst [modalState, setModalState] = useState({\n\t\topenModal: false,\n\t\tconstancySaved: false,\n\t\tconstancia: {},\n\t});\n\tconst { openModal, constancia, constancySaved } = modalState;\n\n\tconst [dictamenFormState, setDictamenFormState] = useState({\n\t\tisOpenDictamenForm: false,\n\t});\n\tconst { isOpenDictamenForm } = dictamenFormState;\n\n\tconst [isOpenDictamenPrint, setIsOpenDictamenPrint] = useState(true);\n\n\tconst [global, setGlobal] = useState(false);\n\tconst handleSetGlogal = () => {\n\t\tsetGlobal(!global);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Consulta en padron de usuarios</h4>\n\t\t\t<div className=\"row mt-2 d-flex justify-content-start\">\n\t\t\t\t<div className=\"col-sm-1 mt-3\">\n\t\t\t\t\t{privilegios.accesoGlobal &&\n\t\t\t\t\t\t(global ? (\n\t\t\t\t\t\t\t<button onClick={handleSetGlogal} className=\"btn btn-primary mr-3\">\n\t\t\t\t\t\t\t\tGlobal\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button onClick={handleSetGlogal} className=\"btn btn-outline-primary mr-3\">\n\t\t\t\t\t\t\t\tGlobal\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<UsuarioInput global={global} />\n\n\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t<DownloadPadronButton />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{usuarios && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-8 mb-3\">\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t{usuario && (\n\t\t\t\t\t\t\t<UsuarioSelectedDetail\n\t\t\t\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\"></div>\n\n\t\t\t{privilegios.generarConstancias && (\n\t\t\t\t<ConstancyModule modalState={modalState} setModalState={setModalState} className=\"mt-5\" />\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\"></div>\n\n\t\t\t{privilegios.actualizarPadron && (\n\t\t\t\t<div className=\"border border-info rounded p-3 mt-3\">\n\t\t\t\t\t<h3 className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\tActualizar padron de usuarios y reacomodos\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdatePadronModule />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-6 mt-3 mb-3\">\n\t\t\t\t\t\t\t<UpdateReacomodosModule />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{openModal && (\n\t\t\t\t<PrintConstancyModal\n\t\t\t\t\topenModal={openModal}\n\t\t\t\t\tconstancia={constancia}\n\t\t\t\t\tconstancySaved={constancySaved}\n\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{isOpenDictamenForm && (\n\t\t\t\t<DictamenModal\n\t\t\t\t\tisOpenModal={isOpenDictamenForm}\n\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\tsetIsOpenDictamenPrint={setIsOpenDictamenPrint}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{dictamen && (\n\t\t\t\t<PrintDictamenModal\n\t\t\t\t\tisOpenDictamenPrint={isOpenDictamenPrint}\n\t\t\t\t\tsetDictamenFormState={setDictamenFormState}\n\t\t\t\t\tsetIsOpenDictamenPrint={setIsOpenDictamenPrint}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadPadronesDeCultivos = async (ciclo) => {\n\tconst padronesSnap = await db.collectionGroup(\"padron\").where(\"ciclo\", \"==\", ciclo).get();\n\tconst modulosSnap = await db.collectionGroup(\"modulos\").where(\"ciclo\", \"==\", ciclo).get();\n\n\tconst concesiones = [];\n\tconst cultivos = [];\n\tconst modulos = [];\n\n\tpadronesSnap.forEach((registro) => {\n\t\tconst i = cultivos.findIndex((cultivo) => cultivo === registro.data().cultivo);\n\t\tif (i === -1) cultivos.push(registro.data().cultivo);\n\t\tconcesiones.push({\n\t\t\tid: registro.id,\n\t\t\t...registro.data()\n\t\t});\n\t});\n\n\tmodulosSnap.forEach((modulo) => {\n\t\tmodulos.push({ id: modulo.id, ...modulo.data() });\n\t});\n\n\treturn { concesiones, cultivos, modulos };\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport Swal from \"sweetalert2\";\n\nexport const saveConcesionCultivo = async (concesion) => {\n\tconsole.log(concesion);\n\n\tconst newConcesion = { ...concesion };\n\tdelete newConcesion.id;\n\n\tconst concesionRef = db\n\t\t.collection(\"padronesCultivos\")\n\t\t.doc(concesion.ciclo)\n\t\t.collection(\"padrones\")\n\t\t.doc(concesion.cultivo)\n\t\t.collection(\"padron\")\n\t\t.doc(`${concesion.idProductor}-${concesion.cultivo}-${concesion.modulo}`);\n\n\tconst concesionModuloRef = db\n\t\t.collection(\"padronesCultivos\")\n\t\t.doc(concesion.ciclo)\n\t\t.collection(\"padrones\")\n\t\t.doc(concesion.cultivo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`${concesion.cultivo}-${concesion.modulo}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst concesionInDb = await transaction.get(concesionRef);\n\t\t\tconst concesionModuloInDb = await transaction.get(concesionModuloRef);\n\n\t\t\tif (concesionInDb.exists) {\n\t\t\t\ttransaction.update(concesionModuloRef, {\n\t\t\t\t\tsupConcesion: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\tconcesion.supConcesion - concesionInDb.data().supConcesion\n\t\t\t\t\t)\n\t\t\t\t});\n\n\t\t\t\ttransaction.update(concesionRef, { supConcesion: concesion.supConcesion });\n\t\t\t} else {\n\t\t\t\tif (concesionModuloInDb.exists) {\n\t\t\t\t\ttransaction.update(concesionModuloRef, {\n\t\t\t\t\t\tsupConcesion: firebase.firestore.FieldValue.increment(concesion.supConcesion)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(concesionModuloRef, {\n\t\t\t\t\t\tcultivo: concesion.cultivo,\n\t\t\t\t\t\tmodulo: concesion.modulo,\n\t\t\t\t\t\tciclo: concesion.ciclo,\n\t\t\t\t\t\tsupConcesion: concesion.supConcesion,\n\t\t\t\t\t\tsupExpedida: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttransaction.set(concesionRef, newConcesion);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Cambios guardados.\", \"Los datos se actualizaron correctamente.\", \"success\");\n\t\t}\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar los cambios.\", \"error\");\n\n\t\treturn false;\n\t}\n};\n","import { loadPadronesDeCultivos } from \"../helpers/DB/loadPadronesDeCultivos\";\nimport { saveConcesionCultivo } from \"../helpers/DB/saveConcesionCultivo\";\nimport { types } from \"../types/types\";\n\nexport const startSetPadronesCultivos = () => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst padrones = await loadPadronesDeCultivos(state.auth.variablesGlobales.cicloActual);\n\n\t\tdispatch(setPadronesCultivos(padrones));\n\t};\n};\n\nexport const setPadronesCultivos = (padrones) => ({\n\ttype: types.setPadronesCultivos,\n\tpayload: padrones\n});\n\nexport const setConcesionSelected = (concesion) => ({\n\ttype: types.setConcesionSelected,\n\tpayload: concesion\n});\n\nexport const startSaveConcesion = (concesion) => {\n\treturn async (dispatch, getState) => {\n\t\tconst state = getState();\n\t\tconst isSave = saveConcesionCultivo(concesion);\n\n\t\tif (isSave) {\n\t\t\tconst newConcesiones = state.padronScreen.padrones.concesiones.map((concesionState) => {\n\t\t\t\tif (concesionState.id === concesion.id) return concesion;\n\t\t\t\telse return concesionState;\n\t\t\t});\n\n\t\t\tif (!newConcesiones.find((concesionInNew) => concesionInNew.id === concesion.id)) {\n\t\t\t\tnewConcesiones.push(concesion);\n\t\t\t}\n\n\t\t\tdispatch(\n\t\t\t\tsetPadronesCultivos({\n\t\t\t\t\t...state.padronScreen.padrones,\n\t\t\t\t\tconcesiones: newConcesiones\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n};\n\nexport const setCultivosConPadron = (cultivos) => ({\n\ttype: types.setCultivosConPadron,\n\tpayload: cultivos\n});\n","import { types } from \"../types/types\";\nimport { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const openNuevoProductorModal = () => ({\n\ttype: types.altaPermisoOpenNuevoProductorModal\n});\n\nexport const closeNuevoProductorModal = () => ({\n\ttype: types.altaPermisoCloseNuevoProductorModal\n});\n\n// TODO: Comprobar que el rfc no exista\nexport const startSaveProductor = (productor) => {\n\treturn (dispatch) => {\n\t\tlet productorRef = db.collection(\"productores\").doc(productor.curp);\n\t\tif (productor.genero === \"MORAL\") {\n\t\t\tproductorRef = db.collection(\"productores\").doc(`${productor.curp}-PM`);\n\t\t}\n\n\t\tproductorRef.get().then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst { apPaterno, apMaterno, nombre, curp } = doc.data();\n\t\t\t\tSwal.fire(\n\t\t\t\t\t`El CURP ${curp} ya existe!`,\n\t\t\t\t\t`NOMBRE: ${apPaterno} ${apMaterno} ${nombre}`,\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tproductorRef.set(productor).then(() => {\n\t\t\t\t\tSwal.fire(\"Productor registrado\", \"Se registró con éxito el nuevo productor.\", \"success\");\n\t\t\t\t\tdispatch(closeNuevoProductorModal());\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeProductoresModal, startSetProductorSelected } from \"../../actions/productores\";\nimport { openNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { productoresColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const ProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openProductoresModal, productores } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(productores);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t};\n\n\tconst changeProductorModal = () => {\n\t\tdispatch(closeProductoresModal());\n\t\tdispatch(openNuevoProductorModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openProductoresModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron productores\" : \"Productores\"}\n\t\t\t\tcolumns={productoresColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetProductorSelected}\n\t\t\t\tcloseFunction={closeProductoresModal}\n\t\t\t></CustomTable>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={changeProductorModal}>\n\t\t\t\t\t<span>Registrar nuevo productor </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { startSaveConcesion } from \"../../actions/padronScreenActions\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { modulos } from \"../../helpers/consts\";\n\nexport const ConcesionCard = ({ concesion }) => {\n\tconst { id, curp, nombre, cultivo, modulo, ciclo, supConcesion, supExpedida } = concesion;\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { concesiones } = useSelector((state) => state.padronScreen.padrones);\n\n\tconst [supConcesionInput, setSupConcesionInput] = useState(supConcesion);\n\tuseEffect(() => {\n\t\tsetSupConcesionInput(supConcesion);\n\t}, [supConcesion]);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSaveConcesion = () => {\n\t\tif (isFormValid())\n\t\t\tdispatch(\n\t\t\t\tstartSaveConcesion({\n\t\t\t\t\t...concesion,\n\t\t\t\t\tsupConcesion: supConcesionInput,\n\t\t\t\t\tmodulo: modulo ? modulo : moduloOption,\n\t\t\t\t\tid: modulo ? id : `${concesion.idProductor}-${cultivo}-${moduloOption}`\n\t\t\t\t})\n\t\t\t);\n\t};\n\n\tconst [moduloOption, setModuloOption] = useState(\"\");\n\n\tconst isFormValid = () => {\n\t\tif (supConcesion < 0) {\n\t\t\tdispatch(setError(\"La concesión de superficie no puede ser negativa.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (supConcesion - supExpedida < 0) {\n\t\t\tdispatch(setError(\"La concesión de superficie no puede ser menor a la superficie expedida.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (modulo === false && moduloOption.length === 0) {\n\t\t\tdispatch(setError(\"Indique el módulo del productor.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (\n\t\t\tmodulo === false &&\n\t\t\tconcesiones.find(\n\t\t\t\t(concesionInState) =>\n\t\t\t\t\tconcesionInState.id === `${concesion.idProductor}-${cultivo}-${moduloOption}`\n\t\t\t)\n\t\t) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t`El productor ya esta registrado en el padrón de \"${cultivo}\" en el módulo ${moduloOption}.`\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<h4>{id}</h4>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-2 pt-4 pb-4\">\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">CURP:</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{curp}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">Nombre:</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{nombre}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">Cultivo:</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{cultivo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t{modulo ? (\n\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t<label className=\"col-4\">Móduo:</label>\n\t\t\t\t\t\t<div className=\"col-7 ml-1\">{modulo}</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t<label className=\"col-4\">Móduo:</label>\n\t\t\t\t\t\t<div className=\"col-7 ml-1\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={moduloOption}\n\t\t\t\t\t\t\t\tonChange={(e) => setModuloOption(e.target.value)}\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\t\t\tMóduo\n\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t{modulos.map((modulo) => (\n\t\t\t\t\t\t\t\t\t<option key={modulo} value={modulo}>\n\t\t\t\t\t\t\t\t\t\t{modulo}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">Ciclo:</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{ciclo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-3\">\n\t\t\t\t\t<label className=\"col-4\">Concesión (Ha):</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tclassName=\"col-7 form-control ml-1\"\n\t\t\t\t\t\tplaceholder=\"Superficie en Concesión\"\n\t\t\t\t\t\tname=\"supConcesion\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={supConcesionInput}\n\t\t\t\t\t\tonChange={(e) => setSupConcesionInput(Number(e.target.value))}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">Expedida (Ha):</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{supExpedida}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-4\">Restante (Ha):</label>\n\t\t\t\t\t<div className=\"col-7 ml-1\">{supConcesionInput - supExpedida}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary mt-4\"\n\t\t\t\t\tonClick={handleSaveConcesion}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport { setConcesionSelected, startSetPadronesCultivos } from \"../../actions/padronScreenActions\";\nimport { openProductoresModal, startLoadProductores } from \"../../actions/productores\";\nimport { removeError } from \"../../actions/ui\";\nimport { ProductorModal } from \"../modals/ProductorModal\";\nimport { concesionesColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { ConcesionCard } from \"./ConcesionCard\";\n\nexport const PadronesDeCultivos = () => {\n\tconst { padronScreen } = useSelector((state) => state);\n\tconst { cicloActual } = useSelector((state) => state.auth.variablesGlobales);\n\tconst { idProductorSelected, productores } = useSelector((state) => state.altaPermisos);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(startSetPadronesCultivos());\n\t\tdispatch(removeError());\n\t}, [dispatch]);\n\n\tconst [cultivo, setCultivo] = useState();\n\n\tuseEffect(() => {\n\t\tif (productores.length > 0 && idProductorSelected) {\n\t\t\tconst productor = productores.find((productor) => productor.id === idProductorSelected);\n\t\t\tdispatch(\n\t\t\t\tsetConcesionSelected({\n\t\t\t\t\tid: `${productor.id}-${cultivo}-`,\n\t\t\t\t\tsupExpedida: 0,\n\t\t\t\t\tsupConcesion: 0,\n\t\t\t\t\tidProductor: productor.id,\n\t\t\t\t\tnombre: `${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`,\n\t\t\t\t\tcurp: productor.curp,\n\t\t\t\t\tciclo: cicloActual,\n\t\t\t\t\tmodulo: false,\n\t\t\t\t\tcultivo\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}, [idProductorSelected, cicloActual, cultivo, productores, dispatch]);\n\n\tconst data = padronScreen.padrones\n\t\t? padronScreen.padrones.concesiones.filter((concesion) => concesion.cultivo === cultivo)\n\t\t: [];\n\n\tconst [nameFilter, setNameFilter] = useState(\"\");\n\n\tconst filteredData = data.filter((registro) =>\n\t\tregistro.nombre.includes(nameFilter.toUpperCase())\n\t);\n\n\tconst handleOpenProductorModal = () => {\n\t\tif (nameFilter.length > 0) {\n\t\t\tdispatch(openProductoresModal());\n\t\t\tdispatch(startLoadProductores(nameFilter.toUpperCase()));\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno del productor\", \"warning\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t{padronScreen.padrones && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none\">\n\t\t\t\t\t\t{padronScreen.padrones.cultivos.map((cultivoName) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={cultivoName}\n\t\t\t\t\t\t\t\tclassName={`btn btn-outline-primary ${cultivoName === cultivo && \"active\"}`}\n\t\t\t\t\t\t\t\tonClick={() => setCultivo(cultivoName)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{cultivoName}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{cultivo && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\" row mt-4\">\n\t\t\t\t\t\t\t\t<label className=\"col-sm-2\">Nombre del productor:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"col-sm-4 form-control ml-1\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del productor\"\n\t\t\t\t\t\t\t\t\tname=\"cultivoName\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={nameFilter}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNameFilter(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary col-sm-2 ml-2\"\n\t\t\t\t\t\t\t\t\tonClick={handleOpenProductorModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-plus mr-2\"></i>\n\t\t\t\t\t\t\t\t\t<span>Registrar Productor</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\t\t\t\ttitle={filteredData.length === 0 ? \"No se encontraron cultivos\" : \"Cultivos\"}\n\t\t\t\t\t\t\t\t\t\tcolumns={concesionesColumns}\n\t\t\t\t\t\t\t\t\t\tdata={filteredData}\n\t\t\t\t\t\t\t\t\t\tsetFunction={setConcesionSelected}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t\t\t{padronScreen.concesionSelected && (\n\t\t\t\t\t\t\t\t\t\t<ConcesionCard concesion={padronScreen.concesionSelected} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<ProductorModal />\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ProductoresModule } from \"./ProductoresModule\";\nimport { PadronDeUsuariosSection } from \"./PadronDeUsuariosSection\";\nimport { useState } from \"react\";\nimport { PadronesDeCultivos } from \"./PadronesDeCultivos\";\n\nexport const PadronScreen = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\n\tconst sections = {\n\t\t\"Padron De Usuarios\": privilegios.consultarPadron && <PadronDeUsuariosSection />,\n\t\t\"Padron De Productores\": privilegios.editarProductores && <ProductoresModule />,\n\t\t\"Padrones De Cultivos\": privilegios.editarPadronesCultivos && <PadronesDeCultivos />\n\t};\n\n\tconst [section, setSection] = useState(\"Padron De Usuarios\");\n\tconst sectionsNames = Object.keys(sections);\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none\">\n\t\t\t\t\t{sectionsNames.map((sectionName) => {\n\t\t\t\t\t\tif (sections[sectionName]) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={sectionName}\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-primary ${sectionName === section && \"active\"}`}\n\t\t\t\t\t\t\t\t\tonClick={() => setSection(sectionName)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{sectionName}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else return <div key={sectionName}></div>;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">{sections[section]}</div>\n\t\t</div>\n\t);\n};\n","import { types } from \"../types/types\";\n\nexport const setFormValues = (values) => ({\n\ttype: types.altaPermisosSetFormValues,\n\tpayload: values\n});\n\nexport const setOnSubmitData = (data) => ({\n\ttype: types.altaPermisosSetSubmitData,\n\tpayload: data\n});\n\nexport const unsetOnSubmitData = () => ({\n\ttype: types.altaPermisosUnsetSubmitData\n});\n\nexport const openPrintPermisoModal = () => ({\n\ttype: types.altaPermisoOpenPrintPermisoModal\n});\n\nexport const closePrintPermisoModal = () => ({\n\ttype: types.altaPermisoClosePrintPermisoModal\n});\n\nexport const setEnEspera = () => ({\n\ttype: types.altaPermisosSetEnEspera\n});\n\nexport const unsetEnEspera = () => ({\n\ttype: types.altaPermisosUnsetEnEspera\n});\n\nexport const startEnableSaveButton = () => ({\n\ttype: types.altaPermisosEnableSaveButton\n});\n\nexport const startDisableSaveButton = () => ({\n\ttype: types.altaPermisosDisableSaveButton\n});\n\nexport const startEnablePrintButton = () => ({\n\ttype: types.altaPermisosEnablePrintButton\n});\n\nexport const startDisablePrintButton = () => ({\n\ttype: types.altaPermisosDisablePrintButton\n});\n\nexport const setCuotaCultivo = (cuota) => ({\n\ttype: types.setCuotaCultivo,\n\tpayload: cuota\n});\n\nexport const setTipoNormal = () => ({\n\ttype: types.setTipoNormal\n});\n\nexport const setTipoExtra = () => ({\n\ttype: types.setTipoExtra\n});\n\nexport const setComplemento = (complemento) => ({\n\ttype: types.setComplemento,\n\tpayload: complemento\n});\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\n\nexport const savePermitTransaction = async (allData) => {\n\tconst data = {\n\t\tidUsuarioSelected: allData.idUsuarioSelected,\n\t\tcuenta: allData.cuenta,\n\t\tusuario: allData.usuario,\n\t\tsupDerecho: allData.supDerecho,\n\t\tlote: allData.lote,\n\t\tlocalidad: allData.nombreLocalidad,\n\t\tnombreLocalidad: allData.nombreLocalidad,\n\t\ttipoLocalidad: allData.tipoLocalidad,\n\t\tclaveLocalidad: allData.claveLocalidad,\n\t\tmunicipio: allData.municipio,\n\t\testado: allData.estado,\n\t\tmodulo: allData.modulo,\n\t\tzona: allData.zona,\n\t\tseccion: allData.seccion,\n\t\tcanal: allData.canal,\n\t\ttoma: allData.toma,\n\t\tsistema: allData.sistema,\n\t\tidProductorSelected: allData.idProductorSelected,\n\t\tnombreProductor: allData.nombreProductor,\n\t\trfcProductor: allData.rfcProductor,\n\t\tcurpProductor: allData.curpProductor ? allData.curpProductor : \"\",\n\t\tidCultivoSelected: allData.idCultivoSelected,\n\t\tnombreCultivo: allData.nombreCultivo,\n\t\tclaveCultivo: allData.claveCultivo,\n\t\tsubciclo: allData.subciclo,\n\t\tcuotaCultivo: allData.cuotaCultivo,\n\t\tsupPrevia: allData.supPrevia,\n\t\ttipo: allData.tipo,\n\t\tciclo: allData.ciclo,\n\t\tnumeroPermiso: allData.numeroPermiso,\n\t\tfechaEmicion: moment(allData.fechaEmicion).toDate(),\n\t\tfechaLimite: moment(allData.fechaLimite).toDate(),\n\t\tvigencia: moment(allData.vigencia).toDate(),\n\t\tvariedad: allData.variedad,\n\t\tsupAutorizada: allData.supAutorizada,\n\t\tfuenteCredito: allData.fuenteCredito,\n\t\tlatitud: allData.latitud,\n\t\tlongitud: allData.longitud,\n\t\tcultivoAnterior: allData.cultivoAnterior,\n\t\tidCultivoAnteriorSelected: allData.idCultivoAnteriorSelected,\n\t\tclaveCultivoAnterior: allData.claveCultivoAnterior,\n\t\tobservaciones: allData.observaciones,\n\t\tuid: allData.uid,\n\t\tname: allData.name,\n\t\tdotacionGravedad: allData.dotacionGravedad,\n\t\tdotacionPozo: allData.dotacionPozo,\n\t\ttitular: allData.titular,\n\t\ttransferencia: allData.transferencia,\n\t\testadoPermiso: allData.estadoPermiso,\n\t\treacomodo: allData.reacomodo ? allData.reacomodo : \"\",\n\t\tdireccion: allData.direccion,\n\t\ttipoSemilla: allData.tipoSemilla ? allData.tipoSemilla : \"\",\n\t\trequiereDictamen: allData.requiereDictamen ?? false,\n\t\trequiereComplementoVolumen: allData.requiereComplementoVolumen ?? false,\n\t\trequiereControlCPUS: allData.requiereControlCPUS ?? false,\n\t\tpermisosVinculados: allData.permisosComplemento.map((permiso) => permiso.id),\n\t\tmensajeFijo: allData.mensajeFijo ?? false,\n\t};\n\n\tif (data.nombreCultivo === \"ALGODONERO\") {\n\t\tdata.tecnico = false;\n\t\tdata.desfoliado = false;\n\t\tdata.cosechado = false;\n\t\tdata.desvarado = false;\n\t\tdata.disqueado = false;\n\t\tdata.desarraigado = false;\n\t\tdata.superficieMapeada = 0;\n\t\tdata.pagado = false;\n\t\tdata.constanciaFitosanitaria = false;\n\t\tdata.laboresPendientes = true;\n\t}\n\n\tconst permisosPorCultivoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.doc(`${data.claveCultivo}-${data.nombreCultivo}`);\n\n\tconst permisoRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(data.numeroPermiso);\n\n\tconst contadorPermisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(data.ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${data.modulo}`);\n\n\tconst concesionRef = db\n\t\t.collection(\"padronesCultivos\")\n\t\t.doc(data.ciclo)\n\t\t.collection(\"padrones\")\n\t\t.doc(data.nombreCultivo)\n\t\t.collection(\"padron\")\n\t\t.doc(`${data.idProductorSelected}-${data.nombreCultivo}-${data.modulo}`);\n\n\tconst concesionModuloRef = db\n\t\t.collection(\"padronesCultivos\")\n\t\t.doc(data.ciclo)\n\t\t.collection(\"padrones\")\n\t\t.doc(data.nombreCultivo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`${data.nombreCultivo}-${data.modulo}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst permiso = await transaction.get(permisoRef);\n\t\t\tconst permisosPorCultivo = await transaction.get(permisosPorCultivoRef);\n\t\t\tconst concesion = await transaction.get(concesionRef);\n\n\t\t\tif (permiso.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"El permiso ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir un permiso ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"El permiso ya existe!\");\n\t\t\t} else {\n\t\t\t\tif (concesion.exists) {\n\t\t\t\t\ttransaction.update(concesionRef, {\n\t\t\t\t\t\tsupExpedida: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t});\n\n\t\t\t\t\ttransaction.update(concesionModuloRef, {\n\t\t\t\t\t\tsupExpedida: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttransaction.set(permisoRef, data);\n\n\t\t\t\tif (data.permisosVinculados.length > 0) {\n\t\t\t\t\tdata.permisosVinculados.forEach((permiso) => {\n\t\t\t\t\t\tconst permisoComplementoRef = db\n\t\t\t\t\t\t\t.collection(`permisos`)\n\t\t\t\t\t\t\t.doc(data.ciclo)\n\t\t\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t\t\t.doc(`Modulo-${data.modulo}`)\n\t\t\t\t\t\t\t.collection(`permisos`)\n\t\t\t\t\t\t\t.doc(permiso);\n\n\t\t\t\t\t\t// Puse array de permisos vinculados a pesar de que solo es un permiso ya que el proceso de cancelacion de permisos requiere un array de permisos.\n\t\t\t\t\t\tconst arrayPermisos = [];\n\t\t\t\t\t\tarrayPermisos.push(data.numeroPermiso);\n\n\t\t\t\t\t\ttransaction.update(permisoComplementoRef, {\n\t\t\t\t\t\t\tpermisosVinculados: arrayPermisos,\n\t\t\t\t\t\t\tobservaciones: `Complemento aplicado en el permiso \"${data.numeroPermiso}\" de la cuenta \"${data.cuenta}\".`,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttransaction.update(contadorPermisosRef, {\n\t\t\t\t\tnumeroPermisosModulo: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t});\n\n\t\t\t\tif (permisosPorCultivo.exists) {\n\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (allData.sistema) {\n\t\t\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\t\t\tif (allData.tipo === \"normal\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (allData.tipo === \"extra\") {\n\t\t\t\t\t\t\t\ttransaction.set(permisosPorCultivoRef, {\n\t\t\t\t\t\t\t\t\tsubciclo: data.subciclo,\n\t\t\t\t\t\t\t\t\testado: data.estado,\n\t\t\t\t\t\t\t\t\tmodulo: data.modulo,\n\t\t\t\t\t\t\t\t\tclave: allData.claveCultivo,\n\t\t\t\t\t\t\t\t\tcultivo: allData.nombreCultivo,\n\t\t\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(allData.supAutorizada),\n\t\t\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\t\t\t\tallData.supAutorizada\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Permiso Guardado\", \"Se registró con éxito el nuevo permiso de riego.\", \"success\");\n\t\t}\n\n\t\treturn isSave;\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Por favor intente más tarde.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tclosePrintPermisoModal,\n\tstartDisableSaveButton,\n\tunsetOnSubmitData,\n\tstartEnablePrintButton,\n\tsetEnEspera,\n\tunsetEnEspera,\n\tstartEnableSaveButton,\n\tstartDisablePrintButton,\n} from \"../../actions/altaPermisos\";\nimport { unsetCultivoAnteriorSelected, unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetPermisosComplemento, unsetProductorSelected } from \"../../actions/productores\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { savePermitTransaction } from \"../../helpers/DB/savePermitTransaction\";\n\nconst customStyles = {\n\tcontent: {\n\t\twidth: \"1125px\",\n\t\theight: \"1500px\",\n\t\toverflow: \"auto\",\n\t},\n};\n\nexport const PrintPermisoModal = ({ data, isNew, formValues, setValues = () => {} }) => {\n\tconst { openPrintPermisoModal, enableSaveButton, enablePrintButton, enEspera } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closePrintPermisoModal());\n\t\tdispatch(unsetOnSubmitData());\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(unsetCultivoAnteriorSelected());\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(startEnableSaveButton());\n\t\tdispatch(startDisablePrintButton());\n\t\tdispatch(unsetEnEspera());\n\t\tdispatch(unsetPermisosComplemento());\n\t\tsetValues({ ...formValues, observaciones: \"\" });\n\t};\n\n\tconst handleSavePermiso = async () => {\n\t\tdispatch(startDisableSaveButton());\n\t\tdispatch(setEnEspera());\n\n\t\tconst isSave = await savePermitTransaction(data);\n\n\t\tif (isSave) {\n\t\t\tdispatch(unsetEnEspera());\n\t\t\tdispatch(startEnablePrintButton());\n\t\t} else {\n\t\t\tdispatch(unsetEnEspera());\n\t\t\tdispatch(startEnableSaveButton());\n\t\t}\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst toUpper = (string) => {\n\t\tlet str = \"\";\n\t\tif (string) str = string;\n\t\treturn str.toUpperCase();\n\t};\n\n\tconst getDotacion = (sistema) => {\n\t\tif (sistema === \"Gravedad\") return data.dotacionGravedad;\n\t\tif (sistema === \"Pozo Federal\") return data.dotacionPozo;\n\t\tif (sistema === \"Pozo Particular\") return data.dotacionPozo;\n\t};\n\n\tconst defineModulo = () => {\n\t\tswitch (data.modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\tif (data.zona === 9) return \"9A\";\n\t\t\t\telse if (data.zona === 92) return \"9B\";\n\t\t\t\telse return data.zona;\n\n\t\t\tdefault:\n\t\t\t\treturn data.zona;\n\t\t}\n\t};\n\n\tconst defineTituloFirmaTitular = () => {\n\t\tswitch (data.modulo) {\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn \"ENCARGADO/A\";\n\n\t\t\tdefault:\n\t\t\t\treturn \"PRESIDENTE\";\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openPrintPermisoModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModal pl-5 pr-5 pb-0 mb-0\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t{/* Marca de agua ***************************************************************** */}\n\n\t\t\t{data.estadoPermiso === \"activo\" ? (\n\t\t\t\t<></>\n\t\t\t) : (\n\t\t\t\t<div className=\"watermark rotar\">{data.estadoPermiso}</div>\n\t\t\t)}\n\n\t\t\t{/* Header ************************************************************************ */}\n\n\t\t\t<div className=\"row mt-5\"></div>\n\n\t\t\t<div className=\"row mt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"col-3 d-flex flex-column justify-content-center\">\n\t\t\t\t\t{/* <div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo SADER\" style={{ maxHeight: 35 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3\">\n\t\t\t\t\t\t<img src={\"./logos/srl.png\"} alt=\"Logo CRL\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">DISTRITO DE RIEGO RÍO COLORADO</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<span className=\"printPermisoSubLogo\">S DE R.L. DE I.P. DE C.V.</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border border-dark rounded d-flex justify-content-left mt-4 w-200\">Folio: </div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-6 d-flex flex-column justify-content-center\">\n\t\t\t\t\t{/* <h1 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>PERMISO ÚNICO DE SIEMBRA</b>\n\t\t\t\t\t</h1>\n\t\t\t\t\t<h3 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>DISTRITO DE RIEGO 014 RÍO COLORADO</b>\n\t\t\t\t\t</h3> */}\n\t\t\t\t\t<h2 className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>Ciclo Agrícola {data.ciclo}</b>\n\t\t\t\t\t</h2>\n\t\t\t\t\t{/* <h3 className=\"d-flex flex-column justify-content-center\">\n\t\t\t\t\t\t<div>{data.direccion}</div>\n\t\t\t\t\t</h3> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex flex-column justify-content-center\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t{/* <img\n\t\t\t\t\t\t\tsrc={\"./logos/cna.png\"}\n\t\t\t\t\t\t\talt=\"Logo comisión nacional del agua\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 50 }}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border border-dark rounded d-flex justify-content-center\">\n\t\t\t\t\t\t<h2 className=\"m-0\">\n\t\t\t\t\t\t\t<b>Folio: {data.numeroPermiso}</b>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t{moment(data.fechaEmicion).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos del usuario ******************************************************************* */}\n\t\t\t<div className=\"row mt-4\"></div>\n\t\t\t<div className=\"row mt-5\"></div>\n\t\t\t<h3 className=\"row d-flex justify-content-center\">\n\t\t\t\t<div>{data.direccion}</div>\n\t\t\t</h3>\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center border border-dark rounded\">\n\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS DEL USUARIO</div>\n\n\t\t\t\t<div className=\"d-flex justify-content-center border-top border-dark p-1 pb-0\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thectáreas del lote: <b>{data.lote}</b> en la colonia/ejido <b>{data.nombreLocalidad}</b>\n\t\t\t\t\t\t, <b>{data.municipio}</b>, <b>{data.estado}</b>. Módulo <b>{defineModulo()}</b>, sección{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.<br />\n\t\t\t\t\t\t{data.reacomodo && <b> Reacomodo: {data.reacomodo}</b>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Parrafo legal ********************************************************************** */}\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center\">\n\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\tCon base en el Acuerdo Nacional de Colaboración entre la Secretaría de Agricultura,\n\t\t\t\t\tGanadería, Desarrollo Rural, Pesca y Alimentación y el Acuerdo de Concertación entre la\n\t\t\t\t\tSAGARPA, CONAGUA, Distrito de Riego Río Colorado y la Sociedad de Responsabilidad Limitada\n\t\t\t\t\tcon el objetivo de regular en forma ordenada la expedición de Permisos Únicos de Siembra\n\t\t\t\t\tcon Derechos de Agua, y con fundamento en los artículos 66, 67, 68, 69 y 69 Bis de la Ley\n\t\t\t\t\tde Aguas Nacionales; Reglamento de la Ley de Sanidad Fitopecuaria de los Estados Unidos\n\t\t\t\t\tMexicanos, en materia de sanidad vegetal, Normas Mexicanas, NOM-026-FITO-1995, que\n\t\t\t\t\testablece el control de plagas de algodonero, NOM-001-FITO-2001, para el manejo y\n\t\t\t\t\teliminación de focos de infección de plagas, mediante el reordenamiento de fechas de\n\t\t\t\t\tsiembra y destrucción de residuos. Se otorga el Permiso Único de Siembra para que\n\t\t\t\t\testablezca exclusivamente el cultivo y superficie que se indica, apercibiendose que se\n\t\t\t\t\tpuede suspender el servicio de riego si se siembra superficie adicional o cultivo\n\t\t\t\t\tdiferente al autorizado en este permiso.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Detalle de cultivo y superficie ***************************************************** */}\n\n\t\t\t<div className=\"row m-3 mt-0 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DETALLES DEL CULTIVO</div>\n\t\t\t\t\t<div className=\"border-top border-dark p-1\">\n\t\t\t\t\t\tTipo de permiso: <b>{toUpper(data.tipo)}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreCultivo} (Clave: {data.claveCultivo})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSubciclo: <b>{data.subciclo}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tSuperficie autorizada: <b>{data.supAutorizada} ha</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFecha límite de siembra: <b>{moment(data.fechaLimite).format(\"DD/MM/YYYY\")}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column border border-dark rounded\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">SUPERFICIE Y DOTACIÓN VOLUMÉTRICA</div>\n\t\t\t\t\t<div className=\"row border-top border-dark d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Descripción</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Derecho de riego</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Utilizada Previamente</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Autorizada en este permiso</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>Disponible</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>Hectáreas</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supDerecho}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{data.supPrevia}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border\">\n\t\t\t\t\t\t\t<div>{data.supAutorizada}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho - data.supPrevia - data.supAutorizada, 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row border-top d-flex text-dotacion\">\n\t\t\t\t\t\t<div className=\"col-3 border p-0\">\n\t\t\t\t\t\t\t<div className=\"p-0 ml-2\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t\t\tl.p.s./24 hrs en Parcela\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supDerecho * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supPrevia * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-3 border align-self-start\">\n\t\t\t\t\t\t\t<div>{roundToN(data.supAutorizada * getDotacion(data.sistema), 3)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-2 border align-self-start\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t(data.supDerecho - data.supPrevia - data.supAutorizada) *\n\t\t\t\t\t\t\t\t\t\tgetDotacion(data.sistema),\n\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<div className=\"ml-2\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t\t\tDotación en condiciones normales. No incluye ajuste por reducciones establecidas en\n\t\t\t\t\t\t\t\tel acta 323 de la CILA que deberá ser aplicado por el Módulo de Riego.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos complementarios  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3 d-flex\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center \">DATOS COMPLEMENTARIOS</div>\n\t\t\t\t\t<div className=\"border-top border-dark p-1\">\n\t\t\t\t\t\tCultivo Anterior: <b>{data.cultivoAnterior}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFuente de crédito: <b>{data.fuenteCredito}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tVariedad: <b>{data.variedad}</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{data.nombreProductor} ({data.curpProductor})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-1\"></div>\n\n\t\t\t\t<div className=\"col-7 d-flex flex-column p-0\">\n\t\t\t\t\t{/* Observaciones  ************************************************************* */}\n\t\t\t\t\t<div className=\"border border-dark rounded\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center \">OBSERVACIONES</div>\n\t\t\t\t\t\t<div className=\"border-top border-dark d-flex text-dotacion p-1\">\n\t\t\t\t\t\t\t<p>{data.observaciones}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Transferencia  ************************************************************* */}\n\t\t\t\t\t<div className=\"border border-dark rounded mt-3 p-2\">\n\t\t\t\t\t\t{/* <div className=\"d-flex justify-content-center \">TRANSFERENCIA</div>\n\t\t\t\t\t\t<div className=\"border-top border-dark d-flex text-dotacion p-1\">\n\t\t\t\t\t\t\t<p>{data.transferencia}</p>\n\t\t\t\t\t\t</div> */}\n\n\t\t\t\t\t\t{data.transferencia &&\n\t\t\t\t\t\t\tdata.transferencia.length > 0 &&\n\t\t\t\t\t\t\t`TRANSFERENCIA INTERNA: ${data.transferencia}`}\n\n\t\t\t\t\t\t{data.mensajeFijo && `  ${data.mensajeFijo}`}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Firmas  ************************************************************* */}\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">Módulo</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.titular}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">{defineTituloFirmaTitular()}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">\n\t\t\t\t\t\tSanidad Vegetal\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-4 d-flex flex-column\">\n\t\t\t\t\t<div className=\"border-top border-dark firma d-flex justify-content-center\">\n\t\t\t\t\t\tFIRMA DEL USUARIO\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<b>{data.usuario}</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">Acepto de conformidad</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Advertencias  ************************************************************* */}\n\n\t\t\t<p className=\"row m-2\">\n\t\t\t\t<b>\n\t\t\t\t\t<u>\n\t\t\t\t\t\tADVERTENCIAS: (1) Es responsabilidad del usuario de este permiso, disponer de la\n\t\t\t\t\t\ttotalidad del volumen adicional requerido por el cultivo a establecer. (2) Para los\n\t\t\t\t\t\tsistemas de Gravedad y Pozo Federal un derecho de riego de 20 ha. alcanza para regar una\n\t\t\t\t\t\tsuperficie sembrada para el cultivo de Trigo = 20ha., Algodón = 15ha., Alfalfa 13ha.,\n\t\t\t\t\t\tEsparrago = 16ha., y Sorgo forrajero temprano = 18ha.\n\t\t\t\t\t</u>\n\t\t\t\t</b>\n\t\t\t</p>\n\n\t\t\t{/* Encavezado sanidad  ************************************************************* */}\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\t<div className=\"col-2\"></div>\n\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t<div className=\"row d-flex justify-content-between\">\n\t\t\t\t\t\t<div className=\"border border-dark rounded mt-2 p-2\">Folio: {data.numeroPermiso}</div>\n\t\t\t\t\t\t<div className=\"border border-dark rounded mt-2 p-2\">\n\t\t\t\t\t\t\tBueno por: $ {roundToN(data.cuotaCultivo * data.supAutorizada, 3)} pesos M.N.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Resivo Sanidad  ************************************************************* */}\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<u>\n\t\t\t\t\t\t\tRecibimos de El/la C.{\" \"}\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{data.usuario} La cantidad de {roundToN(data.cuotaCultivo * data.supAutorizada, 3)}{\" \"}\n\t\t\t\t\t\t\t\tpesos M.N.\n\t\t\t\t\t\t\t</b>{\" \"}\n\t\t\t\t\t\t\tPor concepto de aportación a las campañas Fitosanitarias, para el sostenimiento del\n\t\t\t\t\t\t\tcomité Estatal de Sanidad Vegetal.\n\t\t\t\t\t\t</u>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Datos usuario sanidad  ************************************************************* */}\n\n\t\t\t<div className=\"row m-3\">\n\t\t\t\t<div className=\"col-2 d-flex flex-column\">\n\t\t\t\t\t{/* <div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 70 }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">COMITÉ ESTATAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">SANIDAD VEGETAL DE</div>\n\t\t\t\t\t<div className=\"d-flex justify-content-center font12\">BAJA CALIFORNIA</div> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-10 d-flex flex-column border border-dark rounded p-0\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center border-bottom border-dark\">\n\t\t\t\t\t\tDATOS DEL USUARIO\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p className=\"m-2\">\n\t\t\t\t\t\tEl/la C.<b> {data.usuario}</b> con cuenta: <b>{data.cuenta}</b> tiene un derecho normal\n\t\t\t\t\t\tde <b>{data.supDerecho} </b>\n\t\t\t\t\t\thectáreas del lote: <b>{data.lote}</b> en la colonia <b>{data.nombreLocalidad}</b>,{\" \"}\n\t\t\t\t\t\t<b>{data.municipio}</b>, <b>{data.estado}</b>. Módulo <b>{defineModulo()}</b>, sección{\" \"}\n\t\t\t\t\t\t<b>{data.seccion}</b> del canal <b>{data.canal}</b> toma <b>{data.toma}</b> con sistema\n\t\t\t\t\t\tde riego por <b>{data.sistema}</b>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Logo sanidad  y botones************************************************************* */}\n\n\t\t\t<div className=\"row mb-0 pb-0\">\n\t\t\t\t<div className=\"col-12 d-flex justify-content-center align-items-center pt-2\">\n\t\t\t\t\t{enableSaveButton ? (\n\t\t\t\t\t\tisNew ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={handleSavePermiso}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enEspera ? (\n\t\t\t\t\t\t<div className=\"spinner-border border-dark text-primary\" role=\"status\">\n\t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{enablePrintButton ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\t\tonClick={imprimir}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport firebase from \"firebase/app\";\nimport Swal from \"sweetalert2\";\n\nexport const cancelPermit = async (permit, uid) => {\n\tconst {\n\t\tnumeroPermiso,\n\t\tmodulo,\n\t\tciclo,\n\t\tclaveCultivo,\n\t\tnombreCultivo,\n\t\tsistema,\n\t\ttipo,\n\t\tsupAutorizada\n\t} = permit;\n\tconst fecha = new Date();\n\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(numeroPermiso)\n\t\t.update({\n\t\t\testadoPermiso: \"Cancelado\",\n\t\t\tcuotaCultivo: 0,\n\t\t\tfechaCancelacion: fecha,\n\t\t\tapruebaCancelacion: uid\n\t\t});\n\n\ttry {\n\t\tconst permisoRef = db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(`modulos`)\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`);\n\n\t\tconst permisosExpedidosRef = db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`);\n\n\t\tconst permisosPorCultivoRef = db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisosPorCultivo`)\n\t\t\t.doc(`${claveCultivo}-${nombreCultivo}`);\n\n\t\tconst concesionRef = db\n\t\t\t.collection(\"padronesCultivos\")\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"padrones\")\n\t\t\t.doc(permit.nombreCultivo)\n\t\t\t.collection(\"padron\")\n\t\t\t.doc(`${permit.idProductorSelected}-${permit.nombreCultivo}-${modulo}`);\n\n\t\tconst concesionModuloRef = db\n\t\t\t.collection(\"padronesCultivos\")\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"padrones\")\n\t\t\t.doc(permit.nombreCultivo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`${permit.nombreCultivo}-${modulo}`);\n\n\t\tconst isCancel = await db.runTransaction(async (transaction) => {\n\t\t\tif (permit.permisosVinculados && permit.permisosVinculados.length > 0) {\n\t\t\t\tpermit.permisosVinculados.forEach((permiso) => {\n\t\t\t\t\ttransaction.update(permisoRef.doc(permiso), {\n\t\t\t\t\t\tpermisosVinculados: [],\n\t\t\t\t\t\tobservaciones: \"\"\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\ttransaction.update(permisoRef.doc(numeroPermiso), {\n\t\t\t\t\testadoPermiso: \"Cancelado\",\n\t\t\t\t\tcuotaCultivo: 0,\n\t\t\t\t\tfechaCancelacion: fecha,\n\t\t\t\t\tapruebaCancelacion: uid,\n\t\t\t\t\tpermisosVinculados: [],\n\t\t\t\t\tobservaciones: \"\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttransaction.update(permisoRef.doc(numeroPermiso), {\n\t\t\t\t\testadoPermiso: \"Cancelado\",\n\t\t\t\t\tcuotaCultivo: 0,\n\t\t\t\t\tfechaCancelacion: fecha,\n\t\t\t\t\tapruebaCancelacion: uid\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (permit.requiereControlCPUS) {\n\t\t\t\ttransaction.update(concesionRef, {\n\t\t\t\t\tsupExpedida: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\n\t\t\t\ttransaction.update(concesionModuloRef, {\n\t\t\t\t\tsupExpedida: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttransaction.update(permisosExpedidosRef, {\n\t\t\t\tsuperficieModulo: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t});\n\n\t\t\tswitch (sistema) {\n\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\tif (tipo === \"normal\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tgravedadNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tipo === \"extra\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tgravedadExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\tif (tipo === \"normal\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tpozoNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tipo === \"extra\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tpozoExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\tif (tipo === \"normal\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tpozoParticularNormal: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tipo === \"extra\") {\n\t\t\t\t\t\ttransaction.update(permisosPorCultivoRef, {\n\t\t\t\t\t\t\tnumeroPermisos: firebase.firestore.FieldValue.increment(-1),\n\t\t\t\t\t\t\tsuperficie: firebase.firestore.FieldValue.increment(supAutorizada * -1),\n\t\t\t\t\t\t\tpozoParticularExtra: firebase.firestore.FieldValue.increment(supAutorizada * -1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(\"Sistema de riego indefinido\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isCancel) {\n\t\t\tSwal.fire(\"Permiso cancelado\", `Se canceló con exito el permiso ${numeroPermiso}`, \"success\");\n\t\t}\n\n\t\treturn true;\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Por favor intente más tarde.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const getPermitStatus = async (permiso, modulo, ciclo) => {\n\tconst permit = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.get();\n\n\treturn permit.data().estadoPermiso;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const denegarCancelacionDePermiso = (permiso, modulo, ciclo) => {\n\ttry {\n\t\tdb.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(`modulos`)\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(permiso)\n\t\t\t.update({\n\t\t\t\testadoPermiso: \"activo\"\n\t\t\t});\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startLoadPreCancelPermits, unsetPermitToCancel } from \"../../actions/permisosScreen\";\nimport { cancelPermit } from \"../../helpers/DB/cancelPermit\";\nimport { getPermitStatus } from \"../../helpers/DB/getPermitStatus\";\nimport { denegarCancelacionDePermiso } from \"../../helpers/denegarCancelacionDePermiso\";\n\nexport const PermitToCancelCard = () => {\n\tconst { preCancelPermits, permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\tconst permit = preCancelPermits.find((perm) => perm.id === permitToCancelSelected);\n\tconst { uid } = useSelector((state) => state.auth);\n\tconst auth = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de cancelar el permiso ${permit.numeroPermiso}, ¿Realmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst permitStatus = await getPermitStatus(\n\t\t\t\t\tpermitToCancelSelected,\n\t\t\t\t\tpermit.modulo,\n\t\t\t\t\tauth.variablesGlobales.cicloActual\n\t\t\t\t);\n\t\t\t\tconsole.log(\"permitStatus en lugar: \", permitStatus);\n\n\t\t\t\tif (permitStatus === \"En proceso de cancelación\") {\n\t\t\t\t\tconst isCancel = cancelPermit(permit, uid);\n\t\t\t\t\tif (isCancel) {\n\t\t\t\t\t\tdispatch(startLoadPreCancelPermits(auth.variablesGlobales.cicloActual));\n\t\t\t\t\t\tdispatch(unsetPermitToCancel());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst denegarCancelacion = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Denegar solicitud de cancelación.\",\n\t\t\ttext: `El estado del permiso ${permit.numeroPermiso} quedará como \"activo\".`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst isDenied = denegarCancelacionDePermiso(\n\t\t\t\t\tpermit.numeroPermiso,\n\t\t\t\t\tpermit.modulo,\n\t\t\t\t\tpermit.ciclo\n\t\t\t\t);\n\t\t\t\tif (isDenied) {\n\t\t\t\t\tdispatch(startLoadPreCancelPermits(auth.variablesGlobales.cicloActual));\n\t\t\t\t\tdispatch(unsetPermitToCancel());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst elements = {\n\t\tMODULO: permit.modulo,\n\t\tCUENTA: permit.cuenta,\n\t\tUSUARIO: permit.usuario,\n\t\tCULTIVO: permit.nombreCultivo,\n\t\t\"SUPERFICIE (ha)\": permit.supAutorizada\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5>{permit.numeroPermiso}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"m-3\">\n\t\t\t\t<div className=\"row p-1 pl-2 text-warning\">\n\t\t\t\t\t<div className=\"col-4\">MOTIVO: </div>\n\t\t\t\t\t<div className=\"col-8\">{permit.motivoCancelacion}</div>\n\t\t\t\t</div>\n\n\t\t\t\t{Object.entries(elements).map((element) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"row p-1 pl-2\" key={element[0]}>\n\t\t\t\t\t\t\t<div className=\"col-4\">{element[0]}: </div>\n\t\t\t\t\t\t\t<div className=\"col-8\">{element[1]}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t<div className=\"mb-3 d-flex justify-content-center\">\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger\" onClick={cancelarPermiso}>\n\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary ml-4\" onClick={denegarCancelacion}>\n\t\t\t\t\t<span> Denegar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { setPermitToCancel, startLoadPreCancelPermits } from \"../../actions/permisosScreen\";\nimport { permisosColumns } from \"./configTables\";\nimport { CustomTable } from \"./CustomTable\";\n\nexport const PermitsCancelationTable = () => {\n\tconst { preCancelPermits } = useSelector((state) => state.permisosScreen);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst dispatch = useDispatch();\n\n\tif (!preCancelPermits) {\n\t\tdispatch(startLoadPreCancelPermits(ciclo));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (preCancelPermits) {\n\t\tpreCancelPermits.forEach((permiso) => {\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t\t});\n\t\t});\n\t}\n\n\treturn (\n\t\t<CustomTable\n\t\t\ttitle=\"Permisos en proceso de cancelación\"\n\t\t\tcolumns={permisosColumns}\n\t\t\tdata={permisosFormateados}\n\t\t\tsetFunction={setPermitToCancel}\n\t\t></CustomTable>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { PermitToCancelCard } from \"../../cards/PermitToCancelCard\";\nimport { PermitsCancelationTable } from \"../../tables/PermitsCancelationTable\";\n\nexport const PermitsCancellationModule = () => {\n\tconst { permitToCancelSelected } = useSelector((state) => state.permisosScreen);\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t<PermitsCancelationTable />\n\t\t\t</div>\n\t\t\t<div className=\"col-sm-4\">{permitToCancelSelected && <PermitToCancelCard />}</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { closeGuiaPrint, startSaveGuia } from \"../../actions/permisosScreen\";\n\nexport const PrintGuiaModal = () => {\n\tconst { isGuiaPrintModalOpen, guia } = useSelector((state) => state.permisosScreen);\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual } = variablesGlobales;\n\n\tconst dateOptions = { year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst formatter = new Intl.NumberFormat(\"es-MX\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"MXN\"\n\t});\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\tpadding: \"0 50px\",\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst closeModal = () => {\n\t\tdispatch(closeGuiaPrint());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSaveGuia = () => {\n\t\tconsole.log(\"Guardando...\");\n\t\tdispatch(startSaveGuia(cicloActual, guia));\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isGuiaPrintModalOpen}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row pr-5 pl-5 pt-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<h4 className=\"font-weight-bold text-danger text-center\">\n\t\t\t\t\t\t<b>CENTRO RECEPTOR </b>\n\t\t\t\t\t</h4>\n\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-7 text-center\">\n\t\t\t\t\t<h4 className=\"font-weight-bold\">REPRESENTACIÓN ESTATAL EN BAJA CALIFORNIA</h4>\n\t\t\t\t\t<h5 className=\"font-weight-bold mt-4\">\n\t\t\t\t\t\tCOMITÉ ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA\n\t\t\t\t\t</h5>\n\t\t\t\t\t<div className=\"font-weight-bold\">\n\t\t\t\t\t\tAPOYO PARA LA REALIZACIÓN DE LA CAMPAÑA VIGILANCIA EPIDEMIOLÓGICA FITOSANITARIA\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<h5 className=\"font-weight-bold text-danger\">FOLIO: {guia.folio}</h5>\n\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\"./logos/cesvbc.webp\"}\n\t\t\t\t\t\t\talt=\"Logo sanidad vegetal\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 110 }}\n\t\t\t\t\t\t\tclassName=\"mt-3\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"bg-secondary font-weight-bold text-light text-center\"\n\t\t\t\t\t\t\tstyle={{ fontSize: 10 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCERTIFICADO DE ORIGEN\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<div className=\"col-12 font-weight-bold\">DATOS DEL PRODUCTOR:</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border rounded p-2 mb-2\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">NOMBRE:</div>\n\t\t\t\t\t\t{guia.nombre}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">CUENTA CNA:</div>\n\t\t\t\t\t\t{guia.cuenta}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">UBICACIÓN:</div>\n\t\t\t\t\t\t{guia.tipoLocalidad} {guia.localidad}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">NO. PREDIO:</div>\n\t\t\t\t\t\t{guia.lote}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">PRODUCTOR:</div>\n\t\t\t\t\t\t{guia.productor}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">HAS:</div>\n\t\t\t\t\t\t{guia.superficie}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">FECHA:</div>\n\t\t\t\t\t\t{guia.fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">DESTINO COSECHA / RAZÓN SOCIAL DE LA EMPRESA:</div>\n\t\t\t\t\t{guia.empresaDestino}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">UBICACIÓN :</div>\n\t\t\t\t\t{guia.ubicacionDestino}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">CÁLCULO DE COSECHA :</div>\n\t\t\t\t\t{guia.superficie * guia.rendimiento} TON\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">COSTO :</div>\n\t\t\t\t\t{formatter.format(guia.costo)} MN / TON\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">COSTO TOTAL :</div>\n\t\t\t\t\t{formatter.format(guia.costo * (guia.superficie * guia.rendimiento))} MN\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">SUPERFICIE COSECHABLE :</div>\n\t\t\t\t\t{guia.superficie} HA\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">RENDIMIENTO :</div>\n\t\t\t\t\t{guia.rendimiento} TON/HA\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">PRODUCCIÓN TOTAL :</div>\n\t\t\t\t\t{guia.superficie * guia.rendimiento} TON\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 font-weight-bold\">\n\t\t\t\t\tPARA LA RECEPCIÓN DEL TRIGO GRANO AL CENTRO DE ACOPIO, DEBERÁ SER AMPARADO CON LA PRESENTE\n\t\t\t\t\tGUÍA FITOSANITARIA\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 font-weight-bold\">TRASLADO:</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\"> No TOLVAS:</div>\n\t\t\t\t\t{guia.TrasladoNoTolvas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">No TON:</div>\n\t\t\t\t\t{guia.TrasladoNoToneladas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">No MODULO(S):</div>\n\t\t\t\t\t{guia.TrasladoNoModulos}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">TON:</div>\n\t\t\t\t\t{guia.TrasladoToneladas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">TON.TOTALES:</div>\n\t\t\t\t\t{guia.TrasladoTonTotales}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-3\">\n\t\t\t\t<div className=\"col-12 font-weight-bold\">RECIBIDO EN CENTRO DE ACOPIO:</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\"> No TOLVAS:</div>\n\t\t\t\t\t{guia.RecibidoNoTolvas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">No TON:</div>\n\t\t\t\t\t{guia.RecibidoNoToneladas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">No MODULO(S):</div>\n\t\t\t\t\t{guia.RecibidoNoModulos}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">TON:</div>\n\t\t\t\t\t{guia.RecibidoToneladas}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold\">TON.TOTALES:</div>\n\t\t\t\t\t{guia.RecibidoTonTotales}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row border-top pr-5 pl-5 pt-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<h4 className=\"font-weight-bold text-danger text-center\">\n\t\t\t\t\t\t<b>CENTRO RECEPTOR </b>\n\t\t\t\t\t</h4>\n\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 60 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-7 text-center\">\n\t\t\t\t\t<h4 className=\"font-weight-bold\">REPRESENTACIÓN ESTATAL EN BAJA CALIFORNIA</h4>\n\t\t\t\t\t<h5 className=\"font-weight-bold mt-4\">\n\t\t\t\t\t\tCOMITÉ ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA\n\t\t\t\t\t</h5>\n\t\t\t\t\t<div className=\"font-weight-bold\">\n\t\t\t\t\t\tAPOYO PARA LA REALIZACIÓN DE LA CAMPAÑA VIGILANCIA EPIDEMIOLÓGICA FITOSANITARIA\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<h5 className=\"font-weight-bold text-danger\">FOLIO: {guia.folio}</h5>\n\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\"./logos/cesvbc.webp\"}\n\t\t\t\t\t\t\talt=\"Logo sanidad vegetal\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 110 }}\n\t\t\t\t\t\t\tclassName=\"mt-3\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"bg-secondary font-weight-bold text-light text-center\"\n\t\t\t\t\t\t\tstyle={{ fontSize: 10 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCERTIFICADO DE ORIGEN\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<div className=\"col-12 font-weight-bold\">DATOS DEL PRODUCTOR:</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border rounded p-2 mb-2\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">NOMBRE:</div>\n\t\t\t\t\t\t{guia.nombre}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">CUENTA CNA:</div>\n\t\t\t\t\t\t{guia.cuenta}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">UBICACIÓN:</div>\n\t\t\t\t\t\t{guia.tipoLocalidad} {guia.localidad}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">NO. PREDIO:</div>\n\t\t\t\t\t\t{guia.lote}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">PRODUCTOR:</div>\n\t\t\t\t\t\t{guia.productor}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">HAS:</div>\n\t\t\t\t\t\t{guia.superficie}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t\t<div className=\"font-weight-bold mr-2\">FECHA:</div>\n\t\t\t\t\t\t{guia.fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">DESTINO COSECHA / RAZÓN SOCIAL DE LA EMPRESA:</div>\n\t\t\t\t\t{guia.empresaDestino}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">UBICACIÓN :</div>\n\t\t\t\t\t{guia.ubicacionDestino}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">CÁLCULO DE COSECHA :</div>\n\t\t\t\t\t{guia.superficie * guia.rendimiento} TON\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">COSTO :</div>\n\t\t\t\t\t{formatter.format(guia.costo)} MN / TON\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">COSTO TOTAL :</div>\n\t\t\t\t\t{formatter.format(guia.costo * (guia.superficie * guia.rendimiento))} MN\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">SUPERFICIE COSECHABLE :</div>\n\t\t\t\t\t{guia.superficie} HA\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">RENDIMIENTO :</div>\n\t\t\t\t\t{guia.rendimiento} TON/HA\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex\">\n\t\t\t\t\t<div className=\"font-weight-bold mr-2\">PRODUCCIÓN TOTAL :</div>\n\t\t\t\t\t{guia.superficie * guia.rendimiento} TON\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{guia.guardado ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveGuia}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseGuiaForm,\n\topenGuiaPrint,\n\tsetDataGuia,\n\tstartSetFolioGuia\n} from \"../../actions/permisosScreen\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"450px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\n// Modal.setAppElement(\"#root\");\n\nexport const GuiaFormModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isGuiaFormModalOpen, permisos, permisoSelected } = useSelector(\n\t\t(state) => state.permisosScreen\n\t);\n\tconst permiso = permisos.find((permiso) => permiso.id === permisoSelected);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual } = variablesGlobales;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeGuiaForm());\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper();\n\tconst { empresaDestino = \"\", ubicacionDestino = \"\", rendimiento = 0, costo = 0 } = formValues;\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(startSetFolioGuia(cicloActual, modulo));\n\t\t\tdispatch(\n\t\t\t\tsetDataGuia({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tguardado: false,\n\t\t\t\t\tpermiso: permiso.id,\n\t\t\t\t\tproductor: permiso.nombreProductor,\n\t\t\t\t\tmodulo: permiso.modulo,\n\t\t\t\t\tnombre: permiso.usuario,\n\t\t\t\t\tlote: permiso.lote,\n\t\t\t\t\tsuperficie: permiso.supAutorizada,\n\t\t\t\t\ttipoLocalidad: permiso.tipoLocalidad,\n\t\t\t\t\tlocalidad: permiso.localidad,\n\t\t\t\t\tfecha: new Date(),\n\t\t\t\t\tcuenta: permiso.cuenta,\n\t\t\t\t\ttrasladoNoTolvas: \"\",\n\t\t\t\t\ttrasladoNoToneladas: \"\",\n\t\t\t\t\ttrasladoNoModulos: \"\",\n\t\t\t\t\ttrasladoToneladas: \"\",\n\t\t\t\t\ttrasladoTonTotales: \"\",\n\t\t\t\t\trecibidoNoTolvas: \"\",\n\t\t\t\t\trecibidoNoToneladas: \"\",\n\t\t\t\t\trecibidoNoModulos: \"\",\n\t\t\t\t\trecibidoToneladas: \"\",\n\t\t\t\t\trecibidoTonTotales: \"\"\n\t\t\t\t})\n\t\t\t);\n\t\t\tdispatch(openGuiaPrint());\n\t\t\tdispatch(closeGuiaForm());\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (empresaDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre de la empresa destino\"));\n\t\t\treturn false;\n\t\t} else if (ubicacionDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere la ubicación del destino\"));\n\t\t\treturn false;\n\t\t} else if (rendimiento <= 0) {\n\t\t\tdispatch(setError(\"Se requiere el rendimiento por hectarea\"));\n\t\t\treturn false;\n\t\t} else if (costo <= 0) {\n\t\t\tdispatch(setError(\"Se requiere el costo por hectarea\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isGuiaFormModalOpen}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de Guía</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error \">{msgError}</div>}\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Empresa Destino:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"empresaDestino\"\n\t\t\t\t\t\t\tvalue={empresaDestino}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Ubicación:\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"ubicacionDestino\"\n\t\t\t\t\t\t\tvalue={ubicacionDestino}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Rendimiento (TON/HA):\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"rendimiento\"\n\t\t\t\t\t\t\tvalue={rendimiento}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t* Costo ($/HA):\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"costo\"\n\t\t\t\t\t\t\tvalue={costo}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\tRevisar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\n\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { permisosColumns } from \"../tables/configTables\";\nimport {\n\tstartLoadPermisos,\n\tstartLoadPermisosSearch,\n\tstartLoadSuperficies,\n\topenGuiaForm,\n\tstartSetPermisoSelected,\n\topenGuiaPrint\n} from \"../../actions/permisosScreen\";\nimport { openPrintPermisoModal } from \"../../actions/altaPermisos\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { setPermisoInCancelProces } from \"../../helpers/setPermisoInCancelProces\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { SuperficiesChart } from \"../charts/SuperficiesChart\";\nimport { NuevoPermisoButton } from \"../buttons/NuevoPermisoButton\";\nimport { PermitsCancellationModule } from \"../ui/organisms/PermitsCancellationModule\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\nimport { PrintGuiaModal } from \"../modals/PrintGuiaModal\";\nimport { GuiaFormModal } from \"../modals/GuiaFormModal\";\n\nexport const PermisosScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected, guia, isGuiaPrintModalOpen } = useSelector(\n\t\t(state) => state.permisosScreen\n\t);\n\tconst { modulo, privilegios, expedicionActivaModulo, uid } = useSelector((state) => state.auth);\n\n\tconst { variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta: ciclo, expedicionActiva } = variablesGlobales;\n\n\tconst cultivosConGuia = [3];\n\n\tuseEffect(() => {\n\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\tdispatch(startLoadSuperficies(modulo, ciclo));\n\t\tdispatch(unsetUsuarioSelected());\n\t}, [dispatch, modulo, ciclo]);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(startLoadPermisosSearch(palabra, modulo, ciclo));\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese número de permiso, número de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet permisosFormateados = [];\n\n\tpermisos.forEach((permiso) => {\n\t\tpermisosFormateados.push({\n\t\t\t...permiso,\n\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\")\n\t\t});\n\t});\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tlet dataPermisoImprecion = {};\n\n\tif (dataPermiso !== undefined) {\n\t\tdataPermisoImprecion = {\n\t\t\t...dataPermiso,\n\t\t\tfechaEmicion: dataPermiso.fechaEmicion.toDate(),\n\t\t\tfechaLimite: dataPermiso.fechaLimite.toDate(),\n\t\t\tvigencia: dataPermiso.vigencia.toDate()\n\t\t};\n\t}\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst handleOpenPrintGuiaModal = () => {\n\t\tdispatch(openGuiaPrint());\n\t};\n\n\tconst startOpenGuiaForm = () => {\n\t\tdispatch(openGuiaForm());\n\t};\n\n\tconst cancelarPermiso = () => {\n\t\tSwal.fire({\n\t\t\tinput: \"textarea\",\n\t\t\tinputPlaceholder: \"Indique la razón por la que desea cancelar el permiso\",\n\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de cancelar el permiso ${dataPermiso.numeroPermiso}, ¿Realmente desea cancelar este permiso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(({ isConfirmed, value: motivo }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tif (motivo.length > 0) {\n\t\t\t\t\tsetPermisoInCancelProces(permisoSelected, modulo, ciclo, motivo, uid);\n\t\t\t\t\tdispatch(startLoadPermisos(modulo, ciclo));\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Solicitud recibida\",\n\t\t\t\t\t\t`Se inició el proceso de cancelación para el permiso ${dataPermiso.numeroPermiso}`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire(\"Error\", `Indique la razón por la que desea cancelar el permiso`, \"warning\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst getDotacion = (sistema) => {\n\t\tif (sistema === \"Gravedad\") return dataPermiso.dotacionGravedad;\n\t\tif (sistema === \"Pozo Federal\") return dataPermiso.dotacionPozo;\n\t\tif (sistema === \"Pozo Particular\") return dataPermiso.dotacionPozo;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-4 p-2\">\n\t\t\t\t\t\t\t{expedicionActiva && expedicionActivaModulo && privilegios.expedirPermisos && (\n\t\t\t\t\t\t\t\t<NuevoPermisoButton />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-8 d-inline-flex p-2 pr-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Número de permiso, número de cuenta o apellido paterno\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={permisosColumns}\n\t\t\t\t\t\tdata={permisosFormateados}\n\t\t\t\t\t\tsetFunction={startSetPermisoSelected}\n\t\t\t\t\t></CustomTable>\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t\t\t\t<h5>{dataPermiso.numeroPermiso}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.usuario}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">PRODUCTOR:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreProductor}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">CULTIVO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreCultivo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUBCICLO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.subciclo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SUPERFICIE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supAutorizada} ha</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">DOTACION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{roundToN(getDotacion(dataPermiso.sistema) * dataPermiso.supAutorizada, 3)} lts\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SISTEMA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.sistema}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.localidad}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">SECCION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.seccion}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">EXPEDICION:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">FECHA LIMITE:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">VIGENCIA:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t{moment(dataPermiso.vigencia.toDate()).format(\"DD/MM/YYYY\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t<div className=\"col-4\">ESTADO:</div>\n\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.estadoPermiso}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{dataPermiso.estadoPermiso !== \"activo\" && (\n\t\t\t\t\t\t\t\t<div className=\"bg-light rounded m-4 p-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-12\">DATOS DE LA SOLICITUD DE CANCELACIÓN</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">FECHA:</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t\t\t\t{dataPermiso.fechaSolicitudCancelacion.toDate().toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">MOTIVO:</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.motivoCancelacion}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreSolicitanteCancelacion}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">EMAIL:</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-8\">{dataPermiso.emailSolicitanteCancelacion}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t\t\t\t<div className=\"col-4 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-info\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleOpenPrintPermisoModal}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{cultivosConGuia.includes(dataPermiso.claveCultivo) &&\n\t\t\t\t\t\t\t\t\tdataPermiso.estadoPermiso === \"activo\" &&\n\t\t\t\t\t\t\t\t\tprivilegios.solicitarGuias && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t\t\t{guia ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-info\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleOpenPrintGuiaModal}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-file\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span> Imprimir Guía</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-info\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={startOpenGuiaForm}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-file\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span> Generar Guía</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div className=\"col-4 d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t{isAvailableCancelButton(\n\t\t\t\t\t\t\t\t\t\tdataPermiso.estadoPermiso,\n\t\t\t\t\t\t\t\t\t\tdataPermiso.permisosVinculados,\n\t\t\t\t\t\t\t\t\t\tdataPermiso.requiereControlCPUS\n\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\tprivilegios.solicitarCancelarPermisos && (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={cancelarPermiso}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t\t\t\t<SuperficiesChart />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{privilegios.cancelarPermisos && <PermitsCancellationModule />}\n\n\t\t\t<PrintPermisoModal data={dataPermisoImprecion} isNew={false} />\n\n\t\t\t{isGuiaPrintModalOpen && guia && <PrintGuiaModal />}\n\n\t\t\t<GuiaFormModal />\n\t\t</>\n\t);\n};\n\nconst isAvailableCancelButton = (estadoPermiso, permisosVinculados, requiereControlCPUS) => {\n\tif (estadoPermiso !== \"activo\") return false;\n\tif (permisosVinculados && permisosVinculados.length > 0 && requiereControlCPUS) return true;\n\tif (permisosVinculados && permisosVinculados.length === 0) return true;\n\tif (!permisosVinculados || permisosVinculados.length === 0) return true;\n\telse return false;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const setPermisoInCancelProces = (permiso, modulo, ciclo, motivo, uid) => {\n\tdb.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(`modulos`)\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.doc(permiso)\n\t\t.update({\n\t\t\testadoPermiso: \"En proceso de cancelación\",\n\t\t\tmotivoCancelacion: motivo,\n\t\t\tsolicitanteCancelacion: uid,\n\t\t\tfechaSolicitudCancelacion: new Date()\n\t\t});\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeCultivosModal, startSetCultivoSelected } from \"../../actions/cultivos\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { cultivosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const CultivoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openCultivosModal, cultivos } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(cultivos);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeCultivosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openCultivosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron cultivos\" : \"Cultivos\"}\n\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetCultivoSelected}\n\t\t\t\tcloseFunction={closeCultivosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUsuariosModal, startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { usuariosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\",\n\t},\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UsuarioModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openUsuariosModal, usuarios } = useSelector((state) => state.altaPermisos);\n\tlet data = [];\n\tdata = Object.values(usuarios);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUsuariosModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openUsuariosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t\tcloseFunction={closeUsuariosModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeNuevoProductorModal } from \"../../actions/nuevoProductor\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { startSaveProductor } from \"../../actions/nuevoProductor\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const NuevoProductorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenNuevoProductorModal } = useSelector((state) => state.altaPermisos);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { uid } = useSelector((state) => state.auth);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeNuevoProductorModal());\n\t\tdispatch(removeError());\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper();\n\n\tconst {\n\t\tapPaterno = \"\",\n\t\tdireccion = \"\",\n\t\tapMaterno = \"\",\n\t\testado = \"\",\n\t\tnombre = \"\",\n\t\tmunicipio = \"\",\n\t\trfc = \"\",\n\t\tcp = \"\",\n\t\tgenero = \"\",\n\t\ttelefono = \"\",\n\t\tcurp = \"\"\n\t} = formValues;\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tdispatch(\n\t\t\t\tstartSaveProductor({\n\t\t\t\t\t...formValues,\n\t\t\t\t\tapPaterno: apPaterno.toUpperCase(),\n\t\t\t\t\tapMaterno: apMaterno.toUpperCase(),\n\t\t\t\t\tnombre: nombre.toUpperCase(),\n\t\t\t\t\tdireccion: direccion.toUpperCase(),\n\t\t\t\t\testado: estado.toUpperCase(),\n\t\t\t\t\tmunicipio: municipio.toUpperCase(),\n\t\t\t\t\trfc: rfc.toUpperCase(),\n\t\t\t\t\tcurp: curp.toUpperCase(),\n\t\t\t\t\ttelefono: telefono.replace(/ /g, \"\"),\n\t\t\t\t\tuid,\n\t\t\t\t\tfechaRegistro: new Date()\n\t\t\t\t})\n\t\t\t);\n\t\t\t// closeModal();\n\t\t\t// TODO: Seleccionar el nuebo productor recien guardado\n\t\t\t// TODO: Enviar mensaje de confirmacion para nuevo productor\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (apPaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido paterno\"));\n\t\t\treturn false;\n\t\t} else if (direccion.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere direccion\"));\n\t\t\treturn false;\n\t\t} else if (apMaterno.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere apellido materno\"));\n\t\t\treturn false;\n\t\t} else if (estado.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere estado\"));\n\t\t\treturn false;\n\t\t} else if (nombre.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere nombre\"));\n\t\t\treturn false;\n\t\t} else if (municipio.trim().length === 0) {\n\t\t\tdispatch(setError(\"Se requiere municipio\"));\n\t\t\treturn false;\n\t\t} else if (curp.trim().length < 18 || curp.trim().length > 18) {\n\t\t\tdispatch(setError(\"CURP no valido\"));\n\t\t\treturn false;\n\t\t} else if (genero.length === 0) {\n\t\t\tdispatch(setError(\"Se requiere genero\"));\n\t\t\treturn false;\n\t\t} else if (genero === \"MORAL\" && rfc.trim().length !== 12) {\n\t\t\tdispatch(setError(\"RFC no valido\"));\n\t\t\treturn false;\n\t\t} else if (genero !== \"MORAL\" && rfc.trim().length !== 13) {\n\t\t\tdispatch(setError(\"RFC no valido\"));\n\t\t\treturn false;\n\t\t} else if (cp.trim().length < 5) {\n\t\t\tdispatch(setError(\"Codigo postal no valido\"));\n\t\t\treturn false;\n\t\t} else if (telefono.replace(/ /g, \"\").length < 10) {\n\t\t\tdispatch(setError(\"Telefono no valido\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenNuevoProductorModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Registro de nuevo productor</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">* Campos obligatorios</div>\n\n\t\t\t<form className=\"container pb-4\" autoComplete=\"waa\" onSubmit={handleRegister}>\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Paterno\"\n\t\t\t\t\t\t\tname=\"apPaterno\"\n\t\t\t\t\t\t\tvalue={apPaterno}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Direccion\"\n\t\t\t\t\t\t\tname=\"direccion\"\n\t\t\t\t\t\t\tvalue={direccion}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Apellido Materno\"\n\t\t\t\t\t\t\tname=\"apMaterno\"\n\t\t\t\t\t\t\tvalue={apMaterno}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Estado\"\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Nombre\"\n\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\tvalue={nombre}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Municipio\"\n\t\t\t\t\t\t\tname=\"municipio\"\n\t\t\t\t\t\t\tvalue={municipio}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CURP\"\n\t\t\t\t\t\t\tname=\"curp\"\n\t\t\t\t\t\t\tvalue={curp}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* CP\"\n\t\t\t\t\t\t\tname=\"cp\"\n\t\t\t\t\t\t\tvalue={cp}\n\t\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* RFC\"\n\t\t\t\t\t\t\tname=\"rfc\"\n\t\t\t\t\t\t\tvalue={rfc}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"* Telefono\"\n\t\t\t\t\t\t\tname=\"telefono\"\n\t\t\t\t\t\t\tvalue={telefono}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-2\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex align-items-baseline pt-2\">\n\t\t\t\t\t\t<span>*</span>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"masculino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MASCULINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"masculino\"> Masculino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"FEMENINO\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Femenino</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"px-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"femenino\"\n\t\t\t\t\t\t\t\tname=\"genero\"\n\t\t\t\t\t\t\t\tvalue=\"MORAL\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t<label htmlFor=\"femenino\"> Persona Moral</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-3\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseCultivosModal,\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const CultivoInput = ({ altaFormValues, setAltaFormValues }) => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tdispatch(closeCultivosModal());\n\t}, [dispatch]);\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst { claveEntidad } = useSelector((state) => state.auth);\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase(), claveEntidad));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tsetAltaFormValues({ ...altaFormValues, observaciones: \"\" });\n\t\tformValues.cultivo = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tcultivo: \"\"\n\t});\n\n\tconst { cultivo } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tCultivo:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\t\t\t\t{idCultivoSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"cultivoInput\"\n\t\t\t\t\t\t\ttabIndex=\"3\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Clave o nombre del cultivo\"\n\t\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idCultivoSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tcloseProductoresModal,\n\topenProductoresModal,\n\tstartLoadProductores,\n\tunsetProductorSelected\n} from \"../../../actions/productores\";\nimport { useFormToUpper } from \"../../../hooks/UseFormToUpper\";\n\nexport const ProductorInput = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(unsetProductorSelected());\n\t\tdispatch(closeProductoresModal());\n\t}, [dispatch]);\n\n\tconst handleOpenProductoresModal = () => {\n\t\thandleLoadProductores();\n\t\tif (productor.length > 0) {\n\t\t\tdispatch(openProductoresModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno del productor\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadProductores = () => {\n\t\tdispatch(startLoadProductores(productor.toUpperCase()));\n\t};\n\n\tconst { idProductorSelected, nombreProductor } = useSelector((state) => state.altaPermisos);\n\n\tlet productorLabel = \"\";\n\n\tif (idProductorSelected) {\n\t\tproductorLabel = nombreProductor;\n\t}\n\n\tconst clearProductorInput = () => {\n\t\tdispatch(unsetProductorSelected());\n\t\tformValues.productor = \"\";\n\t};\n\n\tconst [formValues, handleInputChange] = useFormToUpper({\n\t\tproductor: \"\"\n\t});\n\n\tconst { productor } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenProductoresModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\tProductor:{\" \"}\n\t\t\t\t</label>\n\t\t\t\t<label>{productorLabel} </label>\n\t\t\t\t{idProductorSelected ? <div className=\"fas fa-check text-success p-3\"></div> : <></>}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<></>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"productorInput\"\n\t\t\t\t\t\t\ttabIndex=\"2\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\t\tname=\"productor\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={productor}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{idProductorSelected ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearProductorInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenProductoresModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UsuarioSelected = () => {\n\tconst { usuarios, idUsuarioSelected, supPrevia, supDerecho } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t{usuario.laboresPendientes && (\n\t\t\t\t<div className=\"row mb-3\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"text-danger\">Labores fitosanitarias pendientes.</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">Cuenta: {`${usuario.cuenta}.${usuario.subcta}`}</div>\n\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t{usuario.tipoLocalidad}: {usuario.nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t{usuario.folio ? (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Derecho: {usuario.superficieTransferida}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Derecho: {supDerecho}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\tUsuario: {`${usuario.apPaterno} ${usuario.apMaterno} ${usuario.nombre}`}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Lote: {usuario.predio}</div>\n\t\t\t\t{supDerecho - supPrevia === 0 ? (\n\t\t\t\t\t<div className=\"col-sm-3 text-danger\">Sup. Disponible: {supDerecho - supPrevia}</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-sm-3\">Sup. Disponible: {supDerecho - supPrevia}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t{usuario.reacomodo && <div className=\"text-info\">Reacomodo: {usuario.reacomodo}</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-3\">Seccion: {usuario.seccion}</div>\n\t\t\t\t<div className=\"col-sm-3\">Sistema: {usuario.sistRiego}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const ProductorSelected = () => {\n\tconst { productores, idProductorSelected } = useSelector((state) => state.altaPermisos);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst productor = productores.find((productor) => productor.id === idProductorSelected);\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\tProductor: {`${productor.apPaterno} ${productor.apMaterno} ${productor.nombre}`}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-4\">CURP: {productor.curp}</div>\n\t\t\t\t<div className=\"col-sm-3\">RFC: {productor.rfc}</div>\n\t\t\t</div>\n\n\t\t\t{productor.concesiones &&\n\t\t\t\tproductor.concesiones.map((concesion) => {\n\t\t\t\t\tif (concesion.modulo === modulo)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"row\"\n\t\t\t\t\t\t\t\tkey={`${concesion.idProductor}-${concesion.modulo}-${concesion.cultivo}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-2\">Modulo: {concesion.modulo}</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-4\">Cultivo: {concesion.cultivo}</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-2\">Padrón: {concesion.supConcesion} (Ha)</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-2\">Expedida: {concesion.supExpedida} (Ha)</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-2\">\n\t\t\t\t\t\t\t\t\tDisponible: {concesion.supConcesion - concesion.supExpedida} (Ha)\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\telse return <></>;\n\t\t\t\t})}\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadContador = async (modulo, ciclo) => {\n\tlet contador = 0;\n\tawait db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tcontador = doc.data().numeroPermisosModulo;\n\t\t\t} else {\n\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.set({ numeroPermisosModulo: 0 });\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t});\n\n\treturn contador;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const CultivoSelected = () => {\n\tconst { claveCultivo, superficiePreviaCultivo, sistema, cultivos, supDerecho, supPrevia } =\n\t\tuseSelector((state) => state.altaPermisos);\n\n\tconst cultivoSelected = cultivos.find((cultivo) => cultivo.clave === claveCultivo);\n\n\tconst { autorizadosPorCultivo } = useSelector((state) => state.autorizadosScreen);\n\n\treturn (\n\t\t<div className=\"border rounded mb-4 p-2\">\n\t\t\t{cultivoSelected.requiereComplementoVolumen && (\n\t\t\t\t<div className=\"row mt-4 ml-3\">\n\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t<div className=\"text-warning\"> \"REQUIERE COMPLEMENTO DE VOLUMEN\"</div>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\tComplemento de volumen requerido por hectárea de cultivo:{\" \"}\n\t\t\t\t\t\t\t{cultivoSelected.complementoPorHa} (Ha)\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{supDerecho && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\tSuperficie máxima de cultivo con la dotación disponible de la cuenta:{\" \"}\n\t\t\t\t\t\t\t\t\t{roundToN((supDerecho - supPrevia) / (cultivoSelected.complementoPorHa + 1), 1)}{\" \"}\n\t\t\t\t\t\t\t\t\t(Ha)\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\tComplemento de volumen necesario para establecer la superficie disponible de la\n\t\t\t\t\t\t\t\t\tcuenta: {roundToN((supDerecho - supPrevia) * cultivoSelected.complementoPorHa, 1)}{\" \"}\n\t\t\t\t\t\t\t\t\t(Ha)\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{autorizadosPorCultivo.map((cultivo) => (\n\t\t\t\t<div key={cultivo.clave}>\n\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-inline-flex\">\n\t\t\t\t\t\t\t<div className=\"mr-4\">Cultivo: {cultivo.cultivo}</div>\n\t\t\t\t\t\t\t<div className=\"mr-4\">Clave: {cultivo.clave}</div>\n\t\t\t\t\t\t\t<div className=\"mr-4\">Subciclo: {cultivo.subciclo}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t\t\t\t<table className=\"table table-sm\">\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Superficie</th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\tAutorizada\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\tAsignada\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\tExpedida\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\tDisponible\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{sistema === \"Gravedad\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.gravedadNormalAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.gravedadNormalAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.gravedadNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadNormalAsignada - superficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.gravedadExtraAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.gravedadExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.gravedadExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadExtraAsignada - superficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.gravedadExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.gravedadExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{sistema === \"Pozo Federal\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoNormalAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada - superficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada - superficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada - superficiePreviaCultivo.pozoNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada - superficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada - superficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada - superficiePreviaCultivo.pozoExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{sistema === \"Pozo Particular\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Normal</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoNormalAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoParticularNormal, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoNormalAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularNormal,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Extra</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{cultivo.pozoExtraAsignada}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(superficiePreviaCultivo.pozoParticularExtra, 4)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada - superficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t) <= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcultivo.pozoExtraAsignada -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuperficiePreviaCultivo.pozoParticularExtra,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeCultivoAnteriorModal, setCultivoAnteriorSelected } from \"../../actions/cultivos\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { cultivosColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const CultivoAnteriorModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openCultivoAnteriorModal, cultivosAnteriores } = useSelector(\n\t\t(state) => state.altaPermisos\n\t);\n\tlet data = [];\n\tdata = Object.values(cultivosAnteriores);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeCultivoAnteriorModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openCultivoAnteriorModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron cultivos\" : \"Cultivo Anterior\"}\n\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setCultivoAnteriorSelected}\n\t\t\t\tcloseFunction={closeCultivoAnteriorModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTipoSemilla } from \"../../../actions/cultivos\";\n\nexport const VariedadInput = ({ variedad, handleInputChange }) => {\n\tconst { claveCultivo } = useSelector((state) => state.altaPermisos);\n\n\tconst [checkTipo, setCheckTipo] = useState(\"\");\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSetTipoSemilla = ({ target }) => {\n\t\tsetCheckTipo(target.name);\n\t\tdispatch(setTipoSemilla(target.name));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\tVariedad:\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"variedadInput\"\n\t\t\t\t\t\t\ttabIndex=\"6\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"variedad\"\n\t\t\t\t\t\t\tname=\"variedad\"\n\t\t\t\t\t\t\tvalue={variedad}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{claveCultivo === 3 && (\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tTipo:{\" \"}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"variedadTrigo\"\n\t\t\t\t\t\t\t\tname=\"panificable\"\n\t\t\t\t\t\t\t\tonChange={handleSetTipoSemilla}\n\t\t\t\t\t\t\t\tchecked={checkTipo === \"panificable\"}\n\t\t\t\t\t\t\t\tvalue={checkTipo}\n\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t<label htmlFor=\"panificable\"> Panificable </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"variedadTrigo\"\n\t\t\t\t\t\t\t\tname=\"cristalino\"\n\t\t\t\t\t\t\t\tonChange={handleSetTipoSemilla}\n\t\t\t\t\t\t\t\tchecked={checkTipo === \"cristalino\"}\n\t\t\t\t\t\t\t\tvalue={checkTipo}\n\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t<label htmlFor=\"cristalino\"> Cristalino </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"variedadTrigo\"\n\t\t\t\t\t\t\t\tname=\"semilla\"\n\t\t\t\t\t\t\t\tonChange={handleSetTipoSemilla}\n\t\t\t\t\t\t\t\tchecked={checkTipo === \"semilla\"}\n\t\t\t\t\t\t\t\tvalue={checkTipo}\n\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t<label htmlFor=\"semilla\"> Semilla </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{claveCultivo === 80 && (\n\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tTipo:{\" \"}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"variedadAlgodon\"\n\t\t\t\t\t\t\t\tname=\"transgenico\"\n\t\t\t\t\t\t\t\tonChange={handleSetTipoSemilla}\n\t\t\t\t\t\t\t\tchecked={checkTipo === \"transgenico\"}\n\t\t\t\t\t\t\t\tvalue={checkTipo}\n\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t<label htmlFor=\"transgenico\"> Transgénico </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tid=\"variedadAlgodon\"\n\t\t\t\t\t\t\t\tname=\"convencional\"\n\t\t\t\t\t\t\t\tonChange={handleSetTipoSemilla}\n\t\t\t\t\t\t\t\tchecked={checkTipo === \"convencional\"}\n\t\t\t\t\t\t\t\tvalue={checkTipo}\n\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t<label htmlFor=\"convencional\"> Convencional </label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { setCultivoAnteriorSelected } from \"../../../actions/cultivos\";\n\nexport const CultivoAnteriorInput = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { cultivosAnteriores, cultivoAnterior } = useSelector((state) => state.altaPermisos);\n\n\tconst handleSetCultivoAnterior = (e) => {\n\t\tdispatch(\n\t\t\tsetCultivoAnteriorSelected(\n\t\t\t\tcultivosAnteriores.find((cultivo) => cultivo.nombre === e.target.value)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t<label htmlFor=\"cultivos\" className=\"d-flex\">\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"text-warning\">* </span> Cultivo Anterior:\n\t\t\t\t</div>\n\t\t\t\t<select\n\t\t\t\t\tclassName=\"form-control ml-4 w-75\"\n\t\t\t\t\ttabIndex=\"5\"\n\t\t\t\t\tname=\"nombreCultivoAnterior\"\n\t\t\t\t\tvalue={cultivoAnterior}\n\t\t\t\t\tonChange={handleSetCultivoAnterior}\n\t\t\t\t\tlist=\"cultivos\"\n\t\t\t\t>\n\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\tCultivo Anterior\n\t\t\t\t\t</option>\n\n\t\t\t\t\t{/* <option value={\"SIN CULTIVO\"}>SIN CULTIVO</option> */}\n\n\t\t\t\t\t{cultivosAnteriores.map((cultivo) => (\n\t\t\t\t\t\t<option key={cultivo.id} value={cultivo.nombre}>\n\t\t\t\t\t\t\t{cultivo.nombre}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setComplemento } from \"../../../actions/altaPermisos\";\nimport { setPermisosComplemento } from \"../../../actions/productores\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const SuperficieInput = ({ formValues, handleInputChange, setValues }) => {\n\tconst { supAutorizada } = formValues;\n\n\tconst {\n\t\tclaveCultivo,\n\t\tsupDerecho,\n\t\tsupPrevia,\n\t\tcultivos,\n\t\tsupComplementoRequerida,\n\t\trestoSupComplementoRequerida,\n\t\tcomplementosProductor,\n\t\tpermisosComplemento\n\t} = useSelector((state) => state.altaPermisos);\n\n\tconst cultivoSelected = cultivos.find((cultivo) => cultivo.clave === claveCultivo);\n\tconst complementosDisponibles =\n\t\tcomplementosProductor && cultivoSelected\n\t\t\t? complementosProductor.filter(\n\t\t\t\t\t(complemento) => complemento.claveCultivo === cultivoSelected.cultivoComplementario\n\t\t\t  )\n\t\t\t: false;\n\tconst supComplemento = permisosComplemento.reduce(\n\t\t(total, permiso) => total + permiso.supAutorizada,\n\t\t0\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (cultivoSelected) {\n\t\t\tconst complemento = getComplemento(\n\t\t\t\tsupDerecho,\n\t\t\t\tsupPrevia,\n\t\t\t\tsupAutorizada,\n\t\t\t\tcultivoSelected.complementoPorHa\n\t\t\t);\n\n\t\t\tdispatch(\n\t\t\t\tsetComplemento({\n\t\t\t\t\tsupComplementoRequerida: complemento.supComplementoRequerida,\n\t\t\t\t\trestoSupComplementoRequerida: complemento.restoSupComplementoRequerida\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}, [dispatch, supAutorizada, cultivoSelected, supDerecho, supPrevia]);\n\n\tconst handleSetPermisosComplemento = (e) => {\n\t\tconst complemento = complementosDisponibles.find((permiso) => permiso.id === e.target.value);\n\t\tconst isSelected = permisosComplemento.find((permiso) => permiso.id === e.target.value);\n\n\t\tif (isSelected) {\n\t\t\tconst nuevosComplementos = permisosComplemento.filter(\n\t\t\t\t(permiso) => permiso.id !== e.target.value\n\t\t\t);\n\n\t\t\tdispatch(setPermisosComplemento(nuevosComplementos));\n\n\t\t\tlet textoComplementos = \"\";\n\n\t\t\tnuevosComplementos.forEach((complemento) => {\n\t\t\t\ttextoComplementos = `${textoComplementos} ${complemento.supAutorizada} Ha de complemento de volumen de la cuenta \"${complemento.cuenta}\" con el permiso \"${complemento.id}\". `;\n\t\t\t});\n\n\t\t\tsetValues({\n\t\t\t\t...formValues,\n\t\t\t\tobservaciones: textoComplementos\n\t\t\t});\n\t\t} else {\n\t\t\tconst nuevosComplementos = [...permisosComplemento];\n\t\t\tnuevosComplementos.push(complemento);\n\n\t\t\tdispatch(setPermisosComplemento(nuevosComplementos));\n\n\t\t\tlet textoComplementos = \"\";\n\n\t\t\tnuevosComplementos.forEach((complemento) => {\n\t\t\t\ttextoComplementos = `${textoComplementos} ${complemento.supAutorizada} Ha de complemento de volumen de la cuenta \"${complemento.cuenta}\" con el permiso \"${complemento.id}\". `;\n\t\t\t});\n\n\t\t\tsetValues({\n\t\t\t\t...formValues,\n\t\t\t\tobservaciones: textoComplementos\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setComplementoPropio = () => {\n\t\tconst complemento = getComplemento(\n\t\t\tsupDerecho,\n\t\t\tsupPrevia,\n\t\t\tsupAutorizada,\n\t\t\tcultivoSelected.complementoPorHa\n\t\t);\n\n\t\tsetValues({ ...formValues, supAutorizada: complemento.supMaxima });\n\n\t\tdispatch(\n\t\t\tsetComplemento({\n\t\t\t\tsupComplementoRequerida: complemento.supComplementoRequerida,\n\t\t\t\trestoSupComplementoRequerida: complemento.restoSupComplementoRequerida\n\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-6\">\n\t\t\t{cultivoSelected && cultivoSelected.requiereComplementoVolumen ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row\">\n\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tSuperficie:\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<div className=\"btn btn-outline-primary btn-sm\" onClick={setComplementoPropio}>\n\t\t\t\t\t\t\t\tComplemento Propio\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex-grow-1 col-sm-5\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"superficieInput\"\n\t\t\t\t\t\t\t\ttabIndex=\"4\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"superficie\"\n\t\t\t\t\t\t\t\tname=\"supAutorizada\"\n\t\t\t\t\t\t\t\tvalue={supAutorizada}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row\">\n\t\t\t\t\t\t<div className=\"col-sm-7\">\n\t\t\t\t\t\t\t<div>Complemento Requerido: {supComplementoRequerida} (Ha)</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-5 m-0 p-0\">\n\t\t\t\t\t\t\t<div className={restoSupComplementoRequerida < 0 ? \"text-danger\" : \"\"}>\n\t\t\t\t\t\t\t\tSuperficie Restante: {restoSupComplementoRequerida} (Ha)\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{complementosDisponibles && (\n\t\t\t\t\t\t<div className=\"mb-5\">\n\t\t\t\t\t\t\t<div className=\"mb-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span> Permisos Complemento:\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{complementosDisponibles.map((permiso) => (\n\t\t\t\t\t\t\t\t<div key={permiso.id} className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t\tid={permiso.id}\n\t\t\t\t\t\t\t\t\t\tname=\"permisoComplemento\"\n\t\t\t\t\t\t\t\t\t\tvalue={permiso.id}\n\t\t\t\t\t\t\t\t\t\tonChange={handleSetPermisosComplemento}\n\t\t\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\t\t\tpermisosComplemento.find(\n\t\t\t\t\t\t\t\t\t\t\t\t(permisoComplemento) => permisoComplemento.id === permiso.id\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor={permiso.id}>\n\t\t\t\t\t\t\t\t\t\t{permiso.id} {permiso.supAutorizada} Ha\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t{permisosComplemento && (\n\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t<div>Superficie de los permisos complemento: </div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`ml-2 ${\n\t\t\t\t\t\t\t\t\t\t\tsupComplemento >= supComplementoRequerida ? \"text-success\" : \"text-danger\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{supComplemento} (Ha)\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\tSuperficie:\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<div className=\"flex-grow-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"superficieInput\"\n\t\t\t\t\t\t\ttabIndex=\"4\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"superficie\"\n\t\t\t\t\t\t\tname=\"supAutorizada\"\n\t\t\t\t\t\t\tvalue={supAutorizada}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst getComplemento = (supDerecho, supPrevia, supAutorizada, complementoPorHa) => {\n\tconst supMaxima = roundToN((supDerecho - supPrevia) / (complementoPorHa + 1), 3);\n\tconst supComplementoRequerida = roundToN(supAutorizada * complementoPorHa, 3);\n\tconst restoSupComplementoRequerida = roundToN(\n\t\tsupDerecho - supPrevia - supAutorizada - supComplementoRequerida,\n\t\t3\n\t);\n\n\treturn { supMaxima, supComplementoRequerida, restoSupComplementoRequerida };\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { CultivoModal } from \"../modals/CultivoModal\";\nimport { UsuarioModal } from \"../modals/UsuarioModal\";\nimport { ProductorModal } from \"../modals/ProductorModal\";\nimport { NuevoProductorModal } from \"../modals/NuevoProductorModal\";\nimport { PrintPermisoModal } from \"../modals/PrintPermisoModal\";\nimport { CultivoInput } from \"./inputsNuevosPermisos/CultivoInput\";\nimport { UsuarioInput } from \"./inputsNuevosPermisos/UsuarioInput\";\nimport { ProductorInput } from \"./inputsNuevosPermisos/ProductorInput\";\nimport { UsuarioSelected } from \"./inputsNuevosPermisos/UsuarioSelected\";\nimport { ProductorSelected } from \"./inputsNuevosPermisos/ProductorSelected\";\nimport {\n\tsetFormValues,\n\tsetOnSubmitData,\n\topenPrintPermisoModal,\n\tsetCuotaCultivo,\n\tsetTipoExtra,\n\tsetTipoNormal,\n} from \"../../actions/altaPermisos\";\nimport { loadContador } from \"../../helpers/loadContador\";\nimport { removeError, setError } from \"../../actions/ui\";\n\nimport { startLoadAutorizadoPorCultivo } from \"../../actions/autorizadosScreen\";\nimport { CultivoSelected } from \"./inputsNuevosPermisos/CultivoSelected\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\nimport { CultivoAnteriorModal } from \"../modals/CultivoAnteriorModal\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { unsetUsuarioSelected } from \"../../actions/usuarios\";\nimport { VariedadInput } from \"./inputsNuevosPermisos/VariedadInput\";\nimport { CultivoAnteriorInput } from \"./inputsNuevosPermisos/CultivoAnteriorInput\";\nimport { SuperficieInput } from \"./inputsNuevosPermisos/SuperficieInput\";\n\nexport const NuevoPermisoScreen = () => {\n\tconst {\n\t\tidUsuarioSelected,\n\t\tidProductorSelected,\n\t\tidCultivoSelected,\n\t\tsubciclo,\n\t\tnombreCultivo,\n\t\tsuperficiePreviaCultivo,\n\t\tusuarios,\n\t\tpermisosComplemento,\n\t} = useSelector((state) => state.altaPermisos);\n\tconst altaPermisos = useSelector((state) => state.altaPermisos);\n\tconst auth = useSelector((state) => state.auth);\n\tconst { variablesGlobales, expedicionActivaModulo } = auth;\n\tconst { cicloActual: ciclo, expedicionActiva } = variablesGlobales;\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { autorizadosPorCultivo } = useSelector((state) => state.autorizadosScreen);\n\n\tconst supComplemento = permisosComplemento.reduce(\n\t\t(total, permiso) => total + permiso.supAutorizada,\n\t\t0\n\t);\n\n\tconst usuarioSelected = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\n\tconst [formValues, handleInputChange, , , setValues] = useFormToUpper({\n\t\tvariedad: \"\",\n\t\tsupAutorizada: \"\",\n\t\tfuenteCredito: \"\",\n\t\tlatitud: \"\",\n\t\tlongitud: \"\",\n\t\tobservaciones: \"\",\n\t\ttransferencia: \"\",\n\t\tcuotaSanidad: true,\n\t\tlocalidadDestino: \"\",\n\t\tloteDestino: \"\",\n\t});\n\n\tconst {\n\t\tvariedad,\n\t\tsupAutorizada,\n\t\tfuenteCredito,\n\t\tobservaciones,\n\t\ttransferencia,\n\t\tcuotaSanidad,\n\t\tlocalidadDestino,\n\t\tloteDestino,\n\t} = formValues;\n\n\tconst permisoData = {\n\t\t...formValues,\n\t\t...altaPermisos,\n\t\t...auth,\n\t};\n\n\tconst tipo = altaPermisos.tipo;\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(removeError());\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tconst claves = [];\n\t\tclaves.push(altaPermisos.claveCultivo);\n\n\t\tif (\n\t\t\taltaPermisos.requiereComplementoVolumen &&\n\t\t\taltaPermisos.opcionDeExpedicion === \"complementoPropio\"\n\t\t) {\n\t\t\tconst cultivo = altaPermisos.cultivos.find(\n\t\t\t\t(cultivo) => cultivo.clave === altaPermisos.claveCultivo\n\t\t\t);\n\t\t\tclaves.push(cultivo.cultivoComplementario);\n\t\t}\n\t\tdispatch(startLoadAutorizadoPorCultivo(ciclo, auth.modulo, claves));\n\t}, [\n\t\tciclo,\n\t\tdispatch,\n\t\tauth.modulo,\n\t\taltaPermisos.claveCultivo,\n\t\taltaPermisos.cultivos,\n\t\taltaPermisos.opcionDeExpedicion,\n\t\taltaPermisos.requiereComplementoVolumen,\n\t]);\n\n\tuseEffect(() => {\n\t\tconst cultivoSelected = altaPermisos.cultivos.find(\n\t\t\t(cultivo) => cultivo.id === altaPermisos.idCultivoSelected\n\t\t);\n\n\t\tconst defineCuota = () => {\n\t\t\tif (!cuotaSanidad) return 0;\n\t\t\tif (altaPermisos.idCultivoSelected) return cultivoSelected.costoHectarea;\n\t\t};\n\n\t\tdispatch(setCuotaCultivo(defineCuota()));\n\t}, [\n\t\tciclo,\n\t\tdispatch,\n\t\taltaPermisos.cuotaCultivo,\n\t\tcuotaSanidad,\n\t\taltaPermisos.cultivos,\n\t\taltaPermisos.idCultivoSelected,\n\t]);\n\n\tconst handleOpenPrintPermisoModal = () => {\n\t\tdispatch(openPrintPermisoModal());\n\t};\n\n\tconst onSendForm = async (e) => {\n\t\tif (await isFormValid()) {\n\t\t\te.preventDefault();\n\t\t\tdispatch(setFormValues(formValues));\n\t\t\tdispatch(setOnSubmitData(await getOnSubmitData()));\n\t\t\thandleOpenPrintPermisoModal();\n\t\t}\n\t};\n\n\tconst getRangoExpedicion = () => {\n\t\tswitch (auth.modulo) {\n\t\t\tcase \"1\":\n\t\t\tcase \"2\":\n\t\t\tcase \"3\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn {\n\t\t\t\t\tinicio: altaPermisos.inicioSonora,\n\t\t\t\t\tfin: altaPermisos.finSonora,\n\t\t\t\t};\n\n\t\t\tdefault:\n\t\t\t\treturn {\n\t\t\t\t\tinicio: altaPermisos.inicioBc,\n\t\t\t\t\tfin: altaPermisos.finBc,\n\t\t\t\t};\n\t\t}\n\t};\n\n\tconst getFechaParaCicloActual = (rango, ciclo) => {\n\t\tconst cicloSplit = ciclo.split(\"-\");\n\t\tconst inicioSplit = rango.inicio.split(\"-\");\n\t\tconst finSplit = rango.fin.split(\"-\");\n\n\t\tconst yearDifference = Number(finSplit[0]) - Number(inicioSplit[0]);\n\n\t\t// const isPremature = new Date() < new Date(`${cicloSplit[0]}-10-01T00:00:00`);\n\n\t\tswitch (yearDifference) {\n\t\t\tcase 1:\n\t\t\t\treturn {\n\t\t\t\t\tinicio: new Date(`${cicloSplit[0]}-${inicioSplit[1]}-${inicioSplit[2]}T00:00:00`),\n\t\t\t\t\tfin: new Date(`${cicloSplit[1]}-${finSplit[1]}-${finSplit[2]}T00:00:00`),\n\t\t\t\t};\n\n\t\t\tcase 0:\n\t\t\t\tif (\n\t\t\t\t\tfinSplit[1] === \"09\" ||\n\t\t\t\t\tfinSplit[1] === \"10\" ||\n\t\t\t\t\tfinSplit[1] === \"11\" ||\n\t\t\t\t\tfinSplit[1] === \"12\"\n\t\t\t\t) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tinicio: new Date(`${cicloSplit[0]}-${inicioSplit[1]}-${inicioSplit[2]}T00:00:00`),\n\t\t\t\t\t\tfin: new Date(`${cicloSplit[0]}-${finSplit[1]}-${finSplit[2]}T00:00:00`),\n\t\t\t\t\t};\n\t\t\t\t} else\n\t\t\t\t\treturn {\n\t\t\t\t\t\tinicio: new Date(`${cicloSplit[1]}-${inicioSplit[1]}-${inicioSplit[2]}T00:00:00`),\n\t\t\t\t\t\tfin: new Date(`${cicloSplit[1]}-${finSplit[1]}-${finSplit[2]}T00:00:00`),\n\t\t\t\t\t};\n\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\n\tconst bloquearPorPeriodoDeExpedicion = () => {\n\t\tconst rango = getRangoExpedicion();\n\n\t\tif (rango.inicio && rango.fin) {\n\t\t\tconst rangoActual = getFechaParaCicloActual(rango, ciclo);\n\t\t\tconst hoy = new Date();\n\n\t\t\tconsole.log({ rango, rangoActual });\n\n\t\t\tif (rangoActual) {\n\t\t\t\tif (hoy < rangoActual.inicio) return true;\n\t\t\t\tif (hoy > rangoActual.fin) return true;\n\t\t\t\telse return false;\n\t\t\t} else return true;\n\t\t} else return true;\n\t};\n\n\tconst bloquearPorDictamenTecnico = () => {\n\t\tif (altaPermisos.requiereDictamen) {\n\t\t\tif (\n\t\t\t\taltaPermisos.dictamen.estado === \"activo\" &&\n\t\t\t\tNumber(altaPermisos.dictamen.cultivoDictamen) === altaPermisos.claveCultivo\n\t\t\t)\n\t\t\t\treturn false;\n\t\t\telse return true;\n\t\t} else return false;\n\t};\n\n\tconst bloquearPorControlCPUS = () => {\n\t\tif (altaPermisos.requiereControlCPUS) {\n\t\t\tif (!altaPermisos.concesionesProductor) return true; //Si el productor no aparece en el padron\n\n\t\t\tconst concesion = altaPermisos.concesionesProductor.find(\n\t\t\t\t(concesion) =>\n\t\t\t\t\tconcesion.cultivo === altaPermisos.nombreCultivo && concesion.modulo === `${auth.modulo}`\n\t\t\t);\n\n\t\t\tif (concesion === undefined) return true;\n\n\t\t\tif (Number(supAutorizada) <= concesion.supConcesion - concesion.supExpedida) return false;\n\t\t\telse return true;\n\t\t} else return false;\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!expedicionActiva || !expedicionActivaModulo) {\n\t\t\tdispatch(setError(\"Expedición cerrada! Por el momento no es posible expedir permisos.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.usuario) {\n\t\t\tdispatch(setError(\"El campo usuario es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (usuarioSelected && usuarioSelected.folio && localidadDestino.length === 0) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t\"Los derechos de riego seleccionados provienen de una transferencia. Indique la localidad donde se aplicará la transferencia.\"\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (usuarioSelected && usuarioSelected.folio && loteDestino.length === 0) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t\"Los derechos de riego seleccionados provienen de una transferencia. Indique el lote donde se aplicará la transferencia.\"\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreProductor) {\n\t\t\tdispatch(setError(\"El campo productor es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (altaPermisos.productorIncumplido) {\n\t\t\tdispatch(setError(\"Productor inhabilitado. Favor de comunicarse con SADER.\"));\n\t\t\treturn false;\n\t\t} else if (!altaPermisos.nombreCultivo) {\n\t\t\tdispatch(setError(\"El campo cultivo es obligatorio.\"));\n\t\t\treturn false;\n\t\t} else if (\n\t\t\t(altaPermisos.claveCultivo === 3 || altaPermisos.claveCultivo === 80) &&\n\t\t\taltaPermisos.tipoSemilla === undefined\n\t\t) {\n\t\t\tdispatch(setError(\"Indique el tipo de semilla.\"));\n\t\t\treturn false;\n\t\t} else if (supAutorizada <= 0) {\n\t\t\tdispatch(setError(\"Ingrese la superficie que será autorizada en este permiso.\"));\n\t\t\treturn false;\n\t\t} else if (altaPermisos.supDerecho - altaPermisos.supPrevia < parseInt(supAutorizada)) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"La superficie excede la superficie disponible de la cuenta seleccionada.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (\n\t\t\taltaPermisos.requiereComplementoVolumen &&\n\t\t\taltaPermisos.permisosComplemento.length === 0\n\t\t) {\n\t\t\tdispatch(\n\t\t\t\tsetError(`El cultivo \"${altaPermisos.nombreCultivo}\" requiere complemento de volumen.`)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (\n\t\t\taltaPermisos.requiereComplementoVolumen &&\n\t\t\tsupComplemento < altaPermisos.supComplementoRequerida\n\t\t) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t\"El complemento de volumen no es suficiente para la superficie solicitada. Reduzca la superficie o expida el complemento de volumen suficiente.\"\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (\n\t\t\taltaPermisos.laboresPendientes &&\n\t\t\t(!altaPermisos.superficieParcialLiberada || altaPermisos.superficieParcialLiberada === 0)\n\t\t) {\n\t\t\tdispatch(setError(\"La cuenta seleccionada tiene labores fitosanitarias pendientes.\"));\n\t\t\treturn false;\n\t\t} else if (\n\t\t\taltaPermisos.laboresPendientes &&\n\t\t\tsupAutorizada > altaPermisos.superficieParcialLiberada\n\t\t) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t`La cuenta seleccionada tiene labores fitosanitarias pendientes. Solo tiene ${altaPermisos.superficieParcialLiberada} ha disponibles para expedición.`\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (!fuenteCredito) {\n\t\t\tdispatch(setError(\"Especifique la fuente de crédito.\"));\n\t\t\treturn false;\n\t\t} else if (altaPermisos.cultivoAnterior === \"\") {\n\t\t\tdispatch(setError(\"Especifique el cultivo anterior.\"));\n\t\t\treturn false;\n\t\t} else if (bloquearPorPeriodoDeExpedicion()) {\n\t\t\tdispatch(setError(\"Cultivo fuera de fecha. Se requiere dictamen técnico de siembra.\"));\n\t\t\treturn false;\n\t\t} else if (bloquearPorDictamenTecnico()) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"El cultivo requiere dictamen técnico de siembra. Favor de comunicarse con SADER.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// else if (\n\t\t// \taltaPermisos.nombreCultivo === \"ALFALFA\" &&\n\t\t// \taltaPermisos.cultivoAnterior !== \"ALFALFA\"\n\t\t// ) {\n\t\t// \tdispatch(\n\t\t// \t\tsetError(\n\t\t// \t\t\t`El predio seleccionado no tenía alfalfa el ciclo pasado. Para establecer alfalfa en este predio, seleccione \"ALFALFA NUEVA\" en el campo cultivo.`\n\t\t// \t\t)\n\t\t// \t);\n\t\t// \treturn false;\n\t\t// }\n\n\t\t// else if (\n\t\t// \taltaPermisos.nombreCultivo === \"ALFALFA\" &&\n\t\t// \t!altaPermisos.productoresAnteriores.find(\n\t\t// \t\t(productor) => productor.id === altaPermisos.idProductorSelected\n\t\t// \t)\n\t\t// ) {\n\t\t// \tdispatch(\n\t\t// \t\tsetError(\n\t\t// \t\t\t`El productor no es el mismo productor del ciclo pasado en la cuenta seleccionada. Para establecer alfalfa en este predio, seleccione \"ALFALFA NUEVA\" en el campo cultivo.`\n\t\t// \t\t)\n\t\t// \t);\n\t\t// \treturn false;\n\t\t// }\n\t\telse if (bloquearPorControlCPUS()) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\n\t\t\t\t\t`El productor no se encuentra registrado en el padrón de productores de \"${altaPermisos.nombreCultivo}\" o la superficie es mayor a la que tiene disponible en el padrón.`\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn false;\n\t\t} else if (\n\t\t\tautorizadosPorCultivo === undefined ||\n\t\t\tdefineTipoPermiso(\n\t\t\t\tsuperficiePreviaCultivo,\n\t\t\t\tautorizadosPorCultivo.find((cultivo) => cultivo.clave === altaPermisos.claveCultivo)\n\t\t\t) === \"Superficie no disponible\"\n\t\t) {\n\t\t\tdispatch(setError(\"La superficie asignada para el cultivo no es suficiente.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeError());\n\t\treturn true;\n\t};\n\n\tconst getOnSubmitData = async () => {\n\t\tconst data = {\n\t\t\ttipo: defineTipoPermiso(\n\t\t\t\tsuperficiePreviaCultivo,\n\t\t\t\tautorizadosPorCultivo.find((cultivo) => cultivo.clave === altaPermisos.claveCultivo)\n\t\t\t),\n\t\t\tciclo,\n\t\t\tnumeroPermiso: await defineNumeroPermiso(),\n\t\t\tfechaEmicion: moment(),\n\t\t\tfechaLimite: defineFechaLimite(\n\t\t\t\taltaPermisos.estado,\n\t\t\t\taltaPermisos.cultivos.find((cultivo) => cultivo.id === altaPermisos.idCultivoSelected)\n\t\t\t),\n\t\t\tvigencia: defineVigencia(subciclo),\n\t\t\testadoPermiso: await defineEstadoPermiso(nombreCultivo),\n\t\t\tmensajeFijo: defineMesajeFijo(),\n\t\t};\n\n\t\treturn data;\n\t};\n\n\tconst defineMesajeFijo = () => {\n\t\t//Mensaje para transferencias\n\t\tif (usuarioSelected && usuarioSelected.folio) {\n\t\t\treturn `TRANSFERENCIA FOLIO ${usuarioSelected.folio} EN EL LOTE ${loteDestino},  ${localidadDestino}`;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t// TODO: Probar defineTipoPermiso (es necesario conciderar el acumulado de lo expedido para cada cultivo)\n\tconst defineTipoPermiso = (superficiePreviaCultivo, autorizadosPorCultivo) => {\n\t\tconst { gravedadNormalAsignada, gravedadExtraAsignada, pozoNormalAsignada, pozoExtraAsignada } =\n\t\t\tautorizadosPorCultivo;\n\n\t\tconst {\n\t\t\tgravedadNormal: gravedadNormalPrevia,\n\t\t\tgravedadExtra: gravedadExtraPrevia,\n\t\t\tpozoNormal: pozoNormalPrevia,\n\t\t\tpozoExtra: pozoExtraPrevia,\n\t\t\tpozoParticularNormal: pozoParticularNormalPrevia,\n\t\t\tpozoParticularExtra: pozoParticularExtraPrevia,\n\t\t} = superficiePreviaCultivo;\n\n\t\tswitch (altaPermisos.sistema) {\n\t\t\tcase \"Gravedad\":\n\t\t\t\tif (\n\t\t\t\t\ttipo === \"normal\" &&\n\t\t\t\t\troundToN(gravedadNormalAsignada - gravedadNormalPrevia, 4) >= supAutorizada\n\t\t\t\t)\n\t\t\t\t\treturn \"normal\";\n\t\t\t\tif (\n\t\t\t\t\ttipo === \"extra\" &&\n\t\t\t\t\troundToN(gravedadExtraAsignada - gravedadExtraPrevia, 4) >= supAutorizada\n\t\t\t\t)\n\t\t\t\t\treturn \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tcase \"Pozo Federal\":\n\t\t\t\tif (\n\t\t\t\t\ttipo === \"normal\" &&\n\t\t\t\t\troundToN(pozoNormalAsignada - pozoNormalPrevia, 4) >= supAutorizada\n\t\t\t\t)\n\t\t\t\t\treturn \"normal\";\n\t\t\t\tif (tipo === \"extra\" && roundToN(pozoExtraAsignada - pozoExtraPrevia, 4) >= supAutorizada)\n\t\t\t\t\treturn \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tcase \"Pozo Particular\":\n\t\t\t\tif (\n\t\t\t\t\ttipo === \"normal\" &&\n\t\t\t\t\troundToN(pozoNormalAsignada - pozoParticularNormalPrevia, 4) >= supAutorizada\n\t\t\t\t)\n\t\t\t\t\treturn \"normal\";\n\t\t\t\tif (\n\t\t\t\t\ttipo === \"extra\" &&\n\t\t\t\t\troundToN(pozoExtraAsignada - pozoParticularExtraPrevia, 4) >= supAutorizada\n\t\t\t\t)\n\t\t\t\t\treturn \"extra\";\n\t\t\t\treturn \"Superficie no disponible\";\n\n\t\t\tdefault:\n\t\t\t\treturn \"Superficie no disponible\";\n\t\t}\n\t};\n\n\tconst defineNumeroPermiso = async () => {\n\t\tif (altaPermisos.sistema === \"Pozo Particular\") {\n\t\t\tconst permiso = `${auth.modulo}-${fill((await loadContador(auth.modulo, ciclo)) + 1, 4)}`;\n\t\t\treturn permiso;\n\t\t} else {\n\t\t\tconst permiso = `MOD${auth.modulo}-${fill((await loadContador(auth.modulo, ciclo)) + 1, 4)}`;\n\t\t\treturn permiso;\n\t\t}\n\t};\n\n\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\n\tconst defineVigencia = (subciclo) => {\n\t\t// TODO: Determinar la vigencia segun subciclo y fecha de emicion\n\t\tlet vigencia = null;\n\t\tif (subciclo) {\n\t\t\tswitch (subciclo) {\n\t\t\t\tcase \"PRIMAVERA-VERANO\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"OTOÑO-INVIERNO\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENNES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PERENES\":\n\t\t\t\t\tvigencia = moment(\"09/30/2022\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvigencia = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn vigencia;\n\t};\n\n\tconst defineEstadoPermiso = async (/* cultivo */) => {\n\t\t// let estado = \"\";\n\n\t\t// if (cultivo === \"ALGODONERO\") estado = \"pendiente\";\n\t\t// else estado = \"activo\";\n\n\t\treturn \"activo\";\n\t};\n\n\tconst defineFechaLimite = (estado, cultivo) => {\n\t\t// if (cultivo === \"TRIGO\") return moment(\"12/31/2022\");\n\t\t// else return moment(\"03/31/2023\");\n\n\t\tif (estado === \"Baja California\") {\n\t\t\tif (cultivo.finBc) {\n\t\t\t\tconst fechaSplit = cultivo.finBc.split(\"-\");\n\t\t\t\treturn moment(`${fechaSplit[1]}/${fechaSplit[2]}/${fechaSplit[0]}`);\n\t\t\t} else return \"\";\n\t\t}\n\n\t\tif (estado === \"Sonora\") {\n\t\t\tif (cultivo.finSonora) {\n\t\t\t\tconst fechaSplit = cultivo.finBc.split(\"-\");\n\t\t\t\treturn moment(`${fechaSplit[1]}/${fechaSplit[2]}/${fechaSplit[0]}`);\n\t\t\t} else return \"\";\n\t\t}\n\t};\n\n\t// const setTransferComent = useCallback(\n\t// \t(folio, lote, tipolocalidad, localidad) => {\n\t// \t\tsetValues((values) => ({\n\t// \t\t\t...values,\n\t// \t\t\tobservaciones: `TRANSFERENCIA FOLIO ${folio} EN EL LOTE ${lote}, ${tipolocalidad.toUpperCase()} ${localidad}`,\n\t// \t\t}));\n\t// \t},\n\t// \t[setValues]\n\t// );\n\n\t// useEffect(() => {\n\t// \tif (idUsuarioSelected) {\n\t// \t\tconst usuario = usuarios.find((usuario) => usuario.id === idUsuarioSelected);\n\t// \t\tif (usuario.folio) {\n\t// \t\t\tsetTransferComent(\n\t// \t\t\t\tusuario.folio,\n\t// \t\t\t\tusuario.loteDestino,\n\t// \t\t\t\tusuario.tipolocalidadDestino,\n\t// \t\t\t\tusuario.localidadDestino\n\t// \t\t\t);\n\t// \t\t}\n\t// \t}\n\t// }, [idUsuarioSelected, usuarios, setTransferComent]);\n\n\tconst setNormal = () => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(setTipoNormal());\n\t};\n\n\tconst setExtra = () => {\n\t\tdispatch(unsetUsuarioSelected());\n\t\tdispatch(setTipoExtra());\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row m-3 d-flex justify-content-center\">\n\t\t\t\t<h1>Alta de permiso unico de siembra</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center align-items-center\">\n\t\t\t\t<span className=\"mr-2\">Tipo: </span>\n\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn ${tipo === \"normal\" ? \"btn-primary\" : \"btn-outline-primary\"}`}\n\t\t\t\t\t\tonClick={setNormal}\n\t\t\t\t\t>\n\t\t\t\t\t\tNormal\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn ${tipo === \"extra\" ? \"btn-primary\" : \"btn-outline-primary\"}`}\n\t\t\t\t\t\tonClick={setExtra}\n\t\t\t\t\t>\n\t\t\t\t\t\tExtra\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* TODO: indicar cuando un campo es incorrecto directamente en los inputs */}\n\t\t\t{/* TODO: Checkbox para transferencia interna */}\n\t\t\t<form className=\"container pb-4\">\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t{idUsuarioSelected && <UsuarioSelected />}\n\t\t\t\t{idProductorSelected && <ProductorSelected />}\n\t\t\t\t{idCultivoSelected && autorizadosPorCultivo && superficiePreviaCultivo && (\n\t\t\t\t\t<CultivoSelected />\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<UsuarioInput />\n\t\t\t\t\t<ProductorInput />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t{usuarioSelected && usuarioSelected.folio && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\t\t\tLocalidad:\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"7\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Localidad donde se aplica la trasferencia\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"localidadDestino\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={localidadDestino}\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\t\t\tLote:\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttabIndex=\"7\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Lote donde se aplica la trasferencia\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"loteDestino\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={loteDestino}\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<CultivoInput altaFormValues={formValues} setAltaFormValues={setValues} />\n\t\t\t\t\t<VariedadInput variedad={variedad} handleInputChange={handleInputChange} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<SuperficieInput\n\t\t\t\t\t\tformValues={formValues}\n\t\t\t\t\t\thandleInputChange={handleInputChange}\n\t\t\t\t\t\tsetValues={setValues}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tFuente de credito:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"7\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"fuente de credito\"\n\t\t\t\t\t\t\t\t\tname=\"fuenteCredito\"\n\t\t\t\t\t\t\t\t\tvalue={fuenteCredito}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<CultivoAnteriorInput />\n\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group d-flex align-items-baseline row p-3\">\n\t\t\t\t\t\t\t<label className=\"col-sm-3\">Transferencia interna:</label>\n\t\t\t\t\t\t\t<div className=\"flex-grow-1 \">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"8\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cuenta destino\"\n\t\t\t\t\t\t\t\t\tname=\"transferencia\"\n\t\t\t\t\t\t\t\t\tvalue={transferencia}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t<div className=\"form-group row p-3\">\n\t\t\t\t\t\t\t<label className=\"mr-3\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttabIndex=\"9\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\tid=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tname=\"cuotaSanidad\"\n\t\t\t\t\t\t\t\t\tvalue={cuotaSanidad}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tchecked={cuotaSanidad}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cuotaSanidad\">\n\t\t\t\t\t\t\t\t\tCobrar cuota de sanidad vegetal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttabIndex=\"10\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Observaciones\"\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\tname=\"observaciones\"\n\t\t\t\t\t\tvalue={observaciones}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tInformación adicional\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t<div className=\"row d-flex justify-content-center pt-5 d-print-none\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex=\"11\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={onSendForm}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"far fa-file\"></i>\n\t\t\t\t\t\t<span> Revisar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<CultivoModal />\n\t\t\t<CultivoAnteriorModal />\n\t\t\t<UsuarioModal />\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<PrintPermisoModal\n\t\t\t\tdata={permisoData}\n\t\t\t\tisNew={true}\n\t\t\t\tformValues={formValues}\n\t\t\t\tsetValues={setValues}\n\t\t\t/>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const UserCard = () => {\n\tconst { usuario } = useSelector((state) => state.entidades);\n\n\tconst {\n\t\tcuenta,\n\t\tsubcta,\n\t\tnombreLocalidad,\n\t\tsupRiego,\n\t\tpredio,\n\t\tsupPrevia,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tseccion,\n\t\ttipoLocalidad\n\t} = usuario;\n\n\tconst derechoDisponible = supRiego - supPrevia;\n\tconst nombreUsuario = `${apPaterno} ${apMaterno} ${nombre}`;\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<h3>Cuenta: {`${cuenta}.${subcta}`}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column p-4\">\n\t\t\t\t<div>Usuario: {nombreUsuario}</div>\n\t\t\t\t<div>Lote: {predio}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipoLocalidad}: {nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t<div>Seccion: {seccion}</div>\n\t\t\t\t<div>Sup. Derecho: {supRiego}</div>\n\t\t\t\t<div>Sup. Disponible: {derechoDisponible}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenCultivosModal,\n\tstartLoadCultivos,\n\tunsetCultivoSelected\n} from \"../../../actions/cultivos\";\n\nexport const CultivoInput2 = ({ cultivo, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenCultivosModal = () => {\n\t\thandleLoadCultivos();\n\t\tif (cultivo.length > 0) {\n\t\t\tdispatch(openCultivosModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre del cultivo\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadCultivos = () => {\n\t\tdispatch(startLoadCultivos(cultivo.toUpperCase()));\n\t};\n\n\tconst { idCultivoSelected, nombreCultivo } = useSelector((state) => state.altaPermisos);\n\n\tlet cultivoLabel = \"\";\n\n\tif (idCultivoSelected) {\n\t\tcultivoLabel = nombreCultivo;\n\t}\n\n\tconst clearCultivoInput = () => {\n\t\tdispatch(unsetCultivoSelected());\n\t\tcultivo = \"\";\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenCultivosModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tCultivo:\n\t\t\t</label>\n\n\t\t\t{idCultivoSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label className=\"\">{cultivoLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearCultivoInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Cultivo\"\n\t\t\t\t\t\tname=\"cultivo\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={cultivo}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenCultivosModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadLocaltiesFromPermits = async (cicloActual) => {\n\tconst cicloSplit = cicloActual.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\tconst permisosSnap = db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"ciclo\", \"==\", cicloAnterior)\n\t\t.where(\"claveCultivo\", \"==\", 80);\n\tconst localtiesIds = [];\n\tconst localties = [];\n\tconst padronLocalties = [];\n\tconst padronLocaltiesSnap = await db.collectionGroup(\"colonias\").get();\n\n\tpadronLocaltiesSnap.forEach((localtie) => {\n\t\tpadronLocalties.push({ id: localtie.id, ...localtie.data() });\n\t});\n\n\tawait permisosSnap.get().then((permisos) => {\n\t\tpermisos.forEach((permiso) => {\n\t\t\tif (permiso.data().claveLocalidad && !localtiesIds.includes(permiso.data().claveLocalidad)) {\n\t\t\t\tlocaltiesIds.push(permiso.data().claveLocalidad);\n\t\t\t\tlocalties.push({\n\t\t\t\t\tid: getLocaltieId(permiso.data().claveLocalidad, padronLocalties),\n\t\t\t\t\tclave: permiso.data().claveLocalidad,\n\t\t\t\t\tubicacion: permiso.data().localidad,\n\t\t\t\t\ttipo: permiso.data().tipoLocalidad,\n\t\t\t\t\ttecnico: getTechnician(permiso.data().claveLocalidad, padronLocalties)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\treturn localties;\n};\n\nconst getTechnician = (id, localties) => {\n\tconst localtie = localties.find((localtie) => localtie.clave === id);\n\n\tif (localtie.tecnico) return localtie.tecnico;\n\telse return \"Sin asignar\";\n};\n\nconst getLocaltieId = (clave, localties) => {\n\tconst localtie = localties.find((localtie) => localtie.clave === clave);\n\n\treturn localtie.id;\n};\n","import { types } from \"../../types/types\";\nimport { loadLocaltiesFromPermits } from \"../../helpers/loadLocaltiesFromPermits\";\nimport { loadLocaltiesGroup } from \"../../helpers/loadLocaltiesGroup\";\nimport { assignTechnician } from \"../../helpers/assignTechnician\";\nimport { loadLocalties } from \"../../helpers/DB/loadLocalties\";\n\nexport const startLoadLocaltiesFromUnassignedPermits = () => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocaltiesFromPermits();\n\t\tconst localtiesData = await loadLocaltiesGroup(localties);\n\t\tdispatch(setLocalties(localtiesData));\n\t};\n};\n\nexport const startAssignTechnician = (ciclo, modulo, localtiesNames, uid) => {\n\tassignTechnician(ciclo, modulo, localtiesNames, uid);\n\n\treturn async (dispatch) => {\n\t\tawait dispatch(startLoadLocaltiesFromUnassignedPermits());\n\t\tdispatch(unsetLocalties());\n\t\tdispatch(unsetSelectedLocalties());\n\t};\n};\n\nexport const startLoadLocalties = (localtie) => {\n\treturn async (dispatch) => {\n\t\tconst localties = await loadLocalties(localtie);\n\t\tdispatch(setLocalties(localties));\n\t};\n};\n\nexport const setLocalties = (localties) => ({\n\ttype: types.setLocalties,\n\tpayload: localties\n});\n\nexport const unsetLocalties = () => ({\n\ttype: types.unsetLocalties\n});\n\nexport const setSelectedLocalties = (localties) => ({\n\ttype: types.setSelectedLocalties,\n\tpayload: localties\n});\n\nexport const unsetSelectedLocalties = () => ({\n\ttype: types.unsetSelectedLocalties\n});\n\nexport const setLocaltieSelected = (localtie) => ({\n\ttype: types.setLocaltieSelected,\n\tpayload: localtie\n});\n\nexport const unsetLocaltieSelected = () => ({\n\ttype: types.unsetLocaltieSelected\n});\n\nexport const openLocaltiesModal = () => ({\n\ttype: types.openLocaltiesModal\n});\n\nexport const closeLocaltiesModal = () => ({\n\ttype: types.closeLocaltiesModal\n});\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\topenLocaltiesModal,\n\tstartLoadLocalties,\n\tunsetLocaltieSelected\n} from \"../../../actions/entidades/localidades\";\n\nexport const LocalidadInput = ({ localtie, handleInputChange }) => {\n\tconst dispatch = useDispatch();\n\n\tconst handleOpenLocaltiesModal = () => {\n\t\thandleLoadLocalties();\n\t\tif (localtie.length > 0) {\n\t\t\tdispatch(openLocaltiesModal());\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese nombre de la localidad\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleLoadLocalties = () => {\n\t\tdispatch(startLoadLocalties(localtie.toUpperCase()));\n\t};\n\n\tconst { localtieSelected } = useSelector((state) => state.entidades);\n\n\tlet localtieLabel = \"\";\n\tlet idLocaltieSelected = \"\";\n\n\tif (localtieSelected) {\n\t\tlocaltieLabel = localtieSelected.nombre;\n\t\tidLocaltieSelected = localtieSelected.id;\n\t}\n\n\tconst clearLocaltieInput = () => {\n\t\tdispatch(unsetLocaltieSelected());\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleOpenLocaltiesModal();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-group d-flex flex-column row p-3\">\n\t\t\t<label className=\"mr-2\">\n\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\tLocalidad destino:\n\t\t\t</label>\n\n\t\t\t{idLocaltieSelected ? (\n\t\t\t\t<div className=\"d-flex align-items-baseline\">\n\t\t\t\t\t<label>{localtieLabel} </label>\n\n\t\t\t\t\t<i className=\"fas fa-check text-success p-3\"></i>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={clearLocaltieInput}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control d-flex\"\n\t\t\t\t\t\tplaceholder=\"Localidad\"\n\t\t\t\t\t\tname=\"localtie\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={localtie}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenLocaltiesModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getTranseferCount = async (modulo, ciclo) => {\n\tconst counter = await db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().numeroTransferenciasModulo;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexión\",\n\t\t\t\t\"Error al intentar obtener el contador de transferencias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport { CultivoInput2 } from \"../permisos/inputsNuevosPermisos/CultivoInput2\";\nimport { LocalidadInput } from \"../permisos/inputsNuevosPermisos/LocalidadInput\";\nimport { getTranseferCount } from \"../../helpers/DB/getTransferCount\";\nimport { openTransferModal, setNuevaTransferencia } from \"../../actions/transferenciasScreen\";\n\nexport const TransferForm = ({ values, handleInputChange }) => {\n\tconst { usuario, localtieSelected } = useSelector((state) => state.entidades);\n\tconst { nombreCultivo, claveCultivo } = useSelector((state) => state.altaPermisos);\n\tconst { msgError } = useSelector((state) => state.ui);\n\n\tconst {\n\t\tsuperficieTransferida,\n\t\tloteDestino,\n\t\tmoduloDestino,\n\t\tcultivo,\n\t\tlocaltie,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante\n\t} = values;\n\n\tlet superficieDisponible;\n\n\tif (usuario) {\n\t\tsuperficieDisponible = usuario.supRiego - usuario.supPrevia;\n\t}\n\n\tconst dispatch = useDispatch();\n\n\tconst isFormValid = () => {\n\t\tif (superficieTransferida <= 0) {\n\t\t\tdispatch(setError(\"Indique superficie a transferir\"));\n\t\t\treturn false;\n\t\t} else if (superficieTransferida > superficieDisponible) {\n\t\t\tdispatch(setError(\"La superficie a transferir excede a la superficie disponible\"));\n\t\t\treturn false;\n\t\t} else if (nombreCultivo === null) {\n\t\t\tdispatch(setError(\"Indique Cultivo\"));\n\t\t\treturn false;\n\t\t} else if (apPaternoSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique apellido paterno del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (apMaternoSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique apellido materno del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (nombreSolicitante.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique nombre del solicitante\"));\n\t\t\treturn false;\n\t\t} else if (moduloDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique el módulo destino\"));\n\t\t\treturn false;\n\t\t} else if (localtieSelected === null || localtieSelected === undefined) {\n\t\t\tdispatch(setError(\"Indique la localidad destino\"));\n\t\t\treturn false;\n\t\t} else if (loteDestino.trim().length === 0) {\n\t\t\tdispatch(setError(\"Indique el lote en el que se aplicará la transferencia\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\n\tconst defineFolio = async () => {\n\t\tconst counter = await getTranseferCount(moduloDestino === \"DEV\" ? \"dev\" : moduloDestino, ciclo);\n\t\tif (counter !== false) {\n\t\t\tconst folio = `M${moduloDestino === \"DEV\" ? \"dev\" : moduloDestino}-${fill(counter + 1, 3)}`;\n\t\t\treturn folio;\n\t\t} else return null;\n\t};\n\n\tconst startSaveTransfer = async (e) => {\n\t\te.preventDefault();\n\t\tif (isFormValid()) {\n\t\t\tconst transfer = {\n\t\t\t\t...usuario,\n\t\t\t\tfolio: await defineFolio(),\n\t\t\t\tciclo,\n\t\t\t\testadoTransferencia: \"PENDIENTE\",\n\t\t\t\tsuperficieTransferida,\n\t\t\t\tloteDestino,\n\t\t\t\tmoduloDestino: moduloDestino === \"DEV\" ? \"dev\" : moduloDestino,\n\t\t\t\tapPaternoSolicitante,\n\t\t\t\tapMaternoSolicitante,\n\t\t\t\tnombreSolicitante,\n\t\t\t\tnombreCultivo,\n\t\t\t\tclaveCultivo,\n\t\t\t\tlocalidadDestino: localtieSelected.nombre,\n\t\t\t\tclavelocalidadDestino: localtieSelected.clave,\n\t\t\t\ttipolocalidadDestino: localtieSelected.tipo,\n\t\t\t\tfecha: new Date()\n\t\t\t};\n\n\t\t\tif (transfer.folio !== null) {\n\t\t\t\tdispatch(setNuevaTransferencia(transfer));\n\t\t\t\tdispatch(openTransferModal());\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartSaveTransfer(event);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"border border-info rounded mt-4\">\n\t\t\t\t<div className=\"d-flex justify-content-center border-bottom border-info p-2\">\n\t\t\t\t\t<h3>Transferencia</h3>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"d-flex flex-column p-3\">\n\t\t\t\t\t<div className=\"row d-flex p-3 text-warning\">* Campos obligatorios</div>\n\n\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tSuperficie a transferir (ha):\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\tplaceholder=\"0 ha\"\n\t\t\t\t\t\t\tname=\"superficieTransferida\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={superficieTransferida}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t<CultivoInput2 cultivo={cultivo} handleInputChange={handleInputChange} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"border rounded p-2\">\n\t\t\t\t\t\tDatos del solicitante\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tApellido paterno:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\t\t\tname=\"apPaternoSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={apPaternoSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tApellido materno:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Apellido materno\"\n\t\t\t\t\t\t\t\tname=\"apMaternoSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={apMaternoSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\t\tNombre:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\t\t\t\tname=\"nombreSolicitante\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={nombreSolicitante}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tModulo destino:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"moduloDestino\"\n\t\t\t\t\t\t\tvalue={moduloDestino}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\tModulo\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"1\">Modulo 1</option>\n\t\t\t\t\t\t\t<option value=\"2\">Modulo 2</option>\n\t\t\t\t\t\t\t<option value=\"3\">Modulo 3</option>\n\t\t\t\t\t\t\t<option value=\"4\">Modulo 4</option>\n\t\t\t\t\t\t\t<option value=\"5\">Modulo 5</option>\n\t\t\t\t\t\t\t<option value=\"6\">Modulo 6</option>\n\t\t\t\t\t\t\t<option value=\"7\">Modulo 7</option>\n\t\t\t\t\t\t\t<option value=\"8\">Modulo 8</option>\n\t\t\t\t\t\t\t<option value=\"9A\">Modulo 9A</option>\n\t\t\t\t\t\t\t<option value=\"9B\">Modulo 9B</option>\n\t\t\t\t\t\t\t<option value=\"10\">Modulo 10</option>\n\t\t\t\t\t\t\t<option value=\"11\">Modulo 11</option>\n\t\t\t\t\t\t\t<option value=\"12\">Modulo 12</option>\n\t\t\t\t\t\t\t<option value=\"14\">Modulo 14</option>\n\t\t\t\t\t\t\t<option value=\"15\">Modulo 15</option>\n\t\t\t\t\t\t\t<option value=\"16\">Modulo 16</option>\n\t\t\t\t\t\t\t<option value=\"17\">Modulo 17</option>\n\t\t\t\t\t\t\t<option value=\"18\">Modulo 18</option>\n\t\t\t\t\t\t\t<option value=\"19\">Modulo 19</option>\n\t\t\t\t\t\t\t<option value=\"20\">Modulo 20</option>\n\t\t\t\t\t\t\t<option value=\"21\">Modulo 21</option>\n\t\t\t\t\t\t\t<option value=\"22\">Modulo 22</option>\n\t\t\t\t\t\t\t<option value=\"23\">Modulo 23</option>\n\t\t\t\t\t\t\t<option value=\"dev\">Modulo dev</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"pt-3\">\n\t\t\t\t\t\t<LocalidadInput localtie={localtie} handleInputChange={handleInputChange} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<label htmlFor=\"\">\n\t\t\t\t\t\t\t<span className=\"text-warning\">* </span>\n\t\t\t\t\t\t\tLote destino:\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control ml-1\"\n\t\t\t\t\t\t\tplaceholder=\"Lote\"\n\t\t\t\t\t\t\tname=\"loteDestino\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={loteDestino}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n\t\t\t\t\t<div className=\" row d-flex p-3\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary flex-fill\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={startSaveTransfer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>Revisar </span>\n\t\t\t\t\t\t\t<i className=\"far fa-file\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { startLoadUsuarios } from \"../../actions/usuarios\";\n\nexport const UsuariosInput = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloActual: ciclo } = variablesGlobales;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleLoadUsuarios = () => {\n\t\tif (usuario.length > 0) {\n\t\t\tdispatch(startLoadUsuarios(usuario.toUpperCase(), modulo, ciclo));\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Ingrese apellido paterno o cuenta del usuario\", \"warning\");\n\t\t}\n\t};\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tusuario: \"\"\n\t});\n\n\tconst { usuario } = formValues;\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleLoadUsuarios();\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<div className=\"form-group d-flex align-items-baseline\">\n\t\t\t\t<label>Usuario: </label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control ml-5\"\n\t\t\t\t\tplaceholder=\"Apellido paterno o numero de cuenta\"\n\t\t\t\t\tname=\"usuario\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={usuario}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={handleLoadUsuarios}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { usuariosColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\n\nexport const UsuariosTable = () => {\n\tconst { usuarios } = useSelector((state) => state.entidades);\n\n\tlet data = [];\n\n\tif (usuarios) {\n\t\tdata = Object.values(usuarios);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={usuariosColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetUsuarioSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeLocaltiesModal, setLocaltieSelected } from \"../../actions/entidades/localidades\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { localtiesColumns } from \"../tables/configTables\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"550px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const LocalidadesModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openLocaltiesModal, localties } = useSelector((state) => state.entidades);\n\tlet data = [];\n\n\tif (localties) {\n\t\tdata = Object.values(localties);\n\t}\n\n\tconst closeModal = () => {\n\t\tdispatch(closeLocaltiesModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openLocaltiesModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron localidades\" : \"Localidades\"}\n\t\t\t\tcolumns={localtiesColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={setLocaltieSelected}\n\t\t\t\tcloseFunction={closeLocaltiesModal}\n\t\t\t></CustomTable>\n\t\t</Modal>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveTransfer = async (transfer, ciclo) => {\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transfer.moduloDestino}`)\n\t\t.collection(`transferencias`)\n\t\t.doc(transfer.folio);\n\n\tconst contTransferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${transfer.moduloDestino}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst transferencia = await transaction.get(transferRef);\n\t\t\tconst countTransfer = await transaction.get(contTransferRef);\n\n\t\t\tif (transferencia.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La transferencia ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir una transferencia ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La transferencia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(transferRef, transfer);\n\t\t\t\tif (countTransfer.exists) {\n\t\t\t\t\ttransaction.update(contTransferRef, {\n\t\t\t\t\t\tnumeroTransferenciasModulo: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t\tsuperficieRecibidaModulo: firebase.firestore.FieldValue.increment(\n\t\t\t\t\t\t\tNumber(transfer.superficieTransferida)\n\t\t\t\t\t\t)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(contTransferRef, {\n\t\t\t\t\t\tnumeroTransferenciasModulo: 1,\n\t\t\t\t\t\tsuperficieRecibidaModulo: Number(transfer.superficieTransferida)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Transferencia Guardada\",\n\t\t\t\t\"Se registró con éxito la transferncia de volumen.\",\n\t\t\t\t\"success\"\n\t\t\t);\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar transferencia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { unsetCultivoSelected } from \"../../actions/cultivos\";\nimport { unsetLocaltieSelected } from \"../../actions/entidades/localidades\";\n\nimport {\n\tcloseTransferModal,\n\tdisablePrintButton,\n\tenablePrintButton\n} from \"../../actions/transferenciasScreen\";\nimport { startSetUsuarioSelected } from \"../../actions/usuarios\";\nimport { saveTransfer } from \"../../helpers/saveTransfer\";\n\nexport const PrintTransferModal = ({ transferencia, reset }) => {\n\tconst {\n\t\tfolio,\n\t\tciclo,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tpredio,\n\t\ttipoLocalidad,\n\t\tnombreLocalidad,\n\t\tsuperficieTransferida,\n\t\tnombreCultivo,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante,\n\t\tloteDestino,\n\t\ttipolocalidadDestino,\n\t\tlocalidadDestino,\n\t\tfecha,\n\t\tzona,\n\t\tmoduloDestino\n\t} = transferencia;\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\n\tconst { usuario } = useSelector((state) => state.entidades);\n\tconst { printTransferModal, transferPrintButton } = useSelector(\n\t\t(state) => state.transferenciasScreen\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(closeTransferModal());\n\t\tdispatch(disablePrintButton());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst handleSaveTransfer = async () => {\n\t\tconst isSave = await saveTransfer(transferencia, ciclo);\n\n\t\tif (isSave) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tdispatch(startSetUsuarioSelected(usuario)); //Al actualizar el usuario se actualiza la sup previa\n\t\t\treset();\n\t\t\tdispatch(unsetCultivoSelected());\n\t\t\tdispatch(unsetLocaltieSelected());\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={printTransferModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad p-5\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5 \">\n\t\t\t\t<div className=\"col-2 d-flex justify-content-center\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\tsrc={\"./logos/cna.png\"}\n\t\t\t\t\t\talt=\"Logo cna\"\n\t\t\t\t\t\tstyle={{ maxHeight: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tORGANISMO DE CUENCA PENÍNSULA DE BAJA CALIFORNIA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tDIRECCIÓN DE INFRAESTRUCTURA HIDROAGRÍCOLA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tDISTRITO DE RIEGO 014, RÍO COLORADO, B.C. Y SONORA\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tJEFATURA DE OPERACIÓN\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2 d-flex justify-content-center\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\tsrc={\"./logos/medio-2022.png\"}\n\t\t\t\t\t\talt=\"Logo secretaria del medio ambiente\"\n\t\t\t\t\t\tstyle={{ maxWidth: 200 }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t<h5>\n\t\t\t\t\t<b>AVISO DE TRANSFERENCIA DE VOLÚMENES Y DERECHOS DE RIEGO AÑO AGRÍCOLA {ciclo}</b>\n\t\t\t\t</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-end mt-5\">\n\t\t\t\t<p>NO. OP./{folio}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-2\">\n\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; EN BASE A LO DISPUESTO EN EL ARTÍCULO 49 DE LA LEY DE AGUAS\n\t\t\t\t\tNACIONALES EN EL CUAL ESPECIFICA QUE LOS DERECHOS DE EXPLOTACIÓN, USO O APROVECHAMIENTO DE\n\t\t\t\t\tAGUA PARA USO AGRÍCOLA, GANADERO O FORESTAL SE PODRÁN TRANSMITIR EN LOS TÉRMINOS Y\n\t\t\t\t\tCONDICIONES ESTABLECIDAS EN LA LEY Y SU REGLAMENTO, Y EL ARTÍCULO 88 DEL REGLAMENTO DE LA\n\t\t\t\t\tPROPIA LEY, DICE QUE LA TRANSMISIÓN DE DERECHOS DE RIEGO A QUE SE REFIERE EL ARTÍCULO 49\n\t\t\t\t\tDE LA ‘LEY’ EN RELACIÓN CON EL CAPÍTULO V DEL TÍTULO CUARTO DE LA MISMA, ASÍ COMO LAS\n\t\t\t\t\tTRANSMISIONES EN UNIDADES Y DISTRITOS DE RIEGO PODRÁN SER TEMPORAL O DEFINITIVA.\n\t\t\t\t</p>\n\n\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; ES TEMPORAL CUANDO LOS DERECHOS SE TRANSFIEREN POR DETERMINADOS\n\t\t\t\t\tCICLOS AGRÍCOLAS CONSERVANDO LA TITULARIDAD DE LA CONCESIÓN SIEMPRE Y CUANDO NO SE CAUSEN\n\t\t\t\t\tPERJUICIOS A TERCEROS, POR LO ANTERIORMENTE SEÑALADO LA COMISIÓN NACIONAL DEL AGUA HA\n\t\t\t\t\tACORDADO, QUE SE AUTORICE LA TRANSFERENCIA PROVISIONAL DE LOS DERECHOS DE RIEGO.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSOLICITANTE: <br />\n\t\t\t\t\t\t{apPaterno} {apMaterno} {nombre}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tLOTE: {predio} EN {tipoLocalidad.toUpperCase()} {nombreLocalidad}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{superficieTransferida} HECTÁREAS DE {nombreCultivo}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tADJUDICATARIO:\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{apPaternoSolicitante} {apMaternoSolicitante} {nombreSolicitante}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tLOTE: {loteDestino} EN {tipolocalidadDestino.toUpperCase()} {localidadDestino}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex flex-column justify-content-center mt-5\">\n\t\t\t\t<p className=\"paragraph\">\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; ESTA TRANSFERENCIA TENDRÁ VALIDEZ ÚNICAMENTE EN EL PRESENTE CICLO\n\t\t\t\t\tAGRÍCOLA {ciclo}, DEBIENDO ENTREGARSE EL SERVICIO DE RIEGO PRECISAMENTE AL SOLICITANTE.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-end mt-5\">\n\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-center mt-5\">\n\t\t\t\t<p className=\"text-center\">\n\t\t\t\t\tATENTAMENTE\n\t\t\t\t\t<br />\n\t\t\t\t\tEL ING. EN JEFE DEL DISTRITO DE\n\t\t\t\t\t<br />\n\t\t\t\t\tRIEGO 014, RIO COLORADO\n\t\t\t\t\t<br />\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 justify-content-center\">\n\t\t\t\t<p className=\"text-center\">DR. JULIO ALFONSO NAVARRO URBINA</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 mt-5\">\n\t\t\t\tC.C.P. DISTRITO DE RIEGO NO. 014, RIO COLORADO. - EDIF. <br />\n\t\t\t\tC.C.P. JEFATURA DE OPERACIÓN. - EDIF. <br />\n\t\t\t\tC.C.P. DISTRITO DE RIEGO RIO COLORADO S.de R.L. de I.P. - PTE. <br />\n\t\t\t\tC.C.P. MÓDULOS DE RIEGO {zona} y {moduloDestino}. - PTE. <br />\n\t\t\t\tC.C.P. MINUTARIO <br />\n\t\t\t\tC.C.P. ARCHIVO <br />\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{transferPrintButton ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveTransfer}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { transferColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { startSetTransferencia } from \"../../actions/transferenciasScreen\";\n\nexport const TransferTable = () => {\n\tconst { transferencias } = useSelector((state) => state.transferenciasScreen);\n\n\treturn (\n\t\t<CustomTable\n\t\t\ttitle={transferencias.length === 0 ? \"No se encontraron transferencias\" : \"Transferencias\"}\n\t\t\tcolumns={transferColumns}\n\t\t\tdata={transferencias}\n\t\t\tsetFunction={startSetTransferencia}\n\t\t></CustomTable>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport {\n\tenablePrintButton,\n\topenTransferModal,\n\tstartUpdateTransfer\n} from \"../../actions/transferenciasScreen\";\n\nexport const TransferCard = ({ transferencia }) => {\n\tconst dispatch = useDispatch();\n\tconst {\n\t\tfolio,\n\t\tcuenta,\n\t\tsubcta,\n\t\tnombreLocalidad,\n\t\tsupRiego,\n\t\tpredio,\n\t\tapPaterno,\n\t\tapMaterno,\n\t\tnombre,\n\t\tapPaternoSolicitante,\n\t\tapMaternoSolicitante,\n\t\tnombreSolicitante,\n\t\tzona,\n\t\ttipoLocalidad,\n\t\tmoduloDestino,\n\t\ttipolocalidadDestino,\n\t\tlocalidadDestino,\n\t\tloteDestino,\n\t\tclaveCultivo,\n\t\tnombreCultivo,\n\t\tsuperficieTransferida,\n\t\testadoTransferencia\n\t} = transferencia;\n\n\tconst nombreUsuario = `${apPaterno} ${apMaterno} ${nombre}`;\n\tconst nombreAdjudicatario = `${apPaternoSolicitante} ${apMaternoSolicitante} ${nombreSolicitante}`;\n\n\tconst openPrintModal = () => {\n\t\tdispatch(openTransferModal());\n\t\tdispatch(enablePrintButton());\n\t};\n\n\tconst activateTransfer = () => {\n\t\tdispatch(startUpdateTransfer(transferencia, \"ACTIVA\"));\n\t};\n\n\tconst cancelTransfer = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Está a punto de cancelar la transferencia. ¿Realmente desea cancelarla?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tdispatch(startUpdateTransfer(transferencia, \"CANCELADA\"));\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<h3>Folio: {folio}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>SOLICITANTE</div>\n\t\t\t\t<div>Nombre: {nombreUsuario}</div>\n\t\t\t\t<div>Cuenta: {`${cuenta}.${subcta}`}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipoLocalidad}: {nombreLocalidad}\n\t\t\t\t</div>\n\t\t\t\t<div>Lote: {predio}</div>\n\t\t\t\t<div>Modulo Origen: {zona}</div>\n\t\t\t\t<div>Sup. Derecho: {supRiego} ha</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>ADJUDICATARIO</div>\n\t\t\t\t<div>Nombre: {nombreAdjudicatario}</div>\n\t\t\t\t<div>Modulo Destino: {moduloDestino}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{tipolocalidadDestino}: {localidadDestino}\n\t\t\t\t</div>\n\t\t\t\t<div>Lote: {loteDestino}</div>\n\t\t\t\t<div>Cultivo: {`${claveCultivo} - ${nombreCultivo}`}</div>\n\t\t\t\t<div>Sup. Trasferida: {superficieTransferida} ha</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<div>ESTADO: {estadoTransferencia}</div>\n\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary mt-4\" onClick={openPrintModal}>\n\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t</button>\n\n\t\t\t\t{estadoTransferencia !== \"ACTIVA\" && (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-success mt-4\" onClick={activateTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t<span> Autorizar</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{estadoTransferencia !== \"CANCELADA\" && (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger mt-4\" onClick={cancelTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t<span> Cancelar</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { UserCard } from \"../components/cards/UserCard\";\nimport { TransferForm } from \"../components/forms/TransferForm\";\nimport { UsuariosInput } from \"../components/inputs/UsuariosInput\";\nimport { NuevoProductorModal } from \"../components/modals/NuevoProductorModal\";\nimport { ProductorModal } from \"../components/modals/ProductorModal\";\nimport { CultivoModal } from \"../components/modals/CultivoModal\";\nimport { UsuariosTable } from \"../components/tables/UsuariosTable\";\nimport { LocalidadesModal } from \"../components/modals/LocalidadesModal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PrintTransferModal } from \"../components/modals/PrintTransferModal\";\nimport { useFormToUpper } from \"../hooks/UseFormToUpper\";\nimport { TransferTable } from \"../components/tables/TransferTable\";\nimport { startSetTransferencias, unsetTransferencia } from \"../actions/transferenciasScreen\";\nimport { TransferCard } from \"../components/cards/TransferCard\";\nimport { unsetUsuarios, unsetUsuarioSelected } from \"../actions/usuarios\";\n\nexport const TransferenciasScreen = () => {\n\tconst { usuario } = useSelector((state) => state.entidades);\n\tconst { variablesGlobales, modulo } = useSelector((state) => state.auth);\n\tconst { cicloConsulta: ciclo } = variablesGlobales;\n\tconst { nuevaTransferencia } = useSelector((state) => state.transferenciasScreen);\n\tconst { transferencia } = useSelector((state) => state.transferenciasScreen);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(startSetTransferencias(ciclo, modulo));\n\t\tdispatch(unsetTransferencia());\n\t\tdispatch(unsetUsuarios());\n\t\tdispatch(unsetUsuarioSelected());\n\t}, [dispatch, ciclo, modulo]);\n\n\tconst [values, handleInputChange, reset] = useFormToUpper({\n\t\tsuperficieTransferida: \"\",\n\t\tloteDestino: \"\",\n\t\tmoduloDestino: \"\",\n\t\tcultivo: \"\",\n\t\tlocaltie: \"\",\n\t\tapPaternoSolicitante: \"\",\n\t\tapMaternoSolicitante: \"\",\n\t\tnombreSolicitante: \"\"\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<div className=\"border rounded p-4\">\n\t\t\t\t\t\t<h3 className=\"mb-4\">Transferir superficie</h3>\n\t\t\t\t\t\t<UsuariosInput />\n\t\t\t\t\t\t<UsuariosTable />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"border rounded p-4 mt-5\">\n\t\t\t\t\t\t<h3 className=\"mb-4\">Transferencias recibidas</h3>\n\t\t\t\t\t\t<TransferTable />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{usuario && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<UserCard />\n\t\t\t\t\t\t\t<TransferForm values={values} handleInputChange={handleInputChange} />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{transferencia && <TransferCard transferencia={transferencia} />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ProductorModal />\n\t\t\t<NuevoProductorModal />\n\t\t\t<CultivoModal />\n\t\t\t<LocalidadesModal />\n\t\t\t{nuevaTransferencia && (\n\t\t\t\t<PrintTransferModal transferencia={nuevaTransferencia} reset={reset} />\n\t\t\t)}\n\t\t\t{transferencia && <PrintTransferModal transferencia={transferencia} reset={reset} />}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadSearchPermisosAlgodonero = async (id, palabra, cicloConsulta) => {\n\tconst cicloSplit = cicloConsulta.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\tconst permisos = [];\n\n\tconst permisosNombre = getNombreRef(id, palabra, cicloAnterior);\n\n\tawait permisosNombre.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst permisosCuenta = getCuentaRef(id, palabra, cicloAnterior);\n\n\tawait permisosCuenta.get().then((querySnapshot) => {\n\t\tquerySnapshot.forEach((doc) => {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron registros!\",\n\t\t\t\"Por favor intente con otro parámetro de búsqueda.\",\n\t\t\t\"error\"\n\t\t);\n\t}\n\n\treturn permisos;\n};\n\nconst getNombreRef = (id, palabra, ciclo) => {\n\tif (id === 0) {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", ciclo)\n\t\t\t.where(\"claveCultivo\", \"==\", 80)\n\t\t\t.orderBy(\"usuario\")\n\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\t} else {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"tecnico\", \"==\", id)\n\t\t\t.where(\"ciclo\", \"==\", ciclo)\n\t\t\t.where(\"claveCultivo\", \"==\", 80)\n\t\t\t.orderBy(\"usuario\")\n\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\");\n\t}\n};\n\nconst getCuentaRef = (id, palabra, ciclo) => {\n\tif (id === 0) {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", ciclo)\n\t\t\t.where(\"claveCultivo\", \"==\", 80)\n\t\t\t.orderBy(\"cuenta\")\n\t\t\t.startAt(palabra)\n\t\t\t.endAt(palabra + \"\\uf8ff\");\n\t} else {\n\t\treturn db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"tecnico\", \"==\", id)\n\t\t\t.where(\"ciclo\", \"==\", ciclo)\n\t\t\t.where(\"claveCultivo\", \"==\", 80)\n\t\t\t.orderBy(\"cuenta\")\n\t\t\t.startAt(palabra)\n\t\t\t.endAt(palabra + \"\\uf8ff\");\n\t}\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const getConstanciaSanidadCount = async (ciclo) => {\n\tconst counter = await db\n\t\t.collection(`constanciasSanidad`)\n\t\t.doc(ciclo)\n\t\t.get()\n\t\t.then((doc) => {\n\t\t\tif (doc.exists) {\n\t\t\t\tconst contador = doc.data().numeroConstancia;\n\t\t\t\treturn contador;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(\" Error: \", e);\n\t\t\tSwal.fire(\n\t\t\t\t\"Error de conexión\",\n\t\t\t\t\"Error al intentar obtener el contador de constancias.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn false;\n\t\t});\n\n\treturn counter;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermitsForPay = async (cicloConsulta) => {\n\tconst cicloSplit = cicloConsulta.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\tconst permisos = [];\n\n\tconst desarraigadoSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"ciclo\", \"==\", cicloAnterior)\n\t\t.where(\"desarraigado\", \"==\", true)\n\t\t.get();\n\n\tconst barbechadoSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"ciclo\", \"==\", cicloAnterior)\n\t\t.where(\"barbechado\", \"==\", true)\n\t\t.get();\n\n\tdesarraigadoSnap.forEach((doc) => {\n\t\tif (doc.data().pagado !== true) {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t}\n\t});\n\n\tbarbechadoSnap.forEach((doc) => {\n\t\tif (doc.data().pagado !== true) {\n\t\t\tpermisos.push({\n\t\t\t\tid: doc.id,\n\t\t\t\tsuperficieMapeada: doc.data().superficie,\n\t\t\t\t...doc.data()\n\t\t\t});\n\t\t}\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\n\t\t\t\"No se encontraron registros!\",\n\t\t\t\"Por favor intente con otro parámetro de búsqueda.\",\n\t\t\t\"error\"\n\t\t);\n\t}\n\n\treturn permisos;\n};\n","import { types } from \"../types/types\";\nimport { loadPermisosAlgodonero } from \"../helpers/loadPermisosAlgodonero\";\nimport { loadSuperficiesCultivos } from \"../helpers/loadSuperficiesCultivos\";\nimport { loadSearchPermisosAlgodonero } from \"../helpers/loadSearchPermisosAlgodonero\";\nimport { getConstanciaSanidadCount } from \"../helpers/DB/getCostanciaSanidadCount\";\nimport { disablePrintButton, enablePrintButton } from \"./transferenciasScreen\";\nimport { loadPermitsForPay } from \"../helpers/loadPermitsForPay\";\n\nexport const startLoadPermisos = (id) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisosAlgodonero(id);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermisosSearch = (id, palabra, cicloConsulta) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadSearchPermisosAlgodonero(id, palabra, cicloConsulta);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadPermitsForPay = (cicloConsulta) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermitsForPay(cicloConsulta);\n\t\tdispatch(setPermisos(permisos));\n\t};\n};\n\nexport const startLoadSuperficies = (modulo) => {\n\treturn async (dispatch) => {\n\t\tconst superficies = await loadSuperficiesCultivos(modulo);\n\t\tdispatch(setSuperficies(superficies));\n\t};\n};\n\nexport const setSuperficies = (superficies) => ({\n\ttype: types.permisosScreenSetSuperficies,\n\tpayload: superficies\n});\n\nexport const unsetSuperficies = () => ({\n\ttype: types.permisosScreenUnsetSuperficies\n});\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.algodoneroScreenSetPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.algodoneroScreenUnsetPermisos\n});\n\nexport const setPermisoSelected = (permiso) => ({\n\ttype: types.permisosScreenSetPermisoSelected,\n\tpayload: permiso.id\n});\n\nexport const unsetPermisoSelected = () => ({\n\ttype: types.permisosScreenUnsetPermisoSelected\n});\n\nexport const openSanidadModal = (permiso) => ({\n\ttype: types.openSanidadModal,\n\tpayload: permiso\n});\n\nexport const closeSanidadModal = () => ({\n\ttype: types.closeSanidadModal\n});\n\nexport const startCloseSanidadModal = () => {\n\treturn (dispatch) => {\n\t\tdispatch(disablePrintButton());\n\t\tdispatch(closeSanidadModal());\n\t};\n};\n\nconst fill = (number, len) => \"0\".repeat(len - number.toString().length) + number.toString();\n\nconst defineFolio = (counter) => {\n\tif (counter !== false) {\n\t\tconst folio = `CESVBC-${fill(counter + 1, 4)}`;\n\t\treturn folio;\n\t} else return null;\n};\n\nexport const startOpenSanidadModal = (ciclo, permiso) => {\n\treturn async (dispatch) => {\n\t\tif (permiso.folioSanidad) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tdispatch(openSanidadModal(permiso));\n\t\t} else {\n\t\t\tconst counter = await getConstanciaSanidadCount(ciclo);\n\t\t\tconst folioSanidad = defineFolio(counter);\n\n\t\t\tdispatch(openSanidadModal({ ...permiso, folioSanidad }));\n\t\t}\n\t};\n};\n\nexport const updatePermiso = (permiso) => ({\n\ttype: types.updatePermiso,\n\tpayload: permiso\n});\n\nexport const deletePermiso = (id) => ({\n\ttype: types.deletePermiso,\n\tpayload: id\n});\n\nexport const setTechniciansLabores = (technicians) => ({\n\ttype: types.setTechniciansLabores,\n\tpayload: technicians\n});\n\nexport const setNewTecnico = (idPermiso, uid) => ({\n\ttype: types.setNewTecnico,\n\tpayload: { idPermiso, uid }\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadPermisosSearch } from \"../../actions/algodoneroScreen\";\nimport { asignarTecnico } from \"../../helpers/DB/asignarTecnico\";\n\nexport const PermisoAsignacion = ({ state }) => {\n\tconst dispatch = useDispatch();\n\n\tconst { technicians } = state;\n\tconst { permisos, permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\tconst permiso = permisos.find((permiso) => permiso.id === permisoSelected);\n\tconst { folio, nombre, cuenta, tecnico } = permiso;\n\tconst technicianSelected = technicians.find((technician) => technician.id === tecnico);\n\n\tconst [technician, setTechnician] = useState(\"\");\n\n\tconst { uid, rol } = useSelector((state) => state.auth);\n\n\tconst handleSetTechnician = ({ target }) => {\n\t\tsetTechnician(target.value);\n\t\tasignarTecnico(permiso.modulo, permiso.folio, target.value);\n\t\tdispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, state.palabra));\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded text-center p-3\">\n\t\t\t<h4>{folio}</h4>\n\t\t\t<div>Cuenta: {cuenta}</div>\n\t\t\t<div>{nombre}</div>\n\t\t\t<div>Técnico: {technicianSelected ? technicianSelected.displayName : \"Sin asignar\"}</div>\n\n\t\t\t<select\n\t\t\t\tname=\"campo\"\n\t\t\t\tid=\"campo\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={technician}\n\t\t\t\tonChange={handleSetTechnician}\n\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t>\n\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\tAsignar Técnico\n\t\t\t\t</option>\n\n\t\t\t\t{technicians.map((technician) => (\n\t\t\t\t\t<option key={technician.id} value={technician.id}>\n\t\t\t\t\t\t{technician.displayName}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const asignarTecnico = (modulo, folio, tecnico) => {\n\tdb.collection(\"permisos\")\n\t\t.doc(\"2020-2021\")\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(\"permisos\")\n\t\t.doc(folio)\n\t\t.update({ tecnico })\n\t\t.then(() => {\n\t\t\tSwal.fire(\n\t\t\t\t\"Técnico asignado\",\n\t\t\t\t`Se aplicaron los cambios en la asignación de predios. `,\n\t\t\t\t\"success\"\n\t\t\t);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveTechnicianLocalties = async (\n\tid,\n\tnombre,\n\tlocalties,\n\totherTechnicians,\n\tcicloActual\n) => {\n\t// TODO: Asignar ciclo de forma dinamica\n\n\t//Traer todos los permisos que coinsidan con las localidades que no tengan al tecnico\n\t//Asignar a los permisos de la consulta anterior el nuevo tecnico\n\t//En la tabla de usuarios actualizar las localidades que se asignaron al tecnico\n\tconst cicloSplit = cicloActual.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\tSwal.fire({\n\t\ttitle: \"Actualizando...\",\n\t\ttext: \"Por favor espere...\",\n\t\tallowOutsideClick: false,\n\t\tdidOpen: () => {\n\t\t\tSwal.showLoading();\n\t\t}\n\t});\n\tconst updates = getUpdates(localties, otherTechnicians);\n\tupdates.push({ id, nombre, localidades: localties });\n\n\tconst newPermisosRefs = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"tecnico\", \"!=\", id)\n\t\t.where(\"ciclo\", \"==\", cicloAnterior)\n\t\t.where(\"claveLocalidad\", \"in\", localties.length > 0 ? localties : [\"x\"])\n\t\t.get();\n\n\tconst idPadronPromises = [];\n\tupdates.forEach((technician) => {\n\t\ttechnician.localidades.forEach((claveLocalidad) => {\n\t\t\tidPadronPromises.push(db.collection(\"colonias\").where(\"clave\", \"==\", claveLocalidad).get());\n\t\t});\n\t});\n\n\tconst idPadronResolvedPromises = await Promise.all(idPadronPromises);\n\tconst padronLocalties = [];\n\n\tidPadronResolvedPromises.forEach((snap) => {\n\t\tsnap.forEach((localtie) => {\n\t\t\tpadronLocalties.push({ id: localtie.id, clave: localtie.data().clave });\n\t\t});\n\t});\n\n\tconst updatesInPadron = [];\n\tupdates.forEach((technician) => {\n\t\ttechnician.localidades.forEach((claveLocalidad) => {\n\t\t\tconst localtie = padronLocalties.find((localtie) => localtie.clave === claveLocalidad);\n\n\t\t\tupdatesInPadron.push({ id: localtie.id, tecnico: technician.nombre });\n\t\t});\n\t});\n\n\tlet batch = db.batch();\n\tlet i = 1;\n\tconst batchSize = 500;\n\n\ttry {\n\t\tlet asignados = 0;\n\n\t\tupdatesInPadron.forEach((localtie) => {\n\t\t\tbatch.update(db.collection(\"colonias\").doc(localtie.id), {\n\t\t\t\ttecnico: localtie.tecnico\n\t\t\t});\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tupdates.forEach((update) => {\n\t\t\tbatch.update(db.collection(\"usuarios\").doc(update.id), { localidades: update.localidades });\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tnewPermisosRefs.forEach((permit) => {\n\t\t\tbatch.update(\n\t\t\t\tdb\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(cicloAnterior)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${permit.data().modulo}`)\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(permit.id),\n\t\t\t\t{ tecnico: id }\n\t\t\t);\n\t\t\tasignados++;\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tbatch\n\t\t\t.commit()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Se terminaron de actualizar los permisos\");\n\t\t\t\tSwal.close();\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"Cambios guardados\",\n\t\t\t\t\t`Se aplicaron los cambios en la asignación de predios. \n\t\t\t\t${asignados} predios asignados.`,\n\t\t\t\t\t// ${removidos} predios removidos.`,\n\t\t\t\t\t\"success\"\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\n\t\treturn { updates, updatesInPadron };\n\t} catch (error) {\n\t\tSwal.close();\n\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar los cambios.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\nconst getUpdates = (localties, otherTechnicians) => {\n\t/* \t\n\tToma un arreglo con los datos de los tecnicos que no se estan procesando y retorna un array con objetos \n\tque contienen la clave del tecnico y un objeto con las localidades que le quedan despues de\n\tquitarle las localidades que se le estan asignando al tecnico que se esta procesando\n \t*/\n\n\tconst techniciansCopy = [];\n\totherTechnicians.forEach((technician) => {\n\t\ttechniciansCopy.push({\n\t\t\tid: technician.id,\n\t\t\tnombre: technician.nombre,\n\t\t\tlocalidades: [...technician.localidades]\n\t\t});\n\t});\n\n\tlocalties.forEach((localtie) => {\n\t\ttechniciansCopy.forEach((technician, i) => {\n\t\t\tif (technician.localidades.includes(localtie)) {\n\t\t\t\tconst j = technician.localidades.indexOf(localtie);\n\t\t\t\ttechniciansCopy[i].localidades.splice(j, 1);\n\t\t\t}\n\t\t});\n\t});\n\n\tconst updates = [];\n\n\tfor (let i = 0; i < otherTechnicians.length; i++) {\n\t\tif (otherTechnicians[i].localidades.length !== techniciansCopy[i].localidades.length) {\n\t\t\tupdates.push(techniciansCopy[i]);\n\t\t}\n\t}\n\t// Retorna solo los tecnicos que fueron modificados\n\treturn updates;\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { saveTechnicianLocalties } from \"../../helpers/DB/saveTechnicianLocalties\";\n// import { saveTechnicianLocalties } from \"../../helpers/DB/saveTechnicianLocalties\";\nimport { types } from \"../../types/types\";\n\nexport const SelectedLocaltiesDetail = ({ state, dispatch }) => {\n\tconst { cicloActual } = useSelector((state) => state.auth.variablesGlobales);\n\tconst { selectedLocalties, technicians, technicianSelected } = state;\n\n\tconst [technicianId, setTechnicianId] = useState(\"\");\n\n\tconst handleSetTechnician = async ({ target }) => {\n\t\tsetTechnicianId(target.value);\n\t\tconst technician = technicians.find((technician) => technician.id === target.value);\n\t\tdispatch({ type: types.setTechnicianSelected, payload: technician });\n\n\t\t// asignarTecnico(permiso.modulo, permiso.folio, target.value);\n\t\t// dispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, state.palabra));\n\t};\n\n\tconst handleSaveChanges = async () => {\n\t\tif (technicianId.length > 0) {\n\t\t\tconst otherTechnicians = [];\n\t\t\tstate.technicians.forEach((technician) => {\n\t\t\t\tif (technician.id !== technicianId) {\n\t\t\t\t\totherTechnicians.push({\n\t\t\t\t\t\tid: technician.id,\n\t\t\t\t\t\tnombre: technician.displayName,\n\t\t\t\t\t\tlocalidades: technician.localidades ?? []\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst localtiesIds = [];\n\t\t\tselectedLocalties.forEach((localtie) => localtiesIds.push(localtie.clave));\n\n\t\t\tconst updates = await saveTechnicianLocalties(\n\t\t\t\ttechnicianId,\n\t\t\t\ttechnicianSelected.displayName,\n\t\t\t\tlocaltiesIds,\n\t\t\t\totherTechnicians,\n\t\t\t\tcicloActual\n\t\t\t);\n\t\t\tif (updates) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.updateTechnicians,\n\t\t\t\t\tpayload: updates.updates\n\t\t\t\t});\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.updatePadronLocalties,\n\t\t\t\t\tpayload: updates.updatesInPadron\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Técnico no seleccionado!\",\n\t\t\t\t\"Por favor indique el técnico a quien le serán asignadas las localidades seleccionadas.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded text-center p-3\">\n\t\t\t<h4>Localidades seleccionadas: {selectedLocalties.length}</h4>\n\n\t\t\t<div>\n\t\t\t\t{selectedLocalties.map((localtie) => (\n\t\t\t\t\t<div key={localtie.id}> {localtie.ubicacion}</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t<select\n\t\t\t\tname=\"campo\"\n\t\t\t\tid=\"campo\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={technicianId}\n\t\t\t\tonChange={handleSetTechnician}\n\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t>\n\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\tSeleccionar Técnico\n\t\t\t\t</option>\n\n\t\t\t\t{technicians.map((technician) => (\n\t\t\t\t\t<option key={technician.id} value={technician.id}>\n\t\t\t\t\t\t{technician.displayName}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\n\t\t\t<button onClick={handleSaveChanges} className=\"btn btn-success mt-4\">\n\t\t\t\tAplicar cambios\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { setPermisoSelected, startLoadPermisosSearch } from \"../../actions/algodoneroScreen\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { types } from \"../../types/types\";\nimport { laboresColumns } from \"./configTables\";\nimport { CustomTable } from \"./CustomTable\";\n\nexport const LaboresPermitsTable = ({ dispatch: dispatchLocal }) => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\n\tconst { permisos } = useSelector((state) => state.algodoneroScreen);\n\tconst { uid, rol, variablesGlobales } = useSelector((state) => state.auth);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\tdispatch(\n\t\t\t\tstartLoadPermisosSearch(\n\t\t\t\t\trol === \"tecnicoCESVBC\" ? uid : 0,\n\t\t\t\t\tpalabra,\n\t\t\t\t\tvariablesGlobales.cicloActual\n\t\t\t\t)\n\t\t\t);\n\t\t\tdispatchLocal({ type: types.setBusqueda, payload: palabra });\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese número de permiso, número de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-inline-flex\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={palabra}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"\">\n\t\t\t\t{permisos.length > 0 && (\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\tcolumns={laboresColumns}\n\t\t\t\t\t\tdata={permisos}\n\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomSelectableTable = ({\n\ttitle,\n\tcolumns,\n\tdata,\n\tsetSelectedRowsFunction,\n\tsimpleSetSelectedRowsFunction,\n\tcontextMessage\n}) => {\n\tconst dispatch = useDispatch();\n\n\tconst setSelectedRows = (rows) => {\n\t\tif (setSelectedRowsFunction !== undefined) {\n\t\t\tdispatch(setSelectedRowsFunction(rows.selectedRows));\n\t\t}\n\n\t\tif (!simpleSetSelectedRowsFunction !== undefined) {\n\t\t\tsimpleSetSelectedRowsFunction(rows.selectedRows);\n\t\t}\n\t};\n\n\tconst paginationOptions = {\n\t\trowsPerPageText: \"Filas por pagina\",\n\t\trangesSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\"\n\t};\n\n\treturn (\n\t\t<Datatable\n\t\t\tcolumns={columns}\n\t\t\tdata={data}\n\t\t\ttitle={title}\n\t\t\tpagination\n\t\t\tpaginationComponentOptions={paginationOptions}\n\t\t\tfixedHeader\n\t\t\tpersistTableHead\n\t\t\tfixedHeaderScrollHeight=\"380px\"\n\t\t\thighlightOnHover={true}\n\t\t\tstriped={true}\n\t\t\tpointerOnHover={true}\n\t\t\tdense={true}\n\t\t\tselectableRows={true}\n\t\t\tonSelectedRowsChange={setSelectedRows}\n\t\t\tcontextMessage={contextMessage}\n\t\t/>\n\t);\n};\n","import React from \"react\";\nimport { types } from \"../../types/types\";\nimport { CustomSelectableTable } from \"../tables/CustomSelectableTable\";\nimport { asignacionLocaltiesColumns } from \"./configTables\";\n\nexport const SelectableLocaltiesTable = ({ localties, dispatch }) => {\n\tconst startSetSelectedLocalties = (selectedLocalties) => {\n\t\tdispatch({ type: types.setSelectedLocaltiesAsignacion, payload: selectedLocalties });\n\t};\n\n\tconst contextMessage = { singular: \"localidad\", plural: \"localidades\", message: \"para asignar\" };\n\n\treturn (\n\t\t<CustomSelectableTable\n\t\t\ttitle={\"Localidades\"}\n\t\t\tcolumns={asignacionLocaltiesColumns}\n\t\t\tdata={localties}\n\t\t\tsimpleSetSelectedRowsFunction={startSetSelectedLocalties}\n\t\t\tcontextMessage={contextMessage}\n\t\t/>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadTechnician = async () => {\n\tconst technicians = [];\n\tconst techniciansSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\n\ttechniciansSnap.forEach((doc) => {\n\t\ttechnicians.push({\n\t\t\t...doc.data(),\n\t\t\tid: doc.id,\n\t\t\tmodulos: doc.data().modulos ?? [],\n\t\t\tlocalidades: doc.data().localidades ?? []\n\t\t});\n\t});\n\n\treturn technicians;\n};\n","import { types } from \"../types/types\";\n\n// const initialState = {\n//     technicians: [],\n//     technicianSelected: null,\n//     permits: [],\n//     permitSelected: null\n// };\n\nexport const asignacionReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase types.setLocaltiesAsignacion:\n\t\t\treturn { ...state, localties: action.payload };\n\n\t\tcase types.setSelectedLocaltiesAsignacion:\n\t\t\treturn { ...state, selectedLocalties: action.payload };\n\n\t\tcase types.setTechnicians:\n\t\t\treturn { ...state, technicians: action.payload };\n\n\t\tcase types.setTechnicianSelected:\n\t\t\treturn { ...state, technicianSelected: action.payload };\n\n\t\tcase types.setBusqueda:\n\t\t\treturn { ...state, palabra: action.payload };\n\n\t\tcase types.updateTechnicians:\n\t\t\tconst updatedTechnicians = [];\n\t\t\tstate.technicians.forEach((technician, i) => {\n\t\t\t\tupdatedTechnicians.push(technician);\n\t\t\t\taction.payload.forEach((updatedTech) => {\n\t\t\t\t\tif (technician.id === updatedTech.id) {\n\t\t\t\t\t\tupdatedTechnicians[i].localidades = updatedTech.localidades;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttechnicians: updatedTechnicians\n\t\t\t};\n\n\t\tcase types.updatePadronLocalties:\n\t\t\tconst newLocalties = [];\n\t\t\tconst updatesIds = [];\n\n\t\t\taction.payload.forEach((localtie) => updatesIds.push(localtie.id));\n\n\t\t\tstate.localties.forEach((stateLocaltie) => {\n\t\t\t\tconst updatesIndex = updatesIds.indexOf(stateLocaltie.id);\n\n\t\t\t\tif (updatesIndex >= 0) {\n\t\t\t\t\tnewLocalties.push({ ...stateLocaltie, tecnico: action.payload[updatesIndex].tecnico });\n\t\t\t\t} else {\n\t\t\t\t\tnewLocalties.push({ ...stateLocaltie });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlocalties: newLocalties\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React, { useEffect } from \"react\";\nimport { useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { PermisoAsignacion } from \"../components/asignacion/PermisoAsignacion\";\nimport { SelectedLocaltiesDetail } from \"../components/asignacion/SelectedLocaltiesDetail\";\nimport { LaboresPermitsTable } from \"../components/tables/LaboresPermitsTable\";\nimport { SelectableLocaltiesTable } from \"../components/tables/SelectableLocaltiesTable\";\nimport { loadTechnician } from \"../helpers/DB/loadTechnician\";\nimport { loadLocaltiesFromPermits } from \"../helpers/loadLocaltiesFromPermits\";\nimport { asignacionReducer } from \"../reducers/asignacionReducer\";\nimport { types } from \"../types/types\";\n\nexport const AsignacionScreen = () => {\n\tconst initialState = {\n\t\tlocalties: [],\n\t\tselectedLocalties: [],\n\t\ttechnicians: [],\n\t\ttechnicianSelected: null,\n\t\tpermits: [],\n\t\tpermitSelected: null\n\t};\n\n\tconst { privilegios, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { asignarTecnico } = privilegios;\n\tconst { permisoSelected } = useSelector((state) => state.algodoneroScreen);\n\n\tconst [state, dispatch] = useReducer(asignacionReducer, initialState);\n\tconst { selectedLocalties, localties } = state;\n\t// console.log(state);\n\n\tuseEffect(() => {\n\t\tloadLocaltiesFromPermits(variablesGlobales.cicloActual).then((localties) => {\n\t\t\tdispatch({ type: types.setLocaltiesAsignacion, payload: localties });\n\t\t});\n\t}, [dispatch, variablesGlobales.cicloActual]);\n\n\tuseEffect(() => {\n\t\tloadTechnician().then((techniciasns) => {\n\t\t\tdispatch({ type: types.setTechnicians, payload: techniciasns });\n\t\t});\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-center p-4\">\n\t\t\t\t<h1>Asignación de técnico</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t{localties.length > 0 && (\n\t\t\t\t\t\t<SelectableLocaltiesTable localties={localties} dispatch={dispatch} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{selectedLocalties.length > 0 && (\n\t\t\t\t\t\t<SelectedLocaltiesDetail state={state} dispatch={dispatch} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{asignarTecnico && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"row d-flex justify-content-center mt-5\">\n\t\t\t\t\t\t<h4>Asignación individual</h4>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<LaboresPermitsTable dispatch={dispatch} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-sm-4\">{permisoSelected && <PermisoAsignacion state={state} />}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{\" \"}\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const asignarTecnico = async (id, modulo, ciclo, uid) => {\n\ttry {\n\t\tawait db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(id)\n\t\t\t.update({ tecnico: uid });\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\treturn false;\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const updatePermisoAlgodonero = async (permiso, modulo, ciclo, objeto) => {\n\ttry {\n\t\tawait db\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`permisos`)\n\t\t\t.doc(permiso)\n\t\t\t.update(objeto);\n\n\t\treturn true;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\treturn false;\n\t}\n};\n","import { types } from \"../types/types\";\n\nexport const laboresChecksReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase types.setCheckState: {\n\t\t\treturn action.payload;\n\t\t} /* \n            const initialState = [\n                0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: false, editable: true },\n                1 { name: \"cosechado\", tag: \"COSECHADO\",       state: false, editable: false },\n                2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: false },\n                3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n                4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n                5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n                6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n            ];\n        */\n\n\t\tcase types.checkDesfoliado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[0].state = true;\n\t\t\tnewState[1].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesfoliado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[0].state = false;\n\t\t\tnewState[1].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: true },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: false, editable: true },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];      \n        */\n\n\t\tcase types.checkCosechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[1].state = true;\n\t\t\tnewState[0].editable = false;\n\t\t\tnewState[2].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckCosechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[1].state = false;\n\t\t\tnewState[0].editable = true;\n\t\t\tnewState[2].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: true },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: false, editable: true },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];      \n        */\n\n\t\tcase types.checkDesvarado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].state = true;\n\t\t\tnewState[1].editable = false;\n\t\t\tnewState[3].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesvarado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].state = false;\n\t\t\tnewState[1].editable = true;\n\t\t\tnewState[3].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: true },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: false, editable: true },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];                   \n        */\n\n\t\tcase types.checkDisqueado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].editable = false;\n\t\t\tnewState[3].state = true;\n\t\t\tnewState[4].editable = true;\n\t\t\tnewState[5].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDisqueado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[2].editable = true;\n\t\t\tnewState[3].state = false;\n\t\t\tnewState[4].editable = false;\n\t\t\tnewState[5].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: true },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: false }\n           ];            \n        */\n\n\t\tcase types.checkDesarraigado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = false;\n\t\t\tnewState[4].state = true;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckDesarraigado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = true;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: true, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: false, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: true }\n           ];            \n        */\n\n\t\tcase types.checkBarbechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = false;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = true;\n\t\t\tnewState[6].editable = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckBarbechado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[3].editable = true;\n\t\t\tnewState[4].state = false;\n\t\t\tnewState[5].state = false;\n\t\t\tnewState[6].editable = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: true },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: true, editable: true },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: false, editable: true }\n           ];            \n        */\n\n\t\tcase types.checkPagado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[4].editable = false;\n\t\t\tnewState[5].editable = false;\n\t\t\tnewState[6].state = true;\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase types.uncheckPagado: {\n\t\t\tconst newState = state.map((check) => check);\n\t\t\tnewState[4].editable = true;\n\t\t\tnewState[5].editable = true;\n\t\t\tnewState[6].state = false;\n\t\t\treturn newState;\n\t\t}\n\n\t\t/* \n           const initialState = [\n               0 { name: \"desfoliado\", tag: \"DESFOLIADO\",     state: true,  editable: false },\n               1 { name: \"cosechado\", tag: \"COSECHADO\",       state: true,  editable: false },\n               2 { name: \"desvarado\", tag: \"DESVARADO\",       state: true, editable: false },\n               3 { name: \"disqueado\", tag: \"DISQUEADO\",       state: true, editable: false },\n               4 { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: false, editable: false },\n               5 { name: \"barbechado\", tag: \"BARBECHADO\",     state: true, editable: false },\n               6 { name: \"pagado\", tag: \"PAGADO\",             state: true, editable: true }\n           ];            \n        */\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useReducer } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport {\n\tsetNewTecnico,\n\tstartOpenSanidadModal,\n\tupdatePermiso\n} from \"../../actions/algodoneroScreen\";\nimport { asignarTecnico } from \"../../helpers/asignarTecnico\";\nimport { updatePermisoAlgodonero } from \"../../helpers/updatePermisoAlgodonero\";\nimport { laboresChecksReducer } from \"../../reducers/laboresChecksReducer\";\nimport { types } from \"../../types/types\";\n\nexport const CheckSanidad = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { permisos, permisoSelected, technicians } = useSelector((state) => state.algodoneroScreen);\n\tconst { uid, privilegios, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { registrarLabores, pagarLabores, imprimirLabores } = privilegios;\n\n\tconst cuotaSanidad = 60;\n\n\tconst dataPermiso = permisos.find((permiso) => permiso.id === permisoSelected);\n\tconst tecnico = technicians.find((tecnico) => tecnico.id === dataPermiso.tecnico);\n\n\tuseEffect(() => {\n\t\tconst state = setInitialState(dataPermiso);\n\t\tchecksDispatch({ type: types.setCheckState, payload: state });\n\t}, [dataPermiso]);\n\n\tconst [checksState, checksDispatch] = useReducer(\n\t\tlaboresChecksReducer,\n\t\tsetInitialState(dataPermiso)\n\t);\n\n\tconst cicloSplit = variablesGlobales.cicloConsulta.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\tconst checkUncheck = async (editable, name, state) => {\n\t\tif (determinaAcceso(editable, name, registrarLabores, pagarLabores, uid, dataPermiso.tecnico)) {\n\t\t\tconst updates = getUpdates(name, state);\n\n\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\tpermisoSelected,\n\t\t\t\tdataPermiso.modulo,\n\t\t\t\tcicloAnterior,\n\t\t\t\tupdates\n\t\t\t);\n\n\t\t\tif (isSave) {\n\t\t\t\tchecksDispatch(getAction(name, state));\n\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, ...updates }));\n\t\t\t}\n\t\t}\n\t};\n\n\tconst addSuperficieMapeada = (superficieActual) => {\n\t\tif (uid === dataPermiso.tecnico) {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Actualizar superficie mapeada\",\n\t\t\t\tinput: \"text\",\n\t\t\t\tinputPlaceholder: superficieActual,\n\t\t\t\tinputAttributes: {\n\t\t\t\t\tautocapitalize: \"off\"\n\t\t\t\t},\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\t\tcancelButtonText: \"Cancelar\"\n\t\t\t}).then(async (result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\t\tpermisoSelected,\n\t\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\tcicloAnterior,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsuperficieMapeada: Number(result.value)\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tif (isSave) {\n\t\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, superficieMapeada: Number(result.value) }));\n\t\t\t\t\t\tSwal.fire(\"OK\", `Se actualiso la superficie mapeada`, \"success\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst addSuperficieParcialLiberada = (superficieParcialLiberada) => {\n\t\tif (uid === dataPermiso.tecnico) {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Liberar superficie parcial.\",\n\t\t\t\tinput: \"text\",\n\t\t\t\tinputPlaceholder: superficieParcialLiberada,\n\t\t\t\tinputAttributes: {\n\t\t\t\t\tautocapitalize: \"off\"\n\t\t\t\t},\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\t\tcancelButtonText: \"Cancelar\"\n\t\t\t}).then(async (result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tif (result.value > dataPermiso.supDerecho - dataPermiso.supAutorizada) {\n\t\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\t\"Error.\",\n\t\t\t\t\t\t\t`Solo es posible liberar ${\n\t\t\t\t\t\t\t\tdataPermiso.supDerecho - dataPermiso.supAutorizada\n\t\t\t\t\t\t\t} ha o menos en esta cuenta.`,\n\t\t\t\t\t\t\t\"error\"\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\t\t\tpermisoSelected,\n\t\t\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\t\tcicloAnterior,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsuperficieParcialLiberada: Number(result.value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (isSave) {\n\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\tupdatePermiso({ ...dataPermiso, superficieParcialLiberada: Number(result.value) })\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tSwal.fire(\"OK\", `Se liberaron ${result.value} ha para expedición.`, \"success\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst addFolioFisico = (folio) => {\n\t\tif (uid === dataPermiso.tecnico) {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Folio de constancia física:\",\n\t\t\t\tinput: \"text\",\n\t\t\t\tinputPlaceholder: folio,\n\t\t\t\tinputAttributes: {\n\t\t\t\t\tautocapitalize: \"off\"\n\t\t\t\t},\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\t\tcancelButtonText: \"Cancelar\"\n\t\t\t}).then(async (result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\t\tpermisoSelected,\n\t\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\tcicloAnterior,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfolioConstaniciaFisica: result.value\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tif (isSave) {\n\t\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, folioConstaniciaFisica: result.value }));\n\t\t\t\t\t\tSwal.fire(\"OK\", `Se guardó el folio de la constancia.`, \"success\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst addComentario = (comentario) => {\n\t\tif (uid === dataPermiso.tecnico) {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Folio de constancia física:\",\n\t\t\t\tinput: \"textarea\",\n\t\t\t\tinputValue: comentario,\n\t\t\t\tinputAttributes: {\n\t\t\t\t\tautocapitalize: \"off\"\n\t\t\t\t},\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonText: \"Guardar\",\n\t\t\t\tcancelButtonText: \"Cancelar\"\n\t\t\t}).then(async (result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tconst isSave = await updatePermisoAlgodonero(\n\t\t\t\t\t\tpermisoSelected,\n\t\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\t\tcicloAnterior,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcomentario: result.value\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tif (isSave) {\n\t\t\t\t\t\tdispatch(updatePermiso({ ...dataPermiso, comentario: result.value }));\n\t\t\t\t\t\tSwal.fire(\"OK\", `Se guardó el comentario.`, \"success\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst formatter = new Intl.NumberFormat(\"es-MX\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"MXN\"\n\t});\n\n\tconst handleOpenSanidadModal = () => {\n\t\tdispatch(startOpenSanidadModal(dataPermiso.ciclo, dataPermiso));\n\t};\n\n\t// TODO: Asignar folio de constancia fitosanitaria al expedir permiso de algodon\n\n\tconst onSetCurrentTechnician = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Gestionar Labores\",\n\t\t\ttext: `Al confirmar, usted será asignado como técnico para registrar las labores fitosanitarias para el permiso seleccionado.`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Confirmar\",\n\t\t\tcancelButtonText: \"Cancelar\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst cicloSplit = variablesGlobales.cicloConsulta.split(\"-\");\n\t\t\t\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\t\t\t\tconst isDeleted = await asignarTecnico(\n\t\t\t\t\tdataPermiso.id,\n\t\t\t\t\tdataPermiso.modulo,\n\t\t\t\t\tcicloAnterior,\n\t\t\t\t\tuid\n\t\t\t\t);\n\t\t\t\tif (isDeleted) {\n\t\t\t\t\tdispatch(setNewTecnico(dataPermiso.id, uid));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"col-sm-4 mt-3\">\n\t\t\t<div className=\"border border-info rounded detallePermiso\">\n\t\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t\t<h5>{dataPermiso.numeroPermiso}</h5>\n\t\t\t\t</div>\n\n\t\t\t\t{registrarLabores && uid !== dataPermiso.tecnico && (\n\t\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center m-3\">\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={onSetCurrentTechnician}>\n\t\t\t\t\t\t\t\tGestionar Labores\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">TÉCNICO:</div>\n\t\t\t\t\t<div className=\"col-8\">{tecnico ? tecnico.displayName : \"SIN ASIGNAR\"}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">CUENTA:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.cuenta}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-2\">\n\t\t\t\t\t<div className=\"col-4\">CICLO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.ciclo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">USUARIO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.usuario}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOTE:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.lote}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">LOCALIDAD:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.nombreLocalidad}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MODULO:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.modulo}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">SUP. PERMISO :</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supAutorizada} ha</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">SUP. CUENTA:</div>\n\t\t\t\t\t<div className=\"col-8\">{dataPermiso.supDerecho} ha</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">SUPERFICIE MAPEADA:</div>\n\t\t\t\t\t<div className=\"col-3\">{dataPermiso.superficieMapeada} Ha</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addSuperficieMapeada(dataPermiso.superficieMapeada)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">FOLIO DE CONSTANCIA FÍSICA:</div>\n\t\t\t\t\t<div className=\"col-3\">{dataPermiso.folioConstaniciaFisica}</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addFolioFisico(dataPermiso.folioConstaniciaFisica ?? \"\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">COMENTARIO:</div>\n\t\t\t\t\t<div className=\"col-3\"> {\" - \"} </div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => addComentario(dataPermiso.comentario ?? \"\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{dataPermiso.comentario && dataPermiso.comentario.length > 0 && (\n\t\t\t\t\t<div className=\"row border rounded m-2 p-2\">\n\t\t\t\t\t\t<div className=\"col-12\">{dataPermiso.comentario}</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{checksState.map((check) => (\n\t\t\t\t\t<div key={check.name} className=\"row p-1 pl-2 d-flex align-items-center\">\n\t\t\t\t\t\t<div className=\"col-4\">{check.tag}:</div>\n\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-sm ${getStyle(check.state, check.editable)}`}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => checkUncheck(check.editable, check.name, check.state)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t<div className=\"row p-1 pl-2\">\n\t\t\t\t\t<div className=\"col-4\">MONTO A PAGAR:</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t{formatter.format(dataPermiso.superficieMapeada * cuotaSanidad)} MN\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row border rounded m-2 p-2 d-flex align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">LIBERAR SUPERFICIE PARCIAL:</div>\n\t\t\t\t\t<div className=\"col-3\">{dataPermiso.superficieParcialLiberada} Ha</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t{registrarLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary btn-sm \"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\taddSuperficieParcialLiberada(dataPermiso.superficieParcialLiberada ?? 0)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row pt-3 pl-2\">\n\t\t\t\t\t<div className={`col-12 ${!dataPermiso.laboresPendientes && \"text-success\"}`}>\n\t\t\t\t\t\t{dataPermiso.laboresPendientes\n\t\t\t\t\t\t\t? \"CUENTA BLOQUEADA PARA EXPEDICIÓN\"\n\t\t\t\t\t\t\t: \"CUENTA LIBERADA PARA EXPEDICIÓN\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{dataPermiso.superficieParcialLiberada &&\n\t\t\t\tdataPermiso.superficieParcialLiberada > 0 &&\n\t\t\t\tdataPermiso.laboresPendientes ? (\n\t\t\t\t\t<div className=\"row pt-3 pl-2\">\n\t\t\t\t\t\t<div className=\"col-12 text-success\">\n\t\t\t\t\t\t\t{dataPermiso.superficieParcialLiberada} HA LIBRES PARA EXPEDICIÓN\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row p-1 pl-2 pt-4 pb-4\">\n\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t{dataPermiso.pagado && imprimirLabores && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success\"\n\t\t\t\t\t\t\t\tonClick={handleOpenSanidadModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t{dataPermiso.folioSanidad ? (\n\t\t\t\t\t\t\t\t\t<span> Imprimir Constancia</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span> Generar Constancia</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst getStyle = (state, editable) => {\n\tif (state === true) return \"btn-success\";\n\telse if (editable === true) return \"btn-outline-success\";\n\telse return \"btn-outline-secondary\";\n};\n\nconst setInitialState = (permiso) => {\n\tconst desfoliado = permiso.desfoliado ?? false;\n\tconst cosechado = permiso.cosechado ?? false;\n\tconst desvarado = permiso.desvarado ?? false;\n\tconst disqueado = permiso.disqueado ?? false;\n\tconst desarraigado = permiso.desarraigado ?? false;\n\tconst barbechado = permiso.barbechado ?? false;\n\tconst pagado = permiso.pagado ?? false;\n\n\tconst state = [\n\t\t/* 0 */ { name: \"desfoliado\", tag: \"DESFOLIADO\", state: desfoliado, editable: false },\n\t\t/* 1 */ { name: \"cosechado\", tag: \"COSECHADO\", state: cosechado, editable: false },\n\t\t/* 2 */ { name: \"desvarado\", tag: \"DESVARADO\", state: desvarado, editable: false },\n\t\t/* 3 */ { name: \"disqueado\", tag: \"DISQUEADO\", state: disqueado, editable: false },\n\t\t/* 4 */ { name: \"desarraigado\", tag: \"DESARRAIGADO\", state: desarraigado, editable: false },\n\t\t/* 5 */ { name: \"barbechado\", tag: \"BARBECHADO\", state: barbechado, editable: false },\n\t\t/* 6 */ { name: \"pagado\", tag: \"PAGADO\", state: pagado, editable: false }\n\t];\n\n\tif (pagado) {\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (barbechado) {\n\t\tstate[5].editable = true;\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (desarraigado) {\n\t\tstate[4].editable = true;\n\t\tstate[6].editable = true;\n\t\treturn state;\n\t} else if (disqueado) {\n\t\tstate[3].editable = true;\n\t\tstate[4].editable = true;\n\t\tstate[5].editable = true;\n\t\treturn state;\n\t} else if (desvarado) {\n\t\tstate[2].editable = true;\n\t\tstate[3].editable = true;\n\t\treturn state;\n\t} else if (cosechado) {\n\t\tstate[1].editable = true;\n\t\tstate[2].editable = true;\n\t\treturn state;\n\t} else if (desfoliado) {\n\t\tstate[0].editable = true;\n\t\tstate[1].editable = true;\n\t\treturn state;\n\t} else {\n\t\tstate[0].editable = true;\n\t\treturn state;\n\t}\n};\n\nconst getAction = (name, state) => {\n\tif (state) {\n\t\tswitch (name) {\n\t\t\tcase \"desfoliado\":\n\t\t\t\treturn { type: types.uncheckDesfoliado };\n\t\t\tcase \"cosechado\":\n\t\t\t\treturn { type: types.uncheckCosechado };\n\t\t\tcase \"desvarado\":\n\t\t\t\treturn { type: types.uncheckDesvarado };\n\t\t\tcase \"disqueado\":\n\t\t\t\treturn { type: types.uncheckDisqueado };\n\t\t\tcase \"desarraigado\":\n\t\t\t\treturn { type: types.uncheckDesarraigado };\n\t\t\tcase \"barbechado\":\n\t\t\t\treturn { type: types.uncheckBarbechado };\n\t\t\tcase \"pagado\":\n\t\t\t\treturn { type: types.uncheckPagado };\n\n\t\t\tdefault:\n\t\t\t\treturn { type: \"\" };\n\t\t}\n\t} else {\n\t\tswitch (name) {\n\t\t\tcase \"desfoliado\":\n\t\t\t\treturn { type: types.checkDesfoliado };\n\t\t\tcase \"cosechado\":\n\t\t\t\treturn { type: types.checkCosechado };\n\t\t\tcase \"desvarado\":\n\t\t\t\treturn { type: types.checkDesvarado };\n\t\t\tcase \"disqueado\":\n\t\t\t\treturn { type: types.checkDisqueado };\n\t\t\tcase \"desarraigado\":\n\t\t\t\treturn { type: types.checkDesarraigado };\n\t\t\tcase \"barbechado\":\n\t\t\t\treturn { type: types.checkBarbechado };\n\t\t\tcase \"pagado\":\n\t\t\t\treturn { type: types.checkPagado };\n\n\t\t\tdefault:\n\t\t\t\treturn { type: \"\" };\n\t\t}\n\t}\n};\n\nconst getUpdates = (name, state) => {\n\tif (name === \"pagado\") return { pagado: !state, laboresPendientes: state };\n\telse return { [name]: !state };\n};\n\nconst determinaAcceso = (editable, name, labores, pagar, uid, tecnico) => {\n\tif (!editable) return false;\n\n\tif (name === \"pagado\") {\n\t\tif (pagar) return true;\n\t\telse return false;\n\t} else {\n\t\tif (labores && uid === tecnico) return true;\n\t\telse return false;\n\t}\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport firebase from \"firebase/app\";\n\nexport const saveConstanciaSanidad = async (constacia, ciclo) => {\n\tconsole.log({ constacia, ciclo });\n\n\tconst constanciaRef = db\n\t\t.collection(`constanciasSanidad`)\n\t\t.doc(ciclo)\n\t\t.collection(`constancias`)\n\t\t.doc(constacia.numeroPermiso);\n\n\tconst contConstanciaRef = db.collection(`constanciasSanidad`).doc(ciclo);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\tconst constancia = await transaction.get(constanciaRef);\n\t\t\tconst countConstancia = await transaction.get(contConstanciaRef);\n\n\t\t\tif (constancia.exists) {\n\t\t\t\tSwal.fire(\n\t\t\t\t\t\"La constancia ya existe\",\n\t\t\t\t\t\"Está intentando sobreescribir una constancia ya existente, verifique su conexión.\",\n\t\t\t\t\t\"error\"\n\t\t\t\t);\n\n\t\t\t\tthrow new Error(\"La constancia ya existe\");\n\t\t\t} else {\n\t\t\t\ttransaction.set(constanciaRef, constacia);\n\t\t\t\tif (countConstancia.exists) {\n\t\t\t\t\ttransaction.update(contConstanciaRef, {\n\t\t\t\t\t\tnumeroConstancia: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttransaction.set(contConstanciaRef, {\n\t\t\t\t\t\tnumeroConstancia: 1,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(\"Constancia Guardada\", \"Se registró con éxito la constancia.\", \"success\");\n\n\t\t\treturn true;\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar la constancia.\", \"error\");\n\t\tconsole.error(error);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { startCloseSanidadModal, updatePermiso } from \"../../actions/algodoneroScreen\";\nimport { enablePrintButton } from \"../../actions/transferenciasScreen\";\nimport { saveConstanciaSanidad } from \"../../helpers/saveConsatanciaSanidad\";\nimport { updatePermisoAlgodonero } from \"../../helpers/updatePermisoAlgodonero\";\n\nexport const PrintSanidadModal = () => {\n\tconst { printSanidadModal, technicians } = useSelector((state) => state.algodoneroScreen);\n\tconst tecnico = technicians.find((tecnico) => tecnico.id === printSanidadModal.tecnico);\n\tconst { transferPrintButton } = useSelector((state) => state.transferenciasScreen);\n\n\tconst dispatch = useDispatch();\n\n\tconst closeModal = () => {\n\t\tdispatch(startCloseSanidadModal());\n\t};\n\n\tconst imprimir = () => {\n\t\twindow.print();\n\t};\n\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\twidth: \"1125px\",\n\t\t\theight: \"1500px\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t};\n\n\tconst handleSaveConstancy = async () => {\n\t\tconst isSave = await saveConstanciaSanidad(\n\t\t\t{ ...printSanidadModal, folioSanidad: printSanidadModal.folioSanidad },\n\t\t\tprintSanidadModal.ciclo\n\t\t);\n\n\t\tif (isSave) {\n\t\t\tdispatch(enablePrintButton());\n\t\t\tupdatePermisoAlgodonero(\n\t\t\t\tprintSanidadModal.numeroPermiso,\n\t\t\t\tprintSanidadModal.modulo,\n\t\t\t\tprintSanidadModal.ciclo,\n\t\t\t\t{\n\t\t\t\t\tfolioSanidad: printSanidadModal.folioSanidad\n\t\t\t\t}\n\t\t\t);\n\t\t\tdispatch(\n\t\t\t\tupdatePermiso({ ...printSanidadModal, folioSanidad: printSanidadModal.folioSanidad })\n\t\t\t);\n\t\t}\n\t};\n\n\tconst dateOptions = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\n\tconst fecha = new Date();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={printSanidadModal ? true : false}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModalSanidad\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"row p-5\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/sader.png\"} alt=\"Logo sader\" style={{ maxHeight: 50 }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-8 text-center\">\n\t\t\t\t\t<h5>\n\t\t\t\t\t\tSECRETARIA DE AGRICULTURA Y DESARROLLO RURAL <br />\n\t\t\t\t\t\tDISTRITO DE DESARROLLO RURAL 002, RIO COLORADO <br />\n\t\t\t\t\t\tCOMITÉ ESTATAL DE SANIDAD VEGETAL DE BAJA CALIFORNIA\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<div className=\"d-flex-column justify-content-center\">\n\t\t\t\t\t\t<img src={\"./logos/cesvbc.webp\"} alt=\"Logo sanidad vegetal\" style={{ maxHeight: 80 }} />\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<b>FOLIO: {printSanidadModal.folioSanidad} </b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h4>\n\t\t\t\t\t<b>CONSTANCIA DE EJECUCIÓN DE LABORES FITOSANITARIAS</b>\n\t\t\t\t</h4>\n\t\t\t</div>\n\n\t\t\t<div className=\"row dflex justify-content-center\">\n\t\t\t\t<h5>\n\t\t\t\t\t<b>ALGODONERO CICLO P-V {printSanidadModal.ciclo}</b>\n\t\t\t\t</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row d-flex justify-content-center pt-5 text-justify\">\n\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPOR LA PRESENTE HACEMOS CONSTAR QUE EL C. {printSanidadModal.usuario}, PRODUCTOR DEL\n\t\t\t\t\t\tLOTE NO.\n\t\t\t\t\t\t{printSanidadModal.lote} DEL EJIDO/COLONIA {printSanidadModal.nombreLocalidad}, REALIZÓ\n\t\t\t\t\t\tLAS LABORES FITOSANITARIAS EN UNA SUPERFICIE DE {printSanidadModal.supAutorizada} HA.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tDANDO ASÍ CUMPLIMIENTO A LO ESTABLECIDO EN LA LEY FEDERAL DE SANIDAD VEGETAL, LA NORMA\n\t\t\t\t\t\tOFICIAL MEXICANA: NOM-026-SAG/FITO-2014 POR LA QUE SE ESTABLECE EL CONTROL DE PLAGAS\n\t\t\t\t\t\tREGLAMENTADAS DEL ALGODONERO Y LA NOM-081-FITO-2001-MANEJO Y ELIMINACIÓN DE FOCOS DE\n\t\t\t\t\t\tINFESTACIÓN DE PLAGAS, MEDIANTE EL ESTABLECIMIENTO O REORDENAMIENTO DE FECHAS DE\n\t\t\t\t\t\tSIEMBRA, COSECHA Y DESTRUCCIÓN DE RESIDUOS.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>SIRVA EL PRESENTE DOCUMENTO PARA LA LIBERACIÓN DE CARTA DE GARANTÍA EMITIDA.</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPROPIETARIO: {printSanidadModal.usuario} <br />\n\t\t\t\t\t\tCUENTA: {printSanidadModal.cuenta} <br />\n\t\t\t\t\t\tTÉCNICO: {tecnico ? tecnico.displayName : \"\"}\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className=\" d-flex justify-content-end pt-5\">\n\t\t\t\t\t\t<p>MEXICALI, B. C. , A {fecha.toLocaleString(\"es-MX\", dateOptions).toUpperCase()}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\t\t\t<div className=\"row pt-5\"></div>\n\n\t\t\t<div className=\"row pt-5 d-flex \">\n\t\t\t\t<div className=\"col-4 d-flex-column align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\"./logos/sello-cesvbc.png\"}\n\t\t\t\t\t\t\talt=\"Sello sanidad vegetal\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 150 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4 d-flex flex-column ml-3\">\n\t\t\t\t\t<p className=\"text-center\">NOMBRE Y FIRMA</p>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t// src={`./firmas/31naXMbqQibk1SzOLIhZ5JXFYAk1.png`}\n\t\t\t\t\t\t\t// src={`./firmas/bHflypkGK8SBj2VAOe6lIccxwbc2.png`}\n\t\t\t\t\t\t\t// src={`./firmas/GOxDoCdADSSVhj1gQIXxzZ5YN4H3.png`}\n\t\t\t\t\t\t\t// src={`./firmas/rA5pOGIhqZceAigtDlP0cVy2SwA3.png`}\n\t\t\t\t\t\t\t// src={`./firmas/rUxW1A8ehVWGYzjK91c8LCwwklb2.png`}\n\t\t\t\t\t\t\t// src={`./firmas/u2onRGMYn6RqLafQC3LNe2cP64q1.png`}\n\t\t\t\t\t\t\tsrc={`./firmas/${tecnico ? tecnico.id : \"\"}.png`}\n\t\t\t\t\t\t\talt=\"Firma del técnico\"\n\t\t\t\t\t\t\tstyle={{ maxHeight: 90 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"text-center\">{tecnico ? tecnico.displayName : \"\"}</div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>TÉCNICO FITOSANITARIO DEL CESVBC</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* <div className=\"col-4 d-flex align-items-end justify-content-center\">\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<b>SELLO DE CADER</b>\n\t\t\t\t\t</div>\n\t\t\t\t</div> */}\n\t\t\t</div>\n\n\t\t\t<div className=\"row p-5\">\n\t\t\t\tC.c.p. -DISTRITO DE DESARROLLO RURAL 002-RIO COLORADO <br />\n\t\t\t\tC.c.p. -ARCHIVO\n\t\t\t</div>\n\n\t\t\t<div className=\"row m-3 d-flex justify-content-center pt-5\">\n\t\t\t\t{transferPrintButton ? (\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary d-print-none\" onClick={imprimir}>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\t\t\tonClick={handleSaveConstancy}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t\t<span> Guardar </span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none ml-3\"\n\t\t\t\t\tonClick={closeModal}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t\t<span> Cerrar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { CustomTable } from \"../components/tables/CustomTable\";\nimport { laboresColumns } from \"../components/tables/configTables\";\nimport {\n\tsetPermisoSelected,\n\tsetTechniciansLabores,\n\tstartLoadPermisosSearch,\n\tstartLoadPermitsForPay\n} from \"../actions/algodoneroScreen\";\nimport { useForm } from \"../hooks/useForm\";\nimport { CheckSanidad } from \"../components/modulos/CheckSanidad\";\nimport { PrintSanidadModal } from \"../components/modals/PrintSanidadModal\";\nimport { loadTechnician } from \"../helpers/DB/loadTechnician\";\n\nexport const LaboresScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\n\tconst { permisos, permisoSelected, printSanidadModal } = useSelector(\n\t\t(state) => state.algodoneroScreen\n\t);\n\tconst { cicloConsulta } = useSelector((state) => state.auth.variablesGlobales);\n\n\tuseEffect(() => {\n\t\tloadTechnician().then((techniciasns) => {\n\t\t\tdispatch(setTechniciansLabores(techniciasns));\n\t\t});\n\t}, [dispatch]);\n\n\tconst buscarPermisos = () => {\n\t\tif (palabra.length > 0) {\n\t\t\t// dispatch(startLoadPermisosSearch(rol === \"tecnicoCESVBC\" ? uid : 0, palabra));\n\t\t\tdispatch(startLoadPermisosSearch(0, palabra, cicloConsulta)); //Con 0 busca sin importar el id del técnico\n\t\t} else {\n\t\t\tSwal.fire(\n\t\t\t\t\"Nada para buscar\",\n\t\t\t\t\"Ingrese número de permiso, número de cuenta o el apellido paterno del usuario.\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tlet dataPermiso;\n\n\tpermisos.forEach((permiso) => {\n\t\tif (permiso.id === permisoSelected) {\n\t\t\tdataPermiso = permiso;\n\t\t}\n\t});\n\n\tconst loadPermitsForPay = () => {\n\t\tdispatch(startLoadPermitsForPay(cicloConsulta));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-sm-6 d-inline-flex mt-2\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Apellido paterno\"\n\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={buscarPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 mt-2\">\n\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={loadPermitsForPay}>\n\t\t\t\t\t\tLabores Completas\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row pt-3 pb-4\">\n\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t{permisos.length > 0 && (\n\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\ttitle=\"Permisos\"\n\t\t\t\t\t\t\tcolumns={laboresColumns}\n\t\t\t\t\t\t\tdata={permisos}\n\t\t\t\t\t\t\tsetFunction={setPermisoSelected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{permisoSelected && dataPermiso !== undefined ? <CheckSanidad palabra={palabra} /> : <></>}\n\t\t\t</div>\n\t\t\t{printSanidadModal !== undefined && <PrintSanidadModal />}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst { expedicion } = useSelector((state) => state.sicperScreen);\n\tconst cultivoExpedicion = expedicion.find(\n\t\t(cultivo) => cultivo.id === `${autorizadoSelected.clave}-${autorizadoSelected.cultivo}`\n\t);\n\n\tconst gravedadNormal = cultivoExpedicion ? cultivoExpedicion.gravedadNormal : 0;\n\tconst gravedadExtra = cultivoExpedicion ? cultivoExpedicion.gravedadExtra : 0;\n\tconst pozoNormal = cultivoExpedicion ? cultivoExpedicion.pozoNormal : 0;\n\tconst pozoExtra = cultivoExpedicion ? cultivoExpedicion.pozoExtra : 0;\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tsubciclo: autorizadoSelected.subciclo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tsubciclo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tsubciclo: subciclo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\t\tconst superficieExcedida =\n\t\t\t\"La superficie asignada no puede ser menor que la superficie expedida !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada - gravedadExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (roundToN(gravedadNormalAsignada, 4) - roundToN(gravedadNormal, 4) < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada - pozoNormal < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada - pozoExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Gravedad</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"gravedad Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{roundToN(Number(gravedadNormalAsignada), 4) -\n\t\t\t\t\t\t\t\t\t\troundToN(Number(gravedadNormal), 4)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Gravedad Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"gravedadExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={gravedadExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(gravedadExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{roundToN(Number(gravedadExtraAsignada), 4) - roundToN(Number(gravedadExtra), 4)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Federal</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(Number(pozoNormalAsignada), 4) - roundToN(Number(pozoNormal), 4)}</td>\n\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(Number(pozoExtraAsignada), 4) - roundToN(Number(pozoExtra), 4)}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcloseAutorizadosModal,\n\tremoveFormError,\n\tsetAutorizados,\n\tsetFormError\n} from \"../../actions/autorizadosScreen\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\nimport { useForm } from \"../../hooks/useForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\theight: \"430px\",\n\t\twidth: \"1000px\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const AutorizadosPozoModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { openAutorizadosModal, autorizadoSelected, autorizados, formError } = useSelector(\n\t\t(state) => state.autorizadosScreen\n\t);\n\n\tconst { expedicion } = useSelector((state) => state.sicperScreen);\n\tconst cultivoExpedicion = expedicion.find(\n\t\t(cultivo) => cultivo.id === `${autorizadoSelected.clave}-${autorizadoSelected.cultivo}`\n\t);\n\n\tconst pozoParticularNormal = cultivoExpedicion ? cultivoExpedicion.pozoParticularNormal : 0;\n\tconst pozoParticularExtra = cultivoExpedicion ? cultivoExpedicion.pozoParticularExtra : 0;\n\n\tconst [formValues, handleInputChange] = useForm({\n\t\tclave: autorizadoSelected.clave,\n\t\tcultivo: autorizadoSelected.cultivo,\n\t\tsubciclo: autorizadoSelected.subciclo,\n\t\tgravedadNormalAutorizada: autorizadoSelected.gravedadNormalAutorizada,\n\t\tgravedadNormalAsignada: autorizadoSelected.gravedadNormalAsignada,\n\t\tgravedadExtraAutorizada: autorizadoSelected.gravedadExtraAutorizada,\n\t\tgravedadExtraAsignada: autorizadoSelected.gravedadExtraAsignada,\n\t\tpozoNormalAutorizada: autorizadoSelected.pozoNormalAutorizada,\n\t\tpozoNormalAsignada: autorizadoSelected.pozoNormalAsignada,\n\t\tpozoExtraAutorizada: autorizadoSelected.pozoExtraAutorizada,\n\t\tpozoExtraAsignada: autorizadoSelected.pozoExtraAsignada\n\t});\n\n\tconst {\n\t\tclave,\n\t\tcultivo,\n\t\tsubciclo,\n\t\tgravedadNormalAutorizada,\n\t\tgravedadNormalAsignada,\n\t\tgravedadExtraAutorizada,\n\t\tgravedadExtraAsignada,\n\t\tpozoNormalAutorizada,\n\t\tpozoNormalAsignada,\n\t\tpozoExtraAutorizada,\n\t\tpozoExtraAsignada\n\t} = formValues;\n\n\tconst closeModal = () => {\n\t\tdispatch(closeAutorizadosModal());\n\t\tdispatch(removeFormError());\n\t};\n\n\tconst nuevosAutorizados = [];\n\n\tconst startUpdateAutorizados = () => {\n\t\tif (isFormValid()) {\n\t\t\tautorizados.forEach((autorizado) => {\n\t\t\t\tif (autorizado.cultivo === autorizadoSelected.cultivo) {\n\t\t\t\t\tnuevosAutorizados.push({\n\t\t\t\t\t\tclave: clave,\n\t\t\t\t\t\tcultivo: cultivo,\n\t\t\t\t\t\tsubciclo: subciclo,\n\t\t\t\t\t\tgravedadNormalAutorizada: Number(gravedadNormalAutorizada),\n\t\t\t\t\t\tgravedadNormalAsignada: Number(gravedadNormalAsignada),\n\t\t\t\t\t\tgravedadExtraAutorizada: Number(gravedadExtraAutorizada),\n\t\t\t\t\t\tgravedadExtraAsignada: Number(gravedadExtraAsignada),\n\t\t\t\t\t\tpozoNormalAutorizada: Number(pozoNormalAutorizada),\n\t\t\t\t\t\tpozoNormalAsignada: Number(pozoNormalAsignada),\n\t\t\t\t\t\tpozoExtraAutorizada: Number(pozoExtraAutorizada),\n\t\t\t\t\t\tpozoExtraAsignada: Number(pozoExtraAsignada)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnuevosAutorizados.push(autorizado);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(setAutorizados(nuevosAutorizados));\n\t\t\tdispatch(closeAutorizadosModal());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tstartUpdateAutorizados();\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tconst valorNegativoError = \"No se permiten valores negativos !\";\n\t\tconst supAsignadaError =\n\t\t\t\"La superficie asignada no puede ser mayor a la superficie autorizada !\";\n\t\tconst valorVacioError = \"Es necesario asignar un valor a todas las superficies !\";\n\t\tconst superficieExcedida =\n\t\t\t\"La superficie asignada no puede ser menor que la superficie expedida !\";\n\n\t\tif (Number(gravedadNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(gravedadExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoNormalAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAutorizada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (Number(pozoExtraAsignada) < 0) {\n\t\t\tdispatch(setFormError(valorNegativoError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAutorizada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada === \"\") {\n\t\t\tdispatch(setFormError(valorVacioError));\n\t\t\treturn false;\n\t\t} else if (gravedadNormalAsignada > gravedadNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (gravedadExtraAsignada > gravedadExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada > pozoNormalAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada > pozoExtraAutorizada) {\n\t\t\tdispatch(setFormError(supAsignadaError));\n\t\t\treturn false;\n\t\t} else if (pozoNormalAsignada - pozoParticularNormal < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t} else if (pozoExtraAsignada - pozoParticularExtra < 0) {\n\t\t\tdispatch(setFormError(superficieExcedida));\n\t\t\treturn false;\n\t\t}\n\n\t\tdispatch(removeFormError());\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={openAutorizadosModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"autorizadosModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<form>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t<h5>{`${clave} - ${cultivo}`}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{formError ? (\n\t\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center pt-2\">\n\t\t\t\t\t\t\t<div className=\"border border-danger rounded text-danger p-2\">{formError}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<table className=\"table table-borderless table-hover table-striped table-info mt-4 border-info text-secondary\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\"></th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Normal</th>\n\t\t\t\t\t\t\t\t<th colSpan=\"2\">Superficie Extra</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Disponible</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Normal Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoNormalAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoNormalAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoParticularNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoNormalAsignada - pozoParticularNormal, 4)}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Autorizada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAutorizada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAutorizada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Pozo Extra Asignada\"\n\t\t\t\t\t\t\t\t\t\tname=\"pozoExtraAsignada\"\n\t\t\t\t\t\t\t\t\t\tvalue={pozoExtraAsignada}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoParticularExtra, 4)}</td>\n\t\t\t\t\t\t\t\t<td>{roundToN(pozoExtraAsignada - pozoParticularExtra, 4)}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row d-flex\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center col-sm-12\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\tonClick={startUpdateAutorizados}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\n\nexport const ResumenAutorizadosPozo = ({ autorizados, modulo }) => {\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-flex bg-light border-info border-bottom rounded-top p-1 justify-content-center font-weight-bold text-secondary pt-3\">\n\t\t\t\t<h5> {modulo}</h5>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-info mb-0 text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Normal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoNormalAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div className=\"table-responsive\">\n\t\t\t\t<table className=\"table table-table-secondary text-secondary\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"3\">Total Superficie Extra</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">Sistema</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Autorizada</th>\n\t\t\t\t\t\t\t<th scope=\"col\">Asignada</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">Pozo Particular</th>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAutorizada}</td>\n\t\t\t\t\t\t\t<td>{totalPozoExtraAsignada}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetAutorizadoSelected,\n\tsetModulo,\n\tstartLoadAutorizados\n} from \"../../actions/autorizadosScreen\";\nimport { startLoadExpedicion } from \"../../actions/sicperScreen\";\nimport { modulos } from \"../../helpers/consts\";\nimport { sabeAutorizados } from \"../../helpers/sabeAutorizados\";\nimport { AutorizadosModal } from \"../modals/AutorizadosModal\";\nimport { AutorizadosPozoModal } from \"../modals/AutorizadosPozoModal\";\nimport { autorizadosColumns, autorizadosPozoColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\nimport { ResumenAutorizados } from \"./ResumenAutorizados\";\nimport { ResumenAutorizadosPozo } from \"./ResumenAutorizadosPozo\";\n\nexport const AutorizadosScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { modulo, autorizados, autorizadoSelected, superficieReferencia, loadingAutorizados } =\n\t\tuseSelector((state) => state.autorizadosScreen);\n\n\tconst { uid, variablesGlobales, privilegios } = useSelector((state) => state.auth);\n\tconst ciclo = variablesGlobales.cicloActual;\n\n\tlet totalGravedadNormalAutorizada = 0;\n\tlet totalGravedadNormalAsignada = 0;\n\tlet totalGravedadExtraAutorizada = 0;\n\tlet totalGravedadExtraAsignada = 0;\n\tlet totalPozoNormalAutorizada = 0;\n\tlet totalPozoNormalAsignada = 0;\n\tlet totalPozoExtraAutorizada = 0;\n\tlet totalPozoExtraAsignada = 0;\n\tlet superficieTotal = 0;\n\n\tif (modulo !== null) {\n\t\tautorizados.forEach((autorizado) => {\n\t\t\ttotalGravedadNormalAutorizada += autorizado.gravedadNormalAutorizada;\n\t\t\ttotalGravedadNormalAsignada += autorizado.gravedadNormalAsignada;\n\t\t\ttotalGravedadExtraAutorizada += autorizado.gravedadExtraAutorizada;\n\t\t\ttotalGravedadExtraAsignada += autorizado.gravedadExtraAsignada;\n\t\t\ttotalPozoNormalAutorizada += autorizado.pozoNormalAutorizada;\n\t\t\ttotalPozoNormalAsignada += autorizado.pozoNormalAsignada;\n\t\t\ttotalPozoExtraAutorizada += autorizado.pozoExtraAutorizada;\n\t\t\ttotalPozoExtraAsignada += autorizado.pozoExtraAsignada;\n\t\t});\n\n\t\tsuperficieTotal =\n\t\t\ttotalGravedadNormalAutorizada +\n\t\t\ttotalGravedadNormalAsignada +\n\t\t\ttotalGravedadExtraAutorizada +\n\t\t\ttotalGravedadExtraAsignada +\n\t\t\ttotalPozoNormalAutorizada +\n\t\t\ttotalPozoNormalAsignada +\n\t\t\ttotalPozoExtraAutorizada +\n\t\t\ttotalPozoExtraAsignada;\n\t}\n\n\tconst setModuloToEdit = (moduloToEdit) => {\n\t\tdispatch(setModulo(moduloToEdit));\n\t\tdispatch(startLoadAutorizados(ciclo, moduloToEdit));\n\t\tdispatch(startLoadExpedicion(moduloToEdit, ciclo));\n\t};\n\n\tconst handleSaveAutorizados = () => {\n\t\tsabeAutorizados(ciclo, modulo, autorizados, uid);\n\t\tdispatch(startLoadAutorizados(ciclo, modulo));\n\t\tdispatch(startLoadExpedicion(modulo, ciclo));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-3 .autorizadosModal\">\n\t\t\t\t<div className=\"col-sm-8 \">\n\t\t\t\t\t{modulos.map((moduloIndex) => {\n\t\t\t\t\t\tif (modulo === moduloIndex) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={moduloIndex}\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary m-1\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setModuloToEdit(moduloIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>M-{moduloIndex}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{!loadingAutorizados && (\n\t\t\t\t<div className=\"row \">\n\t\t\t\t\t<div className=\"col-sm-8 pr-0 mt-3\">\n\t\t\t\t\t\t{modulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\t\tcolumns={autorizadosPozoColumns}\n\t\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CustomTable\n\t\t\t\t\t\t\t\ttitle=\"Autorizados\"\n\t\t\t\t\t\t\t\tcolumns={autorizadosColumns}\n\t\t\t\t\t\t\t\tdata={autorizados}\n\t\t\t\t\t\t\t\tsetFunction={setAutorizadoSelected}\n\t\t\t\t\t\t\t></CustomTable>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{modulo ? (\n\t\t\t\t\t\t<div className=\"col-sm-4 pl-3 mt-3\">\n\t\t\t\t\t\t\t<div className=\"d-flex flex-column border rounded border-info\">\n\t\t\t\t\t\t\t\t{autorizados.length > 0 ? (\n\t\t\t\t\t\t\t\t\tmodulo === \"Pozo Particular\" ? (\n\t\t\t\t\t\t\t\t\t\t<ResumenAutorizadosPozo\n\t\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t\t></ResumenAutorizadosPozo>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<ResumenAutorizados\n\t\t\t\t\t\t\t\t\t\t\tautorizados={autorizados}\n\t\t\t\t\t\t\t\t\t\t\tmodulo={modulo}\n\t\t\t\t\t\t\t\t\t\t></ResumenAutorizados>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{privilegios.editarAutorizados && superficieReferencia !== superficieTotal && (\n\t\t\t\t\t\t\t\t\t<div className=\"row p-1 pl-2  d-flex flex-column\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-5 text-warning\">\n\t\t\t\t\t\t\t\t\t\t\t! Hay modificaciones sin guardar !\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center pt-4 pb-4\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSaveAutorizados}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<span> Guardar Cambios</span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{autorizadoSelected ? (\n\t\t\t\tmodulo === \"UNI01\" || modulo === \"UNI02\" || modulo === \"UNI03\" ? (\n\t\t\t\t\t<AutorizadosPozoModal />\n\t\t\t\t) : (\n\t\t\t\t\t<AutorizadosModal />\n\t\t\t\t)\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nconst decideEstado = (modulo) => {\n\tif (modulo === 1 || modulo === 2 || modulo === 3) return \"Sonora\";\n\telse return \"Baja California\";\n};\n\nexport const sabeAutorizados = (ciclo, modulo, autorizados, uid) => {\n\tconst batch = db.batch();\n\n\tautorizados.forEach((autorizado) => {\n\t\tconst autorizadoRef = db\n\t\t\t.collection(\"autorizados\")\n\t\t\t.doc(ciclo)\n\t\t\t.collection(\"modulos\")\n\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t.collection(`autorizados`)\n\t\t\t.doc(`${autorizado.clave}-${autorizado.cultivo}`);\n\n\t\tconst totalNormal = autorizado.gravedadNormalAutorizada + autorizado.pozoNormalAutorizada;\n\t\tconst totalExtra = autorizado.gravedadExtraAutorizada + autorizado.pozoExtraAutorizada;\n\t\tconst totalCultivo = totalNormal + totalExtra;\n\t\tconst estado = decideEstado(modulo);\n\n\t\tbatch.set(autorizadoRef, {\n\t\t\testado,\n\t\t\tmodulo,\n\t\t\tclave: autorizado.clave,\n\t\t\tcultivo: autorizado.cultivo,\n\t\t\tsubciclo: autorizado.subciclo,\n\t\t\tsuperficieNormal: totalNormal,\n\t\t\tsuperficieExtra: totalExtra,\n\t\t\tsuperficieTotal: totalCultivo,\n\t\t\tgravedadNormalAutorizada: autorizado.gravedadNormalAutorizada,\n\t\t\tgravedadNormalAsignada: autorizado.gravedadNormalAsignada,\n\t\t\tgravedadExtraAutorizada: autorizado.gravedadExtraAutorizada,\n\t\t\tgravedadExtraAsignada: autorizado.gravedadExtraAsignada,\n\t\t\tpozoNormalAutorizada: autorizado.pozoNormalAutorizada,\n\t\t\tpozoNormalAsignada: autorizado.pozoNormalAsignada,\n\t\t\tpozoExtraAutorizada: autorizado.pozoExtraAutorizada,\n\t\t\tpozoExtraAsignada: autorizado.pozoExtraAsignada,\n\t\t\tuid\n\t\t});\n\t});\n\n\tbatch\n\t\t.commit()\n\t\t.then(() => {\n\t\t\tconsole.log(\"Se registraron con éxito los cambios.\");\n\t\t\tSwal.fire(\"Autorizados Guardados\", \"Se registraron con éxito los cambios.\", \"success\");\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { HorizontalBar } from \"react-chartjs-2\";\n\nexport const CustomGraficoHorizontal = ({\n\ttitulo,\n\tsubtitulo1,\n\tsubtitulo2,\n\tetiquetas,\n\tdataSet,\n\tancho\n}) => {\n\tconst data = {\n\t\tlabels: etiquetas,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: titulo,\n\t\t\t\tdata: dataSet,\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 0.2)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 0.2)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 0.2)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 0.2)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 0.2)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 0.2)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 0.2)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 0.2)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 0.2)\",\n\t\t\t\t\t\"rgba(150, 50, 150,0.21)\"\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\"rgba(255, 206, 86, 1)\",\n\t\t\t\t\t\"rgba(75, 192, 192, 1)\",\n\t\t\t\t\t\"rgba(153, 102, 255, 1)\",\n\t\t\t\t\t\"rgba(255, 159, 64, 1)\",\n\t\t\t\t\t\"rgba(20, 200, 132, 1)\",\n\t\t\t\t\t\"rgba(230, 2, 134, 1)\",\n\t\t\t\t\t\"rgba(80, 150, 80, 1)\",\n\t\t\t\t\t\"rgba(150, 50, 150, 1)\"\n\t\t\t\t],\n\t\t\t\tborderWidth: 1\n\t\t\t}\n\t\t]\n\t};\n\n\tconst options = {\n\t\tscales: {\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"pt-4 text-secondary\">\n\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t<h5>{titulo}</h5>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex flex-column pt-4 pb-4 pl-3\">\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo1}</h6>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h6>{subtitulo2}</h6>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-4\">\n\t\t\t\t<HorizontalBar data={data} options={options} width={ancho} />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ordenarDataParaGrafico } from \"../../helpers/ordenarDataParaGrafico\";\nimport { CustomGraficoHorizontal } from \"./CustomGraficoHorizontal\";\n\nexport const GraficoPrincipalesCultivos = () => {\n\tconst { permisos, campoOrdenador } = useSelector((state) => state.entidades);\n\n\tconst completaTitulo = (campo) => {\n\t\tswitch (campo) {\n\t\t\tcase \"nombreCultivo\":\n\t\t\t\treturn \"cultivo\";\n\n\t\t\tcase \"usuario\":\n\t\t\t\treturn \"usuario\";\n\n\t\t\tcase \"nombreProductor\":\n\t\t\t\treturn \"productor\";\n\n\t\t\tcase \"localidad\":\n\t\t\t\treturn \"localidad\";\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlet data = [];\n\tlet totalSuperficie = 0;\n\tlet totalPermisos = 0;\n\n\tif (permisos) {\n\t\tdata = ordenarDataParaGrafico(permisos, campoOrdenador);\n\n\t\tdata.superficiesCultivos.forEach((superficie) => {\n\t\t\ttotalSuperficie += superficie;\n\t\t});\n\n\t\tdata.numeroPermisos.forEach((permisos) => {\n\t\t\ttotalPermisos += permisos;\n\t\t});\n\t}\n\n\tconst subtitulo1 = `Superficie incluida: ${totalSuperficie} ha`;\n\tconst subtitulo2 = `Permisos incluidos: ${totalPermisos}`;\n\n\treturn (\n\t\t<div>\n\t\t\t{data ? (\n\t\t\t\t<CustomGraficoHorizontal\n\t\t\t\t\ttitulo={`Superficies por ${completaTitulo(campoOrdenador)}`}\n\t\t\t\t\tsubtitulo1={subtitulo1}\n\t\t\t\t\tsubtitulo2={subtitulo2}\n\t\t\t\t\tetiquetas={data.labels}\n\t\t\t\t\tdataSet={data.superficiesCultivos}\n\t\t\t\t\tancho={220}\n\t\t\t\t></CustomGraficoHorizontal>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","export const ordenarDataParaGrafico = (data, campo) => {\n\tconst dataCondensada = {};\n\n\tdata.forEach((element) => {\n\t\tconst key = element[campo];\n\n\t\tif (dataCondensada[key]) {\n\t\t\tdataCondensada[key].superficie += element.supAutorizada;\n\t\t\tdataCondensada[key].numeroPermisos++;\n\t\t} else {\n\t\t\tdataCondensada[key] = {\n\t\t\t\tlabel: key,\n\t\t\t\tsuperficie: element.supAutorizada,\n\t\t\t\tnumeroPermisos: 1\n\t\t\t};\n\t\t}\n\t});\n\n\tconst arrayDataCondensada = Object.values(dataCondensada);\n\n\tarrayDataCondensada.sort((a, b) => {\n\t\tif (a.superficie < b.superficie) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a.superficie > b.superficie) {\n\t\t\treturn -1;\n\t\t}\n\n\t\treturn 0;\n\t});\n\n\tconst labels = [];\n\tconst superficiesCultivos = [];\n\tconst numeroPermisos = [];\n\n\tlet noBarrasGrafico = 8;\n\tlet restoSuperficie = 0;\n\tlet restoPermisos = 0;\n\n\tarrayDataCondensada.forEach((campo) => {\n\t\tif (noBarrasGrafico >= 0) {\n\t\t\tlabels.push(`${campo.label} (${campo.superficie}ha)`);\n\t\t\tsuperficiesCultivos.push(campo.superficie);\n\t\t\tnumeroPermisos.push(campo.numeroPermisos);\n\t\t\tnoBarrasGrafico--;\n\t\t} else {\n\t\t\trestoSuperficie += campo.superficie;\n\t\t\trestoPermisos += campo.numeroPermisos;\n\t\t}\n\t});\n\n\tlabels.push(`Otros ${campo} (${restoSuperficie}ha)`);\n\tsuperficiesCultivos.push(restoSuperficie);\n\tnumeroPermisos.push(restoPermisos);\n\n\tconst dataFormateada = {\n\t\tlabels: labels,\n\t\tsuperficiesCultivos: superficiesCultivos,\n\t\tnumeroPermisos: numeroPermisos\n\t};\n\n\treturn dataFormateada;\n};\n","import { types } from \"../../types/types\";\nimport { loadPermisos } from \"../../helpers/loadPermisos\";\n\nexport const startLoadPermisos = (\n\tpalabra,\n\tmodulo,\n\tciclo,\n\tcampos,\n\tactivosCancelados,\n\ttipoSuperficie,\n\tsistema,\n\tfechaInicial,\n\tfechaFinal\n) => {\n\treturn async (dispatch) => {\n\t\tconst permisos = await loadPermisos(\n\t\t\tpalabra,\n\t\t\tmodulo,\n\t\t\tciclo,\n\t\t\tcampos,\n\t\t\tactivosCancelados,\n\t\t\ttipoSuperficie,\n\t\t\tsistema,\n\t\t\tfechaInicial,\n\t\t\tfechaFinal\n\t\t);\n\t\tdispatch(setPermisos(permisos));\n\t\tdispatch(setCampoOrdenador(campos[0]));\n\t};\n};\n\nexport const setPermisos = (permisos) => ({\n\ttype: types.setPermisos,\n\tpayload: permisos\n});\n\nexport const unsetPermisos = () => ({\n\ttype: types.unsetPermisos\n});\n\nexport const setCampoOrdenador = (campo) => ({\n\ttype: types.setCampoOrdenador,\n\tpayload: campo\n});\n\nexport const unsetCampoOrdenador = () => ({\n\ttype: types.unsetCampoOrdenador\n});\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport DatePicker from \"react-date-picker\";\n\nimport { useForm } from \"../../hooks/useForm\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\n\nexport const FormPermisosInformes = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra, campo, activosCancelados, tipoSuperficie, sistema } = formValues;\n\n\t// TODO: obtener fecha inicial y final del ciclo vigente\n\n\tconst [fechaInicial, onChangeFechaInicial] = useState(new Date(2021, 8, 1));\n\tconst [fechaFinal, onChangeFechaFinal] = useState(new Date());\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloConsulta;\n\n\tconst buscarPermisos = () => {\n\t\tif (campo) {\n\t\t\tdispatch(\n\t\t\t\tstartLoadPermisos(\n\t\t\t\t\tpalabra,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tciclo,\n\t\t\t\t\t[campo],\n\t\t\t\t\tactivosCancelados,\n\t\t\t\t\ttipoSuperficie,\n\t\t\t\t\tsistema,\n\t\t\t\t\tfechaInicial,\n\t\t\t\t\tfechaFinal\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire(\"Nada para buscar\", \"Seleccione un campo.\", \"warning\");\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tbuscarPermisos();\n\t\t}\n\t};\n\n\tconst imprimirInforme = () => {\n\t\twindow.print();\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-sm-12 d-inline-flex p-0\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tplaceholder=\"parametro de busqueda\"\n\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={palabra}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\tvalue={campo}\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">-</option>\n\t\t\t\t\t\t\t<option value=\"nombreCultivo\">Cultivo</option>\n\t\t\t\t\t\t\t<option value=\"usuario\">Usuario</option>\n\t\t\t\t\t\t\t<option value=\"nombreProductor\">Productor</option>\n\t\t\t\t\t\t\t<option value=\"localidad\">Localidad</option>\n\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-2 no-printme\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={buscarPermisos}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between pt-2\">\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>ESTADO DE LOS PERMISOS</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"todos\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t\tTodos los permisos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"activos\"\n\t\t\t\t\t\t\t\t\tvalue=\"activo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"activos\">\n\t\t\t\t\t\t\t\t\tPermisos activos\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"cancelados\"\n\t\t\t\t\t\t\t\t\tvalue=\"Cancelado\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"cancelados\">\n\t\t\t\t\t\t\t\t\tPermisos cancelados\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"activosCancelados\"\n\t\t\t\t\t\t\t\t\tid=\"En proceso de cancelación\"\n\t\t\t\t\t\t\t\t\tvalue=\"En proceso de cancelación\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"En proceso de cancelación\">\n\t\t\t\t\t\t\t\t\tEn proceso de cancelación\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-4 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>TIPO DE EXPEDICIÓN</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"toda\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"toda\">\n\t\t\t\t\t\t\t\t\tToda la superficie\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieNormal\"\n\t\t\t\t\t\t\t\t\tvalue=\"normal\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieNormal\">\n\t\t\t\t\t\t\t\t\tSuperficie normal\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"tipoSuperficie\"\n\t\t\t\t\t\t\t\t\tid=\"superficieExtra\"\n\t\t\t\t\t\t\t\t\tvalue=\"extra\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"superficieExtra\">\n\t\t\t\t\t\t\t\t\tSuperficie extra\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-3 border rounded pt-2 pb-2\">\n\t\t\t\t\t\t<p>SISTEMA DE RIEGO</p>\n\t\t\t\t\t\t<div className=\"form-check d-flex flex-column\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedadPozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"todos\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedadPozo\">\n\t\t\t\t\t\t\t\t\tGravedad y pozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"gravedad\"\n\t\t\t\t\t\t\t\t\tvalue=\"Gravedad\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"gravedad\">\n\t\t\t\t\t\t\t\t\tGravedad\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"sistema\"\n\t\t\t\t\t\t\t\t\tid=\"pozo\"\n\t\t\t\t\t\t\t\t\tvalue=\"Pozo\"\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"pozo\">\n\t\t\t\t\t\t\t\t\tPozo\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row justify-content-between border rounded mt-2\">\n\t\t\t\t\t<div className=\"col-sm-12 p-2\">\n\t\t\t\t\t\t<p>RANGO DE EXPEDICIÓN</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-sm-5  pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha inicial</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaInicial}\n\t\t\t\t\t\t\t\tvalue={fechaInicial}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-5 pb-2\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha final</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaFinal}\n\t\t\t\t\t\t\t\tvalue={fechaFinal}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row d-flex pt-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary flex-fill no-printme\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={imprimirInforme}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Imprimir informe </span>\n\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport Datatable from \"react-data-table-component\";\nimport { useDispatch } from \"react-redux\";\n\nexport const CustomPrintTable = ({ title, data, columns, setFunction, closeFunction }) => {\n\tconst dispatch = useDispatch();\n\n\tconst getRowSelected = (row) => {\n\t\tif (setFunction !== undefined) {\n\t\t\tdispatch(setFunction(row));\n\t\t}\n\n\t\tif (closeFunction !== undefined) {\n\t\t\tdispatch(closeFunction());\n\t\t}\n\t};\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: \"5px\",\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t},\n\n\t\theadRow: {\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: \"lightgray\"\n\t\t\t}\n\t\t},\n\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tfontSize: \"10px\",\n\t\t\t\tpaddingLeft: \"5px\",\n\t\t\t\tpaddingRight: \"5px\"\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"table table-responsive table-striped\">\n\t\t\t<Datatable\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={data}\n\t\t\t\ttitle={title}\n\t\t\t\thighlightOnHover={true}\n\t\t\t\tstriped={true}\n\t\t\t\tpointerOnHover={true}\n\t\t\t\tdense={true}\n\t\t\t\tonRowClicked={getRowSelected}\n\t\t\t\tcustomStyles={customStyles}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\n\nimport { CustomPrintTable } from \"./CustomPrintTable\";\nimport { printPermisosColumns } from \"./configTables\";\nimport { startLoadPermisos } from \"../../actions/entidades/permisos\";\nimport { roundToN } from \"../../helpers/functions/roundToN\";\n\nexport const PermisosTable = () => {\n\tconst { permisos } = useSelector((state) => state.entidades);\n\tconst { modulo } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst ciclo = auth.variablesGlobales.cicloActual;\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\tif (!permisos) {\n\t\tdispatch(startLoadPermisos(\"\", modulo, ciclo, [\"nombreCultivo\"]));\n\t}\n\n\tlet permisosFormateados = [];\n\n\tif (permisos) {\n\t\tconst totales = {\n\t\t\tnumeroPermiso: \"TOTALES\",\n\t\t\tsupAutorizada: 0,\n\t\t\tcuotaCultivo: 0\n\t\t};\n\n\t\tpermisos.forEach((permiso) => {\n\t\t\ttotales.supAutorizada = totales.supAutorizada + permiso.supAutorizada;\n\t\t\ttotales.cuotaCultivo =\n\t\t\t\ttotales.cuotaCultivo + roundToN(permiso.cuotaCultivo * permiso.supAutorizada, 3);\n\n\t\t\tpermisosFormateados.push({\n\t\t\t\t...permiso,\n\t\t\t\tfechaEmicion: moment(permiso.fechaEmicion.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tfechaLimite: moment(permiso.fechaLimite.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tvigencia: moment(permiso.vigencia.toDate()).format(\"DD/MM/YYYY\"),\n\t\t\t\tcuotaCultivo: roundToN(permiso.cuotaCultivo * permiso.supAutorizada, 3)\n\t\t\t});\n\t\t});\n\n\t\tpermisosFormateados.push(totales);\n\t}\n\n\tconst titulo = \"\";\n\n\treturn (\n\t\t<div className=\"printme\">\n\t\t\t<CustomPrintTable\n\t\t\t\ttitle={titulo}\n\t\t\t\tcolumns={printPermisosColumns}\n\t\t\t\tdata={permisosFormateados}\n\t\t\t></CustomPrintTable>\n\t\t\t<div className=\"mt-1\">{fechaActual.toLocaleDateString()}</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const RadioButtonGroup = ({ inputName, options, formValues, setFunction, styles }) => {\n\tconst isActive = (currentValue) => currentValue === formValues[inputName] && \"active\";\n\n\treturn (\n\t\t<div className={styles.group}>\n\t\t\t{options.map(({ id, label }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<label key={id} className={`${styles.button} ${isActive(id)}`}>\n\t\t\t\t\t\t<input type=\"radio\" name={inputName} id={id} value={id} onChange={setFunction} />\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nRadioButtonGroup.propTypes = {\n\tinputName: PropTypes.string.isRequired,\n\toptions: PropTypes.array.isRequired,\n\tformValues: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tstyles: PropTypes.object\n};\n\n// options example\n// const options = [\n// \t{\n// \t\tid: \"id0\",\n// \t\tlabel: \"Label 0\"\n// \t},\n// \t{\n// \t\tid: \"id1\",\n// \t\tlabel: \"Label 1\"\n// \t}\n// ];\n\n// styles example\n// const styles = {\n// \tgroup: \"btn-group btn-group-toggle\",\n// \tbutton: \"btn btn-primary\"\n// }\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const simpleLoadPermits = async (\n\tpairs,\n\tmodulo,\n\tciclo,\n\tfechaInicial = new Date(2021, 8, 1),\n\tfechaFinal = new Date(2022, 8, 30)\n) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst permisos = [];\n\tconst permisosFiltrados = [];\n\tconst qrysPermisos = [];\n\tconst permisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`);\n\n\tif (palabra.length === 0) qrysPermisos.push(permisosRef.orderBy(campo).get());\n\telse {\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(permisosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst resolvedPermisosQrys = await Promise.all(qrysPermisos);\n\n\tresolvedPermisosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\t\t\tconst cuota = snapHijo.data().cuotaCultivo * snapHijo.data().supAutorizada;\n\n\t\t\tif (fecha >= fechaInicial && fecha <= addDays(fechaFinal, 1)) {\n\t\t\t\tpermisos.push({\n\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t...snapHijo.data(),\n\t\t\t\t\tcuotaCultivo: cuota,\n\t\t\t\t\tfechaEmicion: fecha.toLocaleDateString()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\tpermisosFiltrados.push(permisos);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst permisos = permisosFiltrados.pop();\n\t\t\tpermisosFiltrados.push(\n\t\t\t\tpermisos.filter(\n\t\t\t\t\t(permiso) => permiso[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn onlyUnique(permisosFiltrados.pop(), \"numeroPermiso\");\n};\n\nconst addDays = (date, days) => {\n\tlet result = new Date(date);\n\tresult.setDate(result.getDate() + days);\n\treturn result;\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import { useState } from \"react\";\nimport { roundToN } from \"../helpers/functions/roundToN\";\n\nexport const useFilteredData = (\n\theaders,\n\tinitialData = [],\n\tinitialFilters = { filter: \"\", order1: \"\" },\n\tinitialExtraRows = { includeEmtyRow: false, includeSubtotalRow: false }\n) => {\n\tconst [data, setData] = useState(initialData);\n\tconst [filters, setFilters] = useState(initialFilters);\n\tconst { filter, order1 } = filters;\n\tconst [extraRows, setExtraRows] = useState(initialExtraRows);\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst handleFiltersChange = ({ target }) => {\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[target.name]: target.value\n\t\t});\n\n\t\tif (target.name === \"filter\")\n\t\t\tsetData(aplyFilter(data, headers, target.value, order1, includeEmtyRow, includeSubtotalRow));\n\t\tif (target.name === \"order1\")\n\t\t\tsetData(aplyFilter(data, headers, filter, target.value, includeEmtyRow, includeSubtotalRow));\n\t};\n\n\tconst handleExtraRowsChange = ({ target }) => {\n\t\tsetExtraRows({\n\t\t\t...extraRows,\n\t\t\t[target.name]: target.checked\n\t\t});\n\n\t\tif (target.name === \"includeEmtyRow\")\n\t\t\tsetData(aplyFilter(data, headers, filter, order1, target.checked, includeSubtotalRow));\n\t\tif (target.name === \"includeSubtotalRow\")\n\t\t\tsetData(aplyFilter(data, headers, filter, order1, includeEmtyRow, target.checked));\n\t};\n\n\tconst resetFilters = () => {\n\t\tsetFilters(initialFilters);\n\t\tsetExtraRows(initialExtraRows);\n\t};\n\n\treturn [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t];\n};\n\nconst aplyFilter = (dataSet, headers, filter, order1, includeEmtyRow, includeSubtotalRow) => {\n\tconst mainKey = headers[0].id;\n\tconst ids = [];\n\tconst cleanDataSet = dataSet.filter((row) => {\n\t\tif (\n\t\t\trow[mainKey] !== \"-\" &&\n\t\t\trow[mainKey] !== \"SUBTOTAL\" &&\n\t\t\trow[mainKey] !== \"TOTAL\" &&\n\t\t\t!ids.find((id) => id === row[mainKey])\n\t\t) {\n\t\t\tids.push(row[mainKey]);\n\t\t\treturn true;\n\t\t} else return false;\n\t});\n\tconst unique = onlyUnique(cleanDataSet, filter);\n\tconst separateData = [];\n\tconst finalData = [];\n\tconst totalRow = { [mainKey]: \"TOTAL\" };\n\n\tunique.forEach((value) => {\n\t\tseparateData.push(cleanDataSet.filter((row) => row[filter] === value));\n\t});\n\n\tseparateData.forEach((batch) => {\n\t\tconst subTotalRow = { [mainKey]: \"SUBTOTAL\" };\n\t\tconst emtyRow = { [mainKey]: \"-\" };\n\t\tconst separateBatch = [];\n\t\tconst finalBatch = [];\n\n\t\tbatch.sort((a, b) => sortFunction(a[order1], b[order1]));\n\t\tconst uniqueOrder1 = onlyUnique(batch, order1);\n\t\tuniqueOrder1.forEach((value) => {\n\t\t\tseparateBatch.push(batch.filter((row) => row[order1] === value));\n\t\t});\n\n\t\tseparateBatch.forEach((subBatch) => {\n\t\t\tsubBatch.forEach((row) => {\n\t\t\t\tfinalBatch.push(row);\n\t\t\t});\n\t\t\tif (includeEmtyRow) finalBatch.push(emtyRow);\n\t\t});\n\t\tif (includeEmtyRow) finalBatch.pop();\n\n\t\tfinalBatch.forEach((row) => {\n\t\t\theaders.forEach((header) => {\n\t\t\t\tif (header.sum) {\n\t\t\t\t\tif (row[header.id]) {\n\t\t\t\t\t\tif (subTotalRow[header.id]) subTotalRow[header.id] += row[header.id];\n\t\t\t\t\t\telse subTotalRow[header.id] = row[header.id];\n\n\t\t\t\t\t\tif (totalRow[header.id]) totalRow[header.id] += row[header.id];\n\t\t\t\t\t\telse totalRow[header.id] = row[header.id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (header.count) {\n\t\t\t\t\tif (row[header.id]) {\n\t\t\t\t\t\tif (subTotalRow[header.id]) subTotalRow[header.id]++;\n\t\t\t\t\t\telse subTotalRow[header.id] = 1;\n\n\t\t\t\t\t\tif (totalRow[header.id]) totalRow[header.id]++;\n\t\t\t\t\t\telse totalRow[header.id] = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tfinalData.push(row);\n\t\t});\n\n\t\tfor (const key in subTotalRow) {\n\t\t\tif (typeof subTotalRow[key] === \"number\") subTotalRow[key] = roundToN(subTotalRow[key], 4);\n\t\t}\n\t\tif (includeSubtotalRow) finalData.push(subTotalRow);\n\t});\n\tfinalData.push(totalRow);\n\n\treturn finalData;\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tobjectsArray.forEach((element) => {\n\t\tif (typeof element[key] === \"object\") {\n\t\t\tconst fecha = element[key].toDate();\n\t\t\tconsole.log(fecha.toLocaleDateString());\n\t\t\tconst index = unique.indexOf(fecha.toLocaleDateString());\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(fecha.toLocaleDateString());\n\t\t\t}\n\t\t} else {\n\t\t\tconst index = unique.indexOf(element[key]);\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(element[key]);\n\t\t\t}\n\t\t}\n\t});\n\n\tunique.sort((a, b) => sortFunction(a, b));\n\treturn unique;\n};\n\nconst sortFunction = (a, b) => {\n\tconst isDate = isADate(a);\n\n\tif (isDate) {\n\t\tconst dateA = new Date(usDate(a));\n\t\tconst dateB = new Date(usDate(b));\n\n\t\tif (dateA > dateB) return 1;\n\t\tif (dateA < dateB) return -1;\n\t\treturn 0;\n\t}\n\n\tswitch (typeof a) {\n\t\tcase \"number\":\n\t\t\tif (a < b) return 1;\n\t\t\tif (a > b) return -1;\n\t\t\treturn 0;\n\n\t\tdefault:\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t}\n};\n\nconst isADate = (value) => {\n\tif (value) {\n\t\tif (typeof value === \"string\") {\n\t\t\tconst arrayDate = value.split(\"/\");\n\t\t\tif (arrayDate.length === 3) return true;\n\t\t\telse return false;\n\t\t} else return false;\n\t} else return false;\n};\n\nconst usDate = (date) => {\n\tconst dateSplit = date.split(\"/\");\n\treturn `${dateSplit[1]}/${dateSplit[0]}/${dateSplit[2]}`;\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport const ReportHeader = ({ title, pages, page, range = \"\" }) => {\n\tconst { email, entidad, img, variablesGlobales } = useSelector((state) => state.auth);\n\n\tconst tiempo = Date.now();\n\tconst fechaActual = new Date(tiempo);\n\n\treturn (\n\t\t<div className=\"row border rounded border-dark m-0\">\n\t\t\t<div className=\"col-2 p-3 d-flex justify-content-center\">\n\t\t\t\t<img src={`./logos/${img}`} alt=\"Logo de la entidad\" style={{ maxHeight: 80 }} />\n\t\t\t</div>\n\n\t\t\t<div className=\"col-2 p-3\" style={{ maxHeight: 80 }}>\n\t\t\t\t<div>Operador:</div>\n\t\t\t\t<div>{email}</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-6 p-3 justify-content-center\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<b>{entidad}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<b>{title}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div>{range}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-2 p-3 d-flex flex-column\">\n\t\t\t\t<b>Ciclo: {variablesGlobales.cicloActual}</b>\n\t\t\t\t<div>{fechaActual.toLocaleDateString()}</div>\n\t\t\t\t<div>\n\t\t\t\t\tPagina {page} de {pages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { forwardRef } from \"react\";\nimport { ReportHeader } from \"./ReportHeader\";\n\nexport const PrintableTable = forwardRef((props, ref) => {\n\tconst { title, headers, data, rowsPerPage, orientation = \"portrait\", range } = props;\n\n\tconst getPageMargins = () => {\n\t\tconst marginTop = 60;\n\t\tconst marginRight = 60;\n\t\tconst marginBottom = 60;\n\t\tconst marginLeft = 60;\n\t\treturn `@page { margin: ${marginTop} ${marginRight} ${marginBottom} ${marginLeft} !important; size:letter ${orientation};}`;\n\t};\n\n\tconst separateData = [];\n\n\tfor (let i = 0; i < data.length; i += rowsPerPage) {\n\t\tlet fracment = data.slice(i, i + rowsPerPage);\n\t\tseparateData.push(fracment);\n\t}\n\n\treturn (\n\t\t<div ref={ref}>\n\t\t\t{separateData.map((dataPart, i) => (\n\t\t\t\t<div key={i} className=\"page-break\">\n\t\t\t\t\t<style>{getPageMargins()}</style>\n\t\t\t\t\t<ReportHeader title={title} pages={separateData.length} page={i + 1} range={range} />\n\n\t\t\t\t\t<table className=\"table table-sm table-striped border mt-4\" style={{ fontSize: 12 }}>\n\t\t\t\t\t\t<thead className=\"thead-light\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.display) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<th key={`${i}-${header.id}`} scope=\"col\" className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <th key={`${i}-${header.id}`} style={{ display: \"none\" }}></th>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{dataPart &&\n\t\t\t\t\t\t\t\tdataPart.map((row, j) => (\n\t\t\t\t\t\t\t\t\t<tr key={`${i}-${j}-${row[0]}`}>\n\t\t\t\t\t\t\t\t\t\t{headers.map((header, k) => {\n\t\t\t\t\t\t\t\t\t\t\tif (header.display) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof row[header.id] === \"object\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst fechaObject = row[header.id].toDate();\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={`${i}-${k}-${fecha}`} className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fecha}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={`${i}-${k}-${header.id}`} className={header.styles}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{header.float\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValue(row[header.id], header.float, header.currency)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: row[header.id]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\t\t\t\t\treturn <td key={`${i}-${k}-${header.id}`} style={{ display: \"none\" }}></td>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n});\n\nconst getValue = (value, frac, currency) => {\n\t// console.log(typeof value);\n\n\tswitch (typeof value) {\n\t\tcase \"number\":\n\t\t\tif (currency)\n\t\t\t\treturn Intl.NumberFormat(\"en-IN\", {\n\t\t\t\t\tminimumFractionDigits: frac,\n\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\tcurrencyDisplay: \"symbol\"\n\t\t\t\t}).format(value);\n\t\t\telse\n\t\t\t\treturn Intl.NumberFormat(\"en-IN\", {\n\t\t\t\t\tminimumFractionDigits: frac\n\t\t\t\t}).format(value);\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n","import React, { createRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ReactToPrint from \"react-to-print\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { PrintableTable } from \"../molecules/PrintableTable\";\n\nexport const ReportModule = ({ title, excelTitle, headers, data, range }) => {\n\tconst componentRef = createRef();\n\tconst { name } = useSelector((state) => state.auth);\n\n\tconst exportToExcel = () => {\n\t\tconst excelHeaders = [];\n\t\tconst fileHeaders = [];\n\t\tconst excelData = [];\n\n\t\theaders.forEach((header) => {\n\t\t\tif (header.display) excelHeaders.push([header.id, header.header]);\n\t\t});\n\n\t\tdata.forEach((row) => {\n\t\t\tconst newRow = {};\n\t\t\texcelHeaders.forEach((header) => {\n\t\t\t\tfileHeaders.push(header[1]);\n\n\t\t\t\tif (typeof row[header[0]] === \"object\") {\n\t\t\t\t\tconst fechaObject = row[header[0]].toDate();\n\t\t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t\t\t\t\tnewRow[header[1]] = fecha;\n\t\t\t\t} else newRow[header[1]] = row[header[0]];\n\t\t\t});\n\t\t\texcelData.push(newRow);\n\t\t});\n\n\t\texportJSONToExcel(\n\t\t\texcelData,\n\t\t\tfileHeaders,\n\t\t\texcelTitle.substring(0, 30),\n\t\t\tname,\n\t\t\texcelTitle.substring(0, 30)\n\t\t);\n\t};\n\n\tconst [pageConfig, setPageConfig] = useState({ orientation: \"landscape\", rowsPerPage: 25 });\n\tconst { orientation, rowsPerPage } = pageConfig;\n\n\tconst setLandscape = () => {\n\t\tsetPageConfig({ rowsPerPage: 25, orientation: \"landscape\" });\n\t};\n\tconst setPortrait = () => {\n\t\tsetPageConfig({ rowsPerPage: 50, orientation: \"portrait\" });\n\t};\n\tconst addRow = () => {\n\t\tsetPageConfig({ ...pageConfig, rowsPerPage: rowsPerPage + 1 });\n\t};\n\tconst removeRow = () => {\n\t\tsetPageConfig({ ...pageConfig, rowsPerPage: rowsPerPage - 1 });\n\t};\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row mb-4\">\n\t\t\t\t<div className=\"col-sm-4 d-flex mt-4\">\n\t\t\t\t\t<label htmlFor=\"orientation\">\n\t\t\t\t\t\tLineas por pagina: <b>{rowsPerPage}</b>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none mr-4 ml-2\" id=\"orientation\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={addRow}\n\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary\"\n\t\t\t\t\t\t\tstyle={{ width: 40 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t+\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={removeRow}\n\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary\"\n\t\t\t\t\t\t\tstyle={{ width: 40 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex mt-4\">\n\t\t\t\t\t<label htmlFor=\"orientation\">Orientacion:</label>\n\t\t\t\t\t<div className=\"btn-group btn-group-toggle d-print-none mr-4 ml-2\" id=\"orientation\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={setLandscape}\n\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\torientation === \"landscape\" ? \"btn-primary\" : \"btn-outline-primary\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHorizontal\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={setPortrait}\n\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\torientation === \"portrait\" ? \"btn-primary\" : \"btn-outline-primary\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tVertical\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex justify-content-end mt-4\">\n\t\t\t\t\t<ReactToPrint\n\t\t\t\t\t\ttrigger={() => (\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-primary d-print-none \">\n\t\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tcontent={() => componentRef.current}\n\t\t\t\t\t\tpageStyle=\"bootstrap/dist/css/bootstrap.min.css\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={exportToExcel}\n\t\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary ml-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t\t\t<span> Descargar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<PrintableTable\n\t\t\t\ttitle={title}\n\t\t\t\theaders={headers}\n\t\t\t\tdata={data}\n\t\t\t\tref={componentRef}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\torientation={orientation}\n\t\t\t\tclassName={\"mt-0\"}\n\t\t\t\trange={range}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { useState } from \"react\";\n\nexport const useMultiInput = (initialState = []) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst index = parseInt(target.attributes.index.nodeValue);\n\t\tconst targetPair = values[index];\n\t\tconst newPair = { ...targetPair, [target.name]: target.value };\n\t\tconst newState = values.map((pair, i) => {\n\t\t\tif (i === index) return newPair;\n\t\t\telse return pair;\n\t\t});\n\n\t\tsetValues(newState);\n\t};\n\n\tconst addPair = () => {\n\t\tsetValues([...values, { palabra: \"\", campo: \"\" }]);\n\t};\n\n\tconst removePair = () => {\n\t\tconst newState = values.slice(0, values.length - 1);\n\t\tsetValues(newState);\n\t};\n\n\treturn [values, handleInputChange, addPair, removePair, reset];\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport DatePicker from \"react-date-picker\";\n\nimport { simpleLoadPermits } from \"../../../helpers/DB/simpleLoadPermits\";\nimport { permitsHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const CustomPermitsReport = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [fechaInicial, onChangeFechaInicial] = useState(new Date(2021, 8, 1));\n\tconst [fechaFinal, onChangeFechaFinal] = useState(new Date());\n\tconst range = `Del ${fechaInicial.toLocaleDateString()} al ${fechaFinal.toLocaleDateString()}`;\n\n\tconst [headers, setHeaders] = useState(permitsHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getPermisos = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst permisosToSet = await simpleLoadPermits(\n\t\t\t\tformValues,\n\t\t\t\tmodulo,\n\t\t\t\tcicloConsulta,\n\t\t\t\tfechaInicial,\n\t\t\t\tfechaFinal\n\t\t\t);\n\t\t\tresetFilters();\n\t\t\tsetData(permisosToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `PERMISOS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"PERMISOS\");\n\tconst excelTitle = getTitle(\"excel\", \"PERMISOS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha inicial</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaInicial}\n\t\t\t\t\t\t\t\tvalue={fechaInicial}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t\t<label className=\"form-check-label\">Fecha final</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tonChange={onChangeFechaFinal}\n\t\t\t\t\t\t\t\tvalue={fechaFinal}\n\t\t\t\t\t\t\t\tformat={\"dd/MM/yyyy\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACIÓN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={excelTitle}\n\t\t\t\t\theaders={headers}\n\t\t\t\t\tdata={data}\n\t\t\t\t\trange={range}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermisosPorSeccion = async (seccion, modulo, ciclo) => {\n\tconst permisos = [];\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"seccion\", \"==\", parseInt(seccion))\n\t\t.where(\"estadoPermiso\", \"==\", \"activo\")\n\t\t.orderBy(\"nombreCultivo\")\n\t\t.get();\n\n\tpermisosSnap.forEach((snapHijo) => {\n\t\tconst fecha = snapHijo.data().fechaEmicion.toDate();\n\t\tconst cuota = snapHijo.data().cuotaCultivo * snapHijo.data().supAutorizada;\n\n\t\tpermisos.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data(),\n\t\t\tcuotaCultivo: cuota,\n\t\t\tfechaEmicion: fecha.toLocaleDateString()\n\t\t});\n\t});\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn permisos;\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { permitsHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { loadPermisosPorSeccion } from \"../../../helpers/DB/loadPermisosPorSeccion\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { ReportModule } from \"./ReportModule\";\n\nexport const PermitsReport = () => {\n\tconst title = \"REPORTE DE PERMISOS ACTIVOS POR SECCION\";\n\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta } = variablesGlobales;\n\n\tconst [formValues, handleInputChange] = useForm({ palabra: \"\" });\n\tconst { palabra } = formValues;\n\tconst [permisos, setPermisos] = useState([]);\n\n\tconst onlyUnique = (objectsArray, key) => {\n\t\tconst unique = [];\n\t\tobjectsArray.forEach((element) => {\n\t\t\tconst index = unique.indexOf(element[key]);\n\t\t\tif (index === -1) {\n\t\t\t\tunique.push(element[key]);\n\t\t\t}\n\t\t});\n\n\t\tunique.sort((a, b) => {\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t\t});\n\n\t\treturn unique;\n\t};\n\n\tconst filter = \"seccion\";\n\tconst order1 = \"localidad\";\n\n\tconst fechaInicial = new Date(2021, 8, 1);\n\tconst fechaFinal = new Date();\n\n\tconst getPermisos = async () => {\n\t\tconst permisosToSet = await loadPermisosPorSeccion(palabra, modulo, cicloConsulta);\n\t\tsetPermisos(setFilter(permisosToSet));\n\t};\n\n\tconst setFilter = (permisos) => {\n\t\tconst unique = onlyUnique(permisos, filter);\n\t\tconst separateData = [];\n\t\tconst finalData = [];\n\n\t\tunique.forEach((value) => {\n\t\t\tseparateData.push(permisos.filter((permiso) => permiso[filter] === value));\n\t\t});\n\n\t\tseparateData.forEach((filterItem) => {\n\t\t\tfilterItem.sort((a, b) => {\n\t\t\t\tif (a[order1] > b[order1]) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (a[order1] < b[order1]) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\tfilterItem.forEach((order1Item) => {\n\t\t\t\tfinalData.push(order1Item);\n\t\t\t});\n\t\t});\n\n\t\treturn finalData;\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container d-flex mb-4 col-6\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Seccion\"\n\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={palabra}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName=\" btn btn-outline-primary d-sm-block ml-auto\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={getPermisos}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{permisos.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={\"REPORTE DE PERMISOS POR SECCION\"}\n\t\t\t\t\theaders={permitsHeaders}\n\t\t\t\t\tdata={permisos}\n\t\t\t\t\trowsPerPage={24}\n\t\t\t\t\torientation=\"landscape\"\n\t\t\t\t\tfechaInicial={fechaInicial}\n\t\t\t\t\tfechaFinal={fechaFinal}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { GraficoPrincipalesCultivos } from \"../charts/GraficoPrincipalesCultivos\";\nimport { FormPermisosInformes } from \"../forms/FormPermisosInformes\";\nimport { PermisosTable } from \"../tables/PermisosTable\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { CustomPermitsReport } from \"../ui/organisms/CustomPermitsReport\";\nimport { PermitsReport } from \"../ui/organisms/PermitsReport\";\n\nexport const ModuloInformesPermisos = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"grafico\",\n\t\t\tlabel: \"Reporte con grafico\"\n\t\t},\n\t\t{\n\t\t\tid: \"seccion\",\n\t\t\tlabel: \"Reporte por seccion\"\n\t\t},\n\t\t{\n\t\t\tid: \"configurable\",\n\t\t\tlabel: \"Reporte configurable\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de permisos</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"grafico\" && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-sm-9 no-printme\">\n\t\t\t\t\t\t\t<FormPermisosInformes />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-sm-5 no-printme\">\n\t\t\t\t\t\t\t<GraficoPrincipalesCultivos />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\n\t\t\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t\t\t<PermisosTable />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{reportTypeValues.reportType === \"seccion\" && <PermitsReport />}\n\n\t\t\t{reportTypeValues.reportType === \"configurable\" && <CustomPermitsReport />}\n\t\t</div>\n\t);\n};\n","import { cultivosPrincipales as cultivos } from \"../consts\";\n\nconst initialObject = {\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\nconst reportData = { ...cultivos };\n\nconst accumulate = (\n\tref,\n\tsupGravedadProgramada,\n\tsupGravedadExpedida,\n\tsupGravedadRealizada,\n\tsupPozoProgramada,\n\tsupPozoExpedida,\n\tsupPozoRealizada,\n\tsupPozoPartProgramada,\n\tsupPozoPartExpedida,\n\tsupPozoPartRealizada\n) => {\n\tref.supGravedadProgramada = ref.supGravedadProgramada + supGravedadProgramada;\n\tref.supGravedadExpedida = ref.supGravedadExpedida + supGravedadExpedida;\n\tref.supGravedadRealizada = ref.supGravedadRealizada + supGravedadRealizada;\n\tref.supPozoProgramada = ref.supPozoProgramada + supPozoProgramada;\n\tref.supPozoExpedida = ref.supPozoExpedida + supPozoExpedida;\n\tref.supPozoRealizada = ref.supPozoRealizada + supPozoRealizada;\n\tref.supPozoPartProgramada = ref.supPozoPartProgramada + supPozoPartProgramada;\n\tref.supPozoPartExpedida = ref.supPozoPartExpedida + supPozoPartExpedida;\n\tref.supPozoPartRealizada = ref.supPozoPartRealizada + supPozoPartRealizada;\n};\n\nconst checkModulo = (modulos, modulo) => {\n\tlet isOk = false;\n\n\tif (modulos.length > 0) {\n\t\tmodulos.forEach((okModulo) => {\n\t\t\tif (modulo.toString() === okModulo) isOk = true;\n\t\t});\n\t} else isOk = true;\n\n\treturn isOk;\n};\n\nconst isRegisterInclude = (opcion, modulos, modulo, estado) => {\n\tswitch (opcion) {\n\t\tcase \"modulos\":\n\t\tcase \"modulo\":\n\t\t\treturn checkModulo(modulos, modulo);\n\n\t\tcase \"Baja California\":\n\t\tcase \"Sonora\":\n\t\t\tif (opcion === estado) {\n\t\t\t\treturn true;\n\t\t\t} else return false;\n\n\t\tcase \"global\":\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nexport const filterReportData = (data, option, modulos) => {\n\tObject.keys(reportData).forEach((subciclo) => {\n\t\tObject.keys(reportData[subciclo]).forEach((cultivo) => {\n\t\t\treportData[subciclo][cultivo] = { ...initialObject };\n\t\t});\n\t});\n\n\tObject.values(data).forEach(\n\t\t({\n\t\t\tsubciclo,\n\t\t\tcultivo,\n\t\t\tmodulo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada,\n\t\t\tsupGravedadExpedida,\n\t\t\tsupGravedadRealizada,\n\t\t\tsupPozoProgramada,\n\t\t\tsupPozoExpedida,\n\t\t\tsupPozoRealizada,\n\t\t\tsupPozoPartProgramada,\n\t\t\tsupPozoPartExpedida,\n\t\t\tsupPozoPartRealizada\n\t\t}) => {\n\t\t\tif (isRegisterInclude(option, modulos, modulo, estado)) {\n\t\t\t\tif (reportData[subciclo][cultivo]) {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo][cultivo],\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\tgetRef(reportData, subciclo),\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\n\t\t\t\t\taccumulate(\n\t\t\t\t\t\treportData[subciclo].SUBTOTAL,\n\t\t\t\t\t\tsupGravedadProgramada,\n\t\t\t\t\t\tsupGravedadExpedida,\n\t\t\t\t\t\tsupGravedadRealizada,\n\t\t\t\t\t\tsupPozoProgramada,\n\t\t\t\t\t\tsupPozoExpedida,\n\t\t\t\t\t\tsupPozoRealizada,\n\t\t\t\t\t\tsupPozoPartProgramada,\n\t\t\t\t\t\tsupPozoPartExpedida,\n\t\t\t\t\t\tsupPozoPartRealizada\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tif (reportData.TOTAL) {\n\t\tdelete reportData.TOTAL;\n\t}\n\n\tconst TOTAL = {\n\t\tsupGravedadProgramada: 0,\n\t\tsupGravedadExpedida: 0,\n\t\tsupGravedadRealizada: 0,\n\t\tsupPozoProgramada: 0,\n\t\tsupPozoExpedida: 0,\n\t\tsupPozoRealizada: 0,\n\t\tsupPozoPartProgramada: 0,\n\t\tsupPozoPartExpedida: 0,\n\t\tsupPozoPartRealizada: 0\n\t};\n\n\tObject.values(reportData).forEach((subciclo) => {\n\t\tTOTAL.supGravedadProgramada =\n\t\t\tTOTAL.supGravedadProgramada + subciclo.SUBTOTAL.supGravedadProgramada;\n\t\tTOTAL.supGravedadExpedida = TOTAL.supGravedadExpedida + subciclo.SUBTOTAL.supGravedadExpedida;\n\t\tTOTAL.supGravedadRealizada =\n\t\t\tTOTAL.supGravedadRealizada + subciclo.SUBTOTAL.supGravedadRealizada;\n\t\tTOTAL.supPozoProgramada = TOTAL.supPozoProgramada + subciclo.SUBTOTAL.supPozoProgramada;\n\t\tTOTAL.supPozoExpedida = TOTAL.supPozoExpedida + subciclo.SUBTOTAL.supPozoExpedida;\n\t\tTOTAL.supPozoRealizada = TOTAL.supPozoRealizada + subciclo.SUBTOTAL.supPozoRealizada;\n\t\tTOTAL.supPozoPartProgramada =\n\t\t\tTOTAL.supPozoPartProgramada + subciclo.SUBTOTAL.supPozoPartProgramada;\n\t\tTOTAL.supPozoPartExpedida = TOTAL.supPozoPartExpedida + subciclo.SUBTOTAL.supPozoPartExpedida;\n\t\tTOTAL.supPozoPartRealizada =\n\t\t\tTOTAL.supPozoPartRealizada + subciclo.SUBTOTAL.supPozoPartRealizada;\n\t});\n\n\treportData.TOTAL = {};\n\treportData.TOTAL.TOTAL = { ...TOTAL };\n\n\treturn reportData;\n};\n\nconst getRef = (ref, subciclo) => {\n\tswitch (subciclo) {\n\t\tcase \"OTOÑO-INVIERNO\":\n\t\t\treturn ref[subciclo].VARIOS_OI;\n\t\tcase \"PERENNES\":\n\t\t\treturn ref[subciclo].VARIOS_PERENNES;\n\t\tcase \"PRIMAVERA-VERANO\":\n\t\t\treturn ref[subciclo].VARIOS_PV;\n\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n};\n","let mergedData = {};\n\nconst plantillaRegistro = {\n\tcultivo: \"\",\n\tmodulo: \"\",\n\tsubciclo: \"\",\n\testado: \"\",\n\tsupGravedadProgramada: 0,\n\tsupGravedadExpedida: 0,\n\tsupGravedadRealizada: 0,\n\tsupPozoProgramada: 0,\n\tsupPozoExpedida: 0,\n\tsupPozoRealizada: 0,\n\tsupPozoPartProgramada: 0,\n\tsupPozoPartExpedida: 0,\n\tsupPozoPartRealizada: 0\n};\n\nconst updateExpedicionItem = ({\n\tid,\n\tmodulo,\n\tgravedadNormal = 0,\n\tgravedadExtra = 0,\n\tpozoNormal = 0,\n\tpozoExtra = 0,\n\tpozoParticularNormal = 0,\n\tpozoParticularExtra = 0\n}) => {\n\tmergedData[`${id}-${modulo}`] = {\n\t\t...mergedData[`${id}-${modulo}`],\n\t\tsupGravedadExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supGravedadExpedida + gravedadNormal + gravedadExtra,\n\t\tsupPozoExpedida: mergedData[`${id}-${modulo}`].supPozoExpedida + pozoNormal + pozoExtra,\n\t\tsupPozoPartExpedida:\n\t\t\tmergedData[`${id}-${modulo}`].supPozoPartExpedida + pozoParticularNormal + pozoParticularExtra\n\t};\n};\n\nconst createNewAutorizadosItem = ({\n\tid,\n\tmodulo,\n\tsubciclo,\n\testado = \"\",\n\tgravedadExtraAutorizada = 0,\n\tgravedadNormalAutorizada = 0,\n\tpozoExtraAutorizada = 0,\n\tpozoNormalAutorizada = 0\n}) => {\n\tif (subciclo === \"PERENES\") subciclo = \"PERENNES\";\n\tif (isPozoParticular(modulo)) {\n\t\tmergedData[`${id}-${modulo}`] = {\n\t\t\t...plantillaRegistro,\n\t\t\tcultivo: id,\n\t\t\tmodulo,\n\t\t\tsubciclo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada: gravedadNormalAutorizada + gravedadExtraAutorizada,\n\t\t\tsupPozoPartProgramada: pozoNormalAutorizada + pozoExtraAutorizada\n\t\t};\n\t} else {\n\t\tmergedData[`${id}-${modulo}`] = {\n\t\t\t...plantillaRegistro,\n\t\t\tcultivo: id,\n\t\t\tmodulo,\n\t\t\tsubciclo,\n\t\t\testado,\n\t\t\tsupGravedadProgramada: gravedadNormalAutorizada + gravedadExtraAutorizada,\n\t\t\tsupPozoProgramada: pozoNormalAutorizada + pozoExtraAutorizada\n\t\t};\n\t}\n};\n\nexport const mergeReportData = (autorizados, expedicion) => {\n\tmergedData = {};\n\tautorizados.forEach((item) => {\n\t\tcreateNewAutorizadosItem(item);\n\t});\n\n\texpedicion.forEach((item) => {\n\t\tmergedData[`${item.id}-${item.modulo}`] && updateExpedicionItem(item);\n\t});\n\n\treturn mergedData;\n};\n\nconst isPozoParticular = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\tcase \"UNI02\":\n\t\tcase \"UNI03\":\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n","export const modulosCheckboxReducer = (state, action) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase \"setUnidad\":\n\t\t\tif (unidades[payload]) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...unidades,\n\t\t\t\t\t\t[payload]: false\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst newValues = {};\n\t\t\t\tObject.keys(unidades).forEach((newValueKey) => {\n\t\t\t\t\tnewValues[newValueKey] = false;\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tunidades: {\n\t\t\t\t\t\t...newValues,\n\t\t\t\t\t\t[payload]: true\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase \"changeModulo\":\n\t\t\tconst { unidad, modulo } = payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: {\n\t\t\t\t\t...modulosPorUnidad,\n\t\t\t\t\t[unidad]: {\n\t\t\t\t\t\t...modulosPorUnidad[unidad],\n\t\t\t\t\t\t[modulo]: !modulosPorUnidad[unidad][modulo]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase \"changeGroup\":\n\t\t\tconst newModulosState = { ...modulosPorUnidad };\n\t\t\tObject.keys(state.unidades).forEach((unidad) => {\n\t\t\t\tObject.keys(state.modulosPorUnidad[unidad]).forEach((modulo) => {\n\t\t\t\t\tnewModulosState[unidad][modulo] = state.unidades[unidad];\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodulosPorUnidad: newModulosState\n\t\t\t};\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { exportJSONToExcel } from \"../../../helpers/functions/exportJSONToExcel\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\n\nexport const ExpedicionTable = ({ data, modulos }) => {\n\tconst { name } = useSelector((state) => state.auth);\n\n\tconst exportToExcel = () => {\n\t\tconst title = setTitle(modulos);\n\t\tconst headers = {\n\t\t\theader: [\n\t\t\t\t\"CULTIVO\",\n\t\t\t\t\"GRAVEDAD PROGRAMADA\",\n\t\t\t\t\"GRAVEDAD EXPEDIDA\",\n\t\t\t\t\"GRAVEDAD REALIZADA\",\n\t\t\t\t\"POZO PROGRAMADA\",\n\t\t\t\t\"POZO EXPEDIDA\",\n\t\t\t\t\"POZO REALIZADA\",\n\t\t\t\t\"POZO PART PROGRAMADA\",\n\t\t\t\t\"POZO PART EXPEDIDA\",\n\t\t\t\t\"POZO PART REALIZADA\",\n\t\t\t\t\"TOTAL PROGRAMADA\",\n\t\t\t\t\"TOTAL EXPEDIDA\",\n\t\t\t\t\"TOTAL REALIZADA\"\n\t\t\t]\n\t\t};\n\n\t\texportJSONToExcel(setUpData(data), headers, title, name, title);\n\t};\n\n\treturn (\n\t\t<div className=\"table-responsive-sm\">\n\t\t\t<table className=\"table table-sm table-bordered font12\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" rowSpan=\"2\">\n\t\t\t\t\t\t\tCULTIVO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. GRAVEDAD\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO FEDERAL\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. POZO PARTICULAR\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"3\">\n\t\t\t\t\t\t\tSUP. TOTAL\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t\t<th scope=\"col\">Programada</th>\n\t\t\t\t\t\t<th scope=\"col\">Expedida</th>\n\t\t\t\t\t\t<th scope=\"col\">Realizado</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tOTOÑO - INVIERNO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"OTOÑO-INVIERNO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"OTOÑO-INVIERNO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPERENNES\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PERENNES\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PERENNES\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\tPRIMAVERA-VERANO\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"PRIMAVERA-VERANO\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"PRIMAVERA-VERANO\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"13\" className=\"pt-4\">\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{Object.values(data[\"TOTAL\"]).map((cultivo, i) => {\n\t\t\t\t\t\tconst nombreCultivo = Object.keys(data[\"TOTAL\"])[i];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={nombreCultivo}>\n\t\t\t\t\t\t\t\t<th scope=\"row\">{nombreCultivo}</th>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supGravedadRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoRealizada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartProgramada, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartExpedida, 3)}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">{roundToN(cultivo.supPozoPartRealizada, 3)}</td>\n\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoProgramada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartProgramada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoExpedida +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartExpedida,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-right\">\n\t\t\t\t\t\t\t\t\t{roundToN(\n\t\t\t\t\t\t\t\t\t\tcultivo.supGravedadRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoRealizada +\n\t\t\t\t\t\t\t\t\t\t\tcultivo.supPozoPartRealizada,\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={exportToExcel}\n\t\t\t\tclassName=\"btn btn-outline-primary d-print-none\"\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t<span> Descargar</span>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-outline-primary ml-5 d-print-none\"\n\t\t\t\tonClick={() => window.print()}\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t<span> Imprimir</span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nconst setUpData = (expedicion) => {\n\tconst data = [];\n\tconst subCiclos = Object.entries(expedicion);\n\n\tsubCiclos.forEach((subCiclo) => {\n\t\tdata.push({ cultivo: subCiclo[0] });\n\t\tconst cultivos = Object.entries(subCiclo[1]);\n\t\tcultivos.forEach((cultivo) => {\n\t\t\tdata.push({ cultivo: cultivo[0], ...cultivo[1] });\n\t\t});\n\t});\n\n\tconst expedicionTable = data.map((cultivo) => {\n\t\tif (Object.keys(cultivo).length > 1) {\n\t\t\treturn {\n\t\t\t\tCULTIVO: cultivo.cultivo,\n\t\t\t\t\"GRAVEDAD PROGRAMADA\": cultivo.supGravedadProgramada,\n\t\t\t\t\"GRAVEDAD EXPEDIDA\": cultivo.supGravedadExpedida,\n\t\t\t\t\"GRAVEDAD REALIZADA\": cultivo.supGravedadRealizada,\n\t\t\t\t\"POZO PROGRAMADA\": cultivo.supPozoProgramada,\n\t\t\t\t\"POZO EXPEDIDA\": cultivo.supPozoExpedida,\n\t\t\t\t\"POZO REALIZADA\": cultivo.supPozoRealizada,\n\t\t\t\t\"POZO PART PROGRAMADA\": cultivo.supPozoPartProgramada,\n\t\t\t\t\"POZO PART EXPEDIDA\": cultivo.supPozoPartExpedida,\n\t\t\t\t\"POZO PART REALIZADA\": cultivo.supPozoPartRealizada,\n\t\t\t\t\"TOTAL PROGRAMADA\":\n\t\t\t\t\tcultivo.supGravedadProgramada + cultivo.supPozoProgramada + cultivo.supPozoPartProgramada,\n\t\t\t\t\"TOTAL EXPEDIDA\":\n\t\t\t\t\tcultivo.supGravedadExpedida + cultivo.supPozoExpedida + cultivo.supPozoPartExpedida,\n\t\t\t\t\"TOTAL REALIZADA\":\n\t\t\t\t\tcultivo.supGravedadRealizada + cultivo.supPozoRealizada + cultivo.supPozoPartRealizada\n\t\t\t};\n\t\t} else {\n\t\t\treturn { CULTIVO: cultivo.cultivo };\n\t\t}\n\t});\n\n\treturn expedicionTable;\n};\n\nconst setTitle = (modulos) => {\n\tswitch (modulos.length) {\n\t\tcase 0:\n\t\t\treturn \"ExpedicionGlobal\";\n\t\tcase 1:\n\t\t\treturn `ExpedicionM${modulos[0]}`;\n\n\t\tdefault:\n\t\t\treturn \"Expedicion\";\n\t}\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ButtonGroup = ({ options, setFunction, groupStyles, buttonStyles }) => {\n\tconst defineButtonStile = (isOn) => {\n\t\treturn isOn ? buttonStyles.on : buttonStyles.off;\n\t};\n\n\treturn (\n\t\t<div className={groupStyles}>\n\t\t\t{Object.entries(options).map((option) => {\n\t\t\t\tconst handleSetFunction = () => {\n\t\t\t\t\tsetFunction(option[0]);\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={defineButtonStile(option[1])}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tkey={option[0]}\n\t\t\t\t\t\tonClick={handleSetFunction}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{option[0]}</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nButtonGroup.propTypes = {\n\toptions: PropTypes.object.isRequired,\n\tsetFunction: PropTypes.func.isRequired,\n\tgroupStyles: PropTypes.string,\n\tbuttonStyles: PropTypes.object\n};\n\n// options example\n// const options = {\n// \toptionA: false,\n// \toptionB: false,\n// \toptionC: false\n// };\n\n// buttonStyles example\n// const buttonClasses = {\n// \ton: \"btn btn-primary\",\n// \toff: \"btn btn-outline-primary\"\n// };\n","import React from \"react\";\nimport { ButtonGroup } from \"../molecules/ButtonGroup\";\n\nexport const ModulosCheckbox = ({ state, dispatch }) => {\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad, pozosParticulares } = modulosPorUnidad;\n\n\tconst buttonClasses = {\n\t\ton: \"btn btn-primary\",\n\t\toff: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center mt-5\">\n\t\t\t\t<ButtonGroup\n\t\t\t\t\toptions={unidades}\n\t\t\t\t\tsetFunction={(unidad) => {\n\t\t\t\t\t\tdispatch({ type: \"setUnidad\", payload: unidad });\n\t\t\t\t\t}}\n\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row d-flex justify-content-around\">\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={primeraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"primeraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={segundaUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"segundaUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={terceraUnidad}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"terceraUnidad\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\toptions={pozosParticulares}\n\t\t\t\t\t\tsetFunction={(modulo) => {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: \"changeModulo\",\n\t\t\t\t\t\t\t\tpayload: { unidad: \"pozosParticulares\", modulo: modulo }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgroupStyles=\"btn-group btn-group-toggle\"\n\t\t\t\t\t\tbuttonStyles={buttonClasses}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React, { useEffect, useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { modulosPorUnidad } from \"../../../helpers/consts\";\nimport { filterReportData } from \"../../../helpers/functions/filterReportData\";\nimport { mergeReportData } from \"../../../helpers/functions/mergeReportData\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { modulosCheckboxReducer } from \"../../../reducers/modulosCheckboxReducer\";\nimport { ExpedicionTable } from \"../molecules/ExpedicionTable\";\nimport { RadioButtonGroup } from \"../molecules/RadioButtonGroup\";\nimport { ModulosCheckbox } from \"./ModulosCkeckbox\";\n\nconst unidades = {\n\tprimeraUnidad: false,\n\tsegundaUnidad: false,\n\tterceraUnidad: false,\n\tpozosParticulares: false\n};\n\nconst initialState = { unidades, modulosPorUnidad };\n\nexport const ReporteExpedicion = () => {\n\tconst { privilegios, modulo } = useSelector((state) => state.auth);\n\tconst { autorizados, expedicion } = useSelector((state) => state.scenes.reportesScreen);\n\n\tconst [reportOptionsValues, handleReportOptionsInputChange, , setAValue] = useForm();\n\n\tif (Object.keys(reportOptionsValues).length === 0) setAValue({ opcion: \"modulo\" });\n\n\tconst [state, dispatch] = useReducer(modulosCheckboxReducer, initialState);\n\tconst { unidades, modulosPorUnidad } = state;\n\tconst { primeraUnidad, segundaUnidad, terceraUnidad, pozosParticulares } = modulosPorUnidad;\n\n\tconst reportOptions = [\n\t\t{\n\t\t\tid: \"global\",\n\t\t\tlabel: \"Global\"\n\t\t},\n\t\t{\n\t\t\tid: \"Baja California\",\n\t\t\tlabel: \"Baja California\"\n\t\t},\n\t\t{\n\t\t\tid: \"Sonora\",\n\t\t\tlabel: \"Sonora\"\n\t\t},\n\t\t{\n\t\t\tid: \"modulos\",\n\t\t\tlabel: \"Modulos\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: \"changeGroup\"\n\t\t});\n\t}, [unidades]);\n\n\tconst getModulos = () => {\n\t\tconst modulos = [];\n\t\tObject.keys(primeraUnidad).forEach((modulo) => {\n\t\t\tprimeraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(segundaUnidad).forEach((modulo) => {\n\t\t\tsegundaUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(terceraUnidad).forEach((modulo) => {\n\t\t\tterceraUnidad[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\tObject.keys(pozosParticulares).forEach((modulo) => {\n\t\t\tpozosParticulares[modulo] && modulos.push(modulo);\n\t\t});\n\n\t\treturn modulos;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reporte de expedición</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t{privilegios.accesoGlobal && (\n\t\t\t\t\t<RadioButtonGroup\n\t\t\t\t\t\tinputName={\"opcion\"}\n\t\t\t\t\t\toptions={reportOptions}\n\t\t\t\t\t\tformValues={reportOptionsValues}\n\t\t\t\t\t\tsetFunction={handleReportOptionsInputChange}\n\t\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{reportOptionsValues.opcion === \"modulos\" && (\n\t\t\t\t<ModulosCheckbox state={state} dispatch={dispatch} />\n\t\t\t)}\n\n\t\t\t{((privilegios.accesoGlobal && reportOptionsValues.opcion === \"global\") ||\n\t\t\t\treportOptionsValues.opcion === \"Baja California\" ||\n\t\t\t\treportOptionsValues.opcion === \"Sonora\") && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\tmodulos={[]}\n\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{privilegios.accesoGlobal &&\n\t\t\t\treportOptionsValues.opcion === \"modulos\" &&\n\t\t\t\tgetModulos().length > 0 && (\n\t\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\t\tmodulos={getModulos()}\n\t\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t\tgetModulos()\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t{!privilegios.accesoGlobal && (\n\t\t\t\t<div className=\"row mt-3\">\n\t\t\t\t\t<div className=\"col-sm-12 pt-5\">\n\t\t\t\t\t\t{autorizados && expedicion && (\n\t\t\t\t\t\t\t<ExpedicionTable\n\t\t\t\t\t\t\t\tmodulos={[modulo]}\n\t\t\t\t\t\t\t\tdata={filterReportData(\n\t\t\t\t\t\t\t\t\tmergeReportData(autorizados, expedicion),\n\t\t\t\t\t\t\t\t\treportOptionsValues.opcion,\n\t\t\t\t\t\t\t\t\t[modulo]\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadAutorizados = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`autorizados`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`autorizados`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAutorizadosGlobal = async (ciclo) => {\n\tlet autorizados = [];\n\n\tconst autorizadosPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadAutorizados(modulo, ciclo);\n\t\t} else return loadAutorizados(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(autorizadosPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\tif (childItem.id !== \"0-SIN CULTIVO\") {\n\t\t\t\tautorizados.push({\n\t\t\t\t\tid: childItem.id,\n\t\t\t\t\t...childItem.data(),\n\t\t\t\t\testado: childItem.data().modulo === \"UNI03\" ? \"Sonora\" : childItem.data().estado\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\tif (autorizados.length === 0) autorizados = false;\n\n\treturn autorizados;\n};\n","import { modulos } from \"../consts\";\nimport { db } from \"../../firebase/firebase-config\";\n\nconst loadExpedicion = (modulo, ciclo) => {\n\treturn db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.orderBy(\"modulo\")\n\t\t.get();\n};\n\nexport const loadAvanceSuperficieExpedida = async (ciclo) => {\n\tlet expedicion = [];\n\n\tconst expedicionPromises = modulos.map((modulo) => {\n\t\tif (modulo !== \"dev\") {\n\t\t\treturn loadExpedicion(modulo, ciclo);\n\t\t} else return loadExpedicion(99, ciclo);\n\t});\n\n\tconst data = await Promise.all(expedicionPromises);\n\n\tdata.forEach((item) => {\n\t\titem.forEach((childItem) => {\n\t\t\texpedicion.push({\n\t\t\t\tid: childItem.id,\n\t\t\t\t...childItem.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tif (expedicion.length === 0) expedicion = false;\n\n\treturn expedicion;\n};\n","import { loadAutorizadosGlobal } from \"../../helpers/DB/loadAutorizadosGlobal\";\nimport { loadAvanceSuperficieExpedida } from \"../../helpers/DB/loadAvanceSuperficieExpedida\";\nimport { types } from \"../../types/types\";\n\nexport const openImprimirReporteModal = () => ({\n\ttype: types.openImprimirReporteModal\n});\n\nexport const closeImprimirReporteModal = () => ({\n\ttype: types.closeImprimirReporteModal\n});\n\nexport const startSetExpedicion = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst expedicion = await loadAvanceSuperficieExpedida(ciclo);\n\t\tdispatch(setExpedicion(expedicion));\n\t};\n};\n\nexport const startSetAutorizados = (ciclo) => {\n\treturn async (dispatch) => {\n\t\tconst autorizados = await loadAutorizadosGlobal(ciclo);\n\t\tdispatch(setAutorizados(autorizados));\n\t};\n};\n\nexport const setExpedicion = (expedicion) => ({\n\ttype: types.setExpedicion,\n\tpayload: expedicion\n});\n\nexport const setAutorizados = (autorizados) => ({\n\ttype: types.setAutorizados,\n\tpayload: autorizados\n});\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadProducersPerModulo = async (ciclo, modulo) => {\n\tconst curps = [];\n\tconst curpsInGroups = [];\n\tlet index = 0;\n\tconst permisos = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.get();\n\n\tpermisos.forEach((permisoSnap) => {\n\t\tconst curp = permisoSnap.data().curpProductor;\n\t\tif (!curps.includes(curp)) curps.push(curp);\n\t});\n\n\tcurps.forEach((curp) => {\n\t\tif (curpsInGroups[index]) {\n\t\t\tif (curpsInGroups[index].length < 10) curpsInGroups[index].push(curp);\n\t\t\telse {\n\t\t\t\tindex++;\n\t\t\t\tcurpsInGroups[index] = [curp];\n\t\t\t}\n\t\t} else {\n\t\t\tcurpsInGroups[index] = [curp];\n\t\t}\n\t});\n\n\treturn curpsInGroups;\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\nimport { loadProducersPerModulo } from \"./loadProducersPerModulo\";\n\nexport const simpleLoadProducers = async (pairs, ciclo, modulo) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst producers = [];\n\tconst producersFiltrados = [];\n\tconst qrysProducers = [];\n\tconst producersRef = db.collection(`productores`);\n\tconst curps = await loadProducersPerModulo(ciclo, modulo);\n\n\tcurps.forEach((group) => {\n\t\tqrysProducers.push(producersRef.where(\"curp\", \"in\", group).get());\n\t});\n\n\tconst resolvedProducersQrys = await Promise.all(qrysProducers);\n\n\tresolvedProducersQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tproducers.push({\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t});\n\n\tconst filteredProducers = producers.filter((producer) =>\n\t\tproducer[campo].includes(palabra.toUpperCase())\n\t);\n\n\tproducersFiltrados.push(filteredProducers);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst producers = producersFiltrados.pop();\n\t\t\tproducersFiltrados.push(\n\t\t\t\tproducers.filter(\n\t\t\t\t\t(producer) => producer[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (filteredProducers.length === 0) {\n\t\tSwal.fire(\"No se encontraron productores \", \"...\", \"warning\");\n\t}\n\treturn onlyUnique(producersFiltrados.pop(), \"curp\");\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { producersHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { simpleLoadProducers } from \"../../../helpers/DB/simpleLoadProducers\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const ProducersReport = () => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(producersHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getProducers = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst producersToSet = await simpleLoadProducers(formValues, cicloConsulta, modulo);\n\t\t\tresetFilters();\n\t\t\tsetData(producersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetProducers();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `PRODUCTORES`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"PRODUCTORES\");\n\tconst excelTitle = getTitle(\"excel\", \"PRODUCTORES\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getProducers}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACIÓN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const simpleLoadUsers = async (pairs, modulo, ciclo, onlyAvailable) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst usuarios = [];\n\tconst usuariosFiltrados = [];\n\tconst qrysUsuarios = [];\n\tconst permisos = [];\n\tconst transferencias = [];\n\n\tconst usuariosRef = defineRef(modulo);\n\tconst permisosRef = db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\");\n\tconst transferRef = db\n\t\t.collection(`transferencias`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`transferencias`)\n\t\t.where(\"estadoTransferencia\", \"!=\", \"CANCELADA\");\n\n\tif (onlyAvailable) {\n\t\tconst permisosSnap = await permisosRef.get();\n\t\tconst transferSnap = await transferRef.get();\n\n\t\tpermisosSnap.forEach((permiso) => {\n\t\t\tpermisos.push([permiso.data().cuenta.replace(\".\", \"-\"), permiso.data().supAutorizada]);\n\t\t});\n\n\t\ttransferSnap.forEach((transferencia) => {\n\t\t\tconst cuenta = `${transferencia.data().cuenta}-${transferencia.data().subcta}`;\n\t\t\ttransferencias.push([cuenta, transferencia.data().superficieTransferida]);\n\t\t});\n\t}\n\n\tif (palabra.length === 0) qrysUsuarios.push(usuariosRef.orderBy(campo).get());\n\telse {\n\t\tqrysUsuarios.push(\n\t\t\tusuariosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysUsuarios.push(\n\t\t\tusuariosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysUsuarios.push(usuariosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst resolvedUsuariosQrys = await Promise.all(qrysUsuarios);\n\n\tresolvedUsuariosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tswitch (modulo) {\n\t\t\t\tcase \"UNI01\":\n\t\t\t\tcase \"UNI02\":\n\t\t\t\tcase \"UNI03\":\n\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (snapHijo.data().equipo !== 1) {\n\t\t\t\t\t\tusuarios.push({\n\t\t\t\t\t\t\tid: snapHijo.id,\n\t\t\t\t\t\t\tentidad: modulo,\n\t\t\t\t\t\t\t...snapHijo.data()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t});\n\n\tusuariosFiltrados.push(usuarios);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst usuarios = usuariosFiltrados.pop();\n\t\t\tusuariosFiltrados.push(\n\t\t\t\tusuarios.filter(\n\t\t\t\t\t(usuario) => usuario[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (usuarios.length === 0) {\n\t\tSwal.fire(\"No se encontraron usuarios \", \"...\", \"warning\");\n\t}\n\n\tconst finalUsers = onlyUnique(usuariosFiltrados.pop(), \"id\");\n\n\tif (onlyAvailable) return filterOnlyAvailable(finalUsers, permisos, transferencias);\n\telse return finalUsers;\n};\n\nconst defineModulo = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"9A\":\n\t\tcase \"9B\":\n\t\tcase \"dev\":\n\t\t\treturn modulo;\n\n\t\tdefault:\n\t\t\treturn parseInt(modulo);\n\t}\n};\n\nconst defineRef = (modulo) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [4, 5, 6, 7]);\n\n\t\tcase \"UNI02\":\n\t\t\treturn db\n\t\t\t\t.collection(`derechos`)\n\t\t\t\t.where(\"equipo\", \"==\", 1)\n\t\t\t\t.where(\"modulo\", \"in\", [8, \"9A\", \"9B\"]);\n\n\t\tcase \"UNI03\":\n\t\t\treturn db.collection(`derechos`).where(\"equipo\", \"==\", 1).where(\"modulo\", \"in\", [1, 2, 3]);\n\n\t\tdefault:\n\t\t\treturn db.collection(`derechos`).where(\"modulo\", \"==\", defineModulo(modulo));\n\t}\n};\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n\nconst filterOnlyAvailable = (users, permisos, transferencias) => {\n\tpermisos.forEach((permiso) => {\n\t\tconst index = users.findIndex((user) => user.id === permiso[0]);\n\n\t\tif (index >= 0) {\n\t\t\tusers[index].supRiego = users[index].supRiego - permiso[1];\n\t\t\tif (users[index].supRiego <= 0) users.splice(index, 1);\n\t\t}\n\t});\n\n\ttransferencias.forEach((transfer) => {\n\t\tconst index = users.findIndex((user) => user.id === transfer[0]);\n\n\t\tif (index >= 0) {\n\t\t\tusers[index].supRiego = users[index].supRiego - transfer[1];\n\t\t\tif (users[index].supRiego <= 0) users.splice(index, 1);\n\t\t}\n\t});\n\n\treturn users;\n};\n","import React, { useState } from \"react\";\n\nimport { usersHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { simpleLoadUsers } from \"../../../helpers/DB/simpleLoadUsers\";\nimport { useSelector } from \"react-redux\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const UsersReport = ({ onlyAvailable }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta: ciclo } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(usersHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getUsers = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst usersToSet = await simpleLoadUsers(formValues, modulo, ciclo, onlyAvailable);\n\t\t\tresetFilters();\n\t\t\tsetData(usersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetUsers();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `USUARIOS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"USUARIOS\");\n\tconst excelTitle = getTitle(\"excel\", \"USUARIOS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getUsers}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACIÓN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { ProducersReport } from \"../ui/organisms/ProducersReport\";\nimport { UsersReport } from \"../ui/organisms/UsersReport\";\n\nexport const ModuloInformesPadron = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"usuarios\",\n\t\t\tlabel: \"Padron de usuarios\"\n\t\t},\n\t\t{\n\t\t\tid: \"supDisponible\",\n\t\t\tlabel: \"Superficie disponible\"\n\t\t},\n\t\t{\n\t\t\tid: \"productores\",\n\t\t\tlabel: \"Padron de productores\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de padron</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"usuarios\" && <UsersReport onlyAvailable={false} />}\n\t\t\t{reportTypeValues.reportType === \"supDisponible\" && <UsersReport onlyAvailable={true} />}\n\n\t\t\t{reportTypeValues.reportType === \"productores\" && <ProducersReport />}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport { transferModulos } from \"../consts\";\n\nexport const getTransferTable = async (ciclo) => {\n\tconst transferencias = [];\n\tconst table = [];\n\tconst modulos = [];\n\ttransferModulos.forEach((modulo) => modulos.push(modulo));\n\tconst size = modulos.length;\n\n\tfor (let i = 0; i < size; i++) {\n\t\tconst row = [];\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\trow.push(0);\n\t\t}\n\t\ttable.push(row);\n\t}\n\n\tconst transferSnap = await db.collectionGroup(\"transferencias\").where(\"ciclo\", \"==\", ciclo).get();\n\n\ttransferSnap.forEach((snap) => {\n\t\tif (snap.data().moduloDestino !== \"dev\" && snap.data().estadoTransferencia === \"ACTIVA\")\n\t\t\ttransferencias.push({\n\t\t\t\torigen: `${snap.data().modulo}`,\n\t\t\t\tdestino: snap.data().moduloDestino,\n\t\t\t\tha: snap.data().superficieTransferida\n\t\t\t});\n\t});\n\n\tfor (let i = 0; i < size; i++) {\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\tconst transfersXY = transferencias.filter(\n\t\t\t\t(transfer) => transfer.origen === modulos[i] && transfer.destino === modulos[j]\n\t\t\t);\n\n\t\t\tif (transfersXY.length > 0) transfersXY.forEach((transfer) => (table[i][j] += transfer.ha));\n\t\t}\n\t}\n\n\tfor (let i = 0; i < size; i++) {\n\t\tlet totalRow = 0;\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\ttotalRow += table[i][j];\n\t\t}\n\t\ttable[i].push(totalRow);\n\t}\n\n\tconst totals = [\"Total Destino\"];\n\tfor (let i = 0; i <= size; i++) {\n\t\tlet totalCol = 0;\n\t\tfor (let j = 0; j < size; j++) {\n\t\t\ttotalCol += table[j][i];\n\t\t}\n\t\ttotals.push(totalCol);\n\t}\n\n\tmodulos.unshift(\"x\");\n\ttable.unshift(modulos);\n\tmodulos.forEach((modulo, i) => {\n\t\tif (i !== 0) table[i].unshift([modulo]);\n\t});\n\tmodulos.push(\"Total Origen\");\n\ttable.push(totals);\n\n\treturn table;\n};\n","import React, { forwardRef } from \"react\";\nimport { roundToN } from \"../../../helpers/functions/roundToN\";\nimport { ReportHeader } from \"./ReportHeader\";\n\nexport const TransferTable = forwardRef((props, ref) => {\n\tconst { data, title, orientation } = props;\n\n\tconst getPageMargins = () => {\n\t\tconst marginTop = 60;\n\t\tconst marginRight = 60;\n\t\tconst marginBottom = 60;\n\t\tconst marginLeft = 60;\n\t\treturn `@page { margin: ${marginTop} ${marginRight} ${marginBottom} ${marginLeft} !important; size:letter ${orientation};}`;\n\t};\n\n\treturn (\n\t\t<div ref={ref} className=\"mt-3\">\n\t\t\t<style>{getPageMargins()}</style>\n\t\t\t<ReportHeader title={title} pages={1} page={1} />\n\t\t\t<table className=\"table table-sm mt-3\">\n\t\t\t\t<tbody>\n\t\t\t\t\t{data.map((row, i) => (\n\t\t\t\t\t\t<tr key={`row-${i}`}>\n\t\t\t\t\t\t\t{row.map((cell, j) => (\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tkey={`cell-${i}${j}`}\n\t\t\t\t\t\t\t\t\tclassName={`text-center border border-dark ${i === j && \"bg-secondary\"}`}\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 12 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i === j && i !== 0 && j !== 0 && i !== 24 && j !== 24\n\t\t\t\t\t\t\t\t\t\t? \"X\"\n\t\t\t\t\t\t\t\t\t\t: typeof cell === \"number\"\n\t\t\t\t\t\t\t\t\t\t? roundToN(cell, 4)\n\t\t\t\t\t\t\t\t\t\t: cell}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n});\n","import React, { createRef, useEffect, useState } from \"react\";\nimport ReactToPrint from \"react-to-print\";\nimport { useSelector } from \"react-redux\";\n// import { transferModulos as modulos } from \"../../../helpers/consts\";\nimport { getTransferTable } from \"../../../helpers/DB/getTransferTable\";\nimport { TransferTable } from \"../molecules/TransferTable\";\n\nexport const TableTransferReport = () => {\n\tconst componentRef = createRef();\n\n\tconst { cicloConsulta: ciclo } = useSelector((state) => state.auth.variablesGlobales);\n\tconst [table, setTable] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetTable([]);\n\t\tgetTransferTable(ciclo).then((table) => setTable(table));\n\t}, [ciclo]);\n\n\t// const exportToExcel = () => {\n\t// \tconst excelHeaders = [];\n\t// \tconst fileHeaders = [];\n\t// \tconst excelData = [];\n\n\t// \tmodulos.forEach((header) => {\n\t// \t\tif (header.display) excelHeaders.push([header.id, header.header]);\n\t// \t});\n\n\t// \ttable.forEach((row) => {\n\t// \t\tconst newRow = {};\n\t// \t\texcelHeaders.forEach((header) => {\n\t// \t\t\tfileHeaders.push(header[1]);\n\n\t// \t\t\tif (typeof row[header[0]] === \"object\") {\n\t// \t\t\t\tconst fechaObject = row[header[0]].toDate();\n\t// \t\t\t\tconst fecha = fechaObject.toLocaleDateString();\n\t// \t\t\t\tnewRow[header[1]] = fecha;\n\t// \t\t\t} else newRow[header[1]] = row[header[0]];\n\t// \t\t});\n\t// \t\texcelData.push(newRow);\n\t// \t});\n\n\t// \texportJSONToExcel(\n\t// \t\texcelData,\n\t// \t\tfileHeaders,\n\t// \t\texcelTitle.substring(0, 30),\n\t// \t\tname,\n\t// \t\texcelTitle.substring(0, 30)\n\t// \t);\n\t// };\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mt-4\">\n\t\t\t\t<ReactToPrint\n\t\t\t\t\ttrigger={() => (\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-primary d-print-none \">\n\t\t\t\t\t\t\t<i className=\"fas fa-print\"></i>\n\t\t\t\t\t\t\t<span> Imprimir</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\tcontent={() => componentRef.current}\n\t\t\t\t\tpageStyle=\"bootstrap/dist/css/bootstrap.min.css\"\n\t\t\t\t\t// pageStyle=\"../../../printStyles.css\"\n\t\t\t\t/>\n\n\t\t\t\t{/* <button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={exportToExcel}\n\t\t\t\t\tclassName=\"btn btn-sm btn-outline-primary ml-2\"\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fas fa-download\"></i>\n\t\t\t\t\t<span> Descargar</span>\n\t\t\t\t</button> */}\n\t\t\t</div>\n\n\t\t\t<TransferTable\n\t\t\t\tdata={table}\n\t\t\t\ttitle=\"Un titulo\"\n\t\t\t\tref={componentRef}\n\t\t\t\tclassName={\"mt-2\"}\n\t\t\t\torientation=\"landscape\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\n\nimport {\n\ttransferEntrantesHeaders,\n\ttransferSalientesHeaders\n} from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useSelector } from \"react-redux\";\nimport { simpleLoadTransfer } from \"../../../helpers/DB/simpleLoadTransfer\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\n\nexport const TransferReport = ({ tipo }) => {\n\tconst { modulo, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta: ciclo } = variablesGlobales;\n\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(\n\t\ttipo === \"salientes\" ? transferSalientesHeaders : transferEntrantesHeaders\n\t);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getTransfer = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst transfersToSet = await simpleLoadTransfer(formValues, modulo, ciclo, tipo);\n\t\t\tresetFilters();\n\t\t\tsetData(transfersToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetTransfer();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `TRANSFERENCIAS`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"TRANSFERENCIAS\");\n\tconst excelTitle = getTitle(\"excel\", \"TRANSFERENCIAS\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getTransfer}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO Y SUBTOTALES POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACIÓN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule title={title} excelTitle={excelTitle} headers={headers} data={data} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { TableTransferReport } from \"../ui/organisms/TableTransferReport\";\nimport { TransferReport } from \"../ui/organisms/TransferReport\";\n\nexport const ModuloInformesTransferencias = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { accesoGlobal: global } = privilegios;\n\n\tconst reportTypesGlobal = [\n\t\t{\n\t\t\tid: \"salientes\",\n\t\t\tlabel: \"Transferencias salientes\"\n\t\t},\n\t\t{\n\t\t\tid: \"entrantes\",\n\t\t\tlabel: \"Transferencias recibidas\"\n\t\t},\n\t\t{\n\t\t\tid: \"global\",\n\t\t\tlabel: \"Reportes global de transferencias\"\n\t\t},\n\t\t{\n\t\t\tid: \"tabla\",\n\t\t\tlabel: \"Tabla de transferencias\"\n\t\t}\n\t];\n\tconst reportTypesModulo = [\n\t\t{\n\t\t\tid: \"salientes\",\n\t\t\tlabel: \"Transferencias salientes\"\n\t\t},\n\t\t{\n\t\t\tid: \"entrantes\",\n\t\t\tlabel: \"Transferencias recibidas\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes de transferencias</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={global ? reportTypesGlobal : reportTypesModulo}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"salientes\" && <TransferReport tipo={\"salientes\"} />}\n\t\t\t{reportTypeValues.reportType === \"entrantes\" && <TransferReport tipo={\"entrantes\"} />}\n\t\t\t{reportTypeValues.reportType === \"global\" && global && <TransferReport tipo={\"global\"} />}\n\t\t\t{reportTypeValues.reportType === \"tabla\" && global && <TableTransferReport tipo={\"tabla\"} />}\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const loadPermisosLabores = async (pairs) => {\n\tconst { palabra = 0, campo } = pairs[0];\n\tconst permisos = [];\n\tconst tecnicos = [];\n\tconst permisosFiltrados = [];\n\tconst qrysPermisos = [];\n\tconst permisosRef = db.collectionGroup(\"permisos\").where(\"ciclo\", \"==\", \"2020-2021\");\n\n\tif (palabra.length === 0) qrysPermisos.push(permisosRef.orderBy(campo).get());\n\telse {\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra.toUpperCase())\n\t\t\t\t.endAt(palabra.toUpperCase() + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(\n\t\t\tpermisosRef\n\t\t\t\t.orderBy(campo)\n\t\t\t\t.startAt(palabra)\n\t\t\t\t.endAt(palabra + \"\\uf8ff\")\n\t\t\t\t.get()\n\t\t);\n\n\t\tqrysPermisos.push(permisosRef.where(campo, \"==\", Number(palabra)).get());\n\t}\n\n\tconst tecnicosSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\ttecnicosSnap.forEach((doc) => {\n\t\ttecnicos.push({ id: doc.id, nombre: doc.data().displayName });\n\t});\n\n\tconst resolvedPermisosQrys = await Promise.all(qrysPermisos);\n\n\tresolvedPermisosQrys.forEach((snap) => {\n\t\tsnap.forEach((snapHijo) => {\n\t\t\tconst tecnico = tecnicos.find((tecnico) => tecnico.id === snapHijo.data().tecnico);\n\t\t\tpermisos.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data(),\n\t\t\t\tdesfoliado: snapHijo.data().desfoliado ? \"SI\" : \"NO\",\n\t\t\t\tcosechado: snapHijo.data().cosechado ? \"SI\" : \"NO\",\n\t\t\t\tdesvarado: snapHijo.data().desvarado ? \"SI\" : \"NO\",\n\t\t\t\tdisqueado: snapHijo.data().disqueado ? \"SI\" : \"NO\",\n\t\t\t\tdesarraigado: snapHijo.data().desarraigado ? \"SI\" : \"NO\",\n\t\t\t\tbarbechado: snapHijo.data().barbechado ? \"SI\" : \"NO\",\n\t\t\t\tpagado: snapHijo.data().pagado ? \"SI\" : \"NO\",\n\t\t\t\tlaboresPendientes: snapHijo.data().laboresPendientes ? \"SI\" : \"NO\",\n\t\t\t\ttecnico: tecnico ? tecnico.nombre : \"\"\n\t\t\t});\n\t\t});\n\t});\n\n\tpermisosFiltrados.push(permisos);\n\n\tif (pairs.length > 1) {\n\t\tfor (let i = 1; i <= pairs.length - 1; i++) {\n\t\t\tconst permisos = permisosFiltrados.pop();\n\t\t\tpermisosFiltrados.push(\n\t\t\t\tpermisos.filter(\n\t\t\t\t\t(permiso) => permiso[pairs[i].campo] === ifIsNumber(pairs[i].campo, pairs[i].palabra)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\tif (permisos.length === 0) {\n\t\tSwal.fire(\"No se encontraron permisos \", \"...\", \"warning\");\n\t}\n\n\treturn onlyUnique(permisosFiltrados.pop(), \"folio\");\n};\n\n// const addDays = (date, days) => {\n// \tlet result = new Date(date);\n// \tresult.setDate(result.getDate() + days);\n// \treturn result;\n// };\n\nconst ifIsNumber = (campo, value) => {\n\tswitch (campo) {\n\t\tcase \"seccion\":\n\t\t\treturn parseInt(value);\n\n\t\tdefault:\n\t\t\treturn value;\n\t}\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tconst clearArray = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t\tclearArray.push(element);\n\t\t}\n\t});\n\n\treturn clearArray;\n};\n","import React, { useState } from \"react\";\n\nimport { laboresHeaders } from \"../../../helpers/constants/reportsColumns\";\nimport { useFilteredData } from \"../../../hooks/useFilteredData\";\nimport { ReportModule } from \"./ReportModule\";\nimport { useMultiInput } from \"../../../hooks/useMultiInput\";\nimport { loadPermisosLabores } from \"../../../helpers/DB/loadPermisosLabores\";\n\nexport const LaboresReport = () => {\n\tconst [formValues, handleInputChange, addPair, removePair] = useMultiInput([\n\t\t{ palabra: \"\", campo: \"\" }\n\t]);\n\n\tconst [headers, setHeaders] = useState(laboresHeaders);\n\tconst handleColumn = ({ target }) => {\n\t\tconst index = headers.findIndex((header) => header.id === target.id);\n\n\t\tconst newHeaders = headers.map((header) => header);\n\t\tnewHeaders.splice(index, 1, {\n\t\t\t...headers[index],\n\t\t\tdisplay: !headers[index].display\n\t\t});\n\t\tsetHeaders(newHeaders);\n\t};\n\n\tconst [\n\t\tdata,\n\t\tsetData,\n\t\tfilters,\n\t\thandleFiltersChange,\n\t\textraRows,\n\t\thandleExtraRowsChange,\n\t\tresetFilters\n\t] = useFilteredData(headers, []);\n\tconst { filter, order1 } = filters;\n\tconst { includeEmtyRow, includeSubtotalRow } = extraRows;\n\n\tconst getPermisos = async () => {\n\t\tif (formValues[0].campo.length) {\n\t\t\tconst permisosToSet = await loadPermisosLabores(formValues);\n\t\t\tresetFilters();\n\t\t\tsetData(permisosToSet);\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tgetPermisos();\n\t\t}\n\t};\n\n\tconst getTitle = (titleFor, reportOf) => {\n\t\tconst campoForTitle =\n\t\t\tfilter.length > 0\n\t\t\t\t? headers.find((header) => header.id === filter)\n\t\t\t\t: headers.find((header) => header.id === formValues[0].campo);\n\n\t\tif (!campoForTitle) return `LABORES`;\n\t\tif (titleFor === \"report\") return `REPORTE DE ${reportOf} POR ${campoForTitle.header}`;\n\t\tif (titleFor === \"excel\") return `${reportOf} POR ${campoForTitle.header}`;\n\t};\n\n\tconst title = getTitle(\"report\", \"LABORES\");\n\tconst excelTitle = getTitle(\"excel\", \"LABORES\");\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container mb-4 col-sm-8\">\n\t\t\t\t<div className=\"row d-flex justify-content-end\">\n\t\t\t\t\t{formValues.length > 1 && (\n\t\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={removePair}>\n\t\t\t\t\t\t\t<i className=\"fas fa-minus\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={addPair}>\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className=\"btn btn-outline-primary ml-2\" type=\"button\" onClick={getPermisos}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{formValues.map((pair, i) => (\n\t\t\t\t\t<div className=\"row mt-2\" key={`form${i}`}>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<label htmlFor=\"palabra\">PARAMETRO DE BUSQUEDA:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"palabra\"\n\t\t\t\t\t\t\t\tid=\"palabra\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={pair.palabra}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t\t\t<label htmlFor=\"campo\">BUSCAR EN:</label>\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\tname=\"campo\"\n\t\t\t\t\t\t\t\t\tid=\"campo\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={pair.campo}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\t\tif (header.search) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else return <option key={header.id} style={{ display: \"none\" }}></option>;\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"filter\">ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"filter\"\n\t\t\t\t\t\t\t\t\tid=\"filter\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeSubtotalRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeSubtotalRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeSubtotalRow\"> INCLUIR SUBTOTALES </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"order1\">SUB-ORDENADO POR:</label>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname=\"order1\"\n\t\t\t\t\t\t\t\t\tid=\"order1\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={order1}\n\t\t\t\t\t\t\t\t\tonChange={handleFiltersChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t\t{headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t<option key={header.id} value={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-4 align-self-end\">\n\t\t\t\t\t\t\t\t<div className=\"form-group form-check\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tname=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tid=\"includeEmtyRow\"\n\t\t\t\t\t\t\t\t\t\tvalue={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tchecked={includeEmtyRow}\n\t\t\t\t\t\t\t\t\t\tonChange={handleExtraRowsChange}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"includeEmtyRow\"> INCLUIR SEPARACIÓN </label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t\t\t\t{headers.map((header) => {\n\t\t\t\t\t\t\t\t\tif (header.selectable) {\n\t\t\t\t\t\t\t\t\t\tconst style = header.display\n\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-sm btn-info m-1\"\n\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-sm btn-outline-info m-1\";\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`0-${header.header}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleColumn}\n\t\t\t\t\t\t\t\t\t\t\t\tid={header.id}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={header.selectable}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{header.header}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return <div key={`1-${header.header}`} style={{ display: \"none\" }}></div>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{data.length > 0 && (\n\t\t\t\t<ReportModule\n\t\t\t\t\ttitle={title}\n\t\t\t\t\texcelTitle={excelTitle}\n\t\t\t\t\theaders={headers}\n\t\t\t\t\tdata={data}\n\t\t\t\t\t// range={range}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { RadioButtonGroup } from \"../ui/molecules/RadioButtonGroup\";\nimport { LaboresReport } from \"../ui/organisms/LaboresReport\";\n\nexport const ModuloInformesCesvbc = () => {\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"labores\",\n\t\t\tlabel: \"Reporte De Labores\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row m-0 \">\n\t\t\t\t<div className=\"col-sm-12 p-3 d-flex justify-content-center\">\n\t\t\t\t\t<h2>Reportes (CESVBC)</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center mb-5\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{reportTypeValues.reportType === \"labores\" && <LaboresReport tipo={\"salientes\"} />}\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { ModuloInformesPermisos } from \"../components/modulos/ModuloInformesPermisos\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ReporteExpedicion } from \"../components/ui/organisms/ReporteExpedicion\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\nimport { startSetAutorizados, startSetExpedicion } from \"../actions/scenes/reportesScreen\";\nimport { ModuloInformesPadron } from \"../components/modulos/ModuloInformesPadron\";\nimport { ModuloInformesTransferencias } from \"../components/modulos/ModuloInformesTransferencias\";\nimport { ModuloInformesCesvbc } from \"../components/modulos/ModuloInformesCesvbc\";\n\nexport const ReportesScreen = () => {\n\tconst { privilegios, variablesGlobales } = useSelector((state) => state.auth);\n\tconst { cicloConsulta: ciclo } = variablesGlobales;\n\tconst [reportTypeValues, handleReportTipeInputChange] = useForm();\n\n\tconst dispatch = useDispatch();\n\n\tconst reportTypes = [\n\t\t{\n\t\t\tid: \"expedicion\",\n\t\t\tlabel: \"Expedición\"\n\t\t},\n\t\t{\n\t\t\tid: \"permisos\",\n\t\t\tlabel: \"Permisos\"\n\t\t},\n\t\t{\n\t\t\tid: \"padron\",\n\t\t\tlabel: \"Padrón\"\n\t\t},\n\t\t{\n\t\t\tid: \"transferencias\",\n\t\t\tlabel: \"Transferencias\"\n\t\t},\n\t\t{\n\t\t\tid: \"sanidad\",\n\t\t\tlabel: \"CESVBC\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(startSetExpedicion(ciclo));\n\t\tdispatch(startSetAutorizados(ciclo));\n\t}, [dispatch, ciclo]);\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"reportType\"}\n\t\t\t\t\toptions={reportTypes}\n\t\t\t\t\tformValues={reportTypeValues}\n\t\t\t\t\tsetFunction={handleReportTipeInputChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"expedicion\" && privilegios.consultarExpedicion && (\n\t\t\t\t\t<ReporteExpedicion />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"permisos\" && privilegios.consultarPermisos && (\n\t\t\t\t\t<ModuloInformesPermisos />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"padron\" && privilegios.consultarPadron && (\n\t\t\t\t\t<ModuloInformesPadron />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"transferencias\" &&\n\t\t\t\t\tprivilegios.consultarTransferencias && <ModuloInformesTransferencias />}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t{reportTypeValues.reportType === \"sanidad\" && privilegios.consultarLabores && (\n\t\t\t\t\t<ModuloInformesCesvbc />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"pb-5\"></div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadSystemUsers = async (entidad) => {\n\tconst usuarios = [];\n\n\tif (entidad === \"dev\") {\n\t\tconst usuariosSnap = await db.collection(`usuarios`).orderBy(\"claveEntidad\").get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CNA\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"!=\", \"CESVBC\")\n\t\t\t.orderBy(\"claveEntidad\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"CESVBC\") {\n\t\tconst usuariosSnap = await db\n\t\t\t.collection(`usuarios`)\n\t\t\t.where(\"claveEntidad\", \"==\", \"CESVBC\")\n\t\t\t.get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\tif (entidad === \"SADER\") {\n\t\tconst usuariosSnap = await db.collection(`usuarios`).where(\"claveEntidad\", \"==\", \"SADER\").get();\n\n\t\tusuariosSnap.forEach((snapHijo) => {\n\t\t\tusuarios.push({\n\t\t\t\tid: snapHijo.id,\n\t\t\t\t...snapHijo.data()\n\t\t\t});\n\t\t});\n\t}\n\n\treturn usuarios;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserRoles = async () => {\n\tconst roles = [];\n\n\tconst rolesSnap = await db.collection(`roles`).get();\n\n\trolesSnap.forEach((snapHijo) => {\n\t\troles.push(snapHijo.id);\n\t});\n\n\treturn roles;\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadUserPrivileges = async (role) => {\n\tconst privileges = await db.collection(`roles`).doc(role).get();\n\n\treturn privileges.data();\n};\n","import { types } from \"../../types/types\";\nimport { loadSystemUsers } from \"../../helpers/loadSystemUsers\";\nimport { removeError } from \"../../actions/ui\";\nimport { loadUserRoles } from \"../../helpers/loadUserRoles\";\nimport { loadUserPrivileges } from \"../../helpers/loadUserPrivileges\";\n\nexport const startLoadSystemUsers = (entidad) => {\n\treturn async (dispatch) => {\n\t\tconst users = await loadSystemUsers(entidad);\n\t\tdispatch(setSystemUsers(users));\n\t};\n};\n\nexport const setSystemUsers = (users) => ({\n\ttype: types.setSystemUsers,\n\tpayload: users\n});\n\nexport const setSystemUserSelected = (user) => ({\n\ttype: types.setSystemUserSelected,\n\tpayload: user\n});\n\nexport const unsetSystemUserSelected = () => ({\n\ttype: types.unsetSystemUserSelected\n});\n\nexport const startSetSystemUserSelected = (user) => {\n\treturn (dispatch) => {\n\t\tdispatch(removeError());\n\t\tdispatch(setSystemUserSelected(user));\n\t};\n};\n\nexport const startSetUserRoles = () => {\n\treturn async (dispatch) => {\n\t\tconst roles = await loadUserRoles();\n\t\tdispatch(setUserRoles(roles));\n\t};\n};\n\nexport const setUserRoles = (roles) => ({\n\ttype: types.setUserRoles,\n\tpayload: roles\n});\n\nexport const unsetUserRoles = () => ({\n\ttype: types.unsetUserRoles\n});\n\nexport const setUserRoleSelected = (role) => ({\n\ttype: types.setUserRoleSelected,\n\tpayload: role\n});\n\nexport const unsetUserRoleSelected = () => ({\n\ttype: types.unsetUserRoleSelected\n});\n\nexport const setPrivilegesToEdit = (privileges) => ({\n\ttype: types.setPrivilegesToEdit,\n\tpayload: privileges\n});\n\nexport const unsetPrivilegesToEdit = () => ({\n\ttype: types.unsetPrivilegesToEdit\n});\n\nexport const startSetPrivilegesToEdit = (role) => {\n\treturn async (dispatch) => {\n\t\tconst privileges = await loadUserPrivileges(role);\n\n\t\tdispatch(setUserRoleSelected(role));\n\t\tdispatch(unsetPrivilegesToEdit());\n\t\tdispatch(setPrivilegesToEdit(privileges));\n\t};\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { startSetUserRoles } from \"../../actions/entidades/sistemUsers\";\nimport { saveNewUserRole } from \"../../helpers/saveNewUserRole\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const AddNewUserRoleForm = () => {\n\tconst [formValues, handleInputChange] = useForm({\n\t\tnewRole: \"\"\n\t});\n\n\tconst { newRole } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tconst handleSaveNewUserRole = () => {\n\t\tif (newRole.length > 0) {\n\t\t\tsaveNewUserRole(newRole);\n\t\t\tdispatch(startSetUserRoles());\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSaveNewUserRole();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-sm-3\">\n\t\t\t\t<label>Crear nuevo rol:</label>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Nuevo Rol\"\n\t\t\t\t\tname=\"newRole\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={newRole}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handleSaveNewUserRole}>\n\t\t\t\t\t<span>Agregar </span>\n\t\t\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const saveNewUserRole = (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.set({})\n\t\t.then(() => {\n\t\t\tconsole.log(`Se guardo rol -> ${role}`);\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t});\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const deleteUserRole = async (role) => {\n\tdb.collection(\"roles\")\n\t\t.doc(role)\n\t\t.delete()\n\t\t.then(() => {\n\t\t\tconsole.log(`Rol de usuario borrado (${role})`);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error removing document: \", error);\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetUserRoles,\n\tstartSetPrivilegesToEdit,\n\tunsetUserRoles,\n\tunsetUserRoleSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { deleteUserRole } from \"../../helpers/deleteUserRole\";\n\nexport const SelectRoleToEditForm = () => {\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { selectedRole } = formValues;\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tif (userRoles) {\n\t\tconst handleSelectRoleToEdit = (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (selectedRole) {\n\t\t\t\tdispatch(startSetPrivilegesToEdit(selectedRole));\n\t\t\t}\n\t\t};\n\n\t\tconst startDeleteUserRole = () => {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \"Atención!!\",\n\t\t\t\ttext: `Esta apunto de borrar el rol de usuario ${selectedRole}, ¿Realmente desea borrarlo?`,\n\t\t\t\ticon: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\t\tcancelButtonColor: \"#d33\",\n\t\t\t\tconfirmButtonText: \"Si\",\n\t\t\t\tcancelButtonText: \"No\"\n\t\t\t}).then((result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tdeleteUserRole(selectedRole);\n\t\t\t\t\tdispatch(unsetUserRoles());\n\t\t\t\t\tdispatch(unsetUserRoleSelected());\n\t\t\t\t\tdispatch(startSetUserRoles());\n\t\t\t\t\tSwal.fire(`Rol: ${selectedRole}`, \"Se borro el rol con éxito !\", \"success\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-3\">Gestionar rol:</div>\n\n\t\t\t\t<div className=\"col-sm-5\">\n\t\t\t\t\t<select\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"selectedRole\"\n\t\t\t\t\t\tvalue={selectedRole}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4 d-flex\">\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={handleSelectRoleToEdit} className=\"btn btn-outline-primary\">\n\t\t\t\t\t\t\t<span>Editar Rol </span>\n\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{selectedRole ? (\n\t\t\t\t\t\t<button onClick={startDeleteUserRole} className=\" btn btn-outline-danger ml-4\">\n\t\t\t\t\t\t\t<span>Borrar</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const saveRolePrivileges = async (role, privileges, uid) => {\n\tconst date = new Date();\n\tconst roleRef = db.collection(\"roles\").doc(role);\n\tconst logRef = db\n\t\t.collection(\"roles\")\n\t\t.doc(role)\n\t\t.collection(\"logs\")\n\t\t.doc(`${uid}-${date.toString()}`);\n\n\ttry {\n\t\tconst isSave = await db.runTransaction(async (transaction) => {\n\t\t\ttransaction.update(roleRef, privileges);\n\t\t\ttransaction.set(logRef, privileges);\n\t\t\treturn true;\n\t\t});\n\n\t\tif (isSave) {\n\t\t\tSwal.fire(`Rol: ${role}`, \"Se actualizaron los privilegios con éxito !\", \"success\");\n\t\t}\n\t} catch (error) {\n\t\tSwal.fire(\"Error de conexión\", \"Por favor intente más tarde.\", \"error\");\n\t\tconsole.error(error);\n\t}\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { privileges } from \"../../helpers/consts\";\nimport { saveRolePrivileges } from \"../../helpers/saveRolePrivileges\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const UserPrivilegesForm = () => {\n\tconst { userRoleSelected, privilegesToEdit } = useSelector((state) => state.entidades);\n\tconst { uid } = useSelector((state) => state.auth);\n\n\tObject.getOwnPropertyNames(privilegesToEdit).map((privilegeName) => {\n\t\tprivileges[privilegeName] = privilegesToEdit[privilegeName];\n\t\treturn true;\n\t});\n\n\tconst [formValues, handleInputChange] = useForm(privileges);\n\n\tconst startSaveRolePrivileges = (e) => {\n\t\te.preventDefault();\n\n\t\tsaveRolePrivileges(userRoleSelected, formValues, uid);\n\t};\n\n\treturn (\n\t\t<form onSubmit={startSaveRolePrivileges} className=\"border rounded p-4\">\n\t\t\t<div className=\"row d-flex\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\tPRIVILEGIOS PARA EL ROL:{\"  \"}\n\t\t\t\t\t<span className=\"text-success font-weight-bold\">{userRoleSelected}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<button type=\"submit\" className=\" btn btn-outline-primary\">\n\t\t\t\t\t\tGuardar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"form-check d-flex flex-wrap\">\n\t\t\t\t{Object.getOwnPropertyNames(privileges).map((privilege) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={privilege} className=\"w-25 p-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname={privilege}\n\t\t\t\t\t\t\t\tid={privilege}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tchecked={formValues[privilege]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"todos\">\n\t\t\t\t\t\t\t\t{privilege}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeUserRoleModal } from \"../../actions/ui\";\nimport { AddNewUserRoleForm } from \"../forms/AddNewUserRoleForm\";\nimport { SelectRoleToEditForm } from \"../forms/SelectRoleToEditForm\";\nimport { UserPrivilegesForm } from \"../forms/UserPrivilegesForm\";\n\nconst customStyles = {\n\tcontent: {\n\t\twidth: \"1125px\",\n\t\theight: \"1500px\",\n\t\toverflow: \"auto\"\n\t}\n};\n\nModal.setAppElement(\"#root\");\n\nexport const UserRoleModal = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { isOpenUserRoleModal } = useSelector((state) => state.ui);\n\tconst { privilegesToEdit, userRoleSelected } = useSelector((state) => state.entidades);\n\n\tconst closeModal = () => {\n\t\tdispatch(closeUserRoleModal());\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpenUserRoleModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"printModal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<AddNewUserRoleForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<SelectRoleToEditForm />\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t{privilegesToEdit && userRoleSelected ? <UserPrivilegesForm /> : <></>}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openUserRoleModal } from \"../../actions/ui\";\n\nexport const NewUserRoleButton = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handOpenUserRoleModal = () => {\n\t\tdispatch(openUserRoleModal());\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<button className=\"btn btn-outline-primary\" type=\"button\" onClick={handOpenUserRoleModal}>\n\t\t\t\t<span>Gestionar Roles </span>\n\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\n\nimport { removeError, setError } from \"../../actions/ui\";\nimport { updateSystemUser } from \"../../helpers/updateSystemUser\";\nimport {\n\tstartLoadSystemUsers,\n\tstartSetUserRoles,\n\tunsetSystemUserSelected\n} from \"../../actions/entidades/sistemUsers\";\nimport { NewUserRoleButton } from \"../buttons/NewUserRoleButton\";\n\nexport const SystemUserCard = () => {\n\tconst { systemUserSelected: user } = useSelector((state) => state.entidades);\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { claveEntidad, privilegios } = useSelector((state) => state.auth);\n\n\tconst { userRoles } = useSelector((state) => state.entidades);\n\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { rol } = formValues;\n\n\tconst dispatch = useDispatch();\n\n\tif (!userRoles) {\n\t\tdispatch(startSetUserRoles());\n\t}\n\n\tconst handleSetUserRole = (e) => {\n\t\te.preventDefault();\n\n\t\tif (isFormValid()) {\n\t\t\tupdateSystemUser(user.id, rol);\n\t\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t\t\tdispatch(unsetSystemUserSelected());\n\t\t}\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (!rol) {\n\t\t\tdispatch(setError(\"Seleccione un rol de usuario\"));\n\t\t\treturn false;\n\t\t}\n\t\tdispatch(removeError());\n\n\t\treturn true;\n\t};\n\n\tif (user) {\n\t\treturn (\n\t\t\t<div className=\"row border border-info rounded m-1\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"row border-bottom border-info p-2\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex justify-content-center\">\n\t\t\t\t\t\t\t<h5>Cuenta: {user.email}</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-12 d-flex flex-column p-4\">\n\t\t\t\t\t\t\t<div>Usuario: {user.displayName}</div>\n\t\t\t\t\t\t\t<div>Clave Entidad: {user.claveEntidad}</div>\n\t\t\t\t\t\t\t{user.rol === \"sinAsignar\" ? (\n\t\t\t\t\t\t\t\t<div className=\"text-warning\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-success\">Rol: {user.rol}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<form onSubmit={handleSetUserRole} className=\"form-group pt-3\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"rol\"\n\t\t\t\t\t\t\t\t\tvalue={rol}\n\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\t\t\t\tRol\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t<option value=\"sinAsignar\">Sin Asignar</option>\n\t\t\t\t\t\t\t\t\t{userRoles.map((role) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option key={role} value={role}>\n\t\t\t\t\t\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-3 mb-5\">\n\t\t\t\t\t\t\t\t\tAsignar Rol\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t{msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t{privilegios.editarRoles ? <NewUserRoleButton /> : <></>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else return <></>;\n};\n","import { db } from \"../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const updateSystemUser = (userUid, rol) => {\n\tdb.collection(`usuarios`)\n\t\t.doc(userUid)\n\t\t.update({ rol: rol })\n\t\t.then(() => {\n\t\t\tSwal.fire(\"Usuario habilitado\", `Se asignó correctamente el rol de usuario`, \"success\");\n\t\t\treturn true;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.log(e);\n\t\t\tSwal.fire(\"Error\", e, \"error\");\n\t\t});\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tstartSetSystemUserSelected,\n\tstartLoadSystemUsers\n} from \"../../actions/entidades/sistemUsers\";\nimport { systemUsersColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\n\nexport const SystemUsersTable = () => {\n\tconst { systemUsers } = useSelector((state) => state.entidades);\n\tconst { claveEntidad } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tlet data = [];\n\n\tif (!systemUsers) {\n\t\tdispatch(startLoadSystemUsers(claveEntidad));\n\t}\n\n\tif (systemUsers) {\n\t\tdata = Object.values(systemUsers);\n\t\treturn (\n\t\t\t<CustomTable\n\t\t\t\ttitle={data.length === 0 ? \"No se encontraron usuarios\" : \"Usuarios\"}\n\t\t\t\tcolumns={systemUsersColumns}\n\t\t\t\tdata={data}\n\t\t\t\tsetFunction={startSetSystemUserSelected}\n\t\t\t></CustomTable>\n\t\t);\n\t} else {\n\t\treturn <></>;\n\t}\n};\n","import React from \"react\";\nimport { SystemUserCard } from \"../cards/SystemUserCard\";\nimport { SystemUsersTable } from \"../tables/SystemUsersTable\";\n\nexport const UsersRoleManagement = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"\">\n\t\t\t\t<h3>Gestión de roles de usuarios</h3>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<SystemUsersTable />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t<SystemUserCard />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport \"firebase/firestore\";\nimport { entidades } from \"../consts\";\nimport Swal from \"sweetalert2\";\n\nexport const actualizarEntidades = async (data = entidades) => {\n\tconst ref = db.collection(\"entidades\");\n\tconst promices = [];\n\n\tdata.forEach((entidad) => {\n\t\tref\n\t\t\t.doc(entidad.clave)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tif (doc.exist) {\n\t\t\t\t\tpromices.push(ref.doc(entidad.clave).update(entidad));\n\t\t\t\t} else {\n\t\t\t\t\tpromices.push(ref.doc(entidad.clave).set(entidad));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(`Error al actualizar entidad (${entidad.clave})`, e);\n\t\t\t});\n\t});\n\n\tawait Promise.all(promices).then(\n\t\tSwal.fire(\n\t\t\t\"Cambios guardados\",\n\t\t\t\"Se actualizaron con éxito los datos de las entidades.\",\n\t\t\t\"success\"\n\t\t)\n\t);\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { actualizarEntidades } from \"../../helpers/DB/actualizarEntidades\";\nimport { useFormArray } from \"../../hooks/useFormArray\";\n\nexport const EntityEditingModule = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { privilegios, email } = useSelector((state) => state.auth);\n\n\tconst [formValues, handleInputChange] = useFormArray(entities);\n\tconst handleActualizarEntidades = () => {\n\t\tactualizarEntidades(formValues);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<h3>Edición de entidades</h3>\n\t\t\t</div>\n\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"row mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<form>\n\t\t\t\t{entities.map((entitie, i) => {\n\t\t\t\t\tif (entitie.clave !== \"dev\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={entitie.clave} className=\"d-flex flex-column mb-5\">\n\t\t\t\t\t\t\t\t<h5>{entitie.nombre}</h5>\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3 h-100 d-flex justify-content-center align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={`./logos/${entitie.img}`}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxHeight: 70, maxWidth: 100 }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"col-sm-8 mt-3\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-titular`}>\n\t\t\t\t\t\t\t\t\t\t\t\tTitular:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-titular`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formValues[i].titular}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"align-self-center col-sm-2\" htmlFor={`${i}-direccion`}>\n\t\t\t\t\t\t\t\t\t\t\t\tDireccion:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-direccion`}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].direccion}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{entitie.clave !== \"SADER\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CNA\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SRL\" &&\n\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CESVBC\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center col-sm-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDotación Gravedad:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2 w-25\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-dotacionGravedad`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].dotacionGravedad}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"align-self-center col-sm-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDotación Pozo:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control ml-2 w-25\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-dotacionPozo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={entities[i].dotacionPozo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{privilegios.cerrarExpedicionModulos && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-2 mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t{entitie.clave !== \"SADER\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CNA\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"SRL\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tentitie.clave !== \"CESVBC\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tExpedición:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tActiva\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-expedicionActivaModulo`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].expedicionActivaModulo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCerrada\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t{(email === \"julio@dev.com\" || email === \"enriquem19@gmail.com\") && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAcceso:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-acceso`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].acceso ? \"btn btn-primary\" : \"btn btn-outline-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPermitido\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${i}-acceso`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentities[i].acceso ? \"btn btn-outline-primary\" : \"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDenegado\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else return <div key={entitie.clave}></div>;\n\t\t\t\t})}\n\t\t\t</form>\n\t\t\t{entities !== formValues && privilegios.editarEntidades && (\n\t\t\t\t<div className=\"mb-3 d-flex justify-content-center mt-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\n\t\t\t\t\t\tonClick={handleActualizarEntidades}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Actualizar Entidades</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { useState } from \"react\";\n\nexport const useFormArray = (initialState = []) => {\n\tconst [values, setValues] = useState(initialState);\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst keys = target.name.split(\"-\");\n\t\tconst index = keys[0];\n\t\tconst name = keys[1];\n\t\tconst newState = values.slice();\n\n\t\tif (target.type === \"button\") {\n\t\t\tnewState[index][name] = !newState[index][name];\n\t\t} else if (target.type === \"number\") {\n\t\t\tnewState[index][name] = Number(target.value);\n\t\t} else {\n\t\t\tnewState[index][name] = target.value;\n\t\t}\n\t\tsetValues(newState);\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","import { db } from \"../../firebase/firebase-config\";\n\nexport const loadEntities = async () => {\n\tconst entidadesSnap = await db.collection(`entidades`).orderBy(\"nombre\").get();\n\n\tconst entities = [];\n\n\tentidadesSnap.forEach((snapHijo) => {\n\t\tentities.push({\n\t\t\tid: snapHijo.id,\n\t\t\t...snapHijo.data()\n\t\t});\n\t});\n\n\treturn entities;\n};\n","import { loadEntities } from \"../../helpers/DB/loadEntities\";\nimport { types } from \"../../types/types\";\n\nexport const startLoadEntities = () => {\n\treturn async (dispatch) => {\n\t\tconst entities = await loadEntities();\n\t\tdispatch(setEntities(entities));\n\t};\n};\n\nexport const setEntities = (entities) => ({\n\ttype: types.setEntities,\n\tpayload: entities\n});\n","import { db } from \"../../firebase/firebase-config\";\nimport Swal from \"sweetalert2\";\n\nexport const crearPadronDeCultivo = async (ciclo, claveCultivo, nombreCultivo) => {\n\tSwal.fire({\n\t\ttitle: \"Generando padrón...\",\n\t\ttext: \"Por favor espere...\",\n\t\tallowOutsideClick: false,\n\t\tdidOpen: () => {\n\t\t\tSwal.showLoading();\n\t\t}\n\t});\n\n\t// Obtener el ciclo anterior\n\tconst cicloSplit = ciclo.split(\"-\");\n\tconst cicloAnterior = `${Number(cicloSplit[0]) - 1}-${Number(cicloSplit[1]) - 1}`;\n\n\t// Traer todos los permisos expedidos del cultivo del ciclo anterior\n\tconst permisosAnterioresSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"claveCultivo\", \"==\", claveCultivo)\n\t\t.where(\"ciclo\", \"==\", cicloAnterior)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tconst padron = [];\n\tconst modulos = [];\n\tconst fugitivos = [];\n\n\t// Generar padron en base a los permisos expedidos en el ciclo anterior\n\tpermisosAnterioresSnap.forEach((permiso) => {\n\t\tconst modulosIndex = modulos.findIndex((modulo) => modulo.modulo === permiso.data().modulo);\n\n\t\tif (modulosIndex === -1) {\n\t\t\tmodulos.push({\n\t\t\t\tcultivo: nombreCultivo,\n\t\t\t\tmodulo: permiso.data().modulo,\n\t\t\t\tciclo,\n\t\t\t\tsupConcesion: permiso.data().supAutorizada,\n\t\t\t\tsupExpedida: 0\n\t\t\t});\n\t\t} else {\n\t\t\tmodulos[modulosIndex].supConcesion += permiso.data().supAutorizada;\n\t\t}\n\n\t\tconst padronIndex = padron.findIndex(\n\t\t\t(productor) =>\n\t\t\t\tproductor.idProductor === permiso.data().idProductorSelected &&\n\t\t\t\tproductor.modulo === permiso.data().modulo\n\t\t);\n\n\t\tif (padronIndex === -1) {\n\t\t\tpadron.push({\n\t\t\t\tidProductor: permiso.data().idProductorSelected,\n\t\t\t\tcurp: permiso.data().curpProductor,\n\t\t\t\tnombre: permiso.data().nombreProductor,\n\t\t\t\tcultivo: nombreCultivo,\n\t\t\t\tmodulo: permiso.data().modulo,\n\t\t\t\tciclo,\n\t\t\t\tsupConcesion: permiso.data().supAutorizada,\n\t\t\t\tsupExpedida: 0\n\t\t\t});\n\t\t} else {\n\t\t\tpadron[padronIndex].supConcesion += permiso.data().supAutorizada;\n\t\t}\n\t});\n\n\t// Actualizar padron con los permisos expedidos en el ciclo actual\n\tconst permisosActualesSnap = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"claveCultivo\", \"==\", claveCultivo)\n\t\t.where(\"ciclo\", \"==\", ciclo)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tpermisosActualesSnap.forEach((permiso) => {\n\t\tconst modulosIndex = modulos.findIndex((modulo) => modulo.modulo === permiso.data().modulo);\n\n\t\tif (modulosIndex === -1) {\n\t\t\tmodulos.push({\n\t\t\t\tcultivo: nombreCultivo,\n\t\t\t\tmodulo: permiso.data().modulo,\n\t\t\t\tciclo,\n\t\t\t\tsupConcesion: 0,\n\t\t\t\tsupExpedida: permiso.data().supAutorizada\n\t\t\t});\n\t\t} else {\n\t\t\tmodulos[modulosIndex].supExpedida += permiso.data().supAutorizada;\n\t\t}\n\n\t\tconst padronIndex = padron.findIndex(\n\t\t\t(productor) =>\n\t\t\t\tproductor.idProductor === permiso.data().idProductorSelected &&\n\t\t\t\tproductor.modulo === permiso.data().modulo\n\t\t); // Si no se encuentra el productor quiere decir que expidio sin estar en el padron\n\n\t\tif (padronIndex === -1) {\n\t\t\tpadron.push({\n\t\t\t\tidProductor: permiso.data().idProductorSelected,\n\t\t\t\tcurp: permiso.data().curpProductor,\n\t\t\t\tnombre: permiso.data().nombreProductor,\n\t\t\t\tcultivo: nombreCultivo,\n\t\t\t\tmodulo: permiso.data().modulo,\n\t\t\t\tciclo,\n\t\t\t\tsupConcesion: 0,\n\t\t\t\tsupExpedida: permiso.data().supAutorizada\n\t\t\t});\n\n\t\t\tfugitivos.push({\n\t\t\t\tidProductorSelected: permiso.data().idProductorSelected,\n\t\t\t\tcurpProductor: permiso.data().curpProductor,\n\t\t\t\tnombreProductor: permiso.data().nombreProductor,\n\t\t\t\tmodulo: permiso.data().modulo,\n\t\t\t\tsupAutorizada: permiso.data().supAutorizada,\n\t\t\t\tcuenta: permiso.data().cuenta,\n\t\t\t\tusuario: permiso.data().usuario,\n\t\t\t\tnumeroPermiso: permiso.data().numeroPermiso\n\t\t\t});\n\t\t} else {\n\t\t\tpadron[padronIndex].supExpedida += permiso.data().supAutorizada;\n\t\t}\n\t});\n\n\tconsole.table(fugitivos);\n\n\tif (padron.length > 0) {\n\t\ttry {\n\t\t\tlet batch = db.batch();\n\t\t\tlet i = 1;\n\t\t\tconst batchSize = 500;\n\n\t\t\tmodulos.forEach((modulo) => {\n\t\t\t\tbatch.set(\n\t\t\t\t\tdb\n\t\t\t\t\t\t.collection(\"padronesCultivos\")\n\t\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t\t.collection(\"padrones\")\n\t\t\t\t\t\t.doc(nombreCultivo)\n\t\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t\t.doc(`${modulo.cultivo}-${modulo.modulo}`),\n\t\t\t\t\tmodulo\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se termino de subir batch de modulos\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\n\t\t\tbatch = db.batch();\n\n\t\t\tpadron.forEach((concesion) => {\n\t\t\t\tbatch.set(\n\t\t\t\t\tdb\n\t\t\t\t\t\t.collection(\"padronesCultivos\")\n\t\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t\t.collection(\"padrones\")\n\t\t\t\t\t\t.doc(nombreCultivo)\n\t\t\t\t\t\t.collection(\"padron\")\n\t\t\t\t\t\t.doc(`${concesion.idProductor}-${concesion.cultivo}-${concesion.modulo}`), //pensar sobre cultivo\n\t\t\t\t\tconcesion\n\t\t\t\t);\n\n\t\t\t\tif (i === batchSize) {\n\t\t\t\t\tbatch\n\t\t\t\t\t\t.commit()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tbatch = db.batch();\n\t\t\t\t\ti = 0;\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t});\n\n\t\t\tbatch\n\t\t\t\t.commit()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"Se termino de crear padron\");\n\t\t\t\t\tSwal.close();\n\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\"Padrón creado\",\n\t\t\t\t\t\t`Se generó padrón de productores de \"${nombreCultivo}\".`,\n\t\t\t\t\t\t\"success\"\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\n\t\t\treturn true;\n\t\t} catch (error) {\n\t\t\tSwal.close();\n\t\t\tSwal.fire(\"Error de conexión\", \"Error al intentar guardar los cambios.\", \"error\");\n\t\t\tconsole.error(error);\n\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tSwal.close();\n\t\tSwal.fire(\n\t\t\t\"No fue posible generar el padrón\",\n\t\t\t\"No se encontraron permisos de este cultivo expedidos el ciclo pasado.\",\n\t\t\t\"error\"\n\t\t);\n\t\treturn false;\n\t}\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\n\nimport { startDeleteCultivo, startSaveCultivo } from \"../../actions/cultivos\";\nimport { setError } from \"../../actions/ui\";\nimport { useFormToUpper } from \"../../hooks/UseFormToUpper\";\nimport { crearPadronDeCultivo } from \"../../helpers/DB/crearPadronDeCultivo\";\nimport { setCultivosConPadron } from \"../../actions/padronScreenActions\";\n\nexport const CultivoCard = ({ cultivo }) => {\n\tconst { msgError } = useSelector((state) => state.ui);\n\tconst { cicloActual } = useSelector((state) => state.auth.variablesGlobales);\n\tconst { cultivos: cultivosConPadron } = useSelector((state) => state.padronScreen.padrones);\n\tconst { cultivos } = useSelector((state) => state.altaPermisos);\n\n\tconst cultivosComplemento = cultivos.filter((cultivo) => cultivo.nombre.includes(\"COMP.\"));\n\n\tconst [values, handleInputChange, reset] = useFormToUpper({ ...cultivo });\n\tconst {\n\t\tclave,\n\t\tnuevaClave = 0,\n\t\tcostoGuia,\n\t\tcostoHectarea,\n\t\tnombre,\n\t\tsubciclo,\n\t\tinicioBc = \"\",\n\t\tfinBc = \"\",\n\t\tinicioSonora = \"\",\n\t\tfinSonora = \"\",\n\t\trequiereDictamen = false,\n\t\trequiereComplementoVolumen = false,\n\t\tcomplementoPorHa = 0,\n\t\tcultivoComplementario = 0,\n\t\trequiereControlCPUS = false\n\t} = values;\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (cultivo.clave !== clave) {\n\t\t\treset();\n\t\t}\n\t}, [cultivo, clave, reset]);\n\n\tconst handleCrearPadron = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `Ha solicitado control de CPUS. Cuando un cultivo requiere control de CPUS se genera un padrón de productores para el cultivo. Los productores que soliciten la expedición de permiso de siembra para dicho cultivo no podrán expedir más superficie de la que tengan disponible en el padrón generado. El padrón se crea con base en la expedición del ciclo anterior. ¿Realmente desea generar el padrón?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst isSave = await crearPadronDeCultivo(cicloActual, cultivo.clave, cultivo.nombre);\n\t\t\t\tif (isSave) {\n\t\t\t\t\tcultivosConPadron.push(cultivo.nombre);\n\t\t\t\t\tdispatch(setCultivosConPadron(cultivosConPadron));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleSaveCultivo = () => {\n\t\tif (isFormValid()) {\n\t\t\tdispatch(startSaveCultivo(values));\n\t\t}\n\t};\n\n\tconst onDeleteCultivo = () => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Atención!!\",\n\t\t\ttext: `¿Realmente desea borrar el cultivo?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Si\",\n\t\t\tcancelButtonText: \"No\"\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tdispatch(startDeleteCultivo(cultivo.id));\n\t\t\t}\n\t\t});\n\t};\n\n\tconst isFormValid = () => {\n\t\tif (clave.length === 0) {\n\t\t\tdispatch(setError(\"Indique la clave del cultivo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (cultivo.id === \"nuevoCultivo\" && cultivos.find((cultivo) => cultivo.clave === nuevaClave)) {\n\t\t\tdispatch(setError(\"La clave del cultivo ya está en uso, indique una clave diferente.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (nombre.length === 0) {\n\t\t\tdispatch(setError(\"Indique el nobre del cultivo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (costoGuia < 0) {\n\t\t\tdispatch(setError(\"El costo de la guía no puede ser negativo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (costoHectarea < 0) {\n\t\t\tdispatch(setError(\"El costo por hectárea no puede ser negativo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (complementoPorHa < 0) {\n\t\t\tdispatch(setError(\"El complemento de volumen por hectárea no puede ser negativo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (subciclo.length === 0) {\n\t\t\tdispatch(setError(\"Seleccione el subciclo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (inicioBc.length === 0) {\n\t\t\tdispatch(setError(\"Indique la fecha de inicio de expedición del cultivo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (finBc.length === 0) {\n\t\t\tdispatch(setError(\"Indique la fecha de cierre de expedición del cultivo.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tconst f1Bc = new Date(inicioBc);\n\t\tconst f2Bc = new Date(finBc);\n\n\t\tif (f1Bc > f2Bc) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"La fecha de inicio para Baja California no puede ser mayor a la fecha final.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst f1Sonora = new Date(inicioSonora);\n\t\tconst f2Sonora = new Date(finSonora);\n\n\t\tif (f1Sonora > f2Sonora) {\n\t\t\tdispatch(setError(\"La fecha de inicio para Sonora no puede ser mayor a la fecha final.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (requiereComplementoVolumen && complementoPorHa === 0) {\n\t\t\tdispatch(\n\t\t\t\tsetError(\"Indique las hectáreas de complemento de volumen por hectárea de cultivo.\")\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (requiereComplementoVolumen && cultivoComplementario === 0) {\n\t\t\tdispatch(setError(\"Indique el cultivo complementario.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<div className=\"border border-info rounded\">\n\t\t\t<div className=\"border-bottom border-info p-2\">\n\t\t\t\t<div className=\"d-flex justify-content-center mt-2\">\n\t\t\t\t\t{cultivo?.id === \"nuevoCultivo\" ? (\n\t\t\t\t\t\t<h4>NUEVO CULTIVO</h4>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h4>{`${clave} - ${nombre}`}</h4>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-2 pt-4 pb-4\">\n\t\t\t\t{cultivo.id === \"nuevoCultivo\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t\t<label className=\"col-5\">Clave Cultivo:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Clave Cultivo\"\n\t\t\t\t\t\t\t\tname=\"nuevaClave\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={nuevaClave}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t\t<label className=\"col-5\">Nombre Cultivo:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre Cultivo\"\n\t\t\t\t\t\t\t\tname=\"nombre\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={nombre}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Costo Guía:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tplaceholder=\"Costo guía\"\n\t\t\t\t\t\tname=\"costoGuia\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={costoGuia}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Costo Hectarea:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tplaceholder=\"Costo Hectarea\"\n\t\t\t\t\t\tname=\"costoHectarea\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={costoHectarea}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Subciclo:</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"subciclo\"\n\t\t\t\t\t\tvalue={subciclo}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue={false}>\n\t\t\t\t\t\t\tSubciclo\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"PERENNES\">PERENNES</option>\n\t\t\t\t\t\t<option value=\"PRIMAVERA-VERANO\">PRIMAVERA-VERANO</option>\n\t\t\t\t\t\t<option value=\"OTOÑO-INVIERNO\">OTOÑO-INVIERNO</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Inicio BC:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tname=\"inicioBc\"\n\t\t\t\t\t\tvalue={inicioBc}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Fin BC:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tname=\"finBc\"\n\t\t\t\t\t\tvalue={finBc}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Inicio Sonora:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tname=\"inicioSonora\"\n\t\t\t\t\t\tvalue={inicioSonora}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-5\">Fin Sonora:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\tname=\"finSonora\"\n\t\t\t\t\t\tvalue={finSonora}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t<label className=\"col-9\">Requiere dictamen técnico:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"requiereDictamen\"\n\t\t\t\t\t\tvalue={requiereDictamen}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tchecked={requiereDictamen === true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-9\">Requiere complemento de volumen:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"requiereComplementoVolumen\"\n\t\t\t\t\t\tvalue={requiereComplementoVolumen}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tchecked={requiereComplementoVolumen === true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{requiereComplementoVolumen && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t\t<label className=\"col-7\">Hectáreas de complemento por hectárea de cultivo:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"col-4 form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Complemento Por Ha\"\n\t\t\t\t\t\t\t\tname=\"complementoPorHa\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={complementoPorHa}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\" row mt-2\">\n\t\t\t\t\t\t\t<label className=\"col-5\">Cultivo Complementario:</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclassName=\"col-6 form-control ml-1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Clave de Cultivo\"\n\t\t\t\t\t\t\t\tname=\"cultivoComplementario\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tvalue={cultivoComplementario}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\t\t\tCultivo Complementario\n\t\t\t\t\t\t\t\t</option>\n\n\t\t\t\t\t\t\t\t{cultivosComplemento.map((cultivo) => (\n\t\t\t\t\t\t\t\t\t<option key={cultivo.id} value={cultivo.clave}>\n\t\t\t\t\t\t\t\t\t\t{cultivo.nombre}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row mt-2\">\n\t\t\t\t\t<label className=\"col-9\">Requiere control de CPUS:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"requiereControlCPUS\"\n\t\t\t\t\t\tvalue={requiereControlCPUS}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tchecked={requiereControlCPUS === true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{msgError && <div className=\"auth__alert-error mt-3\">{msgError}</div>}\n\t\t\t</div>\n\n\t\t\t<div className=\"d-flex flex-column border-bottom border-info p-4\">\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-danger mt-4\" onClick={onDeleteCultivo}>\n\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t<span> Eliminar</span>\n\t\t\t\t</button>\n\n\t\t\t\t{!cultivosConPadron.find((cultivoConPadron) => cultivoConPadron === cultivo.nombre) && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary mt-4\"\n\t\t\t\t\t\tonClick={handleCrearPadron}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-file\"></i>\n\t\t\t\t\t\t<span> Crear Padrón</span>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary mt-4\" onClick={handleSaveCultivo}>\n\t\t\t\t\t<i className=\"fas fa-save\"></i>\n\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addNuevoCultivo, startSetCultivoSelected } from \"../../actions/cultivos\";\nimport { CultivoCard } from \"../cards/CultivoCard\";\nimport { cultivosColumns } from \"../tables/configTables\";\nimport { CustomTable } from \"../tables/CustomTable\";\n\nexport const CatalogoDeCultivos = () => {\n\tconst { cultivos, idCultivoSelected } = useSelector((state) => state.altaPermisos);\n\tconst cultivoSelected = cultivos.find((cultivo) => cultivo.id === idCultivoSelected);\n\n\tconst [cultivoName, setCultivoName] = useState(\"\");\n\n\tconst filteredCultivos = cultivos.filter((cultivo) =>\n\t\tcultivo.nombre.includes(cultivoName.toUpperCase())\n\t);\n\n\tconst dispatch = useDispatch();\n\n\tconst onAddCultivo = () => {\n\t\tdispatch(addNuevoCultivo());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Catalogo de cultivos</h2>\n\n\t\t\t<div className=\" row mt-4\">\n\t\t\t\t<label className=\"col-sm-2\">Nombre del cultivo:</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-4 form-control ml-1\"\n\t\t\t\t\tplaceholder=\"Nombre del cultivo\"\n\t\t\t\t\tname=\"cultivoName\"\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={cultivoName}\n\t\t\t\t\tonChange={(e) => setCultivoName(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<button className=\"btn btn-outline-primary ml-2 col-sm-2\" onClick={onAddCultivo}>\n\t\t\t\t\t<i className=\"fas fa-plus mr-2\"></i>\n\t\t\t\t\t<span>Nuevo Cultivo</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t<CustomTable\n\t\t\t\t\t\ttitle={cultivos.length === 0 ? \"No se encontraron cultivos\" : \"Cultivos\"}\n\t\t\t\t\t\tcolumns={cultivosColumns}\n\t\t\t\t\t\tdata={filteredCultivos}\n\t\t\t\t\t\tsetFunction={startSetCultivoSelected}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-sm-4\">\n\t\t\t\t\t{cultivoSelected && <CultivoCard cultivo={cultivoSelected} />}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { UserRoleModal } from \"../components/modals/UserRoleModal\";\nimport { UsersRoleManagement } from \"../components/modulos/UsersRoleManagement\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { EntityEditingModule } from \"../components/modulos/EntityEditingModule\";\nimport { startLoadEntities } from \"../actions/entidades/entities\";\nimport { useForm } from \"../hooks/useForm\";\nimport { RadioButtonGroup } from \"../components/ui/molecules/RadioButtonGroup\";\nimport { CatalogoDeCultivos } from \"../components/modulos/CatalogoDeCultivos\";\nimport { startSetCatalogoDeCultivos } from \"../actions/cultivos\";\nimport { startSetPadronesCultivos } from \"../actions/padronScreenActions\";\n\nexport const ConfiguracionScreen = () => {\n\tconst { privilegios } = useSelector((state) => state.auth);\n\tconst { entities } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(startSetCatalogoDeCultivos());\n\t\tdispatch(startSetPadronesCultivos());\n\t}, [dispatch]);\n\n\tif (!entities) {\n\t\tdispatch(startLoadEntities());\n\t}\n\n\tconst [modules, modulesChange] = useForm();\n\n\tconst modulesNames = [\n\t\t{\n\t\t\tid: \"usuarios\",\n\t\t\tlabel: \"usuarios\"\n\t\t},\n\t\t{\n\t\t\tid: \"entidades\",\n\t\t\tlabel: \"entidades\"\n\t\t},\n\t\t{\n\t\t\tid: \"cultivos\",\n\t\t\tlabel: \"cultivos\"\n\t\t}\n\t];\n\n\tconst checkboxStyles = {\n\t\tgroup: \"btn-group btn-group-toggle d-print-none\",\n\t\tbutton: \"btn btn-outline-primary\"\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row pt-4\">\n\t\t\t\t<div className=\"col-sm-12 d-flex justify-content-center\">\n\t\t\t\t\t<h1>Configuracion</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center pt-4\">\n\t\t\t\t<RadioButtonGroup\n\t\t\t\t\tinputName={\"module\"}\n\t\t\t\t\toptions={modulesNames}\n\t\t\t\t\tformValues={modules}\n\t\t\t\t\tsetFunction={modulesChange}\n\t\t\t\t\tstyles={checkboxStyles}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"usuarios\" && privilegios.asignarRoles && <UsersRoleManagement />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"entidades\" && privilegios.editarEntidades && <EntityEditingModule />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"row mt-4\">\n\t\t\t\t<div className=\"col-sm-12\">\n\t\t\t\t\t{modules.module === \"cultivos\" && privilegios.editarCultivos && <CatalogoDeCultivos />}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<UserRoleModal />\n\t\t</>\n\t);\n};\n","import { db } from \"../firebase/firebase-config\";\n\nexport const printDuplicatePermits = async () => {\n\tconsole.log(\"Cargando permisos...\");\n\tconst unicos = [];\n\tconst duplicados = [];\n\tconst duplicadosCompletos = [];\n\n\tconst permisosSnap = await db.collectionGroup(\"permisos\").where(\"ciclo\", \"==\", \"2020-2021\").get();\n\n\tpermisosSnap.forEach((permisoSnap) => {\n\t\tconst repetido = unicos.find(\n\t\t\t(unico) => unico.cuenta === permisoSnap.data().cuenta /* &&\n\t\t\t\tunico.superficie === permisoSnap.data().superficie &&\n\t\t\t\tunico.lote === permisoSnap.data().lote &&\n\t\t\t\tunico.nombre === permisoSnap.data().nombre &&\n\t\t\t\tunico.ubicacion === permisoSnap.data().ubicacion */\n\t\t);\n\t\tif (repetido) {\n\t\t\tif (!duplicados.includes(permisoSnap.data().cuenta)) {\n\t\t\t\tduplicados.push(repetido.cuenta);\n\t\t\t\tduplicadosCompletos.push(permisoSnap.data());\n\t\t\t}\n\t\t} else unicos.push(permisoSnap.data());\n\t});\n\n\tconsole.log(duplicados);\n\tconsole.table(duplicadosCompletos);\n\n\tduplicados.forEach(async (duplicado, i) => {\n\t\tconst grupoSnap = await db\n\t\t\t.collectionGroup(\"permisos\")\n\t\t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n\t\t\t.where(\"cuenta\", \"==\", duplicado)\n\t\t\t.get();\n\t\tawait console.log(`${i} Cargando grupo...`, duplicado);\n\n\t\tgrupoSnap.forEach((permiso) => {\n\t\t\tconsole.log(permiso.id, permiso.data().cuenta, \" :\", Object.keys(permiso.data()).length);\n\t\t});\n\t});\n};\n","import React from \"react\";\nimport { saveDictamen } from \"../../helpers/saveDictamen\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const DictamenManual = () => {\n\tconst [formValues, handleInputChange] = useForm();\n\tconst { cuenta = \"\", estado = \"\" } = formValues;\n\n\tconst handleSaveDictamen = () => {\n\t\tif (estado.length > 0) {\n\t\t\tsaveDictamen(cuenta, \"2022-2023\", formValues);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row p-2\">\n\t\t\t\t<h2>Guardar Dictamen</h2>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\tCuenta:\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"cuenta\"\n\t\t\t\t\t\tname=\"cuenta\"\n\t\t\t\t\t\tvalue={cuenta}\n\t\t\t\t\t\tautoComplete=\"waa\"\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={estado}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tclassName=\"form-control mt-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\t\t\t\tSeleccionar estado\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"activo\">activo</option>\n\t\t\t\t\t\t<option value=\"cancelado\">cancelado</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary d-flex\"\n\t\t\t\t\t\tonClick={handleSaveDictamen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { db } from \"../../firebase/firebase-config\";\nimport { exportJSONToExcel } from \"../functions/exportJSONToExcel\";\n\n// Imprime productores que expidieron mas de su concesion #############################################################\n// export const editarPermisos = async () => {\n// \tconst concesiones = await db\n// \t\t.collection(\"padronesCultivos\")\n// \t\t.doc(\"2023-2024\")\n// \t\t.collection(\"padrones\")\n// \t\t.doc(\"ALFALFA\")\n// \t\t.collection(\"padron\")\n// \t\t.get();\n\n// \tconcesiones.forEach((concesion) => {\n// \t\tif (concesion.data().supConcesion < concesion.data().supExpedida) {\n// \t\t\tconsole.log(concesion.data());\n// \t\t}\n// \t});\n// };\n\n// Imprime exedicion de alfalfa por productor ##################################################################\n// export const editarPermisos = async () => {\n// \tconst permisosSnap = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"idProductorSelected\", \"==\", \"HEGG700720HBCRTB07-PM\")\n// \t\t.where(\"ciclo\", \"==\", \"2022-2023\")\n// \t\t.get();\n\n// \tconst expedicion = {\n// \t\talfalfa: {},\n// \t\talfalfaNva: {},\n// \t\talfalfaR: {},\n// \t};\n\n// \tpermisosSnap.forEach((permiso) => {\n// \t\tif (permiso.data().estadoPermiso !== \"Cancelado\") {\n// \t\t\tif (permiso.data().claveCultivo === 50) {\n// \t\t\t\tif (expedicion.alfalfa[permiso.data().modulo]) {\n// \t\t\t\t\texpedicion.alfalfa[permiso.data().modulo] =\n// \t\t\t\t\t\texpedicion.alfalfa[permiso.data().modulo] + permiso.data().supAutorizada;\n// \t\t\t\t} else {\n// \t\t\t\t\tconsole.log(permiso.data().modulo);\n// \t\t\t\t\texpedicion.alfalfa[permiso.data().modulo] = permiso.data().supAutorizada;\n// \t\t\t\t}\n// \t\t\t}\n\n// \t\t\tif (permiso.data().claveCultivo === 51) {\n// \t\t\t\tif (expedicion.alfalfaNva[permiso.data().modulo]) {\n// \t\t\t\t\texpedicion.alfalfaNva[permiso.data().modulo] =\n// \t\t\t\t\t\texpedicion.alfalfaNva[permiso.data().modulo] + permiso.data().supAutorizada;\n// \t\t\t\t} else {\n// \t\t\t\t\texpedicion.alfalfaNva[permiso.data().modulo] = permiso.data().supAutorizada;\n// \t\t\t\t}\n// \t\t\t}\n\n// \t\t\tif (permiso.data().claveCultivo === 51.2) {\n// \t\t\t\tif (expedicion.alfalfaR[permiso.data().modulo]) {\n// \t\t\t\t\texpedicion.alfalfaR[permiso.data().modulo] =\n// \t\t\t\t\t\texpedicion.alfalfaR[permiso.data().modulo] + permiso.data().supAutorizada;\n// \t\t\t\t} else {\n// \t\t\t\t\texpedicion.alfalfaR[permiso.data().modulo] = permiso.data().supAutorizada;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t});\n\n// \tconsole.log(expedicion);\n// };\n\n// Asigna localidad a permisos del 2023-2024 ##################################################################\n// export const editarPermisos = async () => {\n// \tconst permisosSnap = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"localidad\", \"==\", \"\")\n// \t\t.where(\"ciclo\", \"==\", \"2023-2024\")\n// \t\t.get();\n\n// \tconst localidadesSnap = await db.collection(\"colonias\").get();\n\n// \tconst localidades = {};\n// \tlocalidadesSnap.forEach((localidad) => {\n// \t\tlocalidades[localidad.data().clave] = {\n// \t\t\tnombre: localidad.data().nombre,\n// \t\t\ttipo: localidad.data().tipo,\n// \t\t};\n// \t});\n\n// \t// const tecnicosSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\n// \t// const tecnicos = [];\n// \t// tecnicosSnap.forEach((tecnico) => {\n// \t// \ttecnicos.push({\n// \t// \t\tid: tecnico.id,\n// \t// \t\tlocalidades: tecnico.data().localidades\n// \t// \t});\n// \t// });\n\n// \tlet batch = db.batch();\n// \tlet i = 1;\n// \tconst batchSize = 500;\n\n// \tpermisosSnap.forEach((permiso) => {\n// \t\t// const tecnico = tecnicos.find((tecnico) =>\n// \t\t// \ttecnico.localidades.includes(permiso.data().claveLocalidad)\n// \t\t// );\n\n// \t\tconst localidad = localidades[permiso.data().claveLocalidad];\n\n// \t\t// const permisoPrint = permiso.data();\n\n// \t\t// console.log({ permisoPrint, localidad });\n// \t\t// console.log(permiso.id);\n// \t\t// console.log(permiso.data().claveLocalidad);\n// \t\t// else console.log(\"sintecnico\");\n// \t\t// if (tecnico) {\n// \t\t// \tconsole.log(tecnico.id);\n// \t\t// \tconsole.log(permiso.data().claveLocalidad);\n// \t\t// \tconsole.log(permiso.id);\n// \t\t// }\n\n// \t\tconst ref = db\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(\"2023-2024\")\n// \t\t\t.collection(\"modulos\")\n// \t\t\t.doc(`Modulo-${permiso.data().modulo}`)\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(permiso.id);\n\n// \t\tif (localidad) {\n// \t\t\tbatch.update(ref, {\n// \t\t\t\tlocalidad: localidad.nombre,\n// \t\t\t\tnombreLocalidad: localidad.nombre,\n// \t\t\t\ttipoLocalidad: localidad.tipo,\n// \t\t\t});\n// \t\t}\n\n// \t\tif (i === batchSize) {\n// \t\t\tbatch\n// \t\t\t\t.commit()\n// \t\t\t\t.then(() => {\n// \t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n// \t\t\t\t})\n// \t\t\t\t.catch((err) => {\n// \t\t\t\t\tconsole.error(err);\n// \t\t\t\t});\n// \t\t\tbatch = db.batch();\n// \t\t\ti = 0;\n// \t\t}\n\n// \t\ti++;\n// \t});\n\n// \tbatch\n// \t\t.commit()\n// \t\t.then(() => {\n// \t\t\tconsole.log(\"Se terminaron de editar los permisos\");\n// \t\t})\n// \t\t.catch((err) => {\n// \t\t\tconsole.error(err);\n// \t\t\tconsole.log(\"Ya termino\");\n// \t\t});\n// };\n\n//Descarga expedicion de algodon ######################################################################\n// export const editarPermisos = async () => {\n// \tconst permisos = [];\n\n// \tconst headers = {\n// \t\theader: [\n// \t\t\t\"CICLO\",\n// \t\t\t\"CLAVE_CULTIVO\",\n// \t\t\t\"CLAVECULTIVO_ANTERIOR\",\n// \t\t\t\"CLAVE_LOCALIDAD\",\n// \t\t\t\"CUENTA\",\n// \t\t\t\"CULTIVO_ANTERIOR\",\n// \t\t\t\"CURP_PRODUCTOR\",\n// \t\t\t\"ESTADO\",\n// \t\t\t\"ESTADO_PERMISO\",\n// \t\t\t\"FECHA_EMICION\",\n// \t\t\t\"FECHA_LIMITE\",\n// \t\t\t\"FUENTE_CREDITO\",\n// \t\t\t\"LOCALIDAD\",\n// \t\t\t\"LOTE\",\n// \t\t\t\"MODULO\",\n// \t\t\t\"MUNICIPIO\",\n// \t\t\t\"NOMBRE_CULTIVO\",\n// \t\t\t\"NOMBRE_LOCALIDAD\",\n// \t\t\t\"NOMBRE_PRODUCTOR\",\n// \t\t\t\"NUMERO_PERMISO\",\n// \t\t\t\"OBSERVACIONES\",\n// \t\t\t\"REACOMODO\",\n// \t\t\t\"RFC_PRODUCTOR\",\n// \t\t\t\"SECCION\",\n// \t\t\t\"SISTEMA\",\n// \t\t\t\"SUBCICLO\",\n// \t\t\t\"SUP_AUTORIZADA\",\n// \t\t\t\"SUP_DERECHO\",\n// \t\t\t\"TIPO_PERMISO\",\n// \t\t\t\"TIPO_LOCALIDAD\",\n// \t\t\t\"TIPO_SEMILLA\",\n// \t\t\t\"TRANSFERENCIA\",\n// \t\t\t\"USUARIO\",\n// \t\t\t\"VARIEDAD\"\n// \t\t]\n// \t};\n\n// \tconst permisosBatch = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"claveCultivo\", \"==\", 80)\n// \t\t.where(\"ciclo\", \"==\", \"2022-2023\")\n// \t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n// \t\t.get();\n\n// \tpermisosBatch.forEach((permiso) => {\n// \t\tpermisos.push({\n// \t\t\tCICLO: permiso.data().ciclo,\n// \t\t\tCLAVE_CULTIVO: permiso.data().claveCultivo,\n// \t\t\tCLAVECULTIVO_ANTERIOR: permiso.data().claveCultivoAnterior,\n// \t\t\tCLAVE_LOCALIDAD: permiso.data().claveLocalidad,\n// \t\t\tCUENTA: permiso.data().cuenta,\n// \t\t\tCULTIVO_ANTERIOR: permiso.data().cultivoAnterior,\n// \t\t\tCURP_PRODUCTOR: permiso.data().curpProductor,\n// \t\t\tESTADO: permiso.data().estado,\n// \t\t\tESTADO_PERMISO: permiso.data().estadoPermiso,\n// \t\t\tFECHA_EMICION: permiso.data().fechaEmicion.toDate().toLocaleDateString(),\n// \t\t\tFECHA_LIMITE: permiso.data().fechaLimite.toDate().toLocaleDateString(),\n// \t\t\tFUENTE_CREDITO: permiso.data().fuenteCredito,\n// \t\t\tLOCALIDAD: permiso.data().localidad,\n// \t\t\tLOTE: permiso.data().lote,\n// \t\t\tMODULO: permiso.data().modulo,\n// \t\t\tMUNICIPIO: permiso.data().municipio,\n// \t\t\tNOMBRE_CULTIVO: permiso.data().nombreCultivo,\n// \t\t\tNOMBRE_LOCALIDAD: permiso.data().nombreLocalidad,\n// \t\t\tNOMBRE_PRODUCTOR: permiso.data().nombreProductor,\n// \t\t\tNUMERO_PERMISO: permiso.data().numeroPermiso,\n// \t\t\tOBSERVACIONES: permiso.data().observaciones,\n// \t\t\tREACOMODO: permiso.data().reacomodo,\n// \t\t\tRFC_PRODUCTOR: permiso.data().rfcProductor,\n// \t\t\tSECCION: permiso.data().seccion,\n// \t\t\tSISTEMA: permiso.data().sistema,\n// \t\t\tSUBCICLO: permiso.data().subciclo,\n// \t\t\tSUP_AUTORIZADA: permiso.data().supAutorizada,\n// \t\t\tSUP_DERECHO: permiso.data().supDerecho,\n// \t\t\tTIPO_PERMISO: permiso.data().tipo,\n// \t\t\tTIPO_LOCALIDAD: permiso.data().tipoLocalidad,\n// \t\t\tTIPO_SEMILLA: permiso.data().tipoSemilla,\n// \t\t\tTRANSFERENCIA: permiso.data().transferencia,\n// \t\t\tUSUARIO: permiso.data().usuario,\n// \t\t\tVARIEDAD: permiso.data().variedad\n// \t\t});\n// \t});\n\n// \texportJSONToExcel(permisos, headers, \"PermisosTrigoDic23\", \"JulioMolina\", \"PermisosTrigoDic23\");\n\n// \t// console.table(permisos);\n// };\n\n//Descarga el padron de cultivos ####################################################################################\n// export const editarPermisos = async () => {\n// \tconst cultivos = [];\n\n// \tconst headers = {\n// \t\theader: [\n// \t\t\t\"CLAVE\",\n// \t\t\t\"NOMBRE\",\n// \t\t\t\"SUBCICLO\",\n// \t\t\t\"COSTOHECTAREA\",\n// \t\t\t\"COSTOGUIA\",\n// \t\t\t\"INICIOBC\",\n// \t\t\t\"FINBC\",\n// \t\t\t\"INICIOSONORA\",\n// \t\t\t\"FINSONORA\",\n// \t\t\t\"CULTIVOCOMPLEMENTARIO\",\n// \t\t],\n// \t};\n\n// \tconst cultivosBatch = await db.collectionGroup(\"cultivos\").get();\n\n// \tcultivosBatch.forEach((cultivo) => {\n// \t\tcultivos.push({\n// \t\t\tCLAVE: cultivo.data().clave,\n// \t\t\tNOMBRE: cultivo.data().nombre,\n// \t\t\tSUBCICLO: cultivo.data().subciclo,\n// \t\t\tCOSTOHECTAREA: cultivo.data().costoHectarea,\n// \t\t\tCOSTOGUIA: cultivo.data().costoGuia,\n// \t\t\tINICIOBC: cultivo.data().inicioBc,\n// \t\t\tFINBC: cultivo.data().finBc,\n// \t\t\tINICIOSONORA: cultivo.data().inicioSonora,\n// \t\t\tFINSONORA: cultivo.data().finSonora,\n// \t\t\tCULTIVOCOMPLEMENTARIO: cultivo.data().cultivoComplementario,\n// \t\t});\n// \t});\n\n// \texportJSONToExcel(cultivos, headers, \"PadronDeCultivos\", \"JulioMolina\", \"PadronDeCultivos\");\n\n// \t// console.table(permisos);\n// };\n\n// // Modifica costo por hectarea de todos los cultivos ##################################################################\n// export const editarPermisos = async () => {\n// \tconst cultivosSnap = await db.collectionGroup(\"cultivos\").get();\n\n// \tlet batch = db.batch();\n// \tlet i = 1;\n// \tconst batchSize = 500;\n\n// \tcultivosSnap.forEach((cultivo) => {\n// \t\tconst ref = db.collection(\"cultivos\").doc(cultivo.id);\n\n// \t\tbatch.update(ref, { costoHectarea: 15 });\n\n// \t\tif (i === batchSize) {\n// \t\t\tbatch\n// \t\t\t\t.commit()\n// \t\t\t\t.then(() => {\n// \t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n// \t\t\t\t})\n// \t\t\t\t.catch((err) => {\n// \t\t\t\t\tconsole.error(err);\n// \t\t\t\t});\n// \t\t\tbatch = db.batch();\n// \t\t\ti = 0;\n// \t\t}\n\n// \t\ti++;\n// \t});\n\n// \tbatch\n// \t\t.commit()\n// \t\t.then(() => {\n// \t\t\tconsole.log(\"Se terminaron de editar los cultivos\");\n// \t\t})\n// \t\t.catch((err) => {\n// \t\t\tconsole.error(err);\n// \t\t\tconsole.log(\"Ya termino\");\n// \t\t});\n// };\n\n// //Descarga expedicion permisos de pozos #########################################################################\n// export const editarPermisos = async () => {\n// \tconst permisos = [];\n\n// \tconst headers = {\n// \t\theader: [\n// \t\t\t\"CICLO\",\n// \t\t\t\"CLAVE_CULTIVO\",\n// \t\t\t\"CLAVECULTIVO_ANTERIOR\",\n// \t\t\t\"CLAVE_LOCALIDAD\",\n// \t\t\t\"CUENTA\",\n// \t\t\t\"CULTIVO_ANTERIOR\",\n// \t\t\t\"CURP_PRODUCTOR\",\n// \t\t\t\"ESTADO\",\n// \t\t\t\"ESTADO_PERMISO\",\n// \t\t\t\"FECHA_EMICION\",\n// \t\t\t\"FECHA_LIMITE\",\n// \t\t\t\"FUENTE_CREDITO\",\n// \t\t\t\"LOCALIDAD\",\n// \t\t\t\"LOTE\",\n// \t\t\t\"MODULO\",\n// \t\t\t\"MUNICIPIO\",\n// \t\t\t\"NOMBRE_CULTIVO\",\n// \t\t\t\"NOMBRE_LOCALIDAD\",\n// \t\t\t\"NOMBRE_PRODUCTOR\",\n// \t\t\t\"NUMERO_PERMISO\",\n// \t\t\t\"OBSERVACIONES\",\n// \t\t\t\"REACOMODO\",\n// \t\t\t\"RFC_PRODUCTOR\",\n// \t\t\t\"SECCION\",\n// \t\t\t\"SISTEMA\",\n// \t\t\t\"SUBCICLO\",\n// \t\t\t\"SUP_AUTORIZADA\",\n// \t\t\t\"SUP_DERECHO\",\n// \t\t\t\"TIPO_PERMISO\",\n// \t\t\t\"TIPO_LOCALIDAD\",\n// \t\t\t\"TIPO_SEMILLA\",\n// \t\t\t\"TRANSFERENCIA\",\n// \t\t\t\"USUARIO\",\n// \t\t\t\"VARIEDAD\",\n// \t\t\t\"P-CONTROL\",\n// \t\t],\n// \t};\n\n// \tconst permisosBatch = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"sistema\", \"in\", [\"Pozo Particular\", \"Pozo Federal\"])\n// \t\t.where(\"ciclo\", \"==\", \"2022-2023\")\n// \t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n// \t\t.get();\n\n// \tpermisosBatch.forEach((permiso) => {\n// \t\tpermisos.push({\n// \t\t\tCICLO: permiso.data().ciclo,\n// \t\t\tCLAVE_CULTIVO: permiso.data().claveCultivo,\n// \t\t\tCLAVECULTIVO_ANTERIOR: permiso.data().claveCultivoAnterior,\n// \t\t\tCLAVE_LOCALIDAD: permiso.data().claveLocalidad,\n// \t\t\tCUENTA: permiso.data().cuenta,\n// \t\t\tCULTIVO_ANTERIOR: permiso.data().cultivoAnterior,\n// \t\t\tCURP_PRODUCTOR: permiso.data().curpProductor,\n// \t\t\tESTADO: permiso.data().estado,\n// \t\t\tESTADO_PERMISO: permiso.data().estadoPermiso,\n// \t\t\tFECHA_EMICION: permiso.data().fechaEmicion.toDate().toLocaleDateString(),\n// \t\t\tFECHA_LIMITE: permiso.data().fechaLimite.toDate().toLocaleDateString(),\n// \t\t\tFUENTE_CREDITO: permiso.data().fuenteCredito,\n// \t\t\tLOCALIDAD: permiso.data().localidad,\n// \t\t\tLOTE: permiso.data().lote,\n// \t\t\tMODULO: permiso.data().modulo,\n// \t\t\tMUNICIPIO: permiso.data().municipio,\n// \t\t\tNOMBRE_CULTIVO: permiso.data().nombreCultivo,\n// \t\t\tNOMBRE_LOCALIDAD: permiso.data().nombreLocalidad,\n// \t\t\tNOMBRE_PRODUCTOR: permiso.data().nombreProductor,\n// \t\t\tNUMERO_PERMISO: permiso.data().numeroPermiso,\n// \t\t\tOBSERVACIONES: permiso.data().observaciones,\n// \t\t\tREACOMODO: permiso.data().reacomodo,\n// \t\t\tRFC_PRODUCTOR: permiso.data().rfcProductor,\n// \t\t\tSECCION: permiso.data().seccion,\n// \t\t\tSISTEMA: permiso.data().sistema,\n// \t\t\tSUBCICLO: permiso.data().subciclo,\n// \t\t\tSUP_AUTORIZADA: permiso.data().supAutorizada,\n// \t\t\tSUP_DERECHO: permiso.data().supDerecho,\n// \t\t\tTIPO_PERMISO: permiso.data().tipo,\n// \t\t\tTIPO_LOCALIDAD: permiso.data().tipoLocalidad,\n// \t\t\tTIPO_SEMILLA: permiso.data().tipoSemilla,\n// \t\t\tTRANSFERENCIA: permiso.data().transferencia,\n// \t\t\tUSUARIO: permiso.data().usuario,\n// \t\t\tVARIEDAD: permiso.data().variedad,\n// \t\t\t\"P-CONTROL\": permiso.data().toma,\n// \t\t});\n// \t});\n\n// \texportJSONToExcel(permisos, headers, \"PermisosTrigoDic23\", \"JulioMolina\", \"PermisosTrigoDic23\");\n\n// \t// console.table(permisos);\n// };\n\n// // Descarga expedicion de trigo ######################################################################\n// export const editarPermisos = async () => {\n// \tconst concesiones = [];\n\n// \tconst headers = {\n// \t\theader: [\n// \t\t\t\"ID_CONCESION\",\n// \t\t\t\"ID_PRODUCTOR\",\n// \t\t\t\"CURP\",\n// \t\t\t\"NOMBRE\",\n// \t\t\t\"CULTIVO\",\n// \t\t\t\"MODULO\",\n// \t\t\t\"CICLO\",\n// \t\t\t\"SUP_CONCESION\",\n// \t\t\t\"SUP_EXPEDIDA\"\n// \t\t]\n// \t};\n\n// \t///padronesCultivos/2022-2023/padrones/ALFALFA/padron/ FICJ700625HBCRXR03-ALFALFA-8\n// \tconst concesionesBatch = await db\n// \t\t.collection(\"padronesCultivos\")\n// \t\t.doc(\"2022-2023\")\n// \t\t.collection(\"padrones\")\n// \t\t.doc(\"ALFALFA NUEVA\")\n// \t\t.collection(\"padron\")\n// \t\t.get();\n\n// \tconcesionesBatch.forEach((concesion) => {\n// \t\tconcesiones.push({\n// \t\t\tID_CONCESION: concesion.id,\n// \t\t\tCICLO: concesion.data().ciclo,\n// \t\t\tCULTIVO: concesion.data().cultivo,\n// \t\t\tCURP: concesion.data().curp,\n// \t\t\tID_PRODUCTOR: concesion.data().idProductor,\n// \t\t\tMODULO: concesion.data().modulo,\n// \t\t\tNOMBRE: concesion.data().nombre,\n// \t\t\tSUP_CONCESION: concesion.data().supConcesion,\n// \t\t\tSUP_EXPEDIDA: concesion.data().supExpedida\n// \t\t});\n// \t});\n\n// \texportJSONToExcel(\n// \t\tconcesiones,\n// \t\theaders,\n// \t\t\"PadronAlfalfaNueva\",\n// \t\t\"JulioMolina\",\n// \t\t\"PadronAlfalfaNueva\"\n// \t);\n\n// \t// console.table(concesiones);\n// };\n\n//Descarga expedicion de trigo ######################################################################\nexport const editarPermisos = async () => {\n\tconst permisos = [];\n\n\tconst headers = {\n\t\theader: [\n\t\t\t\"CICLO\",\n\t\t\t\"CLAVE_CULTIVO\",\n\t\t\t\"CLAVECULTIVO_ANTERIOR\",\n\t\t\t\"CLAVE_LOCALIDAD\",\n\t\t\t\"CUENTA\",\n\t\t\t\"CULTIVO_ANTERIOR\",\n\t\t\t\"CURP_PRODUCTOR\",\n\t\t\t\"ESTADO\",\n\t\t\t\"ESTADO_PERMISO\",\n\t\t\t\"FECHA_EMICION\",\n\t\t\t\"FECHA_LIMITE\",\n\t\t\t\"FUENTE_CREDITO\",\n\t\t\t\"LOCALIDAD\",\n\t\t\t\"LOTE\",\n\t\t\t\"MODULO\",\n\t\t\t\"MUNICIPIO\",\n\t\t\t\"NOMBRE_CULTIVO\",\n\t\t\t\"NOMBRE_LOCALIDAD\",\n\t\t\t\"NOMBRE_PRODUCTOR\",\n\t\t\t\"NUMERO_PERMISO\",\n\t\t\t\"OBSERVACIONES\",\n\t\t\t\"REACOMODO\",\n\t\t\t\"RFC_PRODUCTOR\",\n\t\t\t\"SECCION\",\n\t\t\t\"SISTEMA\",\n\t\t\t\"SUBCICLO\",\n\t\t\t\"SUP_AUTORIZADA\",\n\t\t\t\"SUP_DERECHO\",\n\t\t\t\"TIPO_PERMISO\",\n\t\t\t\"TIPO_LOCALIDAD\",\n\t\t\t\"TIPO_SEMILLA\",\n\t\t\t\"TRANSFERENCIA\",\n\t\t\t\"USUARIO\",\n\t\t\t\"VARIEDAD\",\n\t\t],\n\t};\n\n\tconst permisosBatch = await db\n\t\t.collectionGroup(\"permisos\")\n\t\t.where(\"claveCultivo\", \"==\", 3)\n\t\t.where(\"ciclo\", \"==\", \"2023-2024\")\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tpermisosBatch.forEach((permiso) => {\n\t\tpermisos.push({\n\t\t\tCICLO: permiso.data().ciclo,\n\t\t\tCLAVE_CULTIVO: permiso.data().claveCultivo,\n\t\t\tCLAVECULTIVO_ANTERIOR: permiso.data().claveCultivoAnterior,\n\t\t\tCLAVE_LOCALIDAD: permiso.data().claveLocalidad,\n\t\t\tCUENTA: permiso.data().cuenta,\n\t\t\tCULTIVO_ANTERIOR: permiso.data().cultivoAnterior,\n\t\t\tCURP_PRODUCTOR: permiso.data().curpProductor,\n\t\t\tESTADO: permiso.data().estado,\n\t\t\tESTADO_PERMISO: permiso.data().estadoPermiso,\n\t\t\tFECHA_EMICION: permiso.data().fechaEmicion.toDate().toLocaleDateString(),\n\t\t\tFECHA_LIMITE: permiso.data().fechaLimite.toDate().toLocaleDateString(),\n\t\t\tFUENTE_CREDITO: permiso.data().fuenteCredito,\n\t\t\tLOCALIDAD: permiso.data().localidad,\n\t\t\tLOTE: permiso.data().lote,\n\t\t\tMODULO: permiso.data().modulo,\n\t\t\tMUNICIPIO: permiso.data().municipio,\n\t\t\tNOMBRE_CULTIVO: permiso.data().nombreCultivo,\n\t\t\tNOMBRE_LOCALIDAD: permiso.data().nombreLocalidad,\n\t\t\tNOMBRE_PRODUCTOR: permiso.data().nombreProductor,\n\t\t\tNUMERO_PERMISO: permiso.data().numeroPermiso,\n\t\t\tOBSERVACIONES: permiso.data().observaciones,\n\t\t\tREACOMODO: permiso.data().reacomodo,\n\t\t\tRFC_PRODUCTOR: permiso.data().rfcProductor,\n\t\t\tSECCION: permiso.data().seccion,\n\t\t\tSISTEMA: permiso.data().sistema,\n\t\t\tSUBCICLO: permiso.data().subciclo,\n\t\t\tSUP_AUTORIZADA: permiso.data().supAutorizada,\n\t\t\tSUP_DERECHO: permiso.data().supDerecho,\n\t\t\tTIPO_PERMISO: permiso.data().tipo,\n\t\t\tTIPO_LOCALIDAD: permiso.data().tipoLocalidad,\n\t\t\tTIPO_SEMILLA: permiso.data().tipoSemilla,\n\t\t\tTRANSFERENCIA: permiso.data().transferencia,\n\t\t\tUSUARIO: permiso.data().usuario,\n\t\t\tVARIEDAD: permiso.data().variedad,\n\t\t});\n\t});\n\n\texportJSONToExcel(permisos, headers, \"PermisosTrigoDic23\", \"JulioMolina\", \"PermisosTrigoDic23\");\n\n\t// console.table(permisos);\n};\n\n// Muestra permisoa cancelados por modulo ######################################################################\n// export const editarPermisos = async () => {\n// \tconst permisos = [];\n// \tconst usuarios = [];\n\n// \tconst usuariosBatch = await db.collection(\"usuarios\").get();\n\n// \tusuariosBatch.forEach((usuario) => {\n// \t\tusuarios.push({\n// \t\t\tid: usuario.id,\n// \t\t\tdisplayName: usuario.data().displayName,\n// \t\t\temail: usuario.data().email\n// \t\t});\n// \t});\n\n// \tconst permisosBatch = await db\n// \t\t.collection(\"permisos\")\n// \t\t.doc(\"2021-2022\")\n// \t\t.collection(\"modulos\")\n// \t\t.doc(`Modulo-14`)\n// \t\t.collection(\"permisos\")\n// \t\t.where(\"estadoPermiso\", \"!=\", \"activo\")\n// \t\t.get();\n\n// \tpermisosBatch.forEach((permiso) => {\n// \t\tconst usuario = usuarios.find(\n// \t\t\t(usuario) => usuario.id === permiso.data().solicitanteCancelacion\n// \t\t);\n// \t\tpermisos.push({\n// \t\t\tnumeroPermiso: permiso.data().numeroPermiso,\n// \t\t\tciclo: permiso.data().ciclo,\n// \t\t\testadoPermiso: permiso.data().estadoPermiso,\n// \t\t\tcuenta: permiso.data().cuenta,\n// \t\t\tusuario: permiso.data().usuario,\n// \t\t\tnombreCultivo: permiso.data().nombreCultivo,\n// \t\t\tsupAutorizada: permiso.data().supAutorizada,\n// \t\t\tusuarioSolicitante: usuario.displayName,\n// \t\t\temailSolicitante: usuario.email,\n// \t\t\tfechaSolicitudCancelacion: permiso\n// \t\t\t\t.data()\n// \t\t\t\t.fechaSolicitudCancelacion.toDate()\n// \t\t\t\t.toLocaleDateString()\n// \t\t});\n// \t});\n\n// \tconsole.table(permisos);\n// };\n\n// // Muestra los permisos expedidos que evadieron labores fitosanitarias ###########################################\n// export const editarPermisos = async () => {\n// \tconst permisosAnterioresSnap = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"claveCultivo\", \"==\", 80)\n// \t\t.where(\"ciclo\", \"==\", \"2021-2022\")\n// \t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n// \t\t.get();\n\n// \tconst permisosAnteriores = [];\n// \tconst permisosNuevosPromises = [];\n\n// \tpermisosAnterioresSnap.forEach((permiso) => {\n// \t\tpermisosAnteriores.push({ ...permiso.data() });\n\n// \t\tconst permisosNuevosRef = db\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(\"2022-2023\")\n// \t\t\t.collection(\"modulos\")\n// \t\t\t.doc(`Modulo-${permiso.data().modulo}`)\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.where(\"cuenta\", \"==\", permiso.data().cuenta);\n\n// \t\tpermisosNuevosPromises.push(permisosNuevosRef.get());\n// \t});\n\n// \tconst permisosNuevosResolbed = await Promise.all(permisosNuevosPromises);\n// \tconst permisosFujitivos = [];\n\n// \tpermisosNuevosResolbed.forEach((batch) => {\n// \t\tbatch.forEach((permisoNuevo) => {\n// \t\t\tconst arrayDePermisosAnteriores = permisosAnteriores.filter(\n// \t\t\t\t(permisoAnterior) => permisoAnterior.cuenta === permisoNuevo.data().cuenta\n// \t\t\t);\n\n// \t\t\tlet stringDePermisosAnteriores = \"\";\n\n// \t\t\tarrayDePermisosAnteriores.forEach((permiso) => {\n// \t\t\t\tstringDePermisosAnteriores = `${stringDePermisosAnteriores}${permiso.numeroPermiso}*(${permiso.supAutorizada}ha) `;\n// \t\t\t});\n\n// \t\t\tpermisosFujitivos.push({\n// \t\t\t\tid: permisoNuevo.id,\n// \t\t\t\tcultivo: permisoNuevo.data().nombreCultivo,\n// \t\t\t\tmodulo: permisoNuevo.data().modulo,\n// \t\t\t\tcuenta: permisoNuevo.data().cuenta,\n// \t\t\t\texpedida: permisoNuevo.data().supAutorizada,\n// \t\t\t\tderecho: permisoNuevo.data().supDerecho,\n// \t\t\t\tpermisosAnteriores: stringDePermisosAnteriores\n// \t\t\t});\n// \t\t});\n// \t});\n\n// \tconsole.table(permisosFujitivos);\n// };\n\n// // Registra permisos ###########################################################################################\n// export const editarPermisos = async () => {\n// \tconst permisos = [\n// \t\t{\n// \t\t\tnumeroPermiso: \"MOD9B-2000\",\n// \t\t\tcuenta: \"10497.0\",\n// \t\t\tusuario: \"ESTRADA GARCIA ERENDIDA Y+\",\n// \t\t\tmodulo: \"9B\",\n// \t\t\tclaveLocalidad: 71,\n// \t\t\ttipoLocalidad: \"Colonia\",\n// \t\t\tnombreLocalidad: \"MADERO\",\n// \t\t\tlote: \"31\",\n// \t\t\tsupAutorizada: 20\n// \t\t},\n// \t\t{\n// \t\t\tnumeroPermiso: \"MOD11-2000\",\n// \t\t\tcuenta: \"12455.0\",\n// \t\t\tusuario: \"LOPEZ ANGULO ROSA\",\n// \t\t\tmodulo: \"11\",\n// \t\t\tclaveLocalidad: 104,\n// \t\t\ttipoLocalidad: \"Colonia\",\n// \t\t\tnombreLocalidad: \"SONORA\",\n// \t\t\tlote: \"21\",\n// \t\t\tsupAutorizada: 11.19\n// \t\t},\n// \t\t{\n// \t\t\tnumeroPermiso: \"MOD11-2001\",\n// \t\t\tcuenta: \"12767.0\",\n// \t\t\tusuario: \"PALMERIN MEDRANO RAMON Y+\",\n// \t\t\tmodulo: \"11\",\n// \t\t\tclaveLocalidad: 110,\n// \t\t\ttipoLocalidad: \"Colonia\",\n// \t\t\tnombreLocalidad: \"V. CARRANZA\",\n// \t\t\tlote: \"47\",\n// \t\t\tsupAutorizada: 20\n// \t\t},\n// \t\t{\n// \t\t\tnumeroPermiso: \"MOD17-2000\",\n// \t\t\tcuenta: \"14635.0\",\n// \t\t\tusuario: \"DE LA CERDA PIZANO LUIS\",\n// \t\t\tmodulo: \"17\",\n// \t\t\tclaveLocalidad: 166,\n// \t\t\ttipoLocalidad: \"Ejido\",\n// \t\t\tnombreLocalidad: \"HIDALGO\",\n// \t\t\tlote: \"8\",\n// \t\t\tsupAutorizada: 16.92\n// \t\t},\n// \t\t{\n// \t\t\tnumeroPermiso: \"MOD21-2000\",\n// \t\t\tcuenta: \"8436.0\",\n// \t\t\tusuario: \"JIMENEZ BARRERA GABRIEL\",\n// \t\t\tmodulo: \"21\",\n// \t\t\tclaveLocalidad: 211,\n// \t\t\ttipoLocalidad: \"Ejido\",\n// \t\t\tnombreLocalidad: \"SOMBRERETE I\",\n// \t\t\tlote: \"93\",\n// \t\t\tsupAutorizada: 6.59\n// \t\t}\n// \t];\n\n// \ttry {\n// \t\tpermisos.forEach((permiso) => {\n// \t\t\tconsole.log(\"Escribiendo: \", permiso.numeroPermiso);\n\n// \t\t\tdb.collection(\"permisos\")\n// \t\t\t\t.doc(\"2020-2021\")\n// \t\t\t\t.collection(\"modulos\")\n// \t\t\t\t.doc(`Modulo-${permiso.modulo}`)\n// \t\t\t\t.collection(\"permisos\")\n// \t\t\t\t.doc(permiso.numeroPermiso)\n// \t\t\t\t.set({\n// \t\t\t\t\t...permiso,\n// \t\t\t\t\tciclo: \"2020-2021\",\n// \t\t\t\t\tnombreCultivo: \"ALGODONERO\",\n// \t\t\t\t\testadoPermiso: \"activo\",\n// \t\t\t\t\tclaveCultivo: 80,\n// \t\t\t\t\tbarbechado: false,\n// \t\t\t\t\tcosechado: false,\n// \t\t\t\t\tdesarraigado: false,\n// \t\t\t\t\tdesfoliado: false,\n// \t\t\t\t\tdesvarado: false,\n// \t\t\t\t\tdisqueado: false,\n// \t\t\t\t\tlaboresPendientes: true,\n// \t\t\t\t\tpagado: false,\n// \t\t\t\t\tsuperficieMapeada: 0,\n// \t\t\t\t\ttecnico: false\n// \t\t\t\t});\n// \t\t});\n// \t} catch (error) {\n// \t\tconsole.log(error);\n// \t}\n// };\n\n// // Asigna tecnico a permisos del 2021-2022 ##################################################################\n// export const editarPermisos = async () => {\n// \tconst permisosSnap = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"claveCultivo\", \"==\", 80)\n// \t\t.where(\"ciclo\", \"==\", \"2021-2022\")\n// \t\t.get();\n\n// \tconst tecnicosSnap = await db.collection(\"usuarios\").where(\"rol\", \"==\", \"tecnicoCESVBC\").get();\n\n// \tconst tecnicos = [];\n// \ttecnicosSnap.forEach((tecnico) => {\n// \t\ttecnicos.push({\n// \t\t\tid: tecnico.id,\n// \t\t\tlocalidades: tecnico.data().localidades\n// \t\t});\n// \t});\n\n// \tlet batch = db.batch();\n// \tlet i = 1;\n// \tconst batchSize = 500;\n\n// \tpermisosSnap.forEach((permiso) => {\n// \t\tconst tecnico = tecnicos.find((tecnico) =>\n// \t\t\ttecnico.localidades.includes(permiso.data().claveLocalidad)\n// \t\t);\n// \t\t// console.log(permiso.id);\n// \t\t// console.log(permiso.data().claveLocalidad);\n// \t\t// else console.log(\"sintecnico\");\n// \t\t// if (tecnico) {\n// \t\t// \tconsole.log(tecnico.id);\n// \t\t// \tconsole.log(permiso.data().claveLocalidad);\n// \t\t// \tconsole.log(permiso.id);\n// \t\t// }\n\n// \t\tconst ref = db\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(\"2021-2022\")\n// \t\t\t.collection(\"modulos\")\n// \t\t\t.doc(`Modulo-${permiso.data().modulo}`)\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(permiso.id);\n\n// \t\tbatch.update(ref, {\n// \t\t\tlaboresPendientes: true,\n// \t\t\ttecnico: tecnico ? tecnico.id : false\n// \t\t});\n\n// \t\tif (i === batchSize) {\n// \t\t\tbatch\n// \t\t\t\t.commit()\n// \t\t\t\t.then(() => {\n// \t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n// \t\t\t\t})\n// \t\t\t\t.catch((err) => {\n// \t\t\t\t\tconsole.error(err);\n// \t\t\t\t});\n// \t\t\tbatch = db.batch();\n// \t\t\ti = 0;\n// \t\t}\n\n// \t\ti++;\n// \t});\n\n// \tbatch\n// \t\t.commit()\n// \t\t.then(() => {\n// \t\t\tconsole.log(\"Se terminaron de editar los permisos\");\n// \t\t})\n// \t\t.catch((err) => {\n// \t\t\tconsole.error(err);\n// \t\t\tconsole.log(\"Ya termino\");\n// \t\t});\n// };\n\n// // Homologa permisos de algodon del 2020-2021 con 2021-2022 ###########################################################\n// export const editarPermisos = async () => {\n// \tconst permisosSnap = await db\n// \t\t.collectionGroup(\"permisos\")\n// \t\t.where(\"cultivo\", \"==\", \"ALGODONERO\")\n// \t\t.where(\"ciclo\", \"==\", \"2020-2021\")\n// \t\t.get();\n\n// \tlet batch = db.batch();\n// \tlet i = 1;\n// \tconst batchSize = 500;\n\n// \t// const permisos = [];\n// \tpermisosSnap.forEach((permiso) => {\n// \t\t// console.log(permiso.data().claveLocalidad);\n// \t\t// else console.log(\"sintecnico\");\n// \t\t// if (tecnico) {\n// \t\t// \tconsole.log(tecnico.id);\n// \t\t// \tconsole.log(permiso.data().claveLocalidad);\n// \t\t// \tconsole.log(permiso.id);\n// \t\t// }\n\n// \t\t// permisos.push({\n// \t\t// \tnombreCultivo: \"ALGODONERO\",\n// \t\t// \tclaveCultivo: 80,\n// \t\t// \tnumeroPermiso: permiso.data().folio,\n// \t\t// \testadoPermiso: \"activo\",\n// \t\t// \tusuario: permiso.data().nombre,\n// \t\t// \tsupAutorizada: permiso.data().superficie,\n// \t\t// \tnombreLocalidad: permiso.data().ubicacion\n// \t\t// });\n\n// \t\tconst ref = db\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(\"2020-2021\")\n// \t\t\t.collection(\"modulos\")\n// \t\t\t.doc(`Modulo-${permiso.data().modulo}`)\n// \t\t\t.collection(\"permisos\")\n// \t\t\t.doc(permiso.id);\n\n// \t\tbatch.update(ref, {\n// \t\t\tnombreCultivo: \"ALGODONERO\",\n// \t\t\tclaveCultivo: 80,\n// \t\t\tnumeroPermiso: permiso.data().folio,\n// \t\t\testadoPermiso: \"activo\",\n// \t\t\tusuario: permiso.data().nombre,\n// \t\t\tsupAutorizada: permiso.data().superficie,\n// \t\t\tnombreLocalidad: permiso.data().ubicacion\n// \t\t});\n\n// \t\tif (i === batchSize) {\n// \t\t\tbatch\n// \t\t\t\t.commit()\n// \t\t\t\t.then(() => {\n// \t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n// \t\t\t\t})\n// \t\t\t\t.catch((err) => {\n// \t\t\t\t\tconsole.error(err);\n// \t\t\t\t});\n// \t\t\tbatch = db.batch();\n// \t\t\ti = 0;\n// \t\t}\n\n// \t\ti++;\n// \t});\n\n// \tbatch\n// \t\t.commit()\n// \t\t.then(() => {\n// \t\t\tconsole.log(\"Se terminaron de editar los permisos\");\n// \t\t})\n// \t\t.catch((err) => {\n// \t\t\tconsole.error(err);\n// \t\t\tconsole.log(\"Ya termino\");\n// \t\t});\n\n// \t// console.log(permisos);\n// };\n","// Traer todos los permisos del modulo\n// Crear un array con las claves de los diferentes cultivos expedidos\n// Crear un array con la superficies expedidadas por cultivo\n// Traer las soperficies por cultivo del modulo\n// Comparar los superficies de los permisos con la de los conteos\n\nimport { db } from \"../../../firebase/firebase-config\";\n\nexport const verificarExpedicion = async (modulo, ciclo, actualizar) => {\n\tconst cultivosFromPermisos = [];\n\n\tconst permisosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisos`)\n\t\t.where(\"estadoPermiso\", \"!=\", \"Cancelado\")\n\t\t.get();\n\n\tconst permisos = [];\n\tpermisosSnap.forEach((snap) => {\n\t\tpermisos.push(snap.data());\n\t});\n\n\tconst conteosSnap = await db\n\t\t.collection(`permisos`)\n\t\t.doc(ciclo)\n\t\t.collection(\"modulos\")\n\t\t.doc(`Modulo-${modulo}`)\n\t\t.collection(`permisosPorCultivo`)\n\t\t.get();\n\n\tconst conteos = [];\n\tconteosSnap.forEach((snap) => {\n\t\tconteos.push({ id: snap.id, ...snap.data() });\n\t});\n\n\tconst cultivos = onlyUnique(permisos, \"claveCultivo\");\n\n\tcultivos.forEach((cultivo) => {\n\t\tconst batch = permisos.filter((permiso) => permiso.claveCultivo === cultivo);\n\t\tconst cultivoData = {\n\t\t\tid: `${cultivo}-${batch[0].nombreCultivo}`,\n\t\t\tclave: cultivo,\n\t\t\tcultivo: batch[0].nombreCultivo,\n\t\t\tgravedadNormal: 0,\n\t\t\tnumeroPermisos: 0,\n\t\t\tpozoNormal: 0,\n\t\t\tpozoParticularNormal: 0,\n\t\t\tsuperficie: 0\n\t\t};\n\n\t\tbatch.forEach((permiso) => {\n\t\t\tswitch (permiso.sistema) {\n\t\t\t\tcase \"Gravedad\":\n\t\t\t\t\tcultivoData.gravedadNormal = cultivoData.gravedadNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Federal\":\n\t\t\t\t\tcultivoData.pozoNormal = cultivoData.pozoNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Pozo Particular\":\n\t\t\t\t\tcultivoData.pozoParticularNormal =\n\t\t\t\t\t\tcultivoData.pozoParticularNormal + permiso.supAutorizada;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcultivoData.numeroPermisos = cultivoData.numeroPermisos + 1;\n\t\t\tcultivoData.superficie = cultivoData.superficie + permiso.supAutorizada;\n\t\t});\n\n\t\tcultivosFromPermisos.push(cultivoData);\n\t});\n\n\tcultivosFromPermisos.forEach((cultivoPer) => {\n\t\tconst cultivoCont = conteos.find((cultivo) => cultivo.id === cultivoPer.id);\n\n\t\tif (cultivoCont.gravedadNormal === undefined) cultivoCont.gravedadNormal = 0;\n\t\tif (cultivoCont.pozoNormal === undefined) cultivoCont.pozoNormal = 0;\n\t\tif (cultivoCont.pozoParticularNormal === undefined) cultivoCont.pozoParticularNormal = 0;\n\n\t\tconst igualGravedad = cultivoCont.gravedadNormal === cultivoPer.gravedadNormal ? true : false;\n\t\tconst igualPozo = cultivoCont.pozoNormal === cultivoPer.pozoNormal ? true : false;\n\t\tconst igualPozoParticular =\n\t\t\tcultivoCont.pozoParticularNormal === cultivoPer.pozoParticularNormal ? true : false;\n\t\tconst igualTotal = cultivoCont.superficie === cultivoPer.superficie ? true : false;\n\t\tconst igualNumero = cultivoCont.numeroPermisos === cultivoPer.numeroPermisos ? true : false;\n\n\t\tconst table = [\n\t\t\t{ tipo: cultivoPer.id },\n\n\t\t\t{\n\t\t\t\ttipo: \"Gravedad\",\n\t\t\t\tconteo: cultivoCont.gravedadNormal,\n\t\t\t\tpermisos: cultivoPer.gravedadNormal,\n\t\t\t\tdif: cultivoPer.gravedadNormal - cultivoCont.gravedadNormal,\n\t\t\t\tigualdad: igualGravedad\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Pozo\",\n\t\t\t\tconteo: cultivoCont.pozoNormal,\n\t\t\t\tpermisos: cultivoPer.pozoNormal,\n\t\t\t\tdif: cultivoPer.pozoNormal - cultivoCont.pozoNormal,\n\t\t\t\tigualdad: igualPozo\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Pozo Particular\",\n\t\t\t\tconteo: cultivoCont.pozoParticularNormal,\n\t\t\t\tpermisos: cultivoPer.pozoParticularNormal,\n\t\t\t\tdif: cultivoPer.pozoParticularNormal - cultivoCont.pozoParticularNormal,\n\t\t\t\tigualdad: igualPozoParticular\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Total\",\n\t\t\t\tconteo: cultivoCont.superficie,\n\t\t\t\tpermisos: cultivoPer.superficie,\n\t\t\t\tdif: cultivoPer.superficie - cultivoCont.superficie,\n\t\t\t\tigualdad: igualTotal\n\t\t\t},\n\t\t\t{\n\t\t\t\ttipo: \"Numero\",\n\t\t\t\tconteo: cultivoCont.numeroPermisos,\n\t\t\t\tpermisos: cultivoPer.numeroPermisos,\n\t\t\t\tdif: cultivoPer.numeroPermisos - cultivoCont.numeroPermisos,\n\t\t\t\tigualdad: igualNumero\n\t\t\t}\n\t\t];\n\t\tif (!igualGravedad || !igualPozo || !igualPozoParticular || !igualTotal || !igualNumero) {\n\t\t\tconsole.table(table);\n\n\t\t\tif (actualizar) {\n\t\t\t\tdb.collection(`permisos`)\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${modulo}`)\n\t\t\t\t\t.collection(`permisosPorCultivo`)\n\t\t\t\t\t.doc(cultivoPer.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\tgravedadNormal: cultivoPer.gravedadNormal,\n\t\t\t\t\t\tpozoNormal: cultivoPer.pozoNormal,\n\t\t\t\t\t\tpozoParticularNormal: cultivoPer.pozoParticularNormal,\n\t\t\t\t\t\tsuperficie: cultivoPer.superficie,\n\t\t\t\t\t\tnumeroPermisos: cultivoPer.numeroPermisos\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tconsole.log(`Se termido de actualizar el modulo: ${modulo}`);\n};\n\nconst onlyUnique = (objectsArray, key) => {\n\tconst unique = [];\n\tobjectsArray.forEach((element) => {\n\t\tconst index = unique.indexOf(element[key]);\n\t\tif (index === -1) {\n\t\t\tunique.push(element[key]);\n\t\t}\n\t});\n\n\tunique.sort((a, b) => sortFunction(a, b));\n\treturn unique;\n};\n\nconst sortFunction = (a, b) => {\n\tswitch (typeof a) {\n\t\tcase \"number\":\n\t\t\tif (a < b) return 1;\n\t\t\tif (a > b) return -1;\n\t\t\treturn 0;\n\n\t\tdefault:\n\t\t\tif (a > b) return 1;\n\t\t\tif (a < b) return -1;\n\t\t\treturn 0;\n\t}\n};\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { verificarExpedicion } from \"../../helpers/DB/DBTools/verificarExpedicion\";\n\nexport const ExpeditionCheckModule = () => {\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst [update, setUpdate] = useState(false);\n\tconst handleUpdateMode = () => {\n\t\tsetUpdate(!update);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3>Verificar expedicion</h3>\n\n\t\t\t<div className=\"col-12 d-flex\">\n\t\t\t\t<h5>Modulo: {modulo}</h5>\n\n\t\t\t\t<button className=\"btn btn-outline-primary ml-4\" onClick={handleUpdateMode}>\n\t\t\t\t\tModo:\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\t// Solo imprime la tabla si hay diferencias\n\t\t\t\t\tonClick={() => verificarExpedicion(modulo, \"2022-2023\", update)}\n\t\t\t\t\tclassName=\"btn btn-primary ml-5\"\n\t\t\t\t>\n\t\t\t\t\t{update ? \"Actualizar\" : \"Revisar\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { setUpdatingPermisos, unsetUpdatingPermisos } from \"../../actions/ui\";\nimport Swal from \"sweetalert2\";\nimport { readExcel } from \"../functions/readExcel\";\nimport { db } from \"../../firebase/firebase-config\";\n\nexport const cargarPermisosExcel = (file, ciclo) => {\n\treturn async (dispatch) => {\n\t\tawait dispatch(setUpdatingPermisos());\n\n\t\tconst data = await readExcel(file);\n\t\tconst localidesSnap = await db.collection(\"colonias\").get();\n\t\tconst localidades = [];\n\t\t// const itemsToUpload = [];\n\n\t\tlocalidesSnap.forEach((localidad) => {\n\t\t\tlocalidades.push(localidad.data());\n\t\t});\n\n\t\tconst itemsToUploadPromises = await data.map(async (permiso) => {\n\t\t\tconst cuenta = defineCuenta(`${permiso.cuenta}`, \".\");\n\t\t\tconst padronId = defineCuenta(`${permiso.cuenta}`, \"-\");\n\t\t\tconst derechos = await db.collection(\"derechos\").doc(padronId).get();\n\t\t\tconst labores = defineLabores(permiso.labores ?? \"\");\n\t\t\tconst tecnico = defineTecnico(permiso.tecnico ?? \"\");\n\n\t\t\tif (derechos.exists) {\n\t\t\t\tconst modulo = `${derechos.data().modulo}`;\n\t\t\t\tconst folio = defineFolio(modulo, permiso.folio);\n\t\t\t\tconst idLocalidad = derechos.data().ejido;\n\t\t\t\tconst localidad = localidades.find((localidad) => localidad.clave === idLocalidad);\n\n\t\t\t\treturn {\n\t\t\t\t\t...labores,\n\t\t\t\t\tfolio,\n\t\t\t\t\tmodulo,\n\t\t\t\t\tcuenta,\n\t\t\t\t\tnombre: permiso.nombre.trim(),\n\t\t\t\t\tcultivo: permiso.cultivo.trim(),\n\t\t\t\t\tsuperficie: permiso.superficie,\n\t\t\t\t\tlote: `${permiso.lote}`,\n\t\t\t\t\tubicacion: defineNombe(localidad.nombre, permiso.ubicación),\n\t\t\t\t\tclaveLocalidad: localidad.clave,\n\t\t\t\t\ttipoLocalidad: localidad.tipo,\n\t\t\t\t\testadoPermiso: \"Activo\",\n\t\t\t\t\tlaboresPendientes: true,\n\t\t\t\t\tciclo: \"2020-2021\",\n\t\t\t\t\ttecnico\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Cuenta desconocida: \", padronId);\n\t\t\t}\n\t\t});\n\n\t\tconst itemsToUpload = await Promise.all(itemsToUploadPromises);\n\n\t\tlet batch = db.batch();\n\t\tlet i = 1;\n\t\tconst batchSize = 500;\n\n\t\titemsToUpload.forEach((permiso) => {\n\t\t\tif (permiso) {\n\t\t\t\tconst ref = db\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(ciclo)\n\t\t\t\t\t.collection(\"modulos\")\n\t\t\t\t\t.doc(`Modulo-${permiso.modulo}`)\n\t\t\t\t\t.collection(\"permisos\")\n\t\t\t\t\t.doc(permiso.folio);\n\n\t\t\t\tbatch.set(ref, permiso);\n\t\t\t}\n\n\t\t\tif (i === batchSize) {\n\t\t\t\tbatch\n\t\t\t\t\t.commit()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Se termino de subir batch\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t\tbatch = db.batch();\n\t\t\t\ti = 0;\n\t\t\t}\n\n\t\t\ti++;\n\t\t});\n\n\t\tbatch\n\t\t\t.commit()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Se terminaron de subir los permisos\");\n\t\t\t\tSwal.fire(\"Permisos actualizados\", \"Se subieron con exito los permisos.\", \"success\");\n\t\t\t\tdispatch(unsetUpdatingPermisos());\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t};\n};\n\n// const defineModulo = (word) => {\n// \tconst parts = word.split(\" \");\n\n// \tif (parts.length === 1) return parts[0];\n// \telse if (parts[0] === \"Modulo\") return parts[1];\n// \telse if (parts[0] === \"Unidad\") return `UNI0${parts[1]}`;\n// \telse return \"XXXXXX\";\n// };\n\nconst defineCuenta = (word, separator) => {\n\tconst parts = word.split(\".\");\n\n\tif (parts.length === 1) return `${parts[0]}${separator}0`;\n\telse return `${parts[0]}${separator}${parts[1]}`;\n};\n\nconst defineFolio = (modulo, folio) => {\n\tswitch (modulo) {\n\t\tcase \"UNI01\":\n\t\tcase \"UNI02\":\n\t\tcase \"UNI03\":\n\t\t\treturn `${modulo}-${folio}`;\n\n\t\tdefault:\n\t\t\treturn `MOD${modulo}-${folio}`;\n\t}\n};\n\nconst defineNombe = (nombrePadron, nombreExcel) => {\n\tconst dividedName = nombrePadron.split(\" \");\n\n\tif (dividedName[0] === \"Desconocido\") return nombreExcel.trim();\n\telse return nombrePadron.trim();\n};\n\nconst defineLabores = (trabajos) => {\n\tif (trabajos.trim() === \"BARBECHADO\") {\n\t\treturn {\n\t\t\tdesfoliado: true,\n\t\t\tcosechado: true,\n\t\t\tdesvarado: true,\n\t\t\tdisqueado: true,\n\t\t\tdesarraigado: true,\n\t\t\tbarbechado: true\n\t\t};\n\t} else return {};\n};\n\nconst defineTecnico = (tecnico) => {\n\tswitch (tecnico.trim()) {\n\t\tcase \"ADRIAN VILLA\":\n\t\t\treturn \"GOxDoCdADSSVhj1gQIXxzZ5YN4H3\";\n\n\t\tcase \"EDUARDO BAÑUELOS\":\n\t\t\treturn \"rUxW1A8ehVWGYzjK91c8LCwwklb2\";\n\n\t\tcase \"EDUARDO ZAVALA\":\n\t\t\treturn \"31naXMbqQibk1SzOLIhZ5JXFYAk1\";\n\n\t\tcase \"GUILEBALDO ZAVALA\":\n\t\t\treturn \"u2onRGMYn6RqLafQC3LNe2cP64q1\";\n\n\t\tcase \"SAUL VEA BERRELLEZA\":\n\t\t\treturn \"rA5pOGIhqZceAigtDlP0cVy2SwA3\";\n\n\t\tcase \"CORNELIO LARA\":\n\t\t\treturn \"bHflypkGK8SBj2VAOe6lIccxwbc2\";\n\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n};\n\n/* \n31naXMbqQibk1SzOLIhZ5JXFYAk1\n7x7LpErVMrcGQDvI5sBflOnzOx12\nGOxDoCdADSSVhj1gQIXxzZ5YN4H3\nbHflypkGK8SBj2VAOe6lIccxwbc2\nrA5pOGIhqZceAigtDlP0cVy2SwA3\nrUxW1A8ehVWGYzjK91c8LCwwklb2\nu2onRGMYn6RqLafQC3LNe2cP64q1\n*/\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cargarPermisosExcel } from \"../../helpers/DB/cargarPermisosExcel\";\nimport { FileInput } from \"../ui/atoms/FileInput\";\n\nexport const PermisosExcelModule = () => {\n\tconst { updatingPermisos } = useSelector((state) => state.ui);\n\tconst dispatch = useDispatch();\n\n\tconst startUpdatePermisos = (file) => {\n\t\tdispatch(cargarPermisosExcel(file, \"2020-2021\"));\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h3>Subir Permisos</h3>\n\n\t\t\t<FileInput\n\t\t\t\tactionFunction={startUpdatePermisos}\n\t\t\t\ttitle=\"Cargar Padron\"\n\t\t\t\tupdating={updatingPermisos}\n\t\t\t\tfileExtension=\".xlsx\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { printDuplicatePermits } from \"../../helpers/printDuplicatePermits\";\nimport { DictamenManual } from \"../modulos/DictamenManual\";\nimport { editarPermisos } from \"../../helpers/DB/editarPermisos\";\nimport { ExpeditionCheckModule } from \"../modulos/ExpeditionCheckModule\";\nimport { PermisosExcelModule } from \"../modulos/PermisosExcelModule\";\nimport { ProducersReport } from \"../ui/organisms/ProducersReport\";\n\nexport const TestArea = () => {\n\t// console.log(\"modulo en test: \", modulo);\n\n\tconst editar = () => {\n\t\teditarPermisos();\n\t};\n\n\tconst cargarPermisos = () => {\n\t\tprintDuplicatePermits();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row justify-content-center pt-5\">\n\t\t\t\t<h1>TestArea</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<ProducersReport />\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center pt-5\">\n\t\t\t\t<h1>Dev Tools</h1>\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1\">\n\t\t\t\t<ExpeditionCheckModule />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1 mt-5\">\n\t\t\t\t<PermisosExcelModule />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded d-flex flex-column p-3 m-1 mt-5\">\n\t\t\t\t<DictamenManual />\n\t\t\t</div>\n\n\t\t\t<div className=\"row border rounded p-3 m-1 mt-5\">\n\t\t\t\t<button className=\"btn btn-primary\" onClick={cargarPermisos}>\n\t\t\t\t\tPermisos Duplicados\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-5\">\n\t\t\t\t<button onClick={editar} className=\"btn btn-primary\">\n\t\t\t\t\tEditar Permisos\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCicloConsulta } from \"../../../actions/auth\";\n\nexport const CicleSelector = () => {\n\tconst { cicloConsulta } = useSelector((state) => state.auth.variablesGlobales);\n\n\tconst [ciclo, setCiclo] = useState(cicloConsulta);\n\tconst dispatch = useDispatch();\n\n\tconst handleSetCiclo = ({ target }) => {\n\t\tsetCiclo(target.value);\n\t\tdispatch(setCicloConsulta(target.value));\n\t};\n\n\treturn (\n\t\t<select\n\t\t\tname=\"ciclo\"\n\t\t\tid=\"ciclo\"\n\t\t\ttype=\"text\"\n\t\t\tvalue={ciclo}\n\t\t\tonChange={handleSetCiclo}\n\t\t\tclassName=\"form-control\"\n\t\t>\n\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\tCiclo\n\t\t\t</option>\n\n\t\t\t<option value=\"2023-2024\">2023-2024</option>\n\t\t\t<option value=\"2022-2023\">2022-2023</option>\n\t\t\t<option value=\"2021-2022\">2021-2022</option>\n\t\t</select>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setEntity } from \"../../../actions/auth\";\n\nexport const EntitySelector = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { rol } = useSelector((state) => state.auth);\n\n\tconst dispatch = useDispatch();\n\n\tconst modulos = entities.filter((entity) => {\n\t\tswitch (entity.id) {\n\t\t\tcase \"CNA\":\n\t\t\tcase \"SADER\":\n\t\t\tcase \"CESVBC\":\n\t\t\tcase \"SRL\":\n\t\t\t\treturn false;\n\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t});\n\n\tconst [entity, setentity] = useState(\"\");\n\n\tconst handleSetEntity = ({ target }) => {\n\t\tsetentity(target.value);\n\t\tconst entity = entities.find((entity) => entity.id === target.value);\n\t\tdispatch(\n\t\t\tsetEntity(\n\t\t\t\tentity.nombre,\n\t\t\t\tentity.img,\n\t\t\t\tentity.clave,\n\t\t\t\tentity.dotacionGravedad,\n\t\t\t\tentity.dotacionPozo,\n\t\t\t\tentity.titular,\n\t\t\t\tentity.direccion,\n\t\t\t\tentity.expedicionActivaModulo,\n\t\t\t\trol,\n\t\t\t\tentity.clave\n\t\t\t)\n\t\t);\n\t};\n\n\treturn (\n\t\t<select\n\t\t\tname=\"campo\"\n\t\t\tid=\"campo\"\n\t\t\ttype=\"text\"\n\t\t\tvalue={entity}\n\t\t\tonChange={handleSetEntity}\n\t\t\tclassName=\"form-control\"\n\t\t>\n\t\t\t<option hidden defaultValue=\"\">\n\t\t\t\tEntidad\n\t\t\t</option>\n\n\t\t\t{modulos.map((modulo) => (\n\t\t\t\t<option key={modulo.id} value={modulo.id}>\n\t\t\t\t\t{modulo.id}\n\t\t\t\t</option>\n\t\t\t))}\n\t\t</select>\n\t);\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLoadEntities } from \"../../actions/entidades/entities\";\nimport { CicleSelector } from \"./molecules/CicleSelector\";\nimport { EntitySelector } from \"./molecules/EntitySelector\";\n\nexport const Header = () => {\n\tconst { email, entidad, img, variablesGlobales, claveEntidad, privilegios } = useSelector(\n\t\t(state) => state.auth\n\t);\n\tconst global = privilegios.accesoGlobal;\n\n\tconst { entities } = useSelector((state) => state.entidades);\n\n\tconst dispatch = useDispatch();\n\tuseEffect(() => {\n\t\tdispatch(startLoadEntities());\n\t}, [dispatch]);\n\n\tconst setImgStyle = (entidad) => {\n\t\tswitch (entidad) {\n\t\t\tcase \"SADER\":\n\t\t\tcase \"CNA\":\n\t\t\tcase \"UNI01\":\n\t\t\tcase \"UNI02\":\n\t\t\tcase \"UNI03\":\n\t\t\t\treturn { maxWidth: 140 };\n\n\t\t\tdefault:\n\t\t\t\treturn { maxHeight: 100 };\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row d-flex justify-content-between header\">\n\t\t\t\t<div className=\"col-sm-2 text-center \">\n\t\t\t\t\t<div className=\"border rounded h-100 d-flex justify-content-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"align-self-center\"\n\t\t\t\t\t\t\tsrc={`./logos/${img}`}\n\t\t\t\t\t\t\talt=\"Logo de la entidad\"\n\t\t\t\t\t\t\tstyle={setImgStyle(claveEntidad)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t<div className=\"card border\">\n\t\t\t\t\t\t<div className=\"card-header d-inline-flex row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-3\">{`${entidad} - Operador: ${email}`} </div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-2 ml-5\">\n\t\t\t\t\t\t\t\t<b>Ciclo actual: {variablesGlobales.cicloActual}</b>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-sm-6 d-flex align-items-center\">\n\t\t\t\t\t\t\t\t<div className=\"mr-2\">Consultas:</div>\n\t\t\t\t\t\t\t\t<CicleSelector />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"card-body text-dark\">\n\t\t\t\t\t\t\t<h5 className=\"card-title\">Plataforma digital</h5>{\" \"}\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6 card-text\">Distrito de riego 014 Rio Colorado</div>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">{entities && global && <EntitySelector />}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Header;\n","import React from \"react\";\n\nexport const ServicioSuspendido = () => {\n\treturn (\n\t\t<div className=\"d-flex justify-content-center align-items-center mt-5\">\n\t\t\t<h1 className=\"border border-warning rounded text-warning p-5\">Servicio Suspendido !</h1>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { NavbarComponent } from \"../components/ui/NavbarComponent\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { SicperScreen } from \"../components/sicper/SicperScreen\";\nimport { PadronScreen } from \"../components/padron/PadronScreen\";\nimport { PermisosScreen } from \"../components/permisos/PermisosScreen\";\nimport { NuevoPermisoScreen } from \"../components/permisos/NuevoPermisoScreen\";\nimport { TransferenciasScreen } from \"../scenes/TransferenciasScreen\";\nimport { AsignacionScreen } from \"../scenes/AsignacionScreen\";\nimport { LaboresScreen } from \"../scenes/LaboresScreen\";\nimport { AutorizadosScreen } from \"../components/autorizados/AutorizadosScreen\";\nimport { ReportesScreen } from \"../scenes/ReportesScreen\";\nimport { ConfiguracionScreen } from \"../scenes/ConfiguracionScreen\";\nimport { TestArea } from \"../components/templates/TestArea\";\nimport Header from \"../components/ui/Header\";\nimport { ServicioSuspendido } from \"../scenes/ServicioSuspendido\";\nimport { useSelector } from \"react-redux\";\n\nexport const DashboardRoutes = () => {\n\tconst { entities } = useSelector((state) => state.entidades);\n\tconst { modulo } = useSelector((state) => state.auth);\n\tconst currentEntitie = entities.find((entitie) => entitie.id === modulo);\n\n\treturn (\n\t\t<div className=\"container-fluid pr-4\">\n\t\t\t<NavbarComponent />\n\t\t\t<Header />\n\n\t\t\t{currentEntitie.acceso ? (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/sicper\" component={SicperScreen} />\n\t\t\t\t\t<Route exact path=\"/padron\" component={PadronScreen} />\n\t\t\t\t\t<Route exact path=\"/permisos\" component={PermisosScreen} />\n\t\t\t\t\t<Route exact path=\"/nuevo-permiso\" component={NuevoPermisoScreen} />\n\t\t\t\t\t<Route exact path=\"/transferencias\" component={TransferenciasScreen} />\n\t\t\t\t\t<Route exact path=\"/asignacion\" component={AsignacionScreen} />\n\t\t\t\t\t<Route exact path=\"/labores\" component={LaboresScreen} />\n\t\t\t\t\t<Route exact path=\"/autorizados\" component={AutorizadosScreen} />\n\t\t\t\t\t<Route exact path=\"/reportes\" component={ReportesScreen} />\n\t\t\t\t\t<Route exact path=\"/configuracion\" component={ConfiguracionScreen} />\n\t\t\t\t\t<Route exact path=\"/test\" component={TestArea} />\n\n\t\t\t\t\t<Redirect to=\"/sicper\" />\n\t\t\t\t</Switch>\n\t\t\t) : (\n\t\t\t\t<ServicioSuspendido />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n//  50\tAplicación\n//  25\tServicio\n//  15\tPantalla\n//  10\tSección\n//  20\tConfigurar Informe\n//  20\tDoc Imprimible\n//  15\tInforme\n//  15\tImportar Excel\n//  15\tDescargar Excel\n//  15\tTabla Personalizada\n//  12\tRegistrar Usuarios\n//  12\tAutenticar Usuarios\n//  12\tTransacciones\n//  12\tEscritura en Lotes\n//  10\tComposición\n//  10\tProceso de Datos\n//  10\tDetalle\n//  8\tFormulario\n//  7\tImprimir Documento\n//  7\tAlerta Formulario\n//  7\tLeer BD\n//  6\tGráfico\n//  6\tAlerta Condicional\n//  6\tActualizar BD\n//  6\tCustom Hook\n//  5\tBotones Dinámicos\n//  5\tActualizar Store\n//  5\tuseReducer\n//  4\tComponente\n//  4\tElemento\n//  3\tInput Compuesto\n//  3\tTabla (3ros)\n//  3\tModal\n//  2\tLocal Storage\n//  2\tNavegación\n//  2\tuseState\n//  2\tInpun Simple\n//  1\tBoton\n//  1\tAlerta Simple\n//  1\tLeer Store\n//\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\tlocalStorage.setItem(\"lastPath\", rest.location.pathname);\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nPrivateRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PublicRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) => (isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />)}\n\t\t/>\n\t);\n};\n\nPublicRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired\n};\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { AuthRouter } from \"./AuthRouter\";\nimport { DashboardRoutes } from \"./DashboardRoutes\";\nimport { firebase } from \"../firebase/firebase-config\";\nimport { useDispatch } from \"react-redux\";\nimport {\n\tloadEntity,\n\tloadEntityData,\n\tloadPrivilegios,\n\tloadVariablesGlobales,\n\tlogin,\n\tsetEntity,\n\tsetPrivilegios,\n\tsetVariablesGlobales\n} from \"../actions/auth\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\nimport { startLoadEntities } from \"../actions/entidades/entities\";\n\nexport const AppRouter = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [checking, setChecking] = useState(true);\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(async (user) => {\n\t\t\tif (user?.uid) {\n\t\t\t\tconst entity = await loadEntity(user.uid);\n\t\t\t\tconst entityData = await loadEntityData(entity.claveEntidad);\n\t\t\t\tconst privilegios = await loadPrivilegios(entity.rol);\n\t\t\t\tconst {\n\t\t\t\t\tnombre,\n\t\t\t\t\timg,\n\t\t\t\t\tclave,\n\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\tdotacionPozo,\n\t\t\t\t\ttitular,\n\t\t\t\t\tdireccion,\n\t\t\t\t\texpedicionActivaModulo\n\t\t\t\t} = entityData;\n\n\t\t\t\tdispatch(login(user.uid, user.displayName, user.email));\n\t\t\t\tdispatch(\n\t\t\t\t\tsetEntity(\n\t\t\t\t\t\tnombre,\n\t\t\t\t\t\timg,\n\t\t\t\t\t\tclave,\n\t\t\t\t\t\tdotacionGravedad,\n\t\t\t\t\t\tdotacionPozo,\n\t\t\t\t\t\ttitular,\n\t\t\t\t\t\tdireccion,\n\t\t\t\t\t\texpedicionActivaModulo,\n\t\t\t\t\t\tentity.rol,\n\t\t\t\t\t\tentity.modulo\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdispatch(setPrivilegios(privilegios));\n\n\t\t\t\tconst variablesGlovales = await loadVariablesGlobales();\n\t\t\t\tdispatch(setVariablesGlobales(variablesGlovales));\n\n\t\t\t\tsetIsLoggedIn(true);\n\t\t\t} else {\n\t\t\t\tsetIsLoggedIn(false);\n\t\t\t}\n\t\t\tsetChecking(false);\n\t\t});\n\t\tdispatch(startLoadEntities());\n\t}, [dispatch, setChecking, setIsLoggedIn]);\n\n\tif (checking) {\n\t\treturn (\n\t\t\t<div className=\"container pt-5 d-flex justify-content-center\">\n\t\t\t\t<div className=\"spinner-border text-primary\" role=\"status\">\n\t\t\t\t\t<span className=\"sr-only\">Cargando...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PublicRoute path=\"/auth\" component={AuthRouter} isAuthenticated={isLoggedIn} />\n\t\t\t\t\t<PrivateRoute exat isAuthenticated={isLoggedIn} path=\"/\" component={DashboardRoutes} />\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./store/store\";\nimport { AppRouter } from \"./routers/AppRouter\";\n// import { Page404 } from \"./scenes/Page404\";\n// import { ServicioSuspendido } from \"./scenes/ServicioSuspendido\";\n\nexport const SicperApp = () => {\n\treturn (\n\t\t<div>\n\t\t\t<script srs=\"filesaver.js\"></script>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppRouter />\n\t\t\t\t{/* <Page404 /> */}\n\t\t\t\t{/* <ServicioSuspendido /> */}\n\t\t\t</Provider>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { SicperApp } from \"./SicperApp\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\n\nReactDOM.render(<SicperApp />, document.getElementById(\"root\"));\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_APIKEY,\n\tauthDomain: process.env.REACT_APP_AUTHDOMAIN,\n\tdatabaseURL: process.env.REACT_APP_DATABASEURL,\n\tprojectId: process.env.REACT_APP_PROJECTID,\n\tstorageBucket: process.env.REACT_APP_STORAGEBUCKET,\n\tmessagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n\tappId: process.env.REACT_APP_APPID\n};\n\n// const firebaseConfig = {\n// \tapiKey: \"AIzaSyCPGzYLWjSE-8cCojpCClhkbDZouZVqVVo\",\n// \tauthDomain: \"sicper-e1812.firebaseapp.com\",\n// \tdatabaseURL: \"https://sicper-e1812.firebaseio.com\",\n// \tprojectId: \"sicper-e1812\",\n// \tstorageBucket: \"sicper-e1812.appspot.com\",\n// \tmessagingSenderId: \"868337651917\",\n// \tappId: \"1:868337651917:web:ce83022e99f450f19dd984\"\n// };\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, googleAuthProvider, firebase };\n"],"sourceRoot":""}